{"version":3,"file":"js-dos.js","sources":["../node_modules/preact/dist/preact.module.js","../node_modules/preact/hooks/dist/hooks.module.js","../node_modules/preact/compat/dist/compat.module.js","../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js","../node_modules/use-sync-external-store/shim/index.js","../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.min.js","../node_modules/use-sync-external-store/shim/with-selector.js","../node_modules/react-redux/es/utils/batch.js","../node_modules/react-redux/es/components/Context.js","../node_modules/react-redux/es/hooks/useReduxContext.js","../node_modules/react-redux/es/hooks/useSelector.js","../node_modules/react-redux/es/utils/useSyncExternalStore.js","../node_modules/react-is/cjs/react-is.production.min.js","../node_modules/react-is/index.js","../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","../node_modules/react-redux/node_modules/react-is/cjs/react-is.production.min.js","../node_modules/react-redux/es/utils/Subscription.js","../node_modules/react-redux/es/utils/useIsomorphicLayoutEffect.js","../node_modules/react-redux/es/components/Provider.js","../node_modules/react-redux/es/hooks/useStore.js","../node_modules/react-redux/es/hooks/useDispatch.js","../node_modules/immer/dist/immer.esm.mjs","../node_modules/react-redux/es/index.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/redux/es/redux.js","../node_modules/redux-thunk/es/index.js","../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js","../src/i18n.ts","../src/frame/editor/defaults.ts","../src/store/editor.ts","../src/host/lstorage.ts","../src/store/ui.ts","../src/v8/config.ts","../src/store/auth.ts","../src/store/storage.ts","../src/host/lcache.ts","../src/store/init.ts","../src/store.tsx","../src/store/dos.ts","../node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js","../src/frame/editor/editor-conf-frame.tsx","../node_modules/react-checkbox-tree/lib/index.browser.js","../src/v8/changes.ts","../src/player-api.ts","../src/player-api-load.ts","../src/host/bundle-storage.ts","../src/download-file.ts","../src/frame/editor/editor-fs-frame.tsx","../src/components/select.tsx","../src/components/dos-option-select.tsx","../src/components/lock.tsx","../src/frame/fat-drives-frame.tsx","../src/components/checkbox.tsx","../src/frame/network-frame.tsx","../src/components/dos-option-checkbox.tsx","../src/components/slider.tsx","../src/components/dos-option-slider.tsx","../src/frame/settings-frame.tsx","../src/frame/stats-frame.tsx","../src/window/prerun-window.tsx","../src/frame/prerun-frame.tsx","../src/frame/frame.tsx","../src/host/fullscreen.ts","../src/sidebar/fullscreen-button.tsx","../src/sidebar/network-button.tsx","../src/sidebar/sidebar-button.tsx","../src/sidebar/diskette-icon.tsx","../src/sidebar/save-buttons.tsx","../src/sidebar/sidebar.tsx","../src/window/dos/controls/keys.ts","../src/window/dos/render/resize.ts","../src/window/dos/render/webgl.ts","../src/window/dos/render/canvas.ts","../src/window/dos/sound/audio-node.ts","../src/window/dos/controls/mouse/pointer.ts","../src/window/dos/controls/mouse/mount.ts","../src/window/dos/controls/mouse/mouse-not-locked.ts","../src/window/dos/controls/mouse/mouse-swipe.ts","../src/window/dos/controls/mouse.ts","../src/window/dos/controls/mouse/mouse-locked.ts","../src/layers/dom/helpers.ts","../src/layers/dom/layers.ts","../src/layers/controls/layers-config.ts","../src/layers/controls/button.ts","../src/layers/controls/mouse/mouse-swipe.ts","../src/layers/controls/mouse/mouse-not-locked.ts","../src/layers/controls/mouse/mouse-common.ts","../src/layers/controls/mouse/mouse-locked.ts","../node_modules/nipplejs/src/utils.js","../node_modules/nipplejs/src/super.js","../node_modules/nipplejs/src/nipple.js","../node_modules/nipplejs/src/collection.js","../node_modules/nipplejs/src/manager.js","../node_modules/nipplejs/src/index.js","../src/layers/controls/options.ts","../src/layers/controls/keyboard.ts","../src/layers/controls/legacy-layers-control.ts","../src/layers/controls/nipple.ts","../src/layers/controls/grid.ts","../src/layers/controls/layers-control.ts","../src/window/dos/dos-runtime.tsx","../src/window/dos/controls/keyboard.ts","../src/window/dos/dos-dhry2.tsx","../src/sockdrive/js/src/sockdrive/lru.ts","../src/sockdrive/js/src/sockdrive/cache.ts","../src/sockdrive/js/src/sockdrive/drive.ts","../src/ws/ws-transport-layer.ts","../src/ws/ws-sockdrive.ts","../src/window/soft-keyboard.tsx","../src/window/dos/dos-window.tsx","../src/components/error.tsx","../src/window/error-window.tsx","../src/components/loading.tsx","../src/window/loading-window.tsx","../src/window/select-window.tsx","../src/window/window.tsx","../src/ui.tsx","../src/main.tsx"],"sourcesContent":["var n,l,u,t,i,o,r,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function v(n,l){for(var u in l)n[u]=l[u];return n}function p(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,t){var i,o,r,f={};for(r in u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return d(l,f,i,o,null)}function d(n,t,i,o,r){var f={type:n,props:t,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==r?++u:r,__i:-1,__u:0};return null==r&&null!=l.vnode&&l.vnode(f),f}function _(){return{current:null}}function g(n){return n.children}function b(n,l){this.props=n,this.context=l}function m(n,l){if(null==l)return n.__?m(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?m(n):null}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function w(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!x.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(x)}function x(){var n,u,t,o,r,e,c,s,a;for(i.sort(f);n=i.shift();)n.__d&&(u=i.length,o=void 0,e=(r=(t=n).__v).__e,s=[],a=[],(c=t.__P)&&((o=v({},r)).__v=r.__v+1,l.vnode&&l.vnode(o),L(c,o,r,t.__n,void 0!==c.ownerSVGElement,32&r.__u?[e]:null,s,null==e?m(r):e,!!(32&r.__u),a),o.__.__k[o.__i]=o,M(s,o,a),o.__e!=e&&k(o)),i.length>u&&i.sort(f));x.__r=0}function C(n,l,u,t,i,o,r,f,e,a,h){var v,p,y,d,_,g=t&&t.__k||s,b=l.length;for(u.__d=e,P(u,l,g),e=u.__d,v=0;v<b;v++)null!=(y=u.__k[v])&&\"boolean\"!=typeof y&&\"function\"!=typeof y&&(p=-1===y.__i?c:g[y.__i]||c,y.__i=v,L(n,y,p,i,o,r,f,e,a,h),d=y.__e,y.ref&&p.ref!=y.ref&&(p.ref&&z(p.ref,null,y),h.push(y.ref,y.__c||d,y)),null==_&&null!=d&&(_=d),65536&y.__u||p.__k===y.__k?e=S(y,e,n):\"function\"==typeof y.type&&void 0!==y.__d?e=y.__d:d&&(e=d.nextSibling),y.__d=void 0,y.__u&=-196609);u.__d=e,u.__e=_}function P(n,l,u){var t,i,o,r,f,e=l.length,c=u.length,s=c,a=0;for(n.__k=[],t=0;t<e;t++)null!=(i=n.__k[t]=null==(i=l[t])||\"boolean\"==typeof i||\"function\"==typeof i?null:\"string\"==typeof i||\"number\"==typeof i||\"bigint\"==typeof i||i.constructor==String?d(null,i,null,null,i):h(i)?d(g,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?d(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=n,i.__b=n.__b+1,f=H(i,u,r=t+a,s),i.__i=f,o=null,-1!==f&&(s--,(o=u[f])&&(o.__u|=131072)),null==o||null===o.__v?(-1==f&&a--,\"function\"!=typeof i.type&&(i.__u|=65536)):f!==r&&(f===r+1?a++:f>r?s>e-r?a+=f-r:a--:a=f<r&&f==r-1?f-r:0,f!==t+a&&(i.__u|=65536))):(o=u[t])&&null==o.key&&o.__e&&(o.__e==n.__d&&(n.__d=m(o)),N(o,o,!1),u[t]=null,s--);if(s)for(t=0;t<c;t++)null!=(o=u[t])&&0==(131072&o.__u)&&(o.__e==n.__d&&(n.__d=m(o)),N(o,o))}function S(n,l,u){var t,i;if(\"function\"==typeof n.type){for(t=n.__k,i=0;t&&i<t.length;i++)t[i]&&(t[i].__=n,l=S(t[i],l,u));return l}return n.__e!=l&&(u.insertBefore(n.__e,l||null),l=n.__e),l&&l.nextSibling}function $(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(h(n)?n.some(function(n){$(n,l)}):l.push(n)),l}function H(n,l,u,t){var i=n.key,o=n.type,r=u-1,f=u+1,e=l[u];if(null===e||e&&i==e.key&&o===e.type)return u;if(t>(null!=e&&0==(131072&e.__u)?1:0))for(;r>=0||f<l.length;){if(r>=0){if((e=l[r])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return r;r--}if(f<l.length){if((e=l[f])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return f;f++}}return-1}function I(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a.test(l)?u:u+\"px\"}function T(n,l,u,t,i){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||I(n.style,l,\"\");if(u)for(l in u)t&&u[l]===t[l]||I(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/(PointerCapture)$|Capture$/,\"$1\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?t?u.u=t.u:(u.u=Date.now(),n.addEventListener(l,o?D:A,o)):n.removeEventListener(l,o?D:A,o);else{if(i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&\"rowSpan\"!==l&&\"colSpan\"!==l&&\"role\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!==l[4]?n.removeAttribute(l):n.setAttribute(l,u))}}function A(n){var u=this.l[n.type+!1];if(n.t){if(n.t<=u.u)return}else n.t=Date.now();return u(l.event?l.event(n):n)}function D(n){return this.l[n.type+!0](l.event?l.event(n):n)}function L(n,u,t,i,o,r,f,e,c,s){var a,p,y,d,_,m,k,w,x,P,S,$,H,I,T,A=u.type;if(void 0!==u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),r=[e=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof A)try{if(w=u.props,x=(a=A.contextType)&&i[a.__c],P=a?x?x.props.value:a.__:i,t.__c?k=(p=u.__c=t.__c).__=p.__E:(\"prototype\"in A&&A.prototype.render?u.__c=p=new A(w,P):(u.__c=p=new b(w,P),p.constructor=A,p.render=O),x&&x.sub(p),p.props=w,p.state||(p.state={}),p.context=P,p.__n=i,y=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=A.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=v({},p.__s)),v(p.__s,A.getDerivedStateFromProps(w,p.__s))),d=p.props,_=p.state,p.__v=u,y)null==A.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==A.getDerivedStateFromProps&&w!==d&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(w,P),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(w,p.__s,P)||u.__v===t.__v)){for(u.__v!==t.__v&&(p.props=w,p.state=p.__s,p.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.forEach(function(n){n&&(n.__=u)}),S=0;S<p._sb.length;S++)p.__h.push(p._sb[S]);p._sb=[],p.__h.length&&f.push(p);break n}null!=p.componentWillUpdate&&p.componentWillUpdate(w,p.__s,P),null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(d,_,m)})}if(p.context=P,p.props=w,p.__P=n,p.__e=!1,$=l.__r,H=0,\"prototype\"in A&&A.prototype.render){for(p.state=p.__s,p.__d=!1,$&&$(u),a=p.render(p.props,p.state,p.context),I=0;I<p._sb.length;I++)p.__h.push(p._sb[I]);p._sb=[]}else do{p.__d=!1,$&&$(u),a=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++H<25);p.state=p.__s,null!=p.getChildContext&&(i=v(v({},i),p.getChildContext())),y||null==p.getSnapshotBeforeUpdate||(m=p.getSnapshotBeforeUpdate(d,_)),C(n,h(T=null!=a&&a.type===g&&null==a.key?a.props.children:a)?T:[T],u,t,i,o,r,f,e,c,s),p.base=u.__e,u.__u&=-161,p.__h.length&&f.push(p),k&&(p.__E=p.__=null)}catch(n){u.__v=null,c||null!=r?(u.__e=e,u.__u|=c?160:32,r[r.indexOf(e)]=null):(u.__e=t.__e,u.__k=t.__k),l.__e(n,u,t)}else null==r&&u.__v===t.__v?(u.__k=t.__k,u.__e=t.__e):u.__e=j(t.__e,u,t,i,o,r,f,c,s);(a=l.diffed)&&a(u)}function M(n,u,t){u.__d=void 0;for(var i=0;i<t.length;i++)z(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function j(l,u,t,i,o,r,f,e,s){var a,v,y,d,_,g,b,k=t.props,w=u.props,x=u.type;if(\"svg\"===x&&(o=!0),null!=r)for(a=0;a<r.length;a++)if((_=r[a])&&\"setAttribute\"in _==!!x&&(x?_.localName===x:3===_.nodeType)){l=_,r[a]=null;break}if(null==l){if(null===x)return document.createTextNode(w);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",x):document.createElement(x,w.is&&w),r=null,e=!1}if(null===x)k===w||e&&l.data===w||(l.data=w);else{if(r=r&&n.call(l.childNodes),k=t.props||c,!e&&null!=r)for(k={},a=0;a<l.attributes.length;a++)k[(_=l.attributes[a]).name]=_.value;for(a in k)_=k[a],\"children\"==a||(\"dangerouslySetInnerHTML\"==a?y=_:\"key\"===a||a in w||T(l,a,null,_,o));for(a in w)_=w[a],\"children\"==a?d=_:\"dangerouslySetInnerHTML\"==a?v=_:\"value\"==a?g=_:\"checked\"==a?b=_:\"key\"===a||e&&\"function\"!=typeof _||k[a]===_||T(l,a,_,k[a],o);if(v)e||y&&(v.__html===y.__html||v.__html===l.innerHTML)||(l.innerHTML=v.__html),u.__k=[];else if(y&&(l.innerHTML=\"\"),C(l,h(d)?d:[d],u,t,i,o&&\"foreignObject\"!==x,r,f,r?r[0]:t.__k&&m(t,0),e,s),null!=r)for(a=r.length;a--;)null!=r[a]&&p(r[a]);e||(a=\"value\",void 0!==g&&(g!==l[a]||\"progress\"===x&&!g||\"option\"===x&&g!==k[a])&&T(l,a,g,k[a],!1),a=\"checked\",void 0!==b&&b!==l[a]&&T(l,a,b,k[a],!1))}return l}function z(n,u,t){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,t)}}function N(n,u,t){var i,o;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||z(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(o=0;o<i.length;o++)i[o]&&N(i[o],u,t||\"function\"!=typeof n.type);t||null==n.__e||p(n.__e),n.__=n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function q(u,t,i){var o,r,f,e;l.__&&l.__(u,t),r=(o=\"function\"==typeof i)?null:i&&i.__k||t.__k,f=[],e=[],L(t,u=(!o&&i||t).__k=y(g,null,[u]),r||c,c,void 0!==t.ownerSVGElement,!o&&i?[i]:r?null:t.firstChild?n.call(t.childNodes):null,f,!o&&i?i:r?r.__e:t.firstChild,o,e),M(f,u,e)}function B(n,l){q(n,l,B)}function E(l,u,t){var i,o,r,f,e=v({},l.props);for(r in l.type&&l.type.defaultProps&&(f=l.type.defaultProps),u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:e[r]=void 0===u[r]&&void 0!==f?f[r]:u[r];return arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),d(l.type,e,i||l.key,o||l.ref,null)}function F(n,l){var u={__c:l=\"__cC\"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,t;return this.getChildContext||(u=[],(t={})[l]=this,this.getChildContext=function(){return t},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,w(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,t){for(var i,o,r;l=l.__;)if((i=l.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(n)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),r=i.__d),r)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&null==n.constructor},b.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=v({},this.state),\"function\"==typeof n&&(n=n(v({},u),this.props)),n&&v(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),w(this))},b.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),w(this))},b.prototype.render=g,i=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(n,l){return n.__v.__b-l.__v.__b},x.__r=0,e=0;export{b as Component,g as Fragment,E as cloneElement,F as createContext,y as createElement,_ as createRef,y as h,B as hydrate,t as isValidElement,l as options,q as render,$ as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function d(t,u){n.__h&&n.__h(r,t,o||u),o=0;var i=r.__H||(r.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c}),i.__[t]}function h(n){return o=1,s(B,n)}function s(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!c||c.call(this,n,t,r))};r.u=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function p(u,i){var o=d(t++,3);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__H.__h.push(o))}function y(u,i){var o=d(t++,4);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__h.push(o))}function _(n){return o=5,F(function(){return{current:n}},[])}function A(n,t,r){o=6,y(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function F(n,r){var u=d(t++,7);return z(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T(n,t){return o=8,F(function(){return n},t)}function q(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function x(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function P(n){var u=d(t++,10),i=h();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function V(){var n=d(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w),t.__H.__h=[]}catch(r){t.__H.__h=[],n.__e(r,t.__v)}}n.__b=function(n){r=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(k),i.__h.forEach(w),i.__h=[],t=0)),u=r},n.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===n.requestAnimationFrame||((i=n.requestAnimationFrame)||j)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k),t.__h=t.__h.filter(function(n){return!n.__||w(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),l&&l(t,r)},n.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k(n)}catch(n){r=n}}),u.__H=void 0,r&&n.__e(r,u.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))}function k(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function w(n){var t=r;n.__c=n.__(),r=t}function z(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function B(n,t){return\"function\"==typeof t?t(n):t}export{T as useCallback,q as useContext,x as useDebugValue,p as useEffect,P as useErrorBoundary,V as useId,A as useImperativeHandle,y as useLayoutEffect,F as useMemo,s as useReducer,_ as useRef,h as useState};\n//# sourceMappingURL=hooks.module.js.map\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useId as s,useReducer as h,useEffect as v,useLayoutEffect as d,useRef as p,useImperativeHandle as m,useMemo as y,useCallback as _,useContext as b,useDebugValue as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n){this.props=n}function w(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:C(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(E.prototype=new n).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var x=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),x&&x(n)};var R=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function N(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=R,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var k=function(n,t){return null==n?null:r(r(n).map(t))},A={map:k,forEach:k,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},O=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);O(n,t,e,r)};var T=e.unmount;function F(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return F(n,t,e)})),n}function I(n,t,e){return n&&e&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return I(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=e)),n}function L(){this.__u=0,this.t=null,this.__b=null}function U(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function D(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function M(){this.u=null,this.o=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&32&n.__u&&(n.type=null),T&&T(n)},(L.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=U(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=I(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},L.prototype.componentWillUnmount=function(){this.t=[]},L.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=F(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__u&=-33),[t(u,null,e.__a?null:n.children),i]};var V=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function W(n){return this.getChildContext=function(){return n.context},n.children}function P(n){var e=this,r=n.i;e.componentWillUnmount=function(){o(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),o(t(W,{context:e.context},n.__v),e.l)}function j(n,e){var r=t(P,{__v:n,i:e});return r.containerInfo=e,r}(M.prototype=new n).__a=function(n){var t=this,e=U(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),V(t,n,r)):u()};e?e(o):o()}},M.prototype.render=function(n){this.u=null,this.o=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},M.prototype.componentDidUpdate=M.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){V(n,e,t)})};var z=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,B=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,H=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Z=/[A-Z0-9]/g,Y=\"undefined\"!=typeof document,$=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};function q(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function G(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var J=e.event;function K(){}function Q(){return this.cancelBubble}function X(){return this.defaultPrevented}e.event=function(n){return J&&(n=J(n)),n.persist=K,n.isPropagationStopped=Q,n.isDefaultPrevented=X,n.nativeEvent=n};var nn,tn={enumerable:!1,configurable:!0,get:function(){return this.class}},en=e.vnode;e.vnode=function(n){\"string\"==typeof n.type&&function(n){var t=n.props,e=n.type,u={};for(var o in t){var i=t[o];if(!(\"value\"===o&&\"defaultValue\"in t&&null==i||Y&&\"children\"===o&&\"noscript\"===e||\"class\"===o||\"className\"===o)){var l=o.toLowerCase();\"defaultValue\"===o&&\"value\"in t&&null==t.value?o=\"value\":\"download\"===o&&!0===i?i=\"\":\"ondoubleclick\"===l?o=\"ondblclick\":\"onchange\"!==l||\"input\"!==e&&\"textarea\"!==e||$(t.type)?\"onfocus\"===l?o=\"onfocusin\":\"onblur\"===l?o=\"onfocusout\":H.test(o)?o=l:-1===e.indexOf(\"-\")&&B.test(o)?o=o.replace(Z,\"-$&\").toLowerCase():null===i&&(i=void 0):l=o=\"oninput\",\"oninput\"===l&&u[o=l]&&(o=\"oninputCapture\"),u[o]=i}}\"select\"==e&&u.multiple&&Array.isArray(u.value)&&(u.value=r(t.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==e&&null!=u.defaultValue&&(u.value=r(t.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),t.class&&!t.className?(u.class=t.class,Object.defineProperty(u,\"className\",tn)):(t.className&&!t.class||t.class&&t.className)&&(u.class=u.className=t.className),n.props=u}(n),n.$$typeof=z,en&&en(n)};var rn=e.__r;e.__r=function(n){rn&&rn(n),nn=n.__c};var un=e.diffed;e.diffed=function(n){un&&un(n);var t=n.props,e=n.__e;null!=e&&\"textarea\"===n.type&&\"value\"in t&&t.value!==e.value&&(e.value=null==t.value?\"\":t.value),nn=null};var on={ReactCurrentDispatcher:{current:{readContext:function(n){return nn.__n[n.__c].props.value}}}},ln=\"17.0.2\";function cn(n){return t.bind(null,n)}function fn(n){return!!n&&n.$$typeof===z}function an(n){return fn(n)&&n.type===u}function sn(n){return fn(n)?f.apply(null,arguments):n}function hn(n){return!!n.__k&&(o(null,n),!0)}function vn(n){return n&&(n.base||1===n.nodeType&&n)||null}var dn=function(n,t){return n(t)},pn=function(n,t){return n(t)},mn=u;function yn(n){n()}function _n(n){return n}function bn(){return[!1,yn]}var Sn=d,gn=fn;function Cn(n,t){var e=t(),r=a({h:{__:e,v:t}}),u=r[0].h,o=r[1];return d(function(){u.__=e,u.v=t,En(u)&&o({h:u})},[n,e,t]),v(function(){return En(u)&&o({h:u}),n(function(){En(u)&&o({h:u})})},[n]),e}function En(n){var t,e,r=n.v,u=n.__;try{var o=r();return!((t=u)===(e=o)&&(0!==t||1/t==1/e)||t!=t&&e!=e)}catch(n){return!0}}var wn={useState:a,useId:s,useReducer:h,useEffect:v,useLayoutEffect:d,useInsertionEffect:Sn,useTransition:bn,useDeferredValue:_n,useSyncExternalStore:Cn,startTransition:yn,useRef:p,useImperativeHandle:m,useMemo:y,useCallback:_,useContext:b,useDebugValue:S,version:\"17.0.2\",Children:A,render:q,hydrate:G,unmountComponentAtNode:hn,createPortal:j,createElement:t,createContext:l,createFactory:cn,cloneElement:sn,createRef:c,Fragment:u,isValidElement:fn,isElement:gn,isFragment:an,findDOMNode:vn,Component:n,PureComponent:E,memo:w,forwardRef:N,flushSync:pn,unstable_batchedUpdates:dn,StrictMode:mn,Suspense:L,SuspenseList:M,lazy:D,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:on};export{A as Children,E as PureComponent,mn as StrictMode,L as Suspense,M as SuspenseList,on as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sn as cloneElement,cn as createFactory,j as createPortal,wn as default,vn as findDOMNode,pn as flushSync,N as forwardRef,G as hydrate,gn as isElement,an as isFragment,fn as isValidElement,D as lazy,w as memo,q as render,yn as startTransition,hn as unmountComponentAtNode,dn as unstable_batchedUpdates,_n as useDeferredValue,Sn as useInsertionEffect,Cn as useSyncExternalStore,bn as useTransition,ln as version};\n//# sourceMappingURL=compat.module.js.map\n","/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var e=require(\"react\");function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var k=\"function\"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c})},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c})})},[a]);p(d);return d}\nfunction r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}function t(a,b){return b()}var u=\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement?t:q;exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var h=require(\"react\"),n=require(\"use-sync-external-store/shim\");function p(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var q=\"function\"===typeof Object.is?Object.is:p,r=n.useSyncExternalStore,t=h.useRef,u=h.useEffect,v=h.useMemo,w=h.useDebugValue;\nexports.useSyncExternalStoreWithSelector=function(a,b,e,l,g){var c=t(null);if(null===c.current){var f={hasValue:!1,value:null};c.current=f}else f=c.current;c=v(function(){function a(a){if(!c){c=!0;d=a;a=l(a);if(void 0!==g&&f.hasValue){var b=f.value;if(g(b,a))return k=b}return k=a}b=k;if(q(d,a))return b;var e=l(a);if(void 0!==g&&g(b,e))return b;d=a;return k=e}var c=!1,d,k,m=void 0===e?null:e;return[function(){return a(b())},null===m?void 0:function(){return a(m())}]},[b,e,l,g]);var d=r(a,c[0],c[1]);\nu(function(){f.hasValue=!0;f.value=d},[d]);w(d);return d};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","// Default to a dummy \"batch\" implementation that just runs the callback\nfunction defaultNoopBatch(callback) {\n  callback();\n}\n\nlet batch = defaultNoopBatch; // Allow injecting another batching function later\n\nexport const setBatch = newBatch => batch = newBatch; // Supply a getter just to skip dealing with ESM bindings\n\nexport const getBatch = () => batch;","import * as React from 'react';\nconst ContextKey = Symbol.for(`react-redux-context`);\nconst gT = typeof globalThis !== \"undefined\" ? globalThis :\n/* fall back to a per-module scope (pre-8.1 behaviour) if `globalThis` is not available */\n{};\n\nfunction getContext() {\n  var _gT$ContextKey;\n\n  if (!React.createContext) return {};\n  const contextMap = (_gT$ContextKey = gT[ContextKey]) != null ? _gT$ContextKey : gT[ContextKey] = new Map();\n  let realContext = contextMap.get(React.createContext);\n\n  if (!realContext) {\n    realContext = React.createContext(null);\n\n    if (process.env.NODE_ENV !== 'production') {\n      realContext.displayName = 'ReactRedux';\n    }\n\n    contextMap.set(React.createContext, realContext);\n  }\n\n  return realContext;\n}\n\nexport const ReactReduxContext = /*#__PURE__*/getContext();\nexport default ReactReduxContext;","import { useContext } from 'react';\nimport { ReactReduxContext } from '../components/Context';\n\n/**\r\n * Hook factory, which creates a `useReduxContext` hook bound to a given context. This is a low-level\r\n * hook that you should usually not need to call directly.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useReduxContext` hook bound to the specified context.\r\n */\nexport function createReduxContextHook(context = ReactReduxContext) {\n  return function useReduxContext() {\n    const contextValue = useContext(context);\n\n    if (process.env.NODE_ENV !== 'production' && !contextValue) {\n      throw new Error('could not find react-redux context value; please ensure the component is wrapped in a <Provider>');\n    }\n\n    return contextValue;\n  };\n}\n/**\r\n * A hook to access the value of the `ReactReduxContext`. This is a low-level\r\n * hook that you should usually not need to call directly.\r\n *\r\n * @returns {any} the value of the `ReactReduxContext`\r\n *\r\n * @example\r\n *\r\n * import React from 'react'\r\n * import { useReduxContext } from 'react-redux'\r\n *\r\n * export const CounterComponent = () => {\r\n *   const { store } = useReduxContext()\r\n *   return <div>{store.getState()}</div>\r\n * }\r\n */\n\nexport const useReduxContext = /*#__PURE__*/createReduxContextHook();","import { useCallback, useDebugValue, useRef } from 'react';\nimport { createReduxContextHook, useReduxContext as useDefaultReduxContext } from './useReduxContext';\nimport { ReactReduxContext } from '../components/Context';\nimport { notInitialized } from '../utils/useSyncExternalStore';\nlet useSyncExternalStoreWithSelector = notInitialized;\nexport const initializeUseSelector = fn => {\n  useSyncExternalStoreWithSelector = fn;\n};\n\nconst refEquality = (a, b) => a === b;\n/**\r\n * Hook factory, which creates a `useSelector` hook bound to a given context.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useSelector` hook bound to the specified context.\r\n */\n\n\nexport function createSelectorHook(context = ReactReduxContext) {\n  const useReduxContext = context === ReactReduxContext ? useDefaultReduxContext : createReduxContextHook(context);\n  return function useSelector(selector, equalityFnOrOptions = {}) {\n    const {\n      equalityFn = refEquality,\n      stabilityCheck = undefined,\n      noopCheck = undefined\n    } = typeof equalityFnOrOptions === 'function' ? {\n      equalityFn: equalityFnOrOptions\n    } : equalityFnOrOptions;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!selector) {\n        throw new Error(`You must pass a selector to useSelector`);\n      }\n\n      if (typeof selector !== 'function') {\n        throw new Error(`You must pass a function as a selector to useSelector`);\n      }\n\n      if (typeof equalityFn !== 'function') {\n        throw new Error(`You must pass a function as an equality function to useSelector`);\n      }\n    }\n\n    const {\n      store,\n      subscription,\n      getServerState,\n      stabilityCheck: globalStabilityCheck,\n      noopCheck: globalNoopCheck\n    } = useReduxContext();\n    const firstRun = useRef(true);\n    const wrappedSelector = useCallback({\n      [selector.name](state) {\n        const selected = selector(state);\n\n        if (process.env.NODE_ENV !== 'production') {\n          const finalStabilityCheck = typeof stabilityCheck === 'undefined' ? globalStabilityCheck : stabilityCheck;\n\n          if (finalStabilityCheck === 'always' || finalStabilityCheck === 'once' && firstRun.current) {\n            const toCompare = selector(state);\n\n            if (!equalityFn(selected, toCompare)) {\n              let stack = undefined;\n\n              try {\n                throw new Error();\n              } catch (e) {\n                ;\n                ({\n                  stack\n                } = e);\n              }\n\n              console.warn('Selector ' + (selector.name || 'unknown') + ' returned a different result when called with the same parameters. This can lead to unnecessary rerenders.' + '\\nSelectors that return a new reference (such as an object or an array) should be memoized: https://redux.js.org/usage/deriving-data-selectors#optimizing-selectors-with-memoization', {\n                state,\n                selected,\n                selected2: toCompare,\n                stack\n              });\n            }\n          }\n\n          const finalNoopCheck = typeof noopCheck === 'undefined' ? globalNoopCheck : noopCheck;\n\n          if (finalNoopCheck === 'always' || finalNoopCheck === 'once' && firstRun.current) {\n            // @ts-ignore\n            if (selected === state) {\n              let stack = undefined;\n\n              try {\n                throw new Error();\n              } catch (e) {\n                ;\n                ({\n                  stack\n                } = e);\n              }\n\n              console.warn('Selector ' + (selector.name || 'unknown') + ' returned the root state when called. This can lead to unnecessary rerenders.' + '\\nSelectors that return the entire state are almost certainly a mistake, as they will cause a rerender whenever *anything* in state changes.', {\n                stack\n              });\n            }\n          }\n\n          if (firstRun.current) firstRun.current = false;\n        }\n\n        return selected;\n      }\n\n    }[selector.name], [selector, globalStabilityCheck, stabilityCheck]);\n    const selectedState = useSyncExternalStoreWithSelector(subscription.addNestedSub, store.getState, getServerState || store.getState, wrappedSelector, equalityFn);\n    useDebugValue(selectedState);\n    return selectedState;\n  };\n}\n/**\r\n * A hook to access the redux store's state. This hook takes a selector function\r\n * as an argument. The selector is called with the store state.\r\n *\r\n * This hook takes an optional equality comparison function as the second parameter\r\n * that allows you to customize the way the selected state is compared to determine\r\n * whether the component needs to be re-rendered.\r\n *\r\n * @param {Function} selector the selector function\r\n * @param {Function=} equalityFn the function that will be used to determine equality\r\n *\r\n * @returns {any} the selected state\r\n *\r\n * @example\r\n *\r\n * import React from 'react'\r\n * import { useSelector } from 'react-redux'\r\n *\r\n * export const CounterComponent = () => {\r\n *   const counter = useSelector(state => state.counter)\r\n *   return <div>{counter}</div>\r\n * }\r\n */\n\nexport const useSelector = /*#__PURE__*/createSelectorHook();","export const notInitialized = () => {\n  throw new Error('uSES not initialized!');\n};","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","'use strict';\n\nvar reactIs = require('react-is');\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n","/**\n * @license React\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var b=Symbol.for(\"react.element\"),c=Symbol.for(\"react.portal\"),d=Symbol.for(\"react.fragment\"),e=Symbol.for(\"react.strict_mode\"),f=Symbol.for(\"react.profiler\"),g=Symbol.for(\"react.provider\"),h=Symbol.for(\"react.context\"),k=Symbol.for(\"react.server_context\"),l=Symbol.for(\"react.forward_ref\"),m=Symbol.for(\"react.suspense\"),n=Symbol.for(\"react.suspense_list\"),p=Symbol.for(\"react.memo\"),q=Symbol.for(\"react.lazy\"),t=Symbol.for(\"react.offscreen\"),u;u=Symbol.for(\"react.module.reference\");\nfunction v(a){if(\"object\"===typeof a&&null!==a){var r=a.$$typeof;switch(r){case b:switch(a=a.type,a){case d:case f:case e:case m:case n:return a;default:switch(a=a&&a.$$typeof,a){case k:case h:case l:case q:case p:case g:return a;default:return r}}case c:return r}}}exports.ContextConsumer=h;exports.ContextProvider=g;exports.Element=b;exports.ForwardRef=l;exports.Fragment=d;exports.Lazy=q;exports.Memo=p;exports.Portal=c;exports.Profiler=f;exports.StrictMode=e;exports.Suspense=m;\nexports.SuspenseList=n;exports.isAsyncMode=function(){return!1};exports.isConcurrentMode=function(){return!1};exports.isContextConsumer=function(a){return v(a)===h};exports.isContextProvider=function(a){return v(a)===g};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===b};exports.isForwardRef=function(a){return v(a)===l};exports.isFragment=function(a){return v(a)===d};exports.isLazy=function(a){return v(a)===q};exports.isMemo=function(a){return v(a)===p};\nexports.isPortal=function(a){return v(a)===c};exports.isProfiler=function(a){return v(a)===f};exports.isStrictMode=function(a){return v(a)===e};exports.isSuspense=function(a){return v(a)===m};exports.isSuspenseList=function(a){return v(a)===n};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===d||a===f||a===e||a===m||a===n||a===t||\"object\"===typeof a&&null!==a&&(a.$$typeof===q||a.$$typeof===p||a.$$typeof===g||a.$$typeof===h||a.$$typeof===l||a.$$typeof===u||void 0!==a.getModuleId)?!0:!1};exports.typeOf=v;\n","import { getBatch } from './batch'; // encapsulates the subscription logic for connecting a component to the redux store, as\n// well as nesting subscriptions of descendant components, so that we can ensure the\n// ancestor components re-render before descendants\n\nfunction createListenerCollection() {\n  const batch = getBatch();\n  let first = null;\n  let last = null;\n  return {\n    clear() {\n      first = null;\n      last = null;\n    },\n\n    notify() {\n      batch(() => {\n        let listener = first;\n\n        while (listener) {\n          listener.callback();\n          listener = listener.next;\n        }\n      });\n    },\n\n    get() {\n      let listeners = [];\n      let listener = first;\n\n      while (listener) {\n        listeners.push(listener);\n        listener = listener.next;\n      }\n\n      return listeners;\n    },\n\n    subscribe(callback) {\n      let isSubscribed = true;\n      let listener = last = {\n        callback,\n        next: null,\n        prev: last\n      };\n\n      if (listener.prev) {\n        listener.prev.next = listener;\n      } else {\n        first = listener;\n      }\n\n      return function unsubscribe() {\n        if (!isSubscribed || first === null) return;\n        isSubscribed = false;\n\n        if (listener.next) {\n          listener.next.prev = listener.prev;\n        } else {\n          last = listener.prev;\n        }\n\n        if (listener.prev) {\n          listener.prev.next = listener.next;\n        } else {\n          first = listener.next;\n        }\n      };\n    }\n\n  };\n}\n\nconst nullListeners = {\n  notify() {},\n\n  get: () => []\n};\nexport function createSubscription(store, parentSub) {\n  let unsubscribe;\n  let listeners = nullListeners; // Reasons to keep the subscription active\n\n  let subscriptionsAmount = 0; // Is this specific subscription subscribed (or only nested ones?)\n\n  let selfSubscribed = false;\n\n  function addNestedSub(listener) {\n    trySubscribe();\n    const cleanupListener = listeners.subscribe(listener); // cleanup nested sub\n\n    let removed = false;\n    return () => {\n      if (!removed) {\n        removed = true;\n        cleanupListener();\n        tryUnsubscribe();\n      }\n    };\n  }\n\n  function notifyNestedSubs() {\n    listeners.notify();\n  }\n\n  function handleChangeWrapper() {\n    if (subscription.onStateChange) {\n      subscription.onStateChange();\n    }\n  }\n\n  function isSubscribed() {\n    return selfSubscribed;\n  }\n\n  function trySubscribe() {\n    subscriptionsAmount++;\n\n    if (!unsubscribe) {\n      unsubscribe = parentSub ? parentSub.addNestedSub(handleChangeWrapper) : store.subscribe(handleChangeWrapper);\n      listeners = createListenerCollection();\n    }\n  }\n\n  function tryUnsubscribe() {\n    subscriptionsAmount--;\n\n    if (unsubscribe && subscriptionsAmount === 0) {\n      unsubscribe();\n      unsubscribe = undefined;\n      listeners.clear();\n      listeners = nullListeners;\n    }\n  }\n\n  function trySubscribeSelf() {\n    if (!selfSubscribed) {\n      selfSubscribed = true;\n      trySubscribe();\n    }\n  }\n\n  function tryUnsubscribeSelf() {\n    if (selfSubscribed) {\n      selfSubscribed = false;\n      tryUnsubscribe();\n    }\n  }\n\n  const subscription = {\n    addNestedSub,\n    notifyNestedSubs,\n    handleChangeWrapper,\n    isSubscribed,\n    trySubscribe: trySubscribeSelf,\n    tryUnsubscribe: tryUnsubscribeSelf,\n    getListeners: () => listeners\n  };\n  return subscription;\n}","import * as React from 'react'; // React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser. We need useLayoutEffect to ensure the store\n// subscription callback always has the selector from the latest render commit\n// available, otherwise a store update may happen between render and the effect,\n// which may cause missed updates; we also must ensure the store subscription\n// is created synchronously, otherwise a store update may occur before the\n// subscription is created and an inconsistent state may be observed\n// Matches logic in React's `shared/ExecutionEnvironment` file\n\nexport const canUseDOM = !!(typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined');\nexport const useIsomorphicLayoutEffect = canUseDOM ? React.useLayoutEffect : React.useEffect;","import * as React from 'react';\nimport { ReactReduxContext } from './Context';\nimport { createSubscription } from '../utils/Subscription';\nimport { useIsomorphicLayoutEffect } from '../utils/useIsomorphicLayoutEffect';\n\nfunction Provider({\n  store,\n  context,\n  children,\n  serverState,\n  stabilityCheck = 'once',\n  noopCheck = 'once'\n}) {\n  const contextValue = React.useMemo(() => {\n    const subscription = createSubscription(store);\n    return {\n      store,\n      subscription,\n      getServerState: serverState ? () => serverState : undefined,\n      stabilityCheck,\n      noopCheck\n    };\n  }, [store, serverState, stabilityCheck, noopCheck]);\n  const previousState = React.useMemo(() => store.getState(), [store]);\n  useIsomorphicLayoutEffect(() => {\n    const {\n      subscription\n    } = contextValue;\n    subscription.onStateChange = subscription.notifyNestedSubs;\n    subscription.trySubscribe();\n\n    if (previousState !== store.getState()) {\n      subscription.notifyNestedSubs();\n    }\n\n    return () => {\n      subscription.tryUnsubscribe();\n      subscription.onStateChange = undefined;\n    };\n  }, [contextValue, previousState]);\n  const Context = context || ReactReduxContext; // @ts-ignore 'AnyAction' is assignable to the constraint of type 'A', but 'A' could be instantiated with a different subtype\n\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: contextValue\n  }, children);\n}\n\nexport default Provider;","import { ReactReduxContext } from '../components/Context';\nimport { useReduxContext as useDefaultReduxContext, createReduxContextHook } from './useReduxContext';\n/**\r\n * Hook factory, which creates a `useStore` hook bound to a given context.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useStore` hook bound to the specified context.\r\n */\n\nexport function createStoreHook(context = ReactReduxContext) {\n  const useReduxContext = // @ts-ignore\n  context === ReactReduxContext ? useDefaultReduxContext : // @ts-ignore\n  createReduxContextHook(context);\n  return function useStore() {\n    const {\n      store\n    } = useReduxContext(); // @ts-ignore\n\n    return store;\n  };\n}\n/**\r\n * A hook to access the redux store.\r\n *\r\n * @returns {any} the redux store\r\n *\r\n * @example\r\n *\r\n * import React from 'react'\r\n * import { useStore } from 'react-redux'\r\n *\r\n * export const ExampleComponent = () => {\r\n *   const store = useStore()\r\n *   return <div>{store.getState()}</div>\r\n * }\r\n */\n\nexport const useStore = /*#__PURE__*/createStoreHook();","import { ReactReduxContext } from '../components/Context';\nimport { useStore as useDefaultStore, createStoreHook } from './useStore';\n/**\r\n * Hook factory, which creates a `useDispatch` hook bound to a given context.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useDispatch` hook bound to the specified context.\r\n */\n\nexport function createDispatchHook(context = ReactReduxContext) {\n  const useStore = // @ts-ignore\n  context === ReactReduxContext ? useDefaultStore : createStoreHook(context);\n  return function useDispatch() {\n    const store = useStore(); // @ts-ignore\n\n    return store.dispatch;\n  };\n}\n/**\r\n * A hook to access the redux `dispatch` function.\r\n *\r\n * @returns {any|function} redux store's `dispatch` function\r\n *\r\n * @example\r\n *\r\n * import React, { useCallback } from 'react'\r\n * import { useDispatch } from 'react-redux'\r\n *\r\n * export const CounterComponent = ({ value }) => {\r\n *   const dispatch = useDispatch()\r\n *   const increaseCounter = useCallback(() => dispatch({ type: 'increase-counter' }), [])\r\n *   return (\r\n *     <div>\r\n *       <span>{value}</span>\r\n *       <button onClick={increaseCounter}>Increase counter</button>\r\n *     </div>\r\n *   )\r\n * }\r\n */\n\nexport const useDispatch = /*#__PURE__*/createDispatchHook();","function n(n){for(var r=arguments.length,t=Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];if(\"production\"!==process.env.NODE_ENV){var i=Y[n],o=i?\"function\"==typeof i?i.apply(null,t):i:\"unknown error nr: \"+n;throw Error(\"[Immer] \"+o)}throw Error(\"[Immer] minified error nr: \"+n+(t.length?\" \"+t.map((function(n){return\"'\"+n+\"'\"})).join(\",\"):\"\")+\". Find the full error at: https://bit.ly/3cXEKWf\")}function r(n){return!!n&&!!n[Q]}function t(n){var r;return!!n&&(function(n){if(!n||\"object\"!=typeof n)return!1;var r=Object.getPrototypeOf(n);if(null===r)return!0;var t=Object.hasOwnProperty.call(r,\"constructor\")&&r.constructor;return t===Object||\"function\"==typeof t&&Function.toString.call(t)===Z}(n)||Array.isArray(n)||!!n[L]||!!(null===(r=n.constructor)||void 0===r?void 0:r[L])||s(n)||v(n))}function e(t){return r(t)||n(23,t),t[Q].t}function i(n,r,t){void 0===t&&(t=!1),0===o(n)?(t?Object.keys:nn)(n).forEach((function(e){t&&\"symbol\"==typeof e||r(e,n[e],n)})):n.forEach((function(t,e){return r(e,t,n)}))}function o(n){var r=n[Q];return r?r.i>3?r.i-4:r.i:Array.isArray(n)?1:s(n)?2:v(n)?3:0}function u(n,r){return 2===o(n)?n.has(r):Object.prototype.hasOwnProperty.call(n,r)}function a(n,r){return 2===o(n)?n.get(r):n[r]}function f(n,r,t){var e=o(n);2===e?n.set(r,t):3===e?n.add(t):n[r]=t}function c(n,r){return n===r?0!==n||1/n==1/r:n!=n&&r!=r}function s(n){return X&&n instanceof Map}function v(n){return q&&n instanceof Set}function p(n){return n.o||n.t}function l(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var r=rn(n);delete r[Q];for(var t=nn(r),e=0;e<t.length;e++){var i=t[e],o=r[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),r)}function d(n,e){return void 0===e&&(e=!1),y(n)||r(n)||!t(n)||(o(n)>1&&(n.set=n.add=n.clear=n.delete=h),Object.freeze(n),e&&i(n,(function(n,r){return d(r,!0)}),!0)),n}function h(){n(2)}function y(n){return null==n||\"object\"!=typeof n||Object.isFrozen(n)}function b(r){var t=tn[r];return t||n(18,r),t}function m(n,r){tn[n]||(tn[n]=r)}function _(){return\"production\"===process.env.NODE_ENV||U||n(0),U}function j(n,r){r&&(b(\"Patches\"),n.u=[],n.s=[],n.v=r)}function g(n){O(n),n.p.forEach(S),n.p=null}function O(n){n===U&&(U=n.l)}function w(n){return U={p:[],l:U,h:n,m:!0,_:0}}function S(n){var r=n[Q];0===r.i||1===r.i?r.j():r.g=!0}function P(r,e){e._=e.p.length;var i=e.p[0],o=void 0!==r&&r!==i;return e.h.O||b(\"ES5\").S(e,r,o),o?(i[Q].P&&(g(e),n(4)),t(r)&&(r=M(e,r),e.l||x(e,r)),e.u&&b(\"Patches\").M(i[Q].t,r,e.u,e.s)):r=M(e,i,[]),g(e),e.u&&e.v(e.u,e.s),r!==H?r:void 0}function M(n,r,t){if(y(r))return r;var e=r[Q];if(!e)return i(r,(function(i,o){return A(n,e,r,i,o,t)}),!0),r;if(e.A!==n)return r;if(!e.P)return x(n,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var o=4===e.i||5===e.i?e.o=l(e.k):e.o,u=o,a=!1;3===e.i&&(u=new Set(o),o.clear(),a=!0),i(u,(function(r,i){return A(n,e,o,r,i,t,a)})),x(n,o,!1),t&&n.u&&b(\"Patches\").N(e,t,n.u,n.s)}return e.o}function A(e,i,o,a,c,s,v){if(\"production\"!==process.env.NODE_ENV&&c===o&&n(5),r(c)){var p=M(e,c,s&&i&&3!==i.i&&!u(i.R,a)?s.concat(a):void 0);if(f(o,a,p),!r(p))return;e.m=!1}else v&&o.add(c);if(t(c)&&!y(c)){if(!e.h.D&&e._<1)return;M(e,c),i&&i.A.l||x(e,c)}}function x(n,r,t){void 0===t&&(t=!1),!n.l&&n.h.D&&n.m&&d(r,t)}function z(n,r){var t=n[Q];return(t?p(t):n)[r]}function I(n,r){if(r in n)for(var t=Object.getPrototypeOf(n);t;){var e=Object.getOwnPropertyDescriptor(t,r);if(e)return e;t=Object.getPrototypeOf(t)}}function k(n){n.P||(n.P=!0,n.l&&k(n.l))}function E(n){n.o||(n.o=l(n.t))}function N(n,r,t){var e=s(r)?b(\"MapSet\").F(r,t):v(r)?b(\"MapSet\").T(r,t):n.O?function(n,r){var t=Array.isArray(n),e={i:t?1:0,A:r?r.A:_(),P:!1,I:!1,R:{},l:r,t:n,k:null,o:null,j:null,C:!1},i=e,o=en;t&&(i=[e],o=on);var u=Proxy.revocable(i,o),a=u.revoke,f=u.proxy;return e.k=f,e.j=a,f}(r,t):b(\"ES5\").J(r,t);return(t?t.A:_()).p.push(e),e}function R(e){return r(e)||n(22,e),function n(r){if(!t(r))return r;var e,u=r[Q],c=o(r);if(u){if(!u.P&&(u.i<4||!b(\"ES5\").K(u)))return u.t;u.I=!0,e=D(r,c),u.I=!1}else e=D(r,c);return i(e,(function(r,t){u&&a(u.t,r)===t||f(e,r,n(t))})),3===c?new Set(e):e}(e)}function D(n,r){switch(r){case 2:return new Map(n);case 3:return Array.from(n)}return l(n)}function F(){function t(n,r){var t=s[n];return t?t.enumerable=r:s[n]=t={configurable:!0,enumerable:r,get:function(){var r=this[Q];return\"production\"!==process.env.NODE_ENV&&f(r),en.get(r,n)},set:function(r){var t=this[Q];\"production\"!==process.env.NODE_ENV&&f(t),en.set(t,n,r)}},t}function e(n){for(var r=n.length-1;r>=0;r--){var t=n[r][Q];if(!t.P)switch(t.i){case 5:a(t)&&k(t);break;case 4:o(t)&&k(t)}}}function o(n){for(var r=n.t,t=n.k,e=nn(t),i=e.length-1;i>=0;i--){var o=e[i];if(o!==Q){var a=r[o];if(void 0===a&&!u(r,o))return!0;var f=t[o],s=f&&f[Q];if(s?s.t!==a:!c(f,a))return!0}}var v=!!r[Q];return e.length!==nn(r).length+(v?0:1)}function a(n){var r=n.k;if(r.length!==n.t.length)return!0;var t=Object.getOwnPropertyDescriptor(r,r.length-1);if(t&&!t.get)return!0;for(var e=0;e<r.length;e++)if(!r.hasOwnProperty(e))return!0;return!1}function f(r){r.g&&n(3,JSON.stringify(p(r)))}var s={};m(\"ES5\",{J:function(n,r){var e=Array.isArray(n),i=function(n,r){if(n){for(var e=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(e,\"\"+i,t(i,!0));return e}var o=rn(r);delete o[Q];for(var u=nn(o),a=0;a<u.length;a++){var f=u[a];o[f]=t(f,n||!!o[f].enumerable)}return Object.create(Object.getPrototypeOf(r),o)}(e,n),o={i:e?5:4,A:r?r.A:_(),P:!1,I:!1,R:{},l:r,t:n,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Q,{value:o,writable:!0}),i},S:function(n,t,o){o?r(t)&&t[Q].A===n&&e(n.p):(n.u&&function n(r){if(r&&\"object\"==typeof r){var t=r[Q];if(t){var e=t.t,o=t.k,f=t.R,c=t.i;if(4===c)i(o,(function(r){r!==Q&&(void 0!==e[r]||u(e,r)?f[r]||n(o[r]):(f[r]=!0,k(t)))})),i(e,(function(n){void 0!==o[n]||u(o,n)||(f[n]=!1,k(t))}));else if(5===c){if(a(t)&&(k(t),f.length=!0),o.length<e.length)for(var s=o.length;s<e.length;s++)f[s]=!1;else for(var v=e.length;v<o.length;v++)f[v]=!0;for(var p=Math.min(o.length,e.length),l=0;l<p;l++)o.hasOwnProperty(l)||(f[l]=!0),void 0===f[l]&&n(o[l])}}}}(n.p[0]),e(n.p))},K:function(n){return 4===n.i?o(n):a(n)}})}function T(){function e(n){if(!t(n))return n;if(Array.isArray(n))return n.map(e);if(s(n))return new Map(Array.from(n.entries()).map((function(n){return[n[0],e(n[1])]})));if(v(n))return new Set(Array.from(n).map(e));var r=Object.create(Object.getPrototypeOf(n));for(var i in n)r[i]=e(n[i]);return u(n,L)&&(r[L]=n[L]),r}function f(n){return r(n)?e(n):n}var c=\"add\";m(\"Patches\",{$:function(r,t){return t.forEach((function(t){for(var i=t.path,u=t.op,f=r,s=0;s<i.length-1;s++){var v=o(f),p=i[s];\"string\"!=typeof p&&\"number\"!=typeof p&&(p=\"\"+p),0!==v&&1!==v||\"__proto__\"!==p&&\"constructor\"!==p||n(24),\"function\"==typeof f&&\"prototype\"===p&&n(24),\"object\"!=typeof(f=a(f,p))&&n(15,i.join(\"/\"))}var l=o(f),d=e(t.value),h=i[i.length-1];switch(u){case\"replace\":switch(l){case 2:return f.set(h,d);case 3:n(16);default:return f[h]=d}case c:switch(l){case 1:return\"-\"===h?f.push(d):f.splice(h,0,d);case 2:return f.set(h,d);case 3:return f.add(d);default:return f[h]=d}case\"remove\":switch(l){case 1:return f.splice(h,1);case 2:return f.delete(h);case 3:return f.delete(t.value);default:return delete f[h]}default:n(17,u)}})),r},N:function(n,r,t,e){switch(n.i){case 0:case 4:case 2:return function(n,r,t,e){var o=n.t,s=n.o;i(n.R,(function(n,i){var v=a(o,n),p=a(s,n),l=i?u(o,n)?\"replace\":c:\"remove\";if(v!==p||\"replace\"!==l){var d=r.concat(n);t.push(\"remove\"===l?{op:l,path:d}:{op:l,path:d,value:p}),e.push(l===c?{op:\"remove\",path:d}:\"remove\"===l?{op:c,path:d,value:f(v)}:{op:\"replace\",path:d,value:f(v)})}}))}(n,r,t,e);case 5:case 1:return function(n,r,t,e){var i=n.t,o=n.R,u=n.o;if(u.length<i.length){var a=[u,i];i=a[0],u=a[1];var s=[e,t];t=s[0],e=s[1]}for(var v=0;v<i.length;v++)if(o[v]&&u[v]!==i[v]){var p=r.concat([v]);t.push({op:\"replace\",path:p,value:f(u[v])}),e.push({op:\"replace\",path:p,value:f(i[v])})}for(var l=i.length;l<u.length;l++){var d=r.concat([l]);t.push({op:c,path:d,value:f(u[l])})}i.length<u.length&&e.push({op:\"replace\",path:r.concat([\"length\"]),value:i.length})}(n,r,t,e);case 3:return function(n,r,t,e){var i=n.t,o=n.o,u=0;i.forEach((function(n){if(!o.has(n)){var i=r.concat([u]);t.push({op:\"remove\",path:i,value:n}),e.unshift({op:c,path:i,value:n})}u++})),u=0,o.forEach((function(n){if(!i.has(n)){var o=r.concat([u]);t.push({op:c,path:o,value:n}),e.unshift({op:\"remove\",path:o,value:n})}u++}))}(n,r,t,e)}},M:function(n,r,t,e){t.push({op:\"replace\",path:[],value:r===H?void 0:r}),e.push({op:\"replace\",path:[],value:n})}})}function C(){function r(n,r){function t(){this.constructor=n}a(n,r),n.prototype=(t.prototype=r.prototype,new t)}function e(n){n.o||(n.R=new Map,n.o=new Map(n.t))}function o(n){n.o||(n.o=new Set,n.t.forEach((function(r){if(t(r)){var e=N(n.A.h,r,n);n.p.set(r,e),n.o.add(e)}else n.o.add(r)})))}function u(r){r.g&&n(3,JSON.stringify(p(r)))}var a=function(n,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t])})(n,r)},f=function(){function n(n,r){return this[Q]={i:2,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,R:void 0,t:n,k:this,C:!1,g:!1},this}r(n,Map);var o=n.prototype;return Object.defineProperty(o,\"size\",{get:function(){return p(this[Q]).size}}),o.has=function(n){return p(this[Q]).has(n)},o.set=function(n,r){var t=this[Q];return u(t),p(t).has(n)&&p(t).get(n)===r||(e(t),k(t),t.R.set(n,!0),t.o.set(n,r),t.R.set(n,!0)),this},o.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),e(r),k(r),r.t.has(n)?r.R.set(n,!1):r.R.delete(n),r.o.delete(n),!0},o.clear=function(){var n=this[Q];u(n),p(n).size&&(e(n),k(n),n.R=new Map,i(n.t,(function(r){n.R.set(r,!1)})),n.o.clear())},o.forEach=function(n,r){var t=this;p(this[Q]).forEach((function(e,i){n.call(r,t.get(i),i,t)}))},o.get=function(n){var r=this[Q];u(r);var i=p(r).get(n);if(r.I||!t(i))return i;if(i!==r.t.get(n))return i;var o=N(r.A.h,i,r);return e(r),r.o.set(n,o),o},o.keys=function(){return p(this[Q]).keys()},o.values=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.values()},n.next=function(){var n=t.next();return n.done?n:{done:!1,value:r.get(n.value)}},n},o.entries=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.entries()},n.next=function(){var n=t.next();if(n.done)return n;var e=r.get(n.value);return{done:!1,value:[n.value,e]}},n},o[V]=function(){return this.entries()},n}(),c=function(){function n(n,r){return this[Q]={i:3,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,t:n,k:this,p:new Map,g:!1,C:!1},this}r(n,Set);var t=n.prototype;return Object.defineProperty(t,\"size\",{get:function(){return p(this[Q]).size}}),t.has=function(n){var r=this[Q];return u(r),r.o?!!r.o.has(n)||!(!r.p.has(n)||!r.o.has(r.p.get(n))):r.t.has(n)},t.add=function(n){var r=this[Q];return u(r),this.has(n)||(o(r),k(r),r.o.add(n)),this},t.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),o(r),k(r),r.o.delete(n)||!!r.p.has(n)&&r.o.delete(r.p.get(n))},t.clear=function(){var n=this[Q];u(n),p(n).size&&(o(n),k(n),n.o.clear())},t.values=function(){var n=this[Q];return u(n),o(n),n.o.values()},t.entries=function(){var n=this[Q];return u(n),o(n),n.o.entries()},t.keys=function(){return this.values()},t[V]=function(){return this.values()},t.forEach=function(n,r){for(var t=this.values(),e=t.next();!e.done;)n.call(r,e.value,e.value,this),e=t.next()},n}();m(\"MapSet\",{F:function(n,r){return new f(n,r)},T:function(n,r){return new c(n,r)}})}function J(){F(),C(),T()}function K(n){return n}function $(n){return n}var G,U,W=\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol(\"x\"),X=\"undefined\"!=typeof Map,q=\"undefined\"!=typeof Set,B=\"undefined\"!=typeof Proxy&&void 0!==Proxy.revocable&&\"undefined\"!=typeof Reflect,H=W?Symbol.for(\"immer-nothing\"):((G={})[\"immer-nothing\"]=!0,G),L=W?Symbol.for(\"immer-draftable\"):\"__$immer_draftable\",Q=W?Symbol.for(\"immer-state\"):\"__$immer_state\",V=\"undefined\"!=typeof Symbol&&Symbol.iterator||\"@@iterator\",Y={0:\"Illegal state\",1:\"Immer drafts cannot have computed properties\",2:\"This object has been frozen and should not be mutated\",3:function(n){return\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \"+n},4:\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",5:\"Immer forbids circular references\",6:\"The first or second argument to `produce` must be a function\",7:\"The third argument to `produce` must be a function or undefined\",8:\"First argument to `createDraft` must be a plain object, an array, or an immerable object\",9:\"First argument to `finishDraft` must be a draft returned by `createDraft`\",10:\"The given draft is already finalized\",11:\"Object.defineProperty() cannot be used on an Immer draft\",12:\"Object.setPrototypeOf() cannot be used on an Immer draft\",13:\"Immer only supports deleting array indices\",14:\"Immer only supports setting array indices and the 'length' property\",15:function(n){return\"Cannot apply patch, path doesn't resolve: \"+n},16:'Sets cannot have \"replace\" patches.',17:function(n){return\"Unsupported patch operation: \"+n},18:function(n){return\"The plugin for '\"+n+\"' has not been loaded into Immer. To enable the plugin, import and call `enable\"+n+\"()` when initializing your application.\"},20:\"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",21:function(n){return\"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '\"+n+\"'\"},22:function(n){return\"'current' expects a draft, got: \"+n},23:function(n){return\"'original' expects a draft, got: \"+n},24:\"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"},Z=\"\"+Object.prototype.constructor,nn=\"undefined\"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(n){var r={};return nn(n).forEach((function(t){r[t]=Object.getOwnPropertyDescriptor(n,t)})),r},tn={},en={get:function(n,r){if(r===Q)return n;var e=p(n);if(!u(e,r))return function(n,r,t){var e,i=I(r,t);return i?\"value\"in i?i.value:null===(e=i.get)||void 0===e?void 0:e.call(n.k):void 0}(n,e,r);var i=e[r];return n.I||!t(i)?i:i===z(n.t,r)?(E(n),n.o[r]=N(n.A.h,i,n)):i},has:function(n,r){return r in p(n)},ownKeys:function(n){return Reflect.ownKeys(p(n))},set:function(n,r,t){var e=I(p(n),r);if(null==e?void 0:e.set)return e.set.call(n.k,t),!0;if(!n.P){var i=z(p(n),r),o=null==i?void 0:i[Q];if(o&&o.t===t)return n.o[r]=t,n.R[r]=!1,!0;if(c(t,i)&&(void 0!==t||u(n.t,r)))return!0;E(n),k(n)}return n.o[r]===t&&(void 0!==t||r in n.o)||Number.isNaN(t)&&Number.isNaN(n.o[r])||(n.o[r]=t,n.R[r]=!0),!0},deleteProperty:function(n,r){return void 0!==z(n.t,r)||r in n.t?(n.R[r]=!1,E(n),k(n)):delete n.R[r],n.o&&delete n.o[r],!0},getOwnPropertyDescriptor:function(n,r){var t=p(n),e=Reflect.getOwnPropertyDescriptor(t,r);return e?{writable:!0,configurable:1!==n.i||\"length\"!==r,enumerable:e.enumerable,value:t[r]}:e},defineProperty:function(){n(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){n(12)}},on={};i(en,(function(n,r){on[n]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}})),on.deleteProperty=function(r,t){return\"production\"!==process.env.NODE_ENV&&isNaN(parseInt(t))&&n(13),on.set.call(this,r,t,void 0)},on.set=function(r,t,e){return\"production\"!==process.env.NODE_ENV&&\"length\"!==t&&isNaN(parseInt(t))&&n(14),en.set.call(this,r[0],t,e,r[0])};var un=function(){function e(r){var e=this;this.O=B,this.D=!0,this.produce=function(r,i,o){if(\"function\"==typeof r&&\"function\"!=typeof i){var u=i;i=r;var a=e;return function(n){var r=this;void 0===n&&(n=u);for(var t=arguments.length,e=Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];return a.produce(n,(function(n){var t;return(t=i).call.apply(t,[r,n].concat(e))}))}}var f;if(\"function\"!=typeof i&&n(6),void 0!==o&&\"function\"!=typeof o&&n(7),t(r)){var c=w(e),s=N(e,r,void 0),v=!0;try{f=i(s),v=!1}finally{v?g(c):O(c)}return\"undefined\"!=typeof Promise&&f instanceof Promise?f.then((function(n){return j(c,o),P(n,c)}),(function(n){throw g(c),n})):(j(c,o),P(f,c))}if(!r||\"object\"!=typeof r){if(void 0===(f=i(r))&&(f=r),f===H&&(f=void 0),e.D&&d(f,!0),o){var p=[],l=[];b(\"Patches\").M(r,f,p,l),o(p,l)}return f}n(21,r)},this.produceWithPatches=function(n,r){if(\"function\"==typeof n)return function(r){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return e.produceWithPatches(r,(function(r){return n.apply(void 0,[r].concat(i))}))};var t,i,o=e.produce(n,r,(function(n,r){t=n,i=r}));return\"undefined\"!=typeof Promise&&o instanceof Promise?o.then((function(n){return[n,t,i]})):[o,t,i]},\"boolean\"==typeof(null==r?void 0:r.useProxies)&&this.setUseProxies(r.useProxies),\"boolean\"==typeof(null==r?void 0:r.autoFreeze)&&this.setAutoFreeze(r.autoFreeze)}var i=e.prototype;return i.createDraft=function(e){t(e)||n(8),r(e)&&(e=R(e));var i=w(this),o=N(this,e,void 0);return o[Q].C=!0,O(i),o},i.finishDraft=function(r,t){var e=r&&r[Q];\"production\"!==process.env.NODE_ENV&&(e&&e.C||n(9),e.I&&n(10));var i=e.A;return j(i,t),P(void 0,i)},i.setAutoFreeze=function(n){this.D=n},i.setUseProxies=function(r){r&&!B&&n(20),this.O=r},i.applyPatches=function(n,t){var e;for(e=t.length-1;e>=0;e--){var i=t[e];if(0===i.path.length&&\"replace\"===i.op){n=i.value;break}}e>-1&&(t=t.slice(e+1));var o=b(\"Patches\").$;return r(n)?o(n,t):this.produce(n,(function(n){return o(n,t)}))},e}(),an=new un,fn=an.produce,cn=an.produceWithPatches.bind(an),sn=an.setAutoFreeze.bind(an),vn=an.setUseProxies.bind(an),pn=an.applyPatches.bind(an),ln=an.createDraft.bind(an),dn=an.finishDraft.bind(an);export default fn;export{un as Immer,pn as applyPatches,K as castDraft,$ as castImmutable,ln as createDraft,R as current,J as enableAllPlugins,F as enableES5,C as enableMapSet,T as enablePatches,dn as finishDraft,d as freeze,L as immerable,r as isDraft,t as isDraftable,H as nothing,e as original,fn as produce,cn as produceWithPatches,sn as setAutoFreeze,vn as setUseProxies};\n//# sourceMappingURL=immer.esm.js.map\n","// The primary entry point assumes we're working with standard ReactDOM/RN, but\n// older versions that do not include `useSyncExternalStore` (React 16.9 - 17.x).\n// Because of that, the useSyncExternalStore compat shim is needed.\nimport { useSyncExternalStore } from 'use-sync-external-store/shim';\nimport { useSyncExternalStoreWithSelector } from 'use-sync-external-store/shim/with-selector';\nimport { unstable_batchedUpdates as batch } from './utils/reactBatchedUpdates';\nimport { setBatch } from './utils/batch';\nimport { initializeUseSelector } from './hooks/useSelector';\nimport { initializeConnect } from './components/connect';\ninitializeUseSelector(useSyncExternalStoreWithSelector);\ninitializeConnect(useSyncExternalStore); // Enable batched updates in our subscriptions for use\n// with standard React renderers (ReactDOM, React Native)\n\nsetBatch(batch);\nexport { batch };\nexport * from './exports';","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nvar legacy_createStore = createStore;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore, legacy_createStore };\n","/** A function that accepts a potential \"extra argument\" value to be injected later,\r\n * and returns an instance of the thunk middleware that uses that value\r\n */\nfunction createThunkMiddleware(extraArgument) {\n  // Standard Redux middleware definition pattern:\n  // See: https://redux.js.org/tutorials/fundamentals/part-4-store#writing-custom-middleware\n  var middleware = function middleware(_ref) {\n    var dispatch = _ref.dispatch,\n        getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        // The thunk middleware looks for any functions that were passed to `store.dispatch`.\n        // If this \"action\" is really a function, call it and return the result.\n        if (typeof action === 'function') {\n          // Inject the store's `dispatch` and `getState` methods, as well as any \"extra arg\"\n          return action(dispatch, getState, extraArgument);\n        } // Otherwise, pass the action down the middleware chain as usual\n\n\n        return next(action);\n      };\n    };\n  };\n\n  return middleware;\n}\n\nvar thunk = createThunkMiddleware(); // Attach the factory function so users can create a customized version\n// with whatever \"extra arg\" they want to inject into their thunks\n\nthunk.withExtraArgument = createThunkMiddleware;\nexport default thunk;","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n};\r\nvar __defProp = Object.defineProperty;\r\nvar __defProps = Object.defineProperties;\r\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\r\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\r\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\r\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\r\nvar __defNormalProp = function (obj, key, value) { return key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value: value }) : obj[key] = value; };\r\nvar __spreadValues = function (a, b) {\r\n    for (var prop in b || (b = {}))\r\n        if (__hasOwnProp.call(b, prop))\r\n            __defNormalProp(a, prop, b[prop]);\r\n    if (__getOwnPropSymbols)\r\n        for (var _i = 0, _c = __getOwnPropSymbols(b); _i < _c.length; _i++) {\r\n            var prop = _c[_i];\r\n            if (__propIsEnum.call(b, prop))\r\n                __defNormalProp(a, prop, b[prop]);\r\n        }\r\n    return a;\r\n};\r\nvar __spreadProps = function (a, b) { return __defProps(a, __getOwnPropDescs(b)); };\r\nvar __async = function (__this, __arguments, generator) {\r\n    return new Promise(function (resolve, reject) {\r\n        var fulfilled = function (value) {\r\n            try {\r\n                step(generator.next(value));\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n            }\r\n        };\r\n        var rejected = function (value) {\r\n            try {\r\n                step(generator.throw(value));\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n            }\r\n        };\r\n        var step = function (x) { return x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected); };\r\n        step((generator = generator.apply(__this, __arguments)).next());\r\n    });\r\n};\r\n// src/index.ts\r\nimport { enableES5 } from \"immer\";\r\nexport * from \"redux\";\r\nimport { default as default2, current as current2, freeze, original, isDraft as isDraft4 } from \"immer\";\r\nimport { createSelector as createSelector2 } from \"reselect\";\r\n// src/createDraftSafeSelector.ts\r\nimport { current, isDraft } from \"immer\";\r\nimport { createSelector } from \"reselect\";\r\nvar createDraftSafeSelector = function () {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    var selector = createSelector.apply(void 0, args);\r\n    var wrappedSelector = function (value) {\r\n        var rest = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            rest[_i - 1] = arguments[_i];\r\n        }\r\n        return selector.apply(void 0, __spreadArray([isDraft(value) ? current(value) : value], rest));\r\n    };\r\n    return wrappedSelector;\r\n};\r\n// src/configureStore.ts\r\nimport { createStore, compose as compose2, applyMiddleware, combineReducers } from \"redux\";\r\n// src/devtoolsExtension.ts\r\nimport { compose } from \"redux\";\r\nvar composeWithDevTools = typeof window !== \"undefined\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : function () {\r\n    if (arguments.length === 0)\r\n        return void 0;\r\n    if (typeof arguments[0] === \"object\")\r\n        return compose;\r\n    return compose.apply(null, arguments);\r\n};\r\nvar devToolsEnhancer = typeof window !== \"undefined\" && window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__ : function () {\r\n    return function (noop2) {\r\n        return noop2;\r\n    };\r\n};\r\n// src/isPlainObject.ts\r\nfunction isPlainObject(value) {\r\n    if (typeof value !== \"object\" || value === null)\r\n        return false;\r\n    var proto = Object.getPrototypeOf(value);\r\n    if (proto === null)\r\n        return true;\r\n    var baseProto = proto;\r\n    while (Object.getPrototypeOf(baseProto) !== null) {\r\n        baseProto = Object.getPrototypeOf(baseProto);\r\n    }\r\n    return proto === baseProto;\r\n}\r\n// src/getDefaultMiddleware.ts\r\nimport thunkMiddleware from \"redux-thunk\";\r\n// src/tsHelpers.ts\r\nvar hasMatchFunction = function (v) {\r\n    return v && typeof v.match === \"function\";\r\n};\r\n// src/createAction.ts\r\nfunction createAction(type, prepareAction) {\r\n    function actionCreator() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        if (prepareAction) {\r\n            var prepared = prepareAction.apply(void 0, args);\r\n            if (!prepared) {\r\n                throw new Error(\"prepareAction did not return an object\");\r\n            }\r\n            return __spreadValues(__spreadValues({\r\n                type: type,\r\n                payload: prepared.payload\r\n            }, \"meta\" in prepared && { meta: prepared.meta }), \"error\" in prepared && { error: prepared.error });\r\n        }\r\n        return { type: type, payload: args[0] };\r\n    }\r\n    actionCreator.toString = function () { return \"\" + type; };\r\n    actionCreator.type = type;\r\n    actionCreator.match = function (action) { return action.type === type; };\r\n    return actionCreator;\r\n}\r\nfunction isAction(action) {\r\n    return isPlainObject(action) && \"type\" in action;\r\n}\r\nfunction isActionCreator(action) {\r\n    return typeof action === \"function\" && \"type\" in action && hasMatchFunction(action);\r\n}\r\nfunction isFSA(action) {\r\n    return isAction(action) && typeof action.type === \"string\" && Object.keys(action).every(isValidKey);\r\n}\r\nfunction isValidKey(key) {\r\n    return [\"type\", \"payload\", \"error\", \"meta\"].indexOf(key) > -1;\r\n}\r\nfunction getType(actionCreator) {\r\n    return \"\" + actionCreator;\r\n}\r\n// src/actionCreatorInvariantMiddleware.ts\r\nfunction getMessage(type) {\r\n    var splitType = type ? (\"\" + type).split(\"/\") : [];\r\n    var actionName = splitType[splitType.length - 1] || \"actionCreator\";\r\n    return \"Detected an action creator with type \\\"\" + (type || \"unknown\") + \"\\\" being dispatched. \\nMake sure you're calling the action creator before dispatching, i.e. `dispatch(\" + actionName + \"())` instead of `dispatch(\" + actionName + \")`. This is necessary even if the action has no payload.\";\r\n}\r\nfunction createActionCreatorInvariantMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (process.env.NODE_ENV === \"production\") {\r\n        return function () { return function (next) { return function (action) { return next(action); }; }; };\r\n    }\r\n    var _c = options.isActionCreator, isActionCreator2 = _c === void 0 ? isActionCreator : _c;\r\n    return function () { return function (next) { return function (action) {\r\n        if (isActionCreator2(action)) {\r\n            console.warn(getMessage(action.type));\r\n        }\r\n        return next(action);\r\n    }; }; };\r\n}\r\n// src/utils.ts\r\nimport createNextState, { isDraftable } from \"immer\";\r\nfunction getTimeMeasureUtils(maxDelay, fnName) {\r\n    var elapsed = 0;\r\n    return {\r\n        measureTime: function (fn) {\r\n            var started = Date.now();\r\n            try {\r\n                return fn();\r\n            }\r\n            finally {\r\n                var finished = Date.now();\r\n                elapsed += finished - started;\r\n            }\r\n        },\r\n        warnIfExceeded: function () {\r\n            if (elapsed > maxDelay) {\r\n                console.warn(fnName + \" took \" + elapsed + \"ms, which is more than the warning threshold of \" + maxDelay + \"ms. \\nIf your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.\\nIt is disabled in production builds, so you don't need to worry about that.\");\r\n            }\r\n        }\r\n    };\r\n}\r\nvar MiddlewareArray = /** @class */ (function (_super) {\r\n    __extends(MiddlewareArray, _super);\r\n    function MiddlewareArray() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var _this = _super.apply(this, args) || this;\r\n        Object.setPrototypeOf(_this, MiddlewareArray.prototype);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(MiddlewareArray, Symbol.species, {\r\n        get: function () {\r\n            return MiddlewareArray;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    MiddlewareArray.prototype.concat = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        return _super.prototype.concat.apply(this, arr);\r\n    };\r\n    MiddlewareArray.prototype.prepend = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        if (arr.length === 1 && Array.isArray(arr[0])) {\r\n            return new (MiddlewareArray.bind.apply(MiddlewareArray, __spreadArray([void 0], arr[0].concat(this))))();\r\n        }\r\n        return new (MiddlewareArray.bind.apply(MiddlewareArray, __spreadArray([void 0], arr.concat(this))))();\r\n    };\r\n    return MiddlewareArray;\r\n}(Array));\r\nvar EnhancerArray = /** @class */ (function (_super) {\r\n    __extends(EnhancerArray, _super);\r\n    function EnhancerArray() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var _this = _super.apply(this, args) || this;\r\n        Object.setPrototypeOf(_this, EnhancerArray.prototype);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(EnhancerArray, Symbol.species, {\r\n        get: function () {\r\n            return EnhancerArray;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    EnhancerArray.prototype.concat = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        return _super.prototype.concat.apply(this, arr);\r\n    };\r\n    EnhancerArray.prototype.prepend = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        if (arr.length === 1 && Array.isArray(arr[0])) {\r\n            return new (EnhancerArray.bind.apply(EnhancerArray, __spreadArray([void 0], arr[0].concat(this))))();\r\n        }\r\n        return new (EnhancerArray.bind.apply(EnhancerArray, __spreadArray([void 0], arr.concat(this))))();\r\n    };\r\n    return EnhancerArray;\r\n}(Array));\r\nfunction freezeDraftable(val) {\r\n    return isDraftable(val) ? createNextState(val, function () {\r\n    }) : val;\r\n}\r\n// src/immutableStateInvariantMiddleware.ts\r\nvar isProduction = process.env.NODE_ENV === \"production\";\r\nvar prefix = \"Invariant failed\";\r\nfunction invariant(condition, message) {\r\n    if (condition) {\r\n        return;\r\n    }\r\n    if (isProduction) {\r\n        throw new Error(prefix);\r\n    }\r\n    throw new Error(prefix + \": \" + (message || \"\"));\r\n}\r\nfunction stringify(obj, serializer, indent, decycler) {\r\n    return JSON.stringify(obj, getSerialize(serializer, decycler), indent);\r\n}\r\nfunction getSerialize(serializer, decycler) {\r\n    var stack = [], keys = [];\r\n    if (!decycler)\r\n        decycler = function (_, value) {\r\n            if (stack[0] === value)\r\n                return \"[Circular ~]\";\r\n            return \"[Circular ~.\" + keys.slice(0, stack.indexOf(value)).join(\".\") + \"]\";\r\n        };\r\n    return function (key, value) {\r\n        if (stack.length > 0) {\r\n            var thisPos = stack.indexOf(this);\r\n            ~thisPos ? stack.splice(thisPos + 1) : stack.push(this);\r\n            ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key);\r\n            if (~stack.indexOf(value))\r\n                value = decycler.call(this, key, value);\r\n        }\r\n        else\r\n            stack.push(value);\r\n        return serializer == null ? value : serializer.call(this, key, value);\r\n    };\r\n}\r\nfunction isImmutableDefault(value) {\r\n    return typeof value !== \"object\" || value == null || Object.isFrozen(value);\r\n}\r\nfunction trackForMutations(isImmutable, ignorePaths, obj) {\r\n    var trackedProperties = trackProperties(isImmutable, ignorePaths, obj);\r\n    return {\r\n        detectMutations: function () {\r\n            return detectMutations(isImmutable, ignorePaths, trackedProperties, obj);\r\n        }\r\n    };\r\n}\r\nfunction trackProperties(isImmutable, ignorePaths, obj, path, checkedObjects) {\r\n    if (ignorePaths === void 0) { ignorePaths = []; }\r\n    if (path === void 0) { path = \"\"; }\r\n    if (checkedObjects === void 0) { checkedObjects = new Set(); }\r\n    var tracked = { value: obj };\r\n    if (!isImmutable(obj) && !checkedObjects.has(obj)) {\r\n        checkedObjects.add(obj);\r\n        tracked.children = {};\r\n        for (var key in obj) {\r\n            var childPath = path ? path + \".\" + key : key;\r\n            if (ignorePaths.length && ignorePaths.indexOf(childPath) !== -1) {\r\n                continue;\r\n            }\r\n            tracked.children[key] = trackProperties(isImmutable, ignorePaths, obj[key], childPath);\r\n        }\r\n    }\r\n    return tracked;\r\n}\r\nfunction detectMutations(isImmutable, ignoredPaths, trackedProperty, obj, sameParentRef, path) {\r\n    if (ignoredPaths === void 0) { ignoredPaths = []; }\r\n    if (sameParentRef === void 0) { sameParentRef = false; }\r\n    if (path === void 0) { path = \"\"; }\r\n    var prevObj = trackedProperty ? trackedProperty.value : void 0;\r\n    var sameRef = prevObj === obj;\r\n    if (sameParentRef && !sameRef && !Number.isNaN(obj)) {\r\n        return { wasMutated: true, path: path };\r\n    }\r\n    if (isImmutable(prevObj) || isImmutable(obj)) {\r\n        return { wasMutated: false };\r\n    }\r\n    var keysToDetect = {};\r\n    for (var key in trackedProperty.children) {\r\n        keysToDetect[key] = true;\r\n    }\r\n    for (var key in obj) {\r\n        keysToDetect[key] = true;\r\n    }\r\n    var hasIgnoredPaths = ignoredPaths.length > 0;\r\n    var _loop_1 = function (key) {\r\n        var nestedPath = path ? path + \".\" + key : key;\r\n        if (hasIgnoredPaths) {\r\n            var hasMatches = ignoredPaths.some(function (ignored) {\r\n                if (ignored instanceof RegExp) {\r\n                    return ignored.test(nestedPath);\r\n                }\r\n                return nestedPath === ignored;\r\n            });\r\n            if (hasMatches) {\r\n                return \"continue\";\r\n            }\r\n        }\r\n        var result = detectMutations(isImmutable, ignoredPaths, trackedProperty.children[key], obj[key], sameRef, nestedPath);\r\n        if (result.wasMutated) {\r\n            return { value: result };\r\n        }\r\n    };\r\n    for (var key in keysToDetect) {\r\n        var state_1 = _loop_1(key);\r\n        if (typeof state_1 === \"object\")\r\n            return state_1.value;\r\n    }\r\n    return { wasMutated: false };\r\n}\r\nfunction createImmutableStateInvariantMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (process.env.NODE_ENV === \"production\") {\r\n        return function () { return function (next) { return function (action) { return next(action); }; }; };\r\n    }\r\n    var _c = options.isImmutable, isImmutable = _c === void 0 ? isImmutableDefault : _c, ignoredPaths = options.ignoredPaths, _d = options.warnAfter, warnAfter = _d === void 0 ? 32 : _d, ignore = options.ignore;\r\n    ignoredPaths = ignoredPaths || ignore;\r\n    var track = trackForMutations.bind(null, isImmutable, ignoredPaths);\r\n    return function (_c) {\r\n        var getState = _c.getState;\r\n        var state = getState();\r\n        var tracker = track(state);\r\n        var result;\r\n        return function (next) { return function (action) {\r\n            var measureUtils = getTimeMeasureUtils(warnAfter, \"ImmutableStateInvariantMiddleware\");\r\n            measureUtils.measureTime(function () {\r\n                state = getState();\r\n                result = tracker.detectMutations();\r\n                tracker = track(state);\r\n                invariant(!result.wasMutated, \"A state mutation was detected between dispatches, in the path '\" + (result.path || \"\") + \"'.  This may cause incorrect behavior. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)\");\r\n            });\r\n            var dispatchedAction = next(action);\r\n            measureUtils.measureTime(function () {\r\n                state = getState();\r\n                result = tracker.detectMutations();\r\n                tracker = track(state);\r\n                result.wasMutated && invariant(!result.wasMutated, \"A state mutation was detected inside a dispatch, in the path: \" + (result.path || \"\") + \". Take a look at the reducer(s) handling the action \" + stringify(action) + \". (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)\");\r\n            });\r\n            measureUtils.warnIfExceeded();\r\n            return dispatchedAction;\r\n        }; };\r\n    };\r\n}\r\n// src/serializableStateInvariantMiddleware.ts\r\nfunction isPlain(val) {\r\n    var type = typeof val;\r\n    return val == null || type === \"string\" || type === \"boolean\" || type === \"number\" || Array.isArray(val) || isPlainObject(val);\r\n}\r\nfunction findNonSerializableValue(value, path, isSerializable, getEntries, ignoredPaths, cache) {\r\n    if (path === void 0) { path = \"\"; }\r\n    if (isSerializable === void 0) { isSerializable = isPlain; }\r\n    if (ignoredPaths === void 0) { ignoredPaths = []; }\r\n    var foundNestedSerializable;\r\n    if (!isSerializable(value)) {\r\n        return {\r\n            keyPath: path || \"<root>\",\r\n            value: value\r\n        };\r\n    }\r\n    if (typeof value !== \"object\" || value === null) {\r\n        return false;\r\n    }\r\n    if (cache == null ? void 0 : cache.has(value))\r\n        return false;\r\n    var entries = getEntries != null ? getEntries(value) : Object.entries(value);\r\n    var hasIgnoredPaths = ignoredPaths.length > 0;\r\n    var _loop_2 = function (key, nestedValue) {\r\n        var nestedPath = path ? path + \".\" + key : key;\r\n        if (hasIgnoredPaths) {\r\n            var hasMatches = ignoredPaths.some(function (ignored) {\r\n                if (ignored instanceof RegExp) {\r\n                    return ignored.test(nestedPath);\r\n                }\r\n                return nestedPath === ignored;\r\n            });\r\n            if (hasMatches) {\r\n                return \"continue\";\r\n            }\r\n        }\r\n        if (!isSerializable(nestedValue)) {\r\n            return { value: {\r\n                    keyPath: nestedPath,\r\n                    value: nestedValue\r\n                } };\r\n        }\r\n        if (typeof nestedValue === \"object\") {\r\n            foundNestedSerializable = findNonSerializableValue(nestedValue, nestedPath, isSerializable, getEntries, ignoredPaths, cache);\r\n            if (foundNestedSerializable) {\r\n                return { value: foundNestedSerializable };\r\n            }\r\n        }\r\n    };\r\n    for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\r\n        var _c = entries_1[_i], key = _c[0], nestedValue = _c[1];\r\n        var state_2 = _loop_2(key, nestedValue);\r\n        if (typeof state_2 === \"object\")\r\n            return state_2.value;\r\n    }\r\n    if (cache && isNestedFrozen(value))\r\n        cache.add(value);\r\n    return false;\r\n}\r\nfunction isNestedFrozen(value) {\r\n    if (!Object.isFrozen(value))\r\n        return false;\r\n    for (var _i = 0, _c = Object.values(value); _i < _c.length; _i++) {\r\n        var nestedValue = _c[_i];\r\n        if (typeof nestedValue !== \"object\" || nestedValue === null)\r\n            continue;\r\n        if (!isNestedFrozen(nestedValue))\r\n            return false;\r\n    }\r\n    return true;\r\n}\r\nfunction createSerializableStateInvariantMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (process.env.NODE_ENV === \"production\") {\r\n        return function () { return function (next) { return function (action) { return next(action); }; }; };\r\n    }\r\n    var _c = options.isSerializable, isSerializable = _c === void 0 ? isPlain : _c, getEntries = options.getEntries, _d = options.ignoredActions, ignoredActions = _d === void 0 ? [] : _d, _e = options.ignoredActionPaths, ignoredActionPaths = _e === void 0 ? [\"meta.arg\", \"meta.baseQueryMeta\"] : _e, _f = options.ignoredPaths, ignoredPaths = _f === void 0 ? [] : _f, _g = options.warnAfter, warnAfter = _g === void 0 ? 32 : _g, _h = options.ignoreState, ignoreState = _h === void 0 ? false : _h, _j = options.ignoreActions, ignoreActions = _j === void 0 ? false : _j, _k = options.disableCache, disableCache = _k === void 0 ? false : _k;\r\n    var cache = !disableCache && WeakSet ? new WeakSet() : void 0;\r\n    return function (storeAPI) { return function (next) { return function (action) {\r\n        var result = next(action);\r\n        var measureUtils = getTimeMeasureUtils(warnAfter, \"SerializableStateInvariantMiddleware\");\r\n        if (!ignoreActions && !(ignoredActions.length && ignoredActions.indexOf(action.type) !== -1)) {\r\n            measureUtils.measureTime(function () {\r\n                var foundActionNonSerializableValue = findNonSerializableValue(action, \"\", isSerializable, getEntries, ignoredActionPaths, cache);\r\n                if (foundActionNonSerializableValue) {\r\n                    var keyPath = foundActionNonSerializableValue.keyPath, value = foundActionNonSerializableValue.value;\r\n                    console.error(\"A non-serializable value was detected in an action, in the path: `\" + keyPath + \"`. Value:\", value, \"\\nTake a look at the logic that dispatched this action: \", action, \"\\n(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)\", \"\\n(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)\");\r\n                }\r\n            });\r\n        }\r\n        if (!ignoreState) {\r\n            measureUtils.measureTime(function () {\r\n                var state = storeAPI.getState();\r\n                var foundStateNonSerializableValue = findNonSerializableValue(state, \"\", isSerializable, getEntries, ignoredPaths, cache);\r\n                if (foundStateNonSerializableValue) {\r\n                    var keyPath = foundStateNonSerializableValue.keyPath, value = foundStateNonSerializableValue.value;\r\n                    console.error(\"A non-serializable value was detected in the state, in the path: `\" + keyPath + \"`. Value:\", value, \"\\nTake a look at the reducer(s) handling this action type: \" + action.type + \".\\n(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)\");\r\n                }\r\n            });\r\n            measureUtils.warnIfExceeded();\r\n        }\r\n        return result;\r\n    }; }; };\r\n}\r\n// src/getDefaultMiddleware.ts\r\nfunction isBoolean(x) {\r\n    return typeof x === \"boolean\";\r\n}\r\nfunction curryGetDefaultMiddleware() {\r\n    return function curriedGetDefaultMiddleware(options) {\r\n        return getDefaultMiddleware(options);\r\n    };\r\n}\r\nfunction getDefaultMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    var _c = options.thunk, thunk = _c === void 0 ? true : _c, _d = options.immutableCheck, immutableCheck = _d === void 0 ? true : _d, _e = options.serializableCheck, serializableCheck = _e === void 0 ? true : _e, _f = options.actionCreatorCheck, actionCreatorCheck = _f === void 0 ? true : _f;\r\n    var middlewareArray = new MiddlewareArray();\r\n    if (thunk) {\r\n        if (isBoolean(thunk)) {\r\n            middlewareArray.push(thunkMiddleware);\r\n        }\r\n        else {\r\n            middlewareArray.push(thunkMiddleware.withExtraArgument(thunk.extraArgument));\r\n        }\r\n    }\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n        if (immutableCheck) {\r\n            var immutableOptions = {};\r\n            if (!isBoolean(immutableCheck)) {\r\n                immutableOptions = immutableCheck;\r\n            }\r\n            middlewareArray.unshift(createImmutableStateInvariantMiddleware(immutableOptions));\r\n        }\r\n        if (serializableCheck) {\r\n            var serializableOptions = {};\r\n            if (!isBoolean(serializableCheck)) {\r\n                serializableOptions = serializableCheck;\r\n            }\r\n            middlewareArray.push(createSerializableStateInvariantMiddleware(serializableOptions));\r\n        }\r\n        if (actionCreatorCheck) {\r\n            var actionCreatorOptions = {};\r\n            if (!isBoolean(actionCreatorCheck)) {\r\n                actionCreatorOptions = actionCreatorCheck;\r\n            }\r\n            middlewareArray.unshift(createActionCreatorInvariantMiddleware(actionCreatorOptions));\r\n        }\r\n    }\r\n    return middlewareArray;\r\n}\r\n// src/configureStore.ts\r\nvar IS_PRODUCTION = process.env.NODE_ENV === \"production\";\r\nfunction configureStore(options) {\r\n    var curriedGetDefaultMiddleware = curryGetDefaultMiddleware();\r\n    var _c = options || {}, _d = _c.reducer, reducer = _d === void 0 ? void 0 : _d, _e = _c.middleware, middleware = _e === void 0 ? curriedGetDefaultMiddleware() : _e, _f = _c.devTools, devTools = _f === void 0 ? true : _f, _g = _c.preloadedState, preloadedState = _g === void 0 ? void 0 : _g, _h = _c.enhancers, enhancers = _h === void 0 ? void 0 : _h;\r\n    var rootReducer;\r\n    if (typeof reducer === \"function\") {\r\n        rootReducer = reducer;\r\n    }\r\n    else if (isPlainObject(reducer)) {\r\n        rootReducer = combineReducers(reducer);\r\n    }\r\n    else {\r\n        throw new Error('\"reducer\" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');\r\n    }\r\n    var finalMiddleware = middleware;\r\n    if (typeof finalMiddleware === \"function\") {\r\n        finalMiddleware = finalMiddleware(curriedGetDefaultMiddleware);\r\n        if (!IS_PRODUCTION && !Array.isArray(finalMiddleware)) {\r\n            throw new Error(\"when using a middleware builder function, an array of middleware must be returned\");\r\n        }\r\n    }\r\n    if (!IS_PRODUCTION && finalMiddleware.some(function (item) { return typeof item !== \"function\"; })) {\r\n        throw new Error(\"each middleware provided to configureStore must be a function\");\r\n    }\r\n    var middlewareEnhancer = applyMiddleware.apply(void 0, finalMiddleware);\r\n    var finalCompose = compose2;\r\n    if (devTools) {\r\n        finalCompose = composeWithDevTools(__spreadValues({\r\n            trace: !IS_PRODUCTION\r\n        }, typeof devTools === \"object\" && devTools));\r\n    }\r\n    var defaultEnhancers = new EnhancerArray(middlewareEnhancer);\r\n    var storeEnhancers = defaultEnhancers;\r\n    if (Array.isArray(enhancers)) {\r\n        storeEnhancers = __spreadArray([middlewareEnhancer], enhancers);\r\n    }\r\n    else if (typeof enhancers === \"function\") {\r\n        storeEnhancers = enhancers(defaultEnhancers);\r\n    }\r\n    var composedEnhancer = finalCompose.apply(void 0, storeEnhancers);\r\n    return createStore(rootReducer, preloadedState, composedEnhancer);\r\n}\r\n// src/createReducer.ts\r\nimport createNextState2, { isDraft as isDraft2, isDraftable as isDraftable2 } from \"immer\";\r\n// src/mapBuilders.ts\r\nfunction executeReducerBuilderCallback(builderCallback) {\r\n    var actionsMap = {};\r\n    var actionMatchers = [];\r\n    var defaultCaseReducer;\r\n    var builder = {\r\n        addCase: function (typeOrActionCreator, reducer) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                if (actionMatchers.length > 0) {\r\n                    throw new Error(\"`builder.addCase` should only be called before calling `builder.addMatcher`\");\r\n                }\r\n                if (defaultCaseReducer) {\r\n                    throw new Error(\"`builder.addCase` should only be called before calling `builder.addDefaultCase`\");\r\n                }\r\n            }\r\n            var type = typeof typeOrActionCreator === \"string\" ? typeOrActionCreator : typeOrActionCreator.type;\r\n            if (!type) {\r\n                throw new Error(\"`builder.addCase` cannot be called with an empty action type\");\r\n            }\r\n            if (type in actionsMap) {\r\n                throw new Error(\"`builder.addCase` cannot be called with two reducers for the same action type\");\r\n            }\r\n            actionsMap[type] = reducer;\r\n            return builder;\r\n        },\r\n        addMatcher: function (matcher, reducer) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                if (defaultCaseReducer) {\r\n                    throw new Error(\"`builder.addMatcher` should only be called before calling `builder.addDefaultCase`\");\r\n                }\r\n            }\r\n            actionMatchers.push({ matcher: matcher, reducer: reducer });\r\n            return builder;\r\n        },\r\n        addDefaultCase: function (reducer) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                if (defaultCaseReducer) {\r\n                    throw new Error(\"`builder.addDefaultCase` can only be called once\");\r\n                }\r\n            }\r\n            defaultCaseReducer = reducer;\r\n            return builder;\r\n        }\r\n    };\r\n    builderCallback(builder);\r\n    return [actionsMap, actionMatchers, defaultCaseReducer];\r\n}\r\n// src/createReducer.ts\r\nfunction isStateFunction(x) {\r\n    return typeof x === \"function\";\r\n}\r\nvar hasWarnedAboutObjectNotation = false;\r\nfunction createReducer(initialState, mapOrBuilderCallback, actionMatchers, defaultCaseReducer) {\r\n    if (actionMatchers === void 0) { actionMatchers = []; }\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n        if (typeof mapOrBuilderCallback === \"object\") {\r\n            if (!hasWarnedAboutObjectNotation) {\r\n                hasWarnedAboutObjectNotation = true;\r\n                console.warn(\"The object notation for `createReducer` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createReducer\");\r\n            }\r\n        }\r\n    }\r\n    var _c = typeof mapOrBuilderCallback === \"function\" ? executeReducerBuilderCallback(mapOrBuilderCallback) : [mapOrBuilderCallback, actionMatchers, defaultCaseReducer], actionsMap = _c[0], finalActionMatchers = _c[1], finalDefaultCaseReducer = _c[2];\r\n    var getInitialState;\r\n    if (isStateFunction(initialState)) {\r\n        getInitialState = function () { return freezeDraftable(initialState()); };\r\n    }\r\n    else {\r\n        var frozenInitialState_1 = freezeDraftable(initialState);\r\n        getInitialState = function () { return frozenInitialState_1; };\r\n    }\r\n    function reducer(state, action) {\r\n        if (state === void 0) { state = getInitialState(); }\r\n        var caseReducers = __spreadArray([\r\n            actionsMap[action.type]\r\n        ], finalActionMatchers.filter(function (_c) {\r\n            var matcher = _c.matcher;\r\n            return matcher(action);\r\n        }).map(function (_c) {\r\n            var reducer2 = _c.reducer;\r\n            return reducer2;\r\n        }));\r\n        if (caseReducers.filter(function (cr) { return !!cr; }).length === 0) {\r\n            caseReducers = [finalDefaultCaseReducer];\r\n        }\r\n        return caseReducers.reduce(function (previousState, caseReducer) {\r\n            if (caseReducer) {\r\n                if (isDraft2(previousState)) {\r\n                    var draft = previousState;\r\n                    var result = caseReducer(draft, action);\r\n                    if (result === void 0) {\r\n                        return previousState;\r\n                    }\r\n                    return result;\r\n                }\r\n                else if (!isDraftable2(previousState)) {\r\n                    var result = caseReducer(previousState, action);\r\n                    if (result === void 0) {\r\n                        if (previousState === null) {\r\n                            return previousState;\r\n                        }\r\n                        throw Error(\"A case reducer on a non-draftable value must not return undefined\");\r\n                    }\r\n                    return result;\r\n                }\r\n                else {\r\n                    return createNextState2(previousState, function (draft) {\r\n                        return caseReducer(draft, action);\r\n                    });\r\n                }\r\n            }\r\n            return previousState;\r\n        }, state);\r\n    }\r\n    reducer.getInitialState = getInitialState;\r\n    return reducer;\r\n}\r\n// src/createSlice.ts\r\nvar hasWarnedAboutObjectNotation2 = false;\r\nfunction getType2(slice, actionKey) {\r\n    return slice + \"/\" + actionKey;\r\n}\r\nfunction createSlice(options) {\r\n    var name = options.name;\r\n    if (!name) {\r\n        throw new Error(\"`name` is a required option for createSlice\");\r\n    }\r\n    if (typeof process !== \"undefined\" && process.env.NODE_ENV === \"development\") {\r\n        if (options.initialState === void 0) {\r\n            console.error(\"You must provide an `initialState` value that is not `undefined`. You may have misspelled `initialState`\");\r\n        }\r\n    }\r\n    var initialState = typeof options.initialState == \"function\" ? options.initialState : freezeDraftable(options.initialState);\r\n    var reducers = options.reducers || {};\r\n    var reducerNames = Object.keys(reducers);\r\n    var sliceCaseReducersByName = {};\r\n    var sliceCaseReducersByType = {};\r\n    var actionCreators = {};\r\n    reducerNames.forEach(function (reducerName) {\r\n        var maybeReducerWithPrepare = reducers[reducerName];\r\n        var type = getType2(name, reducerName);\r\n        var caseReducer;\r\n        var prepareCallback;\r\n        if (\"reducer\" in maybeReducerWithPrepare) {\r\n            caseReducer = maybeReducerWithPrepare.reducer;\r\n            prepareCallback = maybeReducerWithPrepare.prepare;\r\n        }\r\n        else {\r\n            caseReducer = maybeReducerWithPrepare;\r\n        }\r\n        sliceCaseReducersByName[reducerName] = caseReducer;\r\n        sliceCaseReducersByType[type] = caseReducer;\r\n        actionCreators[reducerName] = prepareCallback ? createAction(type, prepareCallback) : createAction(type);\r\n    });\r\n    function buildReducer() {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            if (typeof options.extraReducers === \"object\") {\r\n                if (!hasWarnedAboutObjectNotation2) {\r\n                    hasWarnedAboutObjectNotation2 = true;\r\n                    console.warn(\"The object notation for `createSlice.extraReducers` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createSlice\");\r\n                }\r\n            }\r\n        }\r\n        var _c = typeof options.extraReducers === \"function\" ? executeReducerBuilderCallback(options.extraReducers) : [options.extraReducers], _d = _c[0], extraReducers = _d === void 0 ? {} : _d, _e = _c[1], actionMatchers = _e === void 0 ? [] : _e, _f = _c[2], defaultCaseReducer = _f === void 0 ? void 0 : _f;\r\n        var finalCaseReducers = __spreadValues(__spreadValues({}, extraReducers), sliceCaseReducersByType);\r\n        return createReducer(initialState, function (builder) {\r\n            for (var key in finalCaseReducers) {\r\n                builder.addCase(key, finalCaseReducers[key]);\r\n            }\r\n            for (var _i = 0, actionMatchers_1 = actionMatchers; _i < actionMatchers_1.length; _i++) {\r\n                var m = actionMatchers_1[_i];\r\n                builder.addMatcher(m.matcher, m.reducer);\r\n            }\r\n            if (defaultCaseReducer) {\r\n                builder.addDefaultCase(defaultCaseReducer);\r\n            }\r\n        });\r\n    }\r\n    var _reducer;\r\n    return {\r\n        name: name,\r\n        reducer: function (state, action) {\r\n            if (!_reducer)\r\n                _reducer = buildReducer();\r\n            return _reducer(state, action);\r\n        },\r\n        actions: actionCreators,\r\n        caseReducers: sliceCaseReducersByName,\r\n        getInitialState: function () {\r\n            if (!_reducer)\r\n                _reducer = buildReducer();\r\n            return _reducer.getInitialState();\r\n        }\r\n    };\r\n}\r\n// src/entities/entity_state.ts\r\nfunction getInitialEntityState() {\r\n    return {\r\n        ids: [],\r\n        entities: {}\r\n    };\r\n}\r\nfunction createInitialStateFactory() {\r\n    function getInitialState(additionalState) {\r\n        if (additionalState === void 0) { additionalState = {}; }\r\n        return Object.assign(getInitialEntityState(), additionalState);\r\n    }\r\n    return { getInitialState: getInitialState };\r\n}\r\n// src/entities/state_selectors.ts\r\nfunction createSelectorsFactory() {\r\n    function getSelectors(selectState) {\r\n        var selectIds = function (state) { return state.ids; };\r\n        var selectEntities = function (state) { return state.entities; };\r\n        var selectAll = createDraftSafeSelector(selectIds, selectEntities, function (ids, entities) { return ids.map(function (id) { return entities[id]; }); });\r\n        var selectId = function (_, id) { return id; };\r\n        var selectById = function (entities, id) { return entities[id]; };\r\n        var selectTotal = createDraftSafeSelector(selectIds, function (ids) { return ids.length; });\r\n        if (!selectState) {\r\n            return {\r\n                selectIds: selectIds,\r\n                selectEntities: selectEntities,\r\n                selectAll: selectAll,\r\n                selectTotal: selectTotal,\r\n                selectById: createDraftSafeSelector(selectEntities, selectId, selectById)\r\n            };\r\n        }\r\n        var selectGlobalizedEntities = createDraftSafeSelector(selectState, selectEntities);\r\n        return {\r\n            selectIds: createDraftSafeSelector(selectState, selectIds),\r\n            selectEntities: selectGlobalizedEntities,\r\n            selectAll: createDraftSafeSelector(selectState, selectAll),\r\n            selectTotal: createDraftSafeSelector(selectState, selectTotal),\r\n            selectById: createDraftSafeSelector(selectGlobalizedEntities, selectId, selectById)\r\n        };\r\n    }\r\n    return { getSelectors: getSelectors };\r\n}\r\n// src/entities/state_adapter.ts\r\nimport createNextState3, { isDraft as isDraft3 } from \"immer\";\r\nfunction createSingleArgumentStateOperator(mutator) {\r\n    var operator = createStateOperator(function (_, state) { return mutator(state); });\r\n    return function operation(state) {\r\n        return operator(state, void 0);\r\n    };\r\n}\r\nfunction createStateOperator(mutator) {\r\n    return function operation(state, arg) {\r\n        function isPayloadActionArgument(arg2) {\r\n            return isFSA(arg2);\r\n        }\r\n        var runMutator = function (draft) {\r\n            if (isPayloadActionArgument(arg)) {\r\n                mutator(arg.payload, draft);\r\n            }\r\n            else {\r\n                mutator(arg, draft);\r\n            }\r\n        };\r\n        if (isDraft3(state)) {\r\n            runMutator(state);\r\n            return state;\r\n        }\r\n        else {\r\n            return createNextState3(state, runMutator);\r\n        }\r\n    };\r\n}\r\n// src/entities/utils.ts\r\nfunction selectIdValue(entity, selectId) {\r\n    var key = selectId(entity);\r\n    if (process.env.NODE_ENV !== \"production\" && key === void 0) {\r\n        console.warn(\"The entity passed to the `selectId` implementation returned undefined.\", \"You should probably provide your own `selectId` implementation.\", \"The entity that was passed:\", entity, \"The `selectId` implementation:\", selectId.toString());\r\n    }\r\n    return key;\r\n}\r\nfunction ensureEntitiesArray(entities) {\r\n    if (!Array.isArray(entities)) {\r\n        entities = Object.values(entities);\r\n    }\r\n    return entities;\r\n}\r\nfunction splitAddedUpdatedEntities(newEntities, selectId, state) {\r\n    newEntities = ensureEntitiesArray(newEntities);\r\n    var added = [];\r\n    var updated = [];\r\n    for (var _i = 0, newEntities_1 = newEntities; _i < newEntities_1.length; _i++) {\r\n        var entity = newEntities_1[_i];\r\n        var id = selectIdValue(entity, selectId);\r\n        if (id in state.entities) {\r\n            updated.push({ id: id, changes: entity });\r\n        }\r\n        else {\r\n            added.push(entity);\r\n        }\r\n    }\r\n    return [added, updated];\r\n}\r\n// src/entities/unsorted_state_adapter.ts\r\nfunction createUnsortedStateAdapter(selectId) {\r\n    function addOneMutably(entity, state) {\r\n        var key = selectIdValue(entity, selectId);\r\n        if (key in state.entities) {\r\n            return;\r\n        }\r\n        state.ids.push(key);\r\n        state.entities[key] = entity;\r\n    }\r\n    function addManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        for (var _i = 0, newEntities_2 = newEntities; _i < newEntities_2.length; _i++) {\r\n            var entity = newEntities_2[_i];\r\n            addOneMutably(entity, state);\r\n        }\r\n    }\r\n    function setOneMutably(entity, state) {\r\n        var key = selectIdValue(entity, selectId);\r\n        if (!(key in state.entities)) {\r\n            state.ids.push(key);\r\n        }\r\n        state.entities[key] = entity;\r\n    }\r\n    function setManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        for (var _i = 0, newEntities_3 = newEntities; _i < newEntities_3.length; _i++) {\r\n            var entity = newEntities_3[_i];\r\n            setOneMutably(entity, state);\r\n        }\r\n    }\r\n    function setAllMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        state.ids = [];\r\n        state.entities = {};\r\n        addManyMutably(newEntities, state);\r\n    }\r\n    function removeOneMutably(key, state) {\r\n        return removeManyMutably([key], state);\r\n    }\r\n    function removeManyMutably(keys, state) {\r\n        var didMutate = false;\r\n        keys.forEach(function (key) {\r\n            if (key in state.entities) {\r\n                delete state.entities[key];\r\n                didMutate = true;\r\n            }\r\n        });\r\n        if (didMutate) {\r\n            state.ids = state.ids.filter(function (id) { return id in state.entities; });\r\n        }\r\n    }\r\n    function removeAllMutably(state) {\r\n        Object.assign(state, {\r\n            ids: [],\r\n            entities: {}\r\n        });\r\n    }\r\n    function takeNewKey(keys, update, state) {\r\n        var original2 = state.entities[update.id];\r\n        var updated = Object.assign({}, original2, update.changes);\r\n        var newKey = selectIdValue(updated, selectId);\r\n        var hasNewKey = newKey !== update.id;\r\n        if (hasNewKey) {\r\n            keys[update.id] = newKey;\r\n            delete state.entities[update.id];\r\n        }\r\n        state.entities[newKey] = updated;\r\n        return hasNewKey;\r\n    }\r\n    function updateOneMutably(update, state) {\r\n        return updateManyMutably([update], state);\r\n    }\r\n    function updateManyMutably(updates, state) {\r\n        var newKeys = {};\r\n        var updatesPerEntity = {};\r\n        updates.forEach(function (update) {\r\n            if (update.id in state.entities) {\r\n                updatesPerEntity[update.id] = {\r\n                    id: update.id,\r\n                    changes: __spreadValues(__spreadValues({}, updatesPerEntity[update.id] ? updatesPerEntity[update.id].changes : null), update.changes)\r\n                };\r\n            }\r\n        });\r\n        updates = Object.values(updatesPerEntity);\r\n        var didMutateEntities = updates.length > 0;\r\n        if (didMutateEntities) {\r\n            var didMutateIds = updates.filter(function (update) { return takeNewKey(newKeys, update, state); }).length > 0;\r\n            if (didMutateIds) {\r\n                state.ids = Object.keys(state.entities);\r\n            }\r\n        }\r\n    }\r\n    function upsertOneMutably(entity, state) {\r\n        return upsertManyMutably([entity], state);\r\n    }\r\n    function upsertManyMutably(newEntities, state) {\r\n        var _c = splitAddedUpdatedEntities(newEntities, selectId, state), added = _c[0], updated = _c[1];\r\n        updateManyMutably(updated, state);\r\n        addManyMutably(added, state);\r\n    }\r\n    return {\r\n        removeAll: createSingleArgumentStateOperator(removeAllMutably),\r\n        addOne: createStateOperator(addOneMutably),\r\n        addMany: createStateOperator(addManyMutably),\r\n        setOne: createStateOperator(setOneMutably),\r\n        setMany: createStateOperator(setManyMutably),\r\n        setAll: createStateOperator(setAllMutably),\r\n        updateOne: createStateOperator(updateOneMutably),\r\n        updateMany: createStateOperator(updateManyMutably),\r\n        upsertOne: createStateOperator(upsertOneMutably),\r\n        upsertMany: createStateOperator(upsertManyMutably),\r\n        removeOne: createStateOperator(removeOneMutably),\r\n        removeMany: createStateOperator(removeManyMutably)\r\n    };\r\n}\r\n// src/entities/sorted_state_adapter.ts\r\nfunction createSortedStateAdapter(selectId, sort) {\r\n    var _c = createUnsortedStateAdapter(selectId), removeOne = _c.removeOne, removeMany = _c.removeMany, removeAll = _c.removeAll;\r\n    function addOneMutably(entity, state) {\r\n        return addManyMutably([entity], state);\r\n    }\r\n    function addManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        var models = newEntities.filter(function (model) { return !(selectIdValue(model, selectId) in state.entities); });\r\n        if (models.length !== 0) {\r\n            merge(models, state);\r\n        }\r\n    }\r\n    function setOneMutably(entity, state) {\r\n        return setManyMutably([entity], state);\r\n    }\r\n    function setManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        if (newEntities.length !== 0) {\r\n            merge(newEntities, state);\r\n        }\r\n    }\r\n    function setAllMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        state.entities = {};\r\n        state.ids = [];\r\n        addManyMutably(newEntities, state);\r\n    }\r\n    function updateOneMutably(update, state) {\r\n        return updateManyMutably([update], state);\r\n    }\r\n    function updateManyMutably(updates, state) {\r\n        var appliedUpdates = false;\r\n        for (var _i = 0, updates_1 = updates; _i < updates_1.length; _i++) {\r\n            var update = updates_1[_i];\r\n            var entity = state.entities[update.id];\r\n            if (!entity) {\r\n                continue;\r\n            }\r\n            appliedUpdates = true;\r\n            Object.assign(entity, update.changes);\r\n            var newId = selectId(entity);\r\n            if (update.id !== newId) {\r\n                delete state.entities[update.id];\r\n                state.entities[newId] = entity;\r\n            }\r\n        }\r\n        if (appliedUpdates) {\r\n            resortEntities(state);\r\n        }\r\n    }\r\n    function upsertOneMutably(entity, state) {\r\n        return upsertManyMutably([entity], state);\r\n    }\r\n    function upsertManyMutably(newEntities, state) {\r\n        var _c = splitAddedUpdatedEntities(newEntities, selectId, state), added = _c[0], updated = _c[1];\r\n        updateManyMutably(updated, state);\r\n        addManyMutably(added, state);\r\n    }\r\n    function areArraysEqual(a, b) {\r\n        if (a.length !== b.length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < a.length && i < b.length; i++) {\r\n            if (a[i] === b[i]) {\r\n                continue;\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    function merge(models, state) {\r\n        models.forEach(function (model) {\r\n            state.entities[selectId(model)] = model;\r\n        });\r\n        resortEntities(state);\r\n    }\r\n    function resortEntities(state) {\r\n        var allEntities = Object.values(state.entities);\r\n        allEntities.sort(sort);\r\n        var newSortedIds = allEntities.map(selectId);\r\n        var ids = state.ids;\r\n        if (!areArraysEqual(ids, newSortedIds)) {\r\n            state.ids = newSortedIds;\r\n        }\r\n    }\r\n    return {\r\n        removeOne: removeOne,\r\n        removeMany: removeMany,\r\n        removeAll: removeAll,\r\n        addOne: createStateOperator(addOneMutably),\r\n        updateOne: createStateOperator(updateOneMutably),\r\n        upsertOne: createStateOperator(upsertOneMutably),\r\n        setOne: createStateOperator(setOneMutably),\r\n        setMany: createStateOperator(setManyMutably),\r\n        setAll: createStateOperator(setAllMutably),\r\n        addMany: createStateOperator(addManyMutably),\r\n        updateMany: createStateOperator(updateManyMutably),\r\n        upsertMany: createStateOperator(upsertManyMutably)\r\n    };\r\n}\r\n// src/entities/create_adapter.ts\r\nfunction createEntityAdapter(options) {\r\n    if (options === void 0) { options = {}; }\r\n    var _c = __spreadValues({\r\n        sortComparer: false,\r\n        selectId: function (instance) { return instance.id; }\r\n    }, options), selectId = _c.selectId, sortComparer = _c.sortComparer;\r\n    var stateFactory = createInitialStateFactory();\r\n    var selectorsFactory = createSelectorsFactory();\r\n    var stateAdapter = sortComparer ? createSortedStateAdapter(selectId, sortComparer) : createUnsortedStateAdapter(selectId);\r\n    return __spreadValues(__spreadValues(__spreadValues({\r\n        selectId: selectId,\r\n        sortComparer: sortComparer\r\n    }, stateFactory), selectorsFactory), stateAdapter);\r\n}\r\n// src/nanoid.ts\r\nvar urlAlphabet = \"ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW\";\r\nvar nanoid = function (size) {\r\n    if (size === void 0) { size = 21; }\r\n    var id = \"\";\r\n    var i = size;\r\n    while (i--) {\r\n        id += urlAlphabet[Math.random() * 64 | 0];\r\n    }\r\n    return id;\r\n};\r\n// src/createAsyncThunk.ts\r\nvar commonProperties = [\r\n    \"name\",\r\n    \"message\",\r\n    \"stack\",\r\n    \"code\"\r\n];\r\nvar RejectWithValue = /** @class */ (function () {\r\n    function RejectWithValue(payload, meta) {\r\n        this.payload = payload;\r\n        this.meta = meta;\r\n    }\r\n    return RejectWithValue;\r\n}());\r\nvar FulfillWithMeta = /** @class */ (function () {\r\n    function FulfillWithMeta(payload, meta) {\r\n        this.payload = payload;\r\n        this.meta = meta;\r\n    }\r\n    return FulfillWithMeta;\r\n}());\r\nvar miniSerializeError = function (value) {\r\n    if (typeof value === \"object\" && value !== null) {\r\n        var simpleError = {};\r\n        for (var _i = 0, commonProperties_1 = commonProperties; _i < commonProperties_1.length; _i++) {\r\n            var property = commonProperties_1[_i];\r\n            if (typeof value[property] === \"string\") {\r\n                simpleError[property] = value[property];\r\n            }\r\n        }\r\n        return simpleError;\r\n    }\r\n    return { message: String(value) };\r\n};\r\nvar createAsyncThunk = (function () {\r\n    function createAsyncThunk2(typePrefix, payloadCreator, options) {\r\n        var fulfilled = createAction(typePrefix + \"/fulfilled\", function (payload, requestId, arg, meta) { return ({\r\n            payload: payload,\r\n            meta: __spreadProps(__spreadValues({}, meta || {}), {\r\n                arg: arg,\r\n                requestId: requestId,\r\n                requestStatus: \"fulfilled\"\r\n            })\r\n        }); });\r\n        var pending = createAction(typePrefix + \"/pending\", function (requestId, arg, meta) { return ({\r\n            payload: void 0,\r\n            meta: __spreadProps(__spreadValues({}, meta || {}), {\r\n                arg: arg,\r\n                requestId: requestId,\r\n                requestStatus: \"pending\"\r\n            })\r\n        }); });\r\n        var rejected = createAction(typePrefix + \"/rejected\", function (error, requestId, arg, payload, meta) { return ({\r\n            payload: payload,\r\n            error: (options && options.serializeError || miniSerializeError)(error || \"Rejected\"),\r\n            meta: __spreadProps(__spreadValues({}, meta || {}), {\r\n                arg: arg,\r\n                requestId: requestId,\r\n                rejectedWithValue: !!payload,\r\n                requestStatus: \"rejected\",\r\n                aborted: (error == null ? void 0 : error.name) === \"AbortError\",\r\n                condition: (error == null ? void 0 : error.name) === \"ConditionError\"\r\n            })\r\n        }); });\r\n        var displayedWarning = false;\r\n        var AC = typeof AbortController !== \"undefined\" ? AbortController : /** @class */ (function () {\r\n            function class_1() {\r\n                this.signal = {\r\n                    aborted: false,\r\n                    addEventListener: function () {\r\n                    },\r\n                    dispatchEvent: function () {\r\n                        return false;\r\n                    },\r\n                    onabort: function () {\r\n                    },\r\n                    removeEventListener: function () {\r\n                    },\r\n                    reason: void 0,\r\n                    throwIfAborted: function () {\r\n                    }\r\n                };\r\n            }\r\n            class_1.prototype.abort = function () {\r\n                if (process.env.NODE_ENV !== \"production\") {\r\n                    if (!displayedWarning) {\r\n                        displayedWarning = true;\r\n                        console.info(\"This platform does not implement AbortController. \\nIf you want to use the AbortController to react to `abort` events, please consider importing a polyfill like 'abortcontroller-polyfill/dist/abortcontroller-polyfill-only'.\");\r\n                    }\r\n                }\r\n            };\r\n            return class_1;\r\n        }());\r\n        function actionCreator(arg) {\r\n            return function (dispatch, getState, extra) {\r\n                var requestId = (options == null ? void 0 : options.idGenerator) ? options.idGenerator(arg) : nanoid();\r\n                var abortController = new AC();\r\n                var abortReason;\r\n                var started = false;\r\n                function abort(reason) {\r\n                    abortReason = reason;\r\n                    abortController.abort();\r\n                }\r\n                var promise2 = function () {\r\n                    return __async(this, null, function () {\r\n                        var _a, _b, finalAction, conditionResult, abortedPromise, err_1, skipDispatch;\r\n                        return __generator(this, function (_c) {\r\n                            switch (_c.label) {\r\n                                case 0:\r\n                                    _c.trys.push([0, 4, , 5]);\r\n                                    conditionResult = (_a = options == null ? void 0 : options.condition) == null ? void 0 : _a.call(options, arg, { getState: getState, extra: extra });\r\n                                    if (!isThenable(conditionResult)) return [3 /*break*/, 2];\r\n                                    return [4 /*yield*/, conditionResult];\r\n                                case 1:\r\n                                    conditionResult = _c.sent();\r\n                                    _c.label = 2;\r\n                                case 2:\r\n                                    if (conditionResult === false || abortController.signal.aborted) {\r\n                                        throw {\r\n                                            name: \"ConditionError\",\r\n                                            message: \"Aborted due to condition callback returning false.\"\r\n                                        };\r\n                                    }\r\n                                    started = true;\r\n                                    abortedPromise = new Promise(function (_, reject) { return abortController.signal.addEventListener(\"abort\", function () { return reject({\r\n                                        name: \"AbortError\",\r\n                                        message: abortReason || \"Aborted\"\r\n                                    }); }); });\r\n                                    dispatch(pending(requestId, arg, (_b = options == null ? void 0 : options.getPendingMeta) == null ? void 0 : _b.call(options, { requestId: requestId, arg: arg }, { getState: getState, extra: extra })));\r\n                                    return [4 /*yield*/, Promise.race([\r\n                                            abortedPromise,\r\n                                            Promise.resolve(payloadCreator(arg, {\r\n                                                dispatch: dispatch,\r\n                                                getState: getState,\r\n                                                extra: extra,\r\n                                                requestId: requestId,\r\n                                                signal: abortController.signal,\r\n                                                abort: abort,\r\n                                                rejectWithValue: function (value, meta) {\r\n                                                    return new RejectWithValue(value, meta);\r\n                                                },\r\n                                                fulfillWithValue: function (value, meta) {\r\n                                                    return new FulfillWithMeta(value, meta);\r\n                                                }\r\n                                            })).then(function (result) {\r\n                                                if (result instanceof RejectWithValue) {\r\n                                                    throw result;\r\n                                                }\r\n                                                if (result instanceof FulfillWithMeta) {\r\n                                                    return fulfilled(result.payload, requestId, arg, result.meta);\r\n                                                }\r\n                                                return fulfilled(result, requestId, arg);\r\n                                            })\r\n                                        ])];\r\n                                case 3:\r\n                                    finalAction = _c.sent();\r\n                                    return [3 /*break*/, 5];\r\n                                case 4:\r\n                                    err_1 = _c.sent();\r\n                                    finalAction = err_1 instanceof RejectWithValue ? rejected(null, requestId, arg, err_1.payload, err_1.meta) : rejected(err_1, requestId, arg);\r\n                                    return [3 /*break*/, 5];\r\n                                case 5:\r\n                                    skipDispatch = options && !options.dispatchConditionRejection && rejected.match(finalAction) && finalAction.meta.condition;\r\n                                    if (!skipDispatch) {\r\n                                        dispatch(finalAction);\r\n                                    }\r\n                                    return [2 /*return*/, finalAction];\r\n                            }\r\n                        });\r\n                    });\r\n                }();\r\n                return Object.assign(promise2, {\r\n                    abort: abort,\r\n                    requestId: requestId,\r\n                    arg: arg,\r\n                    unwrap: function () {\r\n                        return promise2.then(unwrapResult);\r\n                    }\r\n                });\r\n            };\r\n        }\r\n        return Object.assign(actionCreator, {\r\n            pending: pending,\r\n            rejected: rejected,\r\n            fulfilled: fulfilled,\r\n            typePrefix: typePrefix\r\n        });\r\n    }\r\n    createAsyncThunk2.withTypes = function () { return createAsyncThunk2; };\r\n    return createAsyncThunk2;\r\n})();\r\nfunction unwrapResult(action) {\r\n    if (action.meta && action.meta.rejectedWithValue) {\r\n        throw action.payload;\r\n    }\r\n    if (action.error) {\r\n        throw action.error;\r\n    }\r\n    return action.payload;\r\n}\r\nfunction isThenable(value) {\r\n    return value !== null && typeof value === \"object\" && typeof value.then === \"function\";\r\n}\r\n// src/matchers.ts\r\nvar matches = function (matcher, action) {\r\n    if (hasMatchFunction(matcher)) {\r\n        return matcher.match(action);\r\n    }\r\n    else {\r\n        return matcher(action);\r\n    }\r\n};\r\nfunction isAnyOf() {\r\n    var matchers = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        matchers[_i] = arguments[_i];\r\n    }\r\n    return function (action) {\r\n        return matchers.some(function (matcher) { return matches(matcher, action); });\r\n    };\r\n}\r\nfunction isAllOf() {\r\n    var matchers = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        matchers[_i] = arguments[_i];\r\n    }\r\n    return function (action) {\r\n        return matchers.every(function (matcher) { return matches(matcher, action); });\r\n    };\r\n}\r\nfunction hasExpectedRequestMetadata(action, validStatus) {\r\n    if (!action || !action.meta)\r\n        return false;\r\n    var hasValidRequestId = typeof action.meta.requestId === \"string\";\r\n    var hasValidRequestStatus = validStatus.indexOf(action.meta.requestStatus) > -1;\r\n    return hasValidRequestId && hasValidRequestStatus;\r\n}\r\nfunction isAsyncThunkArray(a) {\r\n    return typeof a[0] === \"function\" && \"pending\" in a[0] && \"fulfilled\" in a[0] && \"rejected\" in a[0];\r\n}\r\nfunction isPending() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"pending\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isPending()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = asyncThunks.map(function (asyncThunk) { return asyncThunk.pending; });\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isRejected() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"rejected\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isRejected()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = asyncThunks.map(function (asyncThunk) { return asyncThunk.rejected; });\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isRejectedWithValue() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    var hasFlag = function (action) {\r\n        return action && action.meta && action.meta.rejectedWithValue;\r\n    };\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) {\r\n            var combinedMatcher = isAllOf(isRejected.apply(void 0, asyncThunks), hasFlag);\r\n            return combinedMatcher(action);\r\n        };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isRejectedWithValue()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var combinedMatcher = isAllOf(isRejected.apply(void 0, asyncThunks), hasFlag);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isFulfilled() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"fulfilled\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isFulfilled()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = asyncThunks.map(function (asyncThunk) { return asyncThunk.fulfilled; });\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isAsyncThunkAction() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"pending\", \"fulfilled\", \"rejected\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isAsyncThunkAction()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = [];\r\n        for (var _i = 0, asyncThunks_1 = asyncThunks; _i < asyncThunks_1.length; _i++) {\r\n            var asyncThunk = asyncThunks_1[_i];\r\n            matchers.push(asyncThunk.pending, asyncThunk.rejected, asyncThunk.fulfilled);\r\n        }\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\n// src/listenerMiddleware/utils.ts\r\nvar assertFunction = function (func, expected) {\r\n    if (typeof func !== \"function\") {\r\n        throw new TypeError(expected + \" is not a function\");\r\n    }\r\n};\r\nvar noop = function () {\r\n};\r\nvar catchRejection = function (promise2, onError) {\r\n    if (onError === void 0) { onError = noop; }\r\n    promise2.catch(onError);\r\n    return promise2;\r\n};\r\nvar addAbortSignalListener = function (abortSignal, callback) {\r\n    abortSignal.addEventListener(\"abort\", callback, { once: true });\r\n    return function () { return abortSignal.removeEventListener(\"abort\", callback); };\r\n};\r\nvar abortControllerWithReason = function (abortController, reason) {\r\n    var signal = abortController.signal;\r\n    if (signal.aborted) {\r\n        return;\r\n    }\r\n    if (!(\"reason\" in signal)) {\r\n        Object.defineProperty(signal, \"reason\", {\r\n            enumerable: true,\r\n            value: reason,\r\n            configurable: true,\r\n            writable: true\r\n        });\r\n    }\r\n    ;\r\n    abortController.abort(reason);\r\n};\r\n// src/listenerMiddleware/exceptions.ts\r\nvar task = \"task\";\r\nvar listener = \"listener\";\r\nvar completed = \"completed\";\r\nvar cancelled = \"cancelled\";\r\nvar taskCancelled = \"task-\" + cancelled;\r\nvar taskCompleted = \"task-\" + completed;\r\nvar listenerCancelled = listener + \"-\" + cancelled;\r\nvar listenerCompleted = listener + \"-\" + completed;\r\nvar TaskAbortError = /** @class */ (function () {\r\n    function TaskAbortError(code) {\r\n        this.code = code;\r\n        this.name = \"TaskAbortError\";\r\n        this.message = task + \" \" + cancelled + \" (reason: \" + code + \")\";\r\n    }\r\n    return TaskAbortError;\r\n}());\r\n// src/listenerMiddleware/task.ts\r\nvar validateActive = function (signal) {\r\n    if (signal.aborted) {\r\n        throw new TaskAbortError(signal.reason);\r\n    }\r\n};\r\nfunction raceWithSignal(signal, promise2) {\r\n    var cleanup = noop;\r\n    return new Promise(function (resolve, reject) {\r\n        var notifyRejection = function () { return reject(new TaskAbortError(signal.reason)); };\r\n        if (signal.aborted) {\r\n            notifyRejection();\r\n            return;\r\n        }\r\n        cleanup = addAbortSignalListener(signal, notifyRejection);\r\n        promise2.finally(function () { return cleanup(); }).then(resolve, reject);\r\n    }).finally(function () {\r\n        cleanup = noop;\r\n    });\r\n}\r\nvar runTask = function (task2, cleanUp) { return __async(void 0, null, function () {\r\n    var value, error_1;\r\n    return __generator(this, function (_c) {\r\n        switch (_c.label) {\r\n            case 0:\r\n                _c.trys.push([0, 3, 4, 5]);\r\n                return [4 /*yield*/, Promise.resolve()];\r\n            case 1:\r\n                _c.sent();\r\n                return [4 /*yield*/, task2()];\r\n            case 2:\r\n                value = _c.sent();\r\n                return [2 /*return*/, {\r\n                        status: \"ok\",\r\n                        value: value\r\n                    }];\r\n            case 3:\r\n                error_1 = _c.sent();\r\n                return [2 /*return*/, {\r\n                        status: error_1 instanceof TaskAbortError ? \"cancelled\" : \"rejected\",\r\n                        error: error_1\r\n                    }];\r\n            case 4:\r\n                cleanUp == null ? void 0 : cleanUp();\r\n                return [7 /*endfinally*/];\r\n            case 5: return [2 /*return*/];\r\n        }\r\n    });\r\n}); };\r\nvar createPause = function (signal) {\r\n    return function (promise2) {\r\n        return catchRejection(raceWithSignal(signal, promise2).then(function (output) {\r\n            validateActive(signal);\r\n            return output;\r\n        }));\r\n    };\r\n};\r\nvar createDelay = function (signal) {\r\n    var pause = createPause(signal);\r\n    return function (timeoutMs) {\r\n        return pause(new Promise(function (resolve) { return setTimeout(resolve, timeoutMs); }));\r\n    };\r\n};\r\n// src/listenerMiddleware/index.ts\r\nvar assign = Object.assign;\r\nvar INTERNAL_NIL_TOKEN = {};\r\nvar alm = \"listenerMiddleware\";\r\nvar createFork = function (parentAbortSignal, parentBlockingPromises) {\r\n    var linkControllers = function (controller) { return addAbortSignalListener(parentAbortSignal, function () { return abortControllerWithReason(controller, parentAbortSignal.reason); }); };\r\n    return function (taskExecutor, opts) {\r\n        assertFunction(taskExecutor, \"taskExecutor\");\r\n        var childAbortController = new AbortController();\r\n        linkControllers(childAbortController);\r\n        var result = runTask(function () { return __async(void 0, null, function () {\r\n            var result2;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        validateActive(parentAbortSignal);\r\n                        validateActive(childAbortController.signal);\r\n                        return [4 /*yield*/, taskExecutor({\r\n                                pause: createPause(childAbortController.signal),\r\n                                delay: createDelay(childAbortController.signal),\r\n                                signal: childAbortController.signal\r\n                            })];\r\n                    case 1:\r\n                        result2 = _c.sent();\r\n                        validateActive(childAbortController.signal);\r\n                        return [2 /*return*/, result2];\r\n                }\r\n            });\r\n        }); }, function () { return abortControllerWithReason(childAbortController, taskCompleted); });\r\n        if (opts == null ? void 0 : opts.autoJoin) {\r\n            parentBlockingPromises.push(result);\r\n        }\r\n        return {\r\n            result: createPause(parentAbortSignal)(result),\r\n            cancel: function () {\r\n                abortControllerWithReason(childAbortController, taskCancelled);\r\n            }\r\n        };\r\n    };\r\n};\r\nvar createTakePattern = function (startListening, signal) {\r\n    var take = function (predicate, timeout) { return __async(void 0, null, function () {\r\n        var unsubscribe, tuplePromise, promises, output;\r\n        return __generator(this, function (_c) {\r\n            switch (_c.label) {\r\n                case 0:\r\n                    validateActive(signal);\r\n                    unsubscribe = function () {\r\n                    };\r\n                    tuplePromise = new Promise(function (resolve, reject) {\r\n                        var stopListening = startListening({\r\n                            predicate: predicate,\r\n                            effect: function (action, listenerApi) {\r\n                                listenerApi.unsubscribe();\r\n                                resolve([\r\n                                    action,\r\n                                    listenerApi.getState(),\r\n                                    listenerApi.getOriginalState()\r\n                                ]);\r\n                            }\r\n                        });\r\n                        unsubscribe = function () {\r\n                            stopListening();\r\n                            reject();\r\n                        };\r\n                    });\r\n                    promises = [\r\n                        tuplePromise\r\n                    ];\r\n                    if (timeout != null) {\r\n                        promises.push(new Promise(function (resolve) { return setTimeout(resolve, timeout, null); }));\r\n                    }\r\n                    _c.label = 1;\r\n                case 1:\r\n                    _c.trys.push([1, , 3, 4]);\r\n                    return [4 /*yield*/, raceWithSignal(signal, Promise.race(promises))];\r\n                case 2:\r\n                    output = _c.sent();\r\n                    validateActive(signal);\r\n                    return [2 /*return*/, output];\r\n                case 3:\r\n                    unsubscribe();\r\n                    return [7 /*endfinally*/];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); };\r\n    return function (predicate, timeout) { return catchRejection(take(predicate, timeout)); };\r\n};\r\nvar getListenerEntryPropsFrom = function (options) {\r\n    var type = options.type, actionCreator = options.actionCreator, matcher = options.matcher, predicate = options.predicate, effect = options.effect;\r\n    if (type) {\r\n        predicate = createAction(type).match;\r\n    }\r\n    else if (actionCreator) {\r\n        type = actionCreator.type;\r\n        predicate = actionCreator.match;\r\n    }\r\n    else if (matcher) {\r\n        predicate = matcher;\r\n    }\r\n    else if (predicate) {\r\n    }\r\n    else {\r\n        throw new Error(\"Creating or removing a listener requires one of the known fields for matching an action\");\r\n    }\r\n    assertFunction(effect, \"options.listener\");\r\n    return { predicate: predicate, type: type, effect: effect };\r\n};\r\nvar createListenerEntry = function (options) {\r\n    var _c = getListenerEntryPropsFrom(options), type = _c.type, predicate = _c.predicate, effect = _c.effect;\r\n    var id = nanoid();\r\n    var entry = {\r\n        id: id,\r\n        effect: effect,\r\n        type: type,\r\n        predicate: predicate,\r\n        pending: new Set(),\r\n        unsubscribe: function () {\r\n            throw new Error(\"Unsubscribe not initialized\");\r\n        }\r\n    };\r\n    return entry;\r\n};\r\nvar cancelActiveListeners = function (entry) {\r\n    entry.pending.forEach(function (controller) {\r\n        abortControllerWithReason(controller, listenerCancelled);\r\n    });\r\n};\r\nvar createClearListenerMiddleware = function (listenerMap) {\r\n    return function () {\r\n        listenerMap.forEach(cancelActiveListeners);\r\n        listenerMap.clear();\r\n    };\r\n};\r\nvar safelyNotifyError = function (errorHandler, errorToNotify, errorInfo) {\r\n    try {\r\n        errorHandler(errorToNotify, errorInfo);\r\n    }\r\n    catch (errorHandlerError) {\r\n        setTimeout(function () {\r\n            throw errorHandlerError;\r\n        }, 0);\r\n    }\r\n};\r\nvar addListener = createAction(alm + \"/add\");\r\nvar clearAllListeners = createAction(alm + \"/removeAll\");\r\nvar removeListener = createAction(alm + \"/remove\");\r\nvar defaultErrorHandler = function () {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    console.error.apply(console, __spreadArray([alm + \"/error\"], args));\r\n};\r\nfunction createListenerMiddleware(middlewareOptions) {\r\n    var _this = this;\r\n    if (middlewareOptions === void 0) { middlewareOptions = {}; }\r\n    var listenerMap = new Map();\r\n    var extra = middlewareOptions.extra, _c = middlewareOptions.onError, onError = _c === void 0 ? defaultErrorHandler : _c;\r\n    assertFunction(onError, \"onError\");\r\n    var insertEntry = function (entry) {\r\n        entry.unsubscribe = function () { return listenerMap.delete(entry.id); };\r\n        listenerMap.set(entry.id, entry);\r\n        return function (cancelOptions) {\r\n            entry.unsubscribe();\r\n            if (cancelOptions == null ? void 0 : cancelOptions.cancelActive) {\r\n                cancelActiveListeners(entry);\r\n            }\r\n        };\r\n    };\r\n    var findListenerEntry = function (comparator) {\r\n        for (var _i = 0, _c = Array.from(listenerMap.values()); _i < _c.length; _i++) {\r\n            var entry = _c[_i];\r\n            if (comparator(entry)) {\r\n                return entry;\r\n            }\r\n        }\r\n        return void 0;\r\n    };\r\n    var startListening = function (options) {\r\n        var entry = findListenerEntry(function (existingEntry) { return existingEntry.effect === options.effect; });\r\n        if (!entry) {\r\n            entry = createListenerEntry(options);\r\n        }\r\n        return insertEntry(entry);\r\n    };\r\n    var stopListening = function (options) {\r\n        var _c = getListenerEntryPropsFrom(options), type = _c.type, effect = _c.effect, predicate = _c.predicate;\r\n        var entry = findListenerEntry(function (entry2) {\r\n            var matchPredicateOrType = typeof type === \"string\" ? entry2.type === type : entry2.predicate === predicate;\r\n            return matchPredicateOrType && entry2.effect === effect;\r\n        });\r\n        if (entry) {\r\n            entry.unsubscribe();\r\n            if (options.cancelActive) {\r\n                cancelActiveListeners(entry);\r\n            }\r\n        }\r\n        return !!entry;\r\n    };\r\n    var notifyListener = function (entry, action, api, getOriginalState) { return __async(_this, null, function () {\r\n        var internalTaskController, take, autoJoinPromises, listenerError_1;\r\n        return __generator(this, function (_c) {\r\n            switch (_c.label) {\r\n                case 0:\r\n                    internalTaskController = new AbortController();\r\n                    take = createTakePattern(startListening, internalTaskController.signal);\r\n                    autoJoinPromises = [];\r\n                    _c.label = 1;\r\n                case 1:\r\n                    _c.trys.push([1, 3, 4, 6]);\r\n                    entry.pending.add(internalTaskController);\r\n                    return [4 /*yield*/, Promise.resolve(entry.effect(action, assign({}, api, {\r\n                            getOriginalState: getOriginalState,\r\n                            condition: function (predicate, timeout) { return take(predicate, timeout).then(Boolean); },\r\n                            take: take,\r\n                            delay: createDelay(internalTaskController.signal),\r\n                            pause: createPause(internalTaskController.signal),\r\n                            extra: extra,\r\n                            signal: internalTaskController.signal,\r\n                            fork: createFork(internalTaskController.signal, autoJoinPromises),\r\n                            unsubscribe: entry.unsubscribe,\r\n                            subscribe: function () {\r\n                                listenerMap.set(entry.id, entry);\r\n                            },\r\n                            cancelActiveListeners: function () {\r\n                                entry.pending.forEach(function (controller, _, set) {\r\n                                    if (controller !== internalTaskController) {\r\n                                        abortControllerWithReason(controller, listenerCancelled);\r\n                                        set.delete(controller);\r\n                                    }\r\n                                });\r\n                            }\r\n                        })))];\r\n                case 2:\r\n                    _c.sent();\r\n                    return [3 /*break*/, 6];\r\n                case 3:\r\n                    listenerError_1 = _c.sent();\r\n                    if (!(listenerError_1 instanceof TaskAbortError)) {\r\n                        safelyNotifyError(onError, listenerError_1, {\r\n                            raisedBy: \"effect\"\r\n                        });\r\n                    }\r\n                    return [3 /*break*/, 6];\r\n                case 4: return [4 /*yield*/, Promise.allSettled(autoJoinPromises)];\r\n                case 5:\r\n                    _c.sent();\r\n                    abortControllerWithReason(internalTaskController, listenerCompleted);\r\n                    entry.pending.delete(internalTaskController);\r\n                    return [7 /*endfinally*/];\r\n                case 6: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); };\r\n    var clearListenerMiddleware = createClearListenerMiddleware(listenerMap);\r\n    var middleware = function (api) { return function (next) { return function (action) {\r\n        if (!isAction(action)) {\r\n            return next(action);\r\n        }\r\n        if (addListener.match(action)) {\r\n            return startListening(action.payload);\r\n        }\r\n        if (clearAllListeners.match(action)) {\r\n            clearListenerMiddleware();\r\n            return;\r\n        }\r\n        if (removeListener.match(action)) {\r\n            return stopListening(action.payload);\r\n        }\r\n        var originalState = api.getState();\r\n        var getOriginalState = function () {\r\n            if (originalState === INTERNAL_NIL_TOKEN) {\r\n                throw new Error(alm + \": getOriginalState can only be called synchronously\");\r\n            }\r\n            return originalState;\r\n        };\r\n        var result;\r\n        try {\r\n            result = next(action);\r\n            if (listenerMap.size > 0) {\r\n                var currentState = api.getState();\r\n                var listenerEntries = Array.from(listenerMap.values());\r\n                for (var _i = 0, listenerEntries_1 = listenerEntries; _i < listenerEntries_1.length; _i++) {\r\n                    var entry = listenerEntries_1[_i];\r\n                    var runListener = false;\r\n                    try {\r\n                        runListener = entry.predicate(action, currentState, originalState);\r\n                    }\r\n                    catch (predicateError) {\r\n                        runListener = false;\r\n                        safelyNotifyError(onError, predicateError, {\r\n                            raisedBy: \"predicate\"\r\n                        });\r\n                    }\r\n                    if (!runListener) {\r\n                        continue;\r\n                    }\r\n                    notifyListener(entry, action, api, getOriginalState);\r\n                }\r\n            }\r\n        }\r\n        finally {\r\n            originalState = INTERNAL_NIL_TOKEN;\r\n        }\r\n        return result;\r\n    }; }; };\r\n    return {\r\n        middleware: middleware,\r\n        startListening: startListening,\r\n        stopListening: stopListening,\r\n        clearListeners: clearListenerMiddleware\r\n    };\r\n}\r\n// src/autoBatchEnhancer.ts\r\nvar SHOULD_AUTOBATCH = \"RTK_autoBatch\";\r\nvar prepareAutoBatched = function () { return function (payload) {\r\n    var _c;\r\n    return ({\r\n        payload: payload,\r\n        meta: (_c = {}, _c[SHOULD_AUTOBATCH] = true, _c)\r\n    });\r\n}; };\r\nvar promise;\r\nvar queueMicrotaskShim = typeof queueMicrotask === \"function\" ? queueMicrotask.bind(typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : globalThis) : function (cb) { return (promise || (promise = Promise.resolve())).then(cb).catch(function (err) { return setTimeout(function () {\r\n    throw err;\r\n}, 0); }); };\r\nvar createQueueWithTimer = function (timeout) {\r\n    return function (notify) {\r\n        setTimeout(notify, timeout);\r\n    };\r\n};\r\nvar rAF = typeof window !== \"undefined\" && window.requestAnimationFrame ? window.requestAnimationFrame : createQueueWithTimer(10);\r\nvar autoBatchEnhancer = function (options) {\r\n    if (options === void 0) { options = { type: \"raf\" }; }\r\n    return function (next) { return function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var store = next.apply(void 0, args);\r\n        var notifying = true;\r\n        var shouldNotifyAtEndOfTick = false;\r\n        var notificationQueued = false;\r\n        var listeners = new Set();\r\n        var queueCallback = options.type === \"tick\" ? queueMicrotaskShim : options.type === \"raf\" ? rAF : options.type === \"callback\" ? options.queueNotification : createQueueWithTimer(options.timeout);\r\n        var notifyListeners = function () {\r\n            notificationQueued = false;\r\n            if (shouldNotifyAtEndOfTick) {\r\n                shouldNotifyAtEndOfTick = false;\r\n                listeners.forEach(function (l) { return l(); });\r\n            }\r\n        };\r\n        return Object.assign({}, store, {\r\n            subscribe: function (listener2) {\r\n                var wrappedListener = function () { return notifying && listener2(); };\r\n                var unsubscribe = store.subscribe(wrappedListener);\r\n                listeners.add(listener2);\r\n                return function () {\r\n                    unsubscribe();\r\n                    listeners.delete(listener2);\r\n                };\r\n            },\r\n            dispatch: function (action) {\r\n                var _a;\r\n                try {\r\n                    notifying = !((_a = action == null ? void 0 : action.meta) == null ? void 0 : _a[SHOULD_AUTOBATCH]);\r\n                    shouldNotifyAtEndOfTick = !notifying;\r\n                    if (shouldNotifyAtEndOfTick) {\r\n                        if (!notificationQueued) {\r\n                            notificationQueued = true;\r\n                            queueCallback(notifyListeners);\r\n                        }\r\n                    }\r\n                    return store.dispatch(action);\r\n                }\r\n                finally {\r\n                    notifying = true;\r\n                }\r\n            }\r\n        });\r\n    }; };\r\n};\r\n// src/index.ts\r\nenableES5();\r\nexport { EnhancerArray, MiddlewareArray, SHOULD_AUTOBATCH, TaskAbortError, addListener, autoBatchEnhancer, clearAllListeners, configureStore, createAction, createActionCreatorInvariantMiddleware, createAsyncThunk, createDraftSafeSelector, createEntityAdapter, createImmutableStateInvariantMiddleware, createListenerMiddleware, default2 as createNextState, createReducer, createSelector2 as createSelector, createSerializableStateInvariantMiddleware, createSlice, current2 as current, findNonSerializableValue, freeze, getDefaultMiddleware, getType, isAction, isActionCreator, isAllOf, isAnyOf, isAsyncThunkAction, isDraft4 as isDraft, isFSA as isFluxStandardAction, isFulfilled, isImmutableDefault, isPending, isPlain, isPlainObject, isRejected, isRejectedWithValue, miniSerializeError, nanoid, original, prepareAutoBatched, removeListener, unwrapResult };\r\n//# sourceMappingURL=redux-toolkit.esm.js.map","import { createSlice } from \"@reduxjs/toolkit\";\nimport { useSelector } from \"react-redux\";\nimport { State } from \"./store\";\n\nconst translations: {[lang: string]: {[key: string]: string} } = {\n    ru: {\n        hello: \"\",\n        hello_guest: \", !\",\n        mobile_controls: \" \",\n        mirrored_controls: \" \",\n        scale_controls: \" \",\n        enter_name_of_drive: \"  \",\n        ws_outdated: \"  DOS \",\n        update: \"\",\n        preloading_sockdrive: \"\",\n        filter: \"\",\n        add: \"\",\n        logout: \"\",\n        features: \"\",\n        premium: \"\",\n        buy: \"\",\n        experimental_features: \"   \",\n        cloud_saves: \" \",\n        writeable_fat32: \"FAT32 \",\n        net_no_limits: \"    \",\n        unlock_options: \"   \",\n        error: \"... -   ...\",\n        consult_logs: \"  \",\n        bundle_loading: \" \",\n        bundle_config: \" \",\n        try_free: \" \",\n        upload_file: \"  jsdos/zip   ...\",\n        emulation_backend: \"\",\n        render_backend: \"\",\n        render_aspect: \" \",\n        worker: \" \",\n        mouse_sensitivity: \". \",\n        mouse_lock: \" \",\n        volume: \"\",\n        pause: \"\",\n        dosboxconf_template: \"dosbox.conf :\",\n        preview: \"\",\n        continue: \"\",\n        skip: \"\",\n        loading: \"\",\n        extract_loading: \" \",\n        extract_long_time: \"   ,  ...\",\n        theme: \"\",\n        create_empty: \"  \",\n        uploading_file: \" \",\n        fs_restart: \"      FS?\",\n        please_wait: \" \",\n        making_bundle: \" \",\n        size: \"\",\n        room: \"\",\n        server: \"\",\n        load_by_url: \"  \",\n        enter_url: \" \",\n        load: \"\",\n        stored: \"\",\n        delete: \"\",\n        editor: \"\",\n        download: \"\",\n        changes: \"\",\n        loading_saves: \" \",\n        success: \"\",\n        success_save: \"  \",\n        warn_save: \"C   (  )\",\n        unable_to_save: \" \",\n        not_premium: \" \",\n        copy_net_link: \"   \",\n        copied: \"\",\n        image_rendering: \" \",\n        read_only_access: \" Win 9x     \",\n        fix: \"\",\n        close: \"\",\n        cancle: \"\",\n        manage: \"\",\n        unable_to_cancle_subscription: \"   \",\n        subscription_cancelled: \" \",\n        hardware: \" \",\n        net_drives: \" \",\n        fat_write: \"FAT \",\n        play: \"\",\n        system_cursor: \" \",\n        no_cloud_access: \"\",\n        no_cloud_access2: \"    \",\n        key: \" \",\n    },\n    en: {\n        hello: \"Hello\",\n        hello_guest: \"Hello, guest!\",\n        play: \"Start\",\n        system_cursor: \"System cursor\",\n        mobile_controls: \"Mobile controls\",\n        mirrored_controls: \"Mirror controls\",\n        scale_controls: \"Scale controls\",\n        enter_name_of_drive: \"Enter name of drive\",\n        ws_outdated: \"Must update DOS Browser App\",\n        update: \"Update\",\n        preloading_sockdrive: \"Loading\",\n        filter: \"Filter\",\n        add: \"Add\",\n        logout: \"Logout\",\n        features: \"Features\",\n        premium: \"Subscription\",\n        buy: \"Buy\",\n        experimental_features: \"Access to all experimental features\",\n        cloud_saves: \"Cloud saves\",\n        writeable_fat32: \"Writable FAT32\",\n        net_no_limits: \"Change the network region\",\n        unlock_options: \"Unlock all configuration options\",\n        error: \"Oops... Something went wrong...\",\n        consult_logs: \"Please check browser logs\",\n        bundle_loading: \"Bundle loading\",\n        bundle_config: \"Reading config\",\n        try_free: \"days for free\",\n        upload_file: \"Select jsdos/zip file to start...\",\n        emulation_backend: \"Emulation\",\n        render_backend: \"Render\",\n        render_aspect: \"Aspect\",\n        worker: \"Worker thread\",\n        mouse_sensitivity: \"Mouse sens...\",\n        mouse_lock: \"Capture mouse\",\n        volume: \"Volume\",\n        pause: \"Pause\",\n        dosboxconf_template: \"dosbox.conf template:\",\n        preview: \"Preview\",\n        continue: \"Continue\",\n        skip: \"Skip\",\n        loading: \"Loading\",\n        extract_loading: \"Unpacking archive\",\n        extract_long_time: \"Can take long time, please be patient...\",\n        theme: \"Theme\",\n        create_empty: \"Create empty bundle\",\n        uploading_file: \"Uploading file\",\n        fs_restart: \"Do you want to rebuild the bundle using this fs?\",\n        please_wait: \"Please wait\",\n        making_bundle: \"Creating bundle\",\n        size: \"Size\",\n        room: \"Room\",\n        server: \"Server\",\n        load_by_url: \"Load by url\",\n        enter_url: \"Enter url\",\n        load: \"Load\",\n        stored: \"Stored\",\n        delete: \"Delete\",\n        editor: \"Editor\",\n        download: \"Download\",\n        changes: \"Saves\",\n        loading_saves: \"Loading saves\",\n        success: \"Success\",\n        success_save: \"Saved in cloud\",\n        warn_save: \"Saved in browser (you are not logged)\",\n        unable_to_save: \"Unable to save\",\n        not_premium: \"Subscribe\",\n        copy_net_link: \"Share this link to connect\",\n        copied: \"Copied\",\n        image_rendering: \"Image rendering\",\n        read_only_access: \"Win 9x emulation is in READ ONLY mode\",\n        fix: \"Fix\",\n        close: \"Close\",\n        cancle: \"Cancle\",\n        manage: \"Manage\",\n        unable_to_cancle_subscription: \"Unable to cancle subscription\",\n        subscription_cancelled: \"Subscription cancelled\",\n        hardware: \"Hardware acceleration\",\n        net_drives: \"Net drives\",\n        fat_write: \"Writeable FAT\",\n        no_cloud_access: \"Please enter\",\n        no_cloud_access2: \"to use cloud storage\",\n        key: \"your key\",\n    },\n};\n\nconst initialLang = navigator.language.startsWith(\"ru\") ? \"ru\" : \"en\";\n\nconst initialState: {\n    lang: \"ru\" | \"en\",\n    keys: {[key: string]: string},\n} = {\n    lang: initialLang,\n    keys: translations[initialLang],\n};\n\nexport type I18NState = typeof initialState;\n\nexport const i18nSlice = createSlice({\n    name: \"i18n\",\n    initialState,\n    reducers: {\n        setLang: (state, action: { payload: \"ru\" | \"en\" }) => {\n            state.lang = action.payload;\n            state.keys = translations[action.payload];\n        },\n    },\n});\n\nexport function useT() {\n    const keys = useSelector((state: State) => state.i18n.keys);\n    return (key: string) => {\n        return keys[key] ?? key;\n    };\n};\n\nexport function getT(state: State) {\n    return (key: string) => {\n        return state.i18n.keys[key] ?? key;\n    };\n};\n","/* eslint-disable max-len */\nexport const dosboxconf = [{\n    name: \"7.xx\",\n    backend: \"dosbox\",\n    contents: `[sdl]\nautolock=false\n\nfullscreen=false\nfulldouble=false\nfullresolution=original\nwindowresolution=original\noutput=surface\nsensitivity=100\nwaitonerror=true\npriority=higher,normal\nmapperfile=mapper-jsdos.map\nusescancodes=true\nvsync=false\n[dosbox]\nmachine=svga_s3\n\nlanguage=\ncaptures=capture\nmemsize=16\n[cpu]\ncore=auto\ncputype=auto\ncycles=auto\n\ncycleup=10\ncycledown=20\n[mixer]\nnosound=false\nrate=44100\n\nblocksize=1024\nprebuffer=20\n\n[render]\n# frameskip: How many frames DOSBox skips before drawing one.\n#    aspect: Do aspect correction, if your output method doesn't support scaling this can slow things down!.\n#    scaler: Scaler used to enlarge/enhance low resolution modes.\n#              If 'forced' is appended, then the scaler will be used even if the result might not be desired.\n#            Possible values: none, normal2x, normal3x, advmame2x, advmame3x, advinterp2x, advinterp3x, hq2x, hq3x, 2xsai, super2xsai, supereagle, tv2x, tv3x, rgb2x, rgb3x, scan2x, scan3x.\n\nframeskip=0\naspect=false\nscaler=none\n\n[midi]\n#     mpu401: Type of MPU-401 to emulate.\n#             Possible values: intelligent, uart, none.\n# mididevice: Device that will receive the MIDI data from MPU-401.\n#             Possible values: default, win32, alsa, oss, coreaudio, coremidi, none.\n# midiconfig: Special configuration options for the device driver. This is usually the id of the device you want to use.\n#               See the README/Manual for more details.\n\nmpu401=intelligent\nmididevice=default\nmidiconfig=\n\n[sblaster]\n#  sbtype: Type of Soundblaster to emulate. gb is Gameblaster.\n#          Possible values: sb1, sb2, sbpro1, sbpro2, sb16, gb, none.\n#  sbbase: The IO address of the soundblaster.\n#          Possible values: 220, 240, 260, 280, 2a0, 2c0, 2e0, 300.\n#     irq: The IRQ number of the soundblaster.\n#          Possible values: 7, 5, 3, 9, 10, 11, 12.\n#     dma: The DMA number of the soundblaster.\n#          Possible values: 1, 5, 0, 3, 6, 7.\n#    hdma: The High DMA number of the soundblaster.\n#          Possible values: 1, 5, 0, 3, 6, 7.\n# sbmixer: Allow the soundblaster mixer to modify the DOSBox mixer.\n# oplmode: Type of OPL emulation. On 'auto' the mode is determined by sblaster type. All OPL modes are Adlib-compatible, except for 'cms'.\n#          Possible values: auto, cms, opl2, dualopl2, opl3, none.\n#  oplemu: Provider for the OPL emulation. compat might provide better quality (see oplrate as well).\n#          Possible values: default, compat, fast.\n# oplrate: Sample rate of OPL music emulation. Use 49716 for highest quality (set the mixer rate accordingly).\n#          Possible values: 44100, 49716, 48000, 32000, 22050, 16000, 11025, 8000.\n\nsbtype=sb16\nsbbase=220\nirq=7\ndma=1\nhdma=5\nsbmixer=true\noplmode=auto\noplemu=default\noplrate=44100\n\n[gus]\n#      gus: Enable the Gravis Ultrasound emulation.\n#  gusrate: Sample rate of Ultrasound emulation.\n#           Possible values: 44100, 48000, 32000, 22050, 16000, 11025, 8000, 49716.\n#  gusbase: The IO base address of the Gravis Ultrasound.\n#           Possible values: 240, 220, 260, 280, 2a0, 2c0, 2e0, 300.\n#   gusirq: The IRQ number of the Gravis Ultrasound.\n#           Possible values: 5, 3, 7, 9, 10, 11, 12.\n#   gusdma: The DMA channel of the Gravis Ultrasound.\n#           Possible values: 3, 0, 1, 5, 6, 7.\n# ultradir: Path to Ultrasound directory. In this directory\n#           there should be a MIDI directory that contains\n#           the patch files for GUS playback. Patch sets used\n#           with Timidity should work fine.\n\ngus=false\ngusrate=44100\ngusbase=240\ngusirq=5\ngusdma=3\nultradir=C:\\\\ULTRASND\n\n[speaker]\n# pcspeaker: Enable PC-Speaker emulation.\n#    pcrate: Sample rate of the PC-Speaker sound generation.\n#            Possible values: 44100, 48000, 32000, 22050, 16000, 11025, 8000, 49716.\n#     tandy: Enable Tandy Sound System emulation. For 'auto', emulation is present only if machine is set to 'tandy'.\n#            Possible values: auto, on, off.\n# tandyrate: Sample rate of the Tandy 3-Voice generation.\n#            Possible values: 44100, 48000, 32000, 22050, 16000, 11025, 8000, 49716.\n#    disney: Enable Disney Sound Source emulation. (Covox Voice Master and Speech Thing compatible).\n\npcspeaker=true\npcrate=44100\ntandy=auto\ntandyrate=44100\ndisney=true\n\n[joystick]\n# joysticktype: Type of joystick to emulate: auto (default), none,\n#               2axis (supports two joysticks),\n#               4axis (supports one joystick, first joystick used),\n#               4axis_2 (supports one joystick, second joystick used),\n#               fcs (Thrustmaster), ch (CH Flightstick).\n#               none disables joystick emulation.\n#               auto chooses emulation depending on real joystick(s).\n#               (Remember to reset dosbox's mapperfile if you saved it earlier)\n#               Possible values: auto, 2axis, 4axis, 4axis_2, fcs, ch, none.\n#        timed: enable timed intervals for axis. Experiment with this option, if your joystick drifts (away).\n#     autofire: continuously fires as long as you keep the button pressed.\n#       swap34: swap the 3rd and the 4th axis. can be useful for certain joysticks.\n#   buttonwrap: enable button wrapping at the number of emulated buttons.\n\njoysticktype=auto\ntimed=true\nautofire=false\nswap34=false\nbuttonwrap=false\n\n[serial]\n# serial1: set type of device connected to com port.\n#          Can be disabled, dummy, modem, nullmodem, directserial.\n#          Additional parameters must be in the same line in the form of\n#          parameter:value. Parameter for all types is irq (optional).\n#          for directserial: realport (required), rxdelay (optional).\n#                           (realport:COM1 realport:ttyS0).\n#          for modem: listenport (optional).\n#          for nullmodem: server, rxdelay, txdelay, telnet, usedtr,\n#                         transparent, port, inhsocket (all optional).\n#          Example: serial1=modem listenport:5000\n#          Possible values: dummy, disabled, modem, nullmodem, directserial.\n# serial2: see serial1\n#          Possible values: dummy, disabled, modem, nullmodem, directserial.\n# serial3: see serial1\n#          Possible values: dummy, disabled, modem, nullmodem, directserial.\n# serial4: see serial1\n#          Possible values: dummy, disabled, modem, nullmodem, directserial.\n\nserial1=dummy\nserial2=dummy\nserial3=disabled\nserial4=disabled\n\n[dos]\n#            xms: Enable XMS support.\n#            ems: Enable EMS support.\n#            umb: Enable UMB support.\n# keyboardlayout: Language code of the keyboard layout (or none).\n\nxms=true\nems=true\numb=true\nkeyboardlayout=auto\n\n[ipx]\n# ipx: Enable ipx over UDP/IP emulation.\n\nipx=true\n[autoexec]\necho off\nmount c .\nc:\n\ntype jsdos~1/readme.txt\necho on\n\n# Generated using https://js-dos.com\n#     \n#          \n#         \n#     \n#    \n#       \n#      \n#     \n#     \n#       \n#    \n#     \n#           \n`.replace(/\\n/g, \"\\r\\n\"),\n}, {\n    name: \"DOS 7.1\",\n    backend: \"dosboxX\",\n    contents: `\n[sdl]\nautolock=false\n\n[dosbox]\ntitle=DOS 7.1\nmemsize=64\n\n[dos]\nver=7.1\nhard drive data rate limit=0\nfloppy drive data rate limit=0\n\n[cpu]\ncputype=pentium_mmx\ncore=auto\n\n[sblaster]\nsbtype=sb16vibra\n\n[render]\nscaler=none\n\n[autoexec]\necho off\nimgmount 2 sockdrive {wss-makevm} system dos7.1-v1\necho Please visit our website:\necho \necho         _                __\necho        (_)____      ____/ /___  _____ _________  ____ ___\necho       / / ___/_____/ __  / __ \\\\/ ___// ___/ __ \\\\/ __ \\`__ \\\\\necho      / (__  )_____/ /_/ / /_/ (__  )/ /__/ /_/ / / / / / /\necho   __/ /____/      \\\\__,_/\\\\____/____(_)___/\\\\____/_/ /_/ /_/\necho  /___/\necho\necho type 'boot c:' to load DOS 7.1\necho on\n# \n#     \n#          \n#         \n#     \n#    \n#       \n#      \n#     \n#     \n#       \n#    \n#     \n#           \n#\n`.replace(/\\n/g, \"\\r\\n\"),\n}, {\n    name: \"Win 95\",\n    backend: \"dosboxX\",\n    contents: `\n[sdl]\nautolock=false\nmouse_emulation=integration\n\n[dosbox]\ntitle=Windows 95\nmemsize=128\n\n[video]\nvmemsize=8\nvesa modelist width limit=0\nvesa modelist height limit=0\n\n[dos]\nver=7.1\nhard drive data rate limit=0\nfloppy drive data rate limit=0\n\n[cpu]\ncputype=pentium_mmx\ncore=auto\nintegration device=true\n\n[sblaster]\nsbtype=sb16vibra\n\n[fdc, primary]\nint13fakev86io=true\n\n[ide, primary]\nint13fakeio=true\nint13fakev86io=true\n\n[ide, secondary]\nint13fakeio=true\nint13fakev86io=true\ncd-rom insertion delay=4000\n\n[render]\nscaler=none\n\n[autoexec]\necho off\nimgmount 2 sockdrive {wss-makevm} system win95-v1\necho Please visit our website:\necho \necho         _                __\necho        (_)____      ____/ /___  _____ _________  ____ ___\necho       / / ___/_____/ __  / __ \\\\/ ___// ___/ __ \\\\/ __ \\`__ \\\\\necho      / (__  )_____/ /_/ / /_/ (__  )/ /__/ /_/ / / / / / /\necho   __/ /____/      \\\\__,_/\\\\____/____(_)___/\\\\____/_/ /_/ /_/\necho  /___/\necho\necho type 'boot c:' to load windows 95\necho on\n# \n#     \n#          \n#         \n#     \n#    \n#       \n#      \n#     \n#     \n#       \n#    \n#     \n#           \n#\n`.replace(/\\n/g, \"\\r\\n\"),\n}, {\n    name: \"Win 98\",\n    backend: \"dosboxX\",\n    contents: `\n[sdl]\nautolock=false\nmouse_emulation=integration\n\n[dosbox]\ntitle=Windows 98\nmemsize=128\n\n[video]\nvmemsize=8\nvesa modelist width limit=0\nvesa modelist height limit=0\n\n[dos]\nver=7.1\nhard drive data rate limit=0\nfloppy drive data rate limit=0\n\n[cpu]\ncputype=pentium_mmx\ncore=auto\nintegration device=true\n\n[sblaster]\nsbtype=sb16vibra\n\n[fdc, primary]\nint13fakev86io=true\n\n[ide, primary]\nint13fakeio=true\nint13fakev86io=true\n\n[ide, secondary]\nint13fakeio=true\nint13fakev86io=true\ncd-rom insertion delay=4000\n\n[render]\nscaler=none\n\n[autoexec]\necho off\nimgmount 2 sockdrive {wss-makevm} system win98-v1\necho Please visit our website:\necho \necho         _                __\necho        (_)____      ____/ /___  _____ _________  ____ ___\necho       / / ___/_____/ __  / __ \\\\/ ___// ___/ __ \\\\/ __ \\`__ \\\\\necho      / (__  )_____/ /_/ / /_/ (__  )/ /__/ /_/ / / / / / /\necho   __/ /____/      \\\\__,_/\\\\____/____(_)___/\\\\____/_/ /_/ /_/\necho  /___/\necho\necho type 'boot c:' to load windows 98\necho on\n# \n#     \n#          \n#         \n#     \n#    \n#       \n#      \n#     \n#     \n#       \n#    \n#     \n#           \n#\n`.replace(/\\n/g, \"\\r\\n\"),\n},\n];\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { DosConfig } from \"emulators\";\nimport { Node } from \"react-checkbox-tree\";\nimport { dosboxconf } from \"../frame/editor/defaults\";\n\nconst initialState: {\n    // step: \"empty\" | \"extract\" | \"ready\" | \"error\",\n    configChanged: boolean,\n    bundleConfig: DosConfig | null,\n    errorMessage: string | null,\n    fs: Node[],\n} = {\n    // step: \"empty\",\n    configChanged: false,\n    bundleConfig: null,\n    errorMessage: null,\n    fs: [],\n};\n\nexport type EditorState = typeof initialState;\n\nexport const editorSlice = createSlice({\n    name: \"editor\",\n    initialState,\n    reducers: {\n        init: (s, a: { payload: DosConfig | null }) => {\n            if (a.payload === null) {\n                s.configChanged = true;\n                s.bundleConfig = {\n                    dosboxConf: dosboxconf[0].contents,\n                    jsdosConf: {\n                        version: \"js-dos-v8\",\n                    },\n                };\n            } else {\n                s.configChanged = false;\n                s.bundleConfig = a.payload;\n            }\n        },\n        dosboxConf: (s, a: { payload: string }) => {\n            s.configChanged = true;\n            s.bundleConfig!.dosboxConf = a.payload;\n        },\n        // empty: (s) => {\n        //     s.step = \"empty\";\n        // },\n        // extract: (s) => {\n        //     s.step = \"extract\";\n        // },\n        // ready: (s) => {\n        //     s.step = \"ready\";\n        // },\n        // config: (s, a: { payload: DosConfig | null }) => {\n        //     s.bundleConfig = a.payload;\n        // },\n        // error: (s, a: { payload: string }) => {\n        //     s.step = \"error\";\n        //     s.errorMessage = a.payload;\n        // },\n    },\n});\n","const MAX_VALUE_SIZE = 1024;\nconst NEXT_PART_SYMBOL = \"@\";\nconst NEXT_PART_SYFFIX = \".\";\n\nclass MemStorage implements Storage {\n    length = 0;\n\n    private storage: {[key: string]: string} = {};\n\n    setItem(key: string, value: string): void {\n        this.storage[key] = value;\n        this.length = Object.keys(this.storage).length;\n    }\n\n    getItem(key: string): string | null {\n        const value = this.storage[key];\n        return value === undefined ? null : value;\n    }\n\n    removeItem(key: string): void {\n        delete this.storage[key];\n        this.length = Object.keys(this.storage).length;\n    }\n\n    key(index: number): string | null {\n        const keys = Object.keys(this.storage);\n        return keys[index] === undefined ? null : keys[index];\n    }\n\n    clear() {\n        this.length = 0;\n        this.storage = {};\n    }\n}\n\n\nclass LStorage implements Storage {\n    private backend: Storage;\n    length: number;\n    prefix: string;\n\n    constructor(backend: Storage | undefined, prefix: string) {\n        this.prefix = prefix;\n\n        try {\n            this.backend = backend || localStorage;\n            this.testBackend();\n        } catch (e) {\n            this.backend = new MemStorage();\n        }\n\n        this.length = this.backend.length;\n\n        if (typeof this.backend.sync === \"function\") {\n            (this as any).sync = (callback: any) => {\n                this.backend.sync(callback);\n            };\n        }\n    }\n\n    private testBackend() {\n        const testKey = this.prefix + \".test.record\";\n        const testValue = \"123\";\n        this.backend.setItem(testKey, testValue);\n        const readedValue = this.backend.getItem(testKey);\n        this.backend.removeItem(testKey);\n        const valid = readedValue === testValue && this.backend.getItem(testKey) === null;\n\n        if (!valid) {\n            throw new Error(\"Storage backend is not working properly\");\n        }\n    }\n\n    setLocalStoragePrefix(prefix: string) {\n        this.prefix = prefix;\n    }\n\n    clear(): void {\n        if (!this.backend.length) {\n            return;\n        }\n\n        const toRemove: string[] = [];\n        for (let i = 0; i < this.backend.length; ++i) {\n            const next = this.backend.key(i);\n            if (next && next.startsWith(this.prefix)) {\n                toRemove.push(next);\n            }\n        }\n\n        for (const next of toRemove) {\n            this.backend.removeItem(next);\n        }\n        this.length = this.backend.length;\n    }\n\n    key(index: number): string | null {\n        return this.backend.key(index);\n    }\n\n    setItem(key: string, value: string): void {\n        if (!value || value.length === undefined || value.length === 0) {\n            this.writeStringToKey(key, \"\");\n            return;\n        }\n\n        let offset = 0;\n        while (offset < value.length) {\n            let substr = value.substr(offset, MAX_VALUE_SIZE);\n            offset += substr.length;\n\n            if (offset < value.length) {\n                substr += NEXT_PART_SYMBOL;\n            }\n\n            this.writeStringToKey(key, substr);\n            key += NEXT_PART_SYFFIX;\n        }\n    }\n\n    getItem(key: string): string | null {\n        let value = this.readStringFromKey(key);\n        if (value === null) {\n            return null;\n        }\n\n        if (value.length === 0) {\n            return value;\n        }\n\n        while (value[value.length - 1] === NEXT_PART_SYMBOL) {\n            value = value.substr(0, value.length - 1);\n            key += NEXT_PART_SYFFIX;\n            const next = this.readStringFromKey(key);\n            value += next === null ? \"\" : next;\n        }\n\n        return value;\n    }\n\n    removeItem(key: string): void {\n        this.backend.removeItem(this.prefix + key);\n        this.length = this.backend.length;\n    }\n\n    private writeStringToKey(key: string, value: string) {\n        this.backend.setItem(this.prefix + key, value);\n        this.length = this.backend.length;\n    }\n\n    private readStringFromKey(key: string) {\n        return this.backend.getItem(this.prefix + key);\n    }\n}\n\nexport const lStorage = new LStorage(undefined, \"jsdos.8.\");\n","import { createAction, createSlice } from \"@reduxjs/toolkit\";\nimport { lStorage } from \"../host/lstorage\";\nimport { DosAction } from \"../store\";\nimport { dosSlice } from \"./dos\";\n\nexport const ThemeValues = <const>[\"light\", \"dark\", \"cupcake\", \"bumblebee\", \"emerald\", \"corporate\",\n    \"synthwave\", \"retro\", \"cyberpunk\", \"valentine\", \"halloween\", \"garden\", \"forest\", \"aqua\", \"lofi\",\n    \"pastel\", \"fantasy\", \"wireframe\", \"black\", \"luxury\", \"dracula\", \"cmyk\", \"autumn\", \"business\",\n    \"acid\", \"lemonade\", \"night\", \"coffee\", \"winter\"];\nexport type Theme = typeof ThemeValues[number];\n\nexport type Frame = \"none\" | \"settings\" |\n    \"editor-conf\" | \"editor-fs\" | \"network\" |\n    \"stats\" | \"fat-drives\" |\n    \"prerun\";\n\nconst initialState: {\n    hidden: boolean,\n    frame: Frame,\n    frameXs: boolean,\n    window: \"none\" | \"error\" | \"loading\" | \"prerun\" | \"run\" | \"select\",\n    theme: Theme,\n    editor: boolean,\n    wideScreen: boolean,\n    fullScreen: boolean,\n    toast: string | null,\n    toastIntent: \"none\" | \"error\" | \"success\" | \"panic\" | \"warning\",\n    toastTimeoutId: number,\n    background: string | null,\n    updateWsWarning: boolean,\n    cloudSaves: boolean,\n    autoStart: boolean,\n    kiosk: boolean,\n    documentHidden: boolean,\n    noNetworking: boolean,\n    noCloud: boolean,\n    warnOnPremium: boolean,\n    warnOnKey: boolean,\n} = {\n    hidden: false,\n    frame: \"none\",\n    frameXs: false,\n    window: \"none\",\n    theme: (lStorage.getItem(\"theme\") ?? \"light\") as Theme,\n    editor: false,\n    wideScreen: true,\n    fullScreen: false,\n    toast: null,\n    toastIntent: \"none\",\n    toastTimeoutId: 0,\n    background: null,\n    updateWsWarning: false,\n    cloudSaves: true,\n    autoStart: false,\n    kiosk: false,\n    documentHidden: document.hidden ?? false,\n    noNetworking: true,\n    noCloud: false,\n    warnOnKey: false,\n    warnOnPremium: false,\n};\n\nexport type UiState = typeof initialState;\n\nexport const uiSlice = createSlice({\n    name: \"js-dos v8s\",\n    initialState,\n    reducers: {\n        theme: (state, a: { payload: Theme }) => {\n            lStorage.setItem(\"theme\", a.payload);\n            state.theme = a.payload;\n        },\n        frameNone: (state) => {\n            state.frame = \"none\";\n            state.frameXs = false;\n        },\n        frameSettings: (state) => {\n            state.frame = \"settings\";\n            state.frameXs = false;\n        },\n        frameNetwork: (state) => {\n            state.frame = \"network\";\n            state.frameXs = false;\n        },\n        frameStats: (state) => {\n            state.frame = \"stats\";\n            state.frameXs = false;\n        },\n        frameConf: (state) => {\n            state.frame = \"editor-conf\";\n            state.frameXs = false;\n        },\n        frameFs: (state) => {\n            state.frame = \"editor-fs\";\n            state.frameXs = false;\n        },\n        frameFatDrives: (state) => {\n            state.frame = \"fat-drives\";\n            state.frameXs = false;\n        },\n        framePreRun: (state) => {\n            state.frame = \"prerun\";\n            state.frameXs = false;\n        },\n        windowSelect: (state) => {\n            state.window = \"select\";\n        },\n        background: (state, a: { payload: string }) => {\n            state.background = a.payload;\n        },\n        setEditor: (state, a: { payload: boolean }) => {\n            state.editor = a.payload;\n        },\n        setWideScreen: (state, a: { payload: boolean }) => {\n            state.wideScreen = a.payload;\n        },\n        setFullScreen: (state, a: { payload: boolean }) => {\n            state.fullScreen = a.payload;\n        },\n        showToast: (state, a: {\n            payload: {\n                message: string, intent?: typeof initialState.toastIntent,\n                long?: boolean\n            }\n        }) => {\n            if (state.toastTimeoutId !== 0) {\n                clearInterval(state.toastTimeoutId);\n            }\n            state.toast = a.payload.message;\n            state.toastIntent = a.payload.intent ?? \"none\";\n            if (a.payload.intent !== \"panic\") {\n                state.toastTimeoutId = setTimeout(() => {\n                    (a as unknown as DosAction).asyncStore((store) => store.dispatch(uiSlice.actions.hideToast()));\n                }, a.payload.long ? 5000 : 1500);\n            }\n        },\n        hideToast: (state) => {\n            state.toast = null;\n            state.toastTimeoutId = 0;\n        },\n        updateWsWarning: (state, a: { payload: boolean }) => {\n            state.updateWsWarning = a.payload;\n        },\n        cloudSaves: (state, a: { payload: boolean }) => {\n            state.cloudSaves = a.payload;\n        },\n        autoStart: (state, a: { payload: boolean }) => {\n            state.autoStart = a.payload;\n        },\n        kiosk: (state, a: { payload: boolean }) => {\n            state.kiosk = a.payload;\n        },\n        documentHidden: (s, a: { payload: boolean }) => {\n            s.documentHidden = a.payload;\n        },\n        noNetworking: (state, a: { payload: boolean }) => {\n            state.noNetworking = a.payload;\n        },\n        noCloud: (state, a: { payload: boolean }) => {\n            state.noCloud = a.payload;\n        },\n        hidden: (state, a: { payload: boolean }) => {\n            state.hidden = a.payload;\n        },\n        warnOnKey: (state, a: { payload: boolean }) => {\n            state.warnOnKey = a.payload;\n            state.frame = \"none\";\n        },\n        warnOnPremium: (state, a: { payload: boolean }) => {\n            state.warnOnKey = a.payload;\n            state.frame = \"none\";\n        },\n    },\n    extraReducers: (builder) => {\n        builder\n            .addCase(createAction<string>(\"dos/bndLoad\"), (s, a) => {\n                s.window = \"loading\";\n            })\n            .addCase(createAction<string>(\"editor/extract\"), (s, a) => {\n                s.window = \"loading\";\n            })\n            .addCase(createAction<string>(\"editor/ready\"), (s, a) => {\n                s.window = \"prerun\";\n            })\n            .addCase(createAction<string>(\"dos/bndReady\"), (s, a) => {\n                if (s.autoStart) {\n                    (a as unknown as DosAction).asyncStore((store) => {\n                        store.dispatch(dosSlice.actions.bndPlay({}));\n                    });\n                } else {\n                    s.window = \"prerun\";\n                }\n            })\n            .addCase(createAction<string>(\"dos/bndPlay\"), (s, a) => {\n                s.window = \"run\";\n                s.frame = \"none\";\n            })\n            .addMatcher((action: { type: string }) => {\n                return action.type.startsWith(\"dos/\") &&\n                    action.type.endsWith(\"Error\");\n            }, (s, a) => {\n                s.window = \"error\";\n            });\n    },\n});\n\n","export const endpoint = \"https://v8.js-dos.com\";\nexport const uploadsS3Bucket = \"doszone-uploads\";\nexport const uploadsS3Url = \"https://storage.yandexcloud.net\";\nexport const uploadNamspace = \"dzapi\";\n\nexport const apiEndpoint = \"https://d5dn8hh4ivlobv6682ep.apigw.yandexcloud.net\";\nexport const presignPut = apiEndpoint + \"/presign-put\";\nexport const tokenGet = apiEndpoint + \"/token/get\";\n\nexport const brCdn = \"https://br.cdn.dos.zone\";\n\nexport const cancelSubscriptionPage = {\n    en: \"https://v8.js-dos.com/cancel-your-subscription/\",\n    ru: \"https://v8.js-dos.com/ru/cancel-your-subscription/\",\n};\n\nexport const actualWsVersion = 3;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { lStorage } from \"../host/lstorage\";\nimport { DosAction } from \"../store\";\nimport { tokenGet } from \"../v8/config\";\nimport { dosSlice } from \"./dos\";\n\nconst cachedAccount = \"cached.jsdos.account\";\n\nexport interface Account {\n    token: string,\n    name: string,\n    email: string,\n    premium: boolean,\n};\n\nconst initAccount = (() => {\n    const json = lStorage.getItem(cachedAccount);\n    if (json) {\n        const account = JSON.parse(json);\n        if (account.email && account.email.length > 0 && account.token && account.token.length === 5) {\n            return account;\n        }\n    }\n    return null;\n})();\n\nconst initialState: {\n    account: Account | null,\n} = {\n    account: initAccount,\n};\n\nexport type AuthState = typeof initialState;\n\nexport const authSlice = createSlice({\n    name: \"auth\",\n    initialState,\n    reducers: {\n        setAccount: (state, action: { payload: Account | null }) => {\n            const account = action.payload;\n            if (account !== null) {\n                lStorage.setItem(cachedAccount, JSON.stringify(account));\n                (action as unknown as DosAction).asyncStore((store) => {\n                    if (account.email === \"dz.caiiiycuk@gmail.com\") {\n                        store.dispatch(dosSlice.actions.setSockdriveWrite(false));\n                    }\n                });\n            } else {\n                lStorage.removeItem(cachedAccount);\n            }\n            state.account = account;\n        },\n    },\n});\n\nexport async function loadAccount(token: string) {\n    if (!token || token.length !== 5) {\n        return { token, account: null };\n    }\n\n    for (let i = 0; i < token.length; ++i) {\n        const code = token.charCodeAt(i);\n        if (!(code > 96 && code < 123)) { // lower alpha (a-z)\n            return { token, account: null };\n        }\n    }\n\n    const account = await (await fetch(tokenGet + \"?id=\" + token)).json();\n    delete account.success;\n\n    return { token, account: account.email ? account : null };\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState: {\n    recived: number,\n    total: number,\n    ready: boolean,\n} = {\n    recived: 0,\n    total: 0,\n    ready: false,\n};\n\nexport type StorageState = typeof initialState;\n\nexport const storageSlice = createSlice({\n    name: \"storage\",\n    initialState,\n    reducers: {\n        reset: (s) => {\n            s.recived = -1;\n            s.total = 0;\n            s.ready = false;\n        },\n        progress: (s, a: { payload: [number, number ] }) => {\n            s.recived = a.payload[0];\n            s.total = a.payload[1];\n        },\n        ready: (s) => {\n            s.ready = true;\n        },\n    },\n});\n","/* eslint @typescript-eslint/no-unused-vars: 0 */\n\nexport interface Cache {\n    readonly owner: string;\n    put: (key: string, data: Uint8Array) => Promise<void>;\n    get: (key: string, defaultValue?: Uint8Array) => Promise<Uint8Array>;\n    del: (key: string) => Promise<void>;\n    keys: () => Promise<string[]>;\n    forEach: (each: (key: string, value: Uint8Array) => void) => Promise<void>;\n    close: () => void;\n}\n\nexport class CacheNoop implements Cache {\n    public owner = \"\";\n\n    public close() {\n    }\n\n    public put(key: string, data: Uint8Array): Promise<void> {\n        return Promise.resolve();\n    }\n\n    public get(key: string, defaultValue?: Uint8Array): Promise<Uint8Array> {\n        if (defaultValue !== undefined) {\n            return Promise.resolve(defaultValue);\n        }\n        return Promise.reject(new Error(\"Cache is not supported on this host\"));\n    }\n\n    public del(key: string): Promise<void> {\n        return Promise.resolve();\n    }\n\n    public keys(): Promise<string[]> {\n        return Promise.resolve([]);\n    }\n\n    public forEach(each: (key: string, value: Uint8Array) => void) {\n        return Promise.resolve();\n    }\n}\n\nclass LCache implements Cache {\n    public owner: string;\n    private storeName = \"files\";\n    private indexedDB: IDBFactory;\n    private db: IDBDatabase | null = null;\n\n    constructor(owner: string,\n        onready: (cache: Cache) => void,\n        onerror: (msg: string) => void) {\n        this.owner = owner;\n        this.indexedDB = (typeof window === \"undefined\" ? undefined : window.indexedDB ||\n            (window as any).mozIndexedDB ||\n            (window as any).webkitIndexedDB || (window as any).msIndexedDB) as any;\n\n        if (!this.indexedDB) {\n            onerror(\"Indexed db is not supported on this host\");\n            return;\n        }\n\n        try {\n            const openRequest = this.indexedDB.open(\"js-dos-cache (\" + owner + \")\", 1);\n            openRequest.onerror = (event) => {\n                onerror(\"Can't open cache database: \" + openRequest.error?.message);\n            };\n            openRequest.onsuccess = (event) => {\n                this.db = openRequest.result;\n                onready(this);\n            };\n            openRequest.onupgradeneeded = (event) => {\n                try {\n                    this.db = openRequest.result;\n                    this.db.onerror = (event) => {\n                        onerror(\"Can't upgrade cache database\");\n                    };\n\n                    const objectStore = this.db.createObjectStore(this.storeName);\n                    objectStore.createIndex(\"key\", \"\", {\n                        unique: true,\n                        multiEntry: false,\n                    });\n                } catch (e) {\n                    onerror(\"Can't upgrade cache database\");\n                }\n            };\n        } catch (e: any) {\n            onerror(\"Can't open cache database: \" + e.message);\n        }\n    }\n\n    public close() {\n        if (this.db !== null) {\n            this.db.close();\n            this.db = null;\n        }\n    }\n\n    public put(key: string, data: Uint8Array): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            if (this.db === null) {\n                resolve();\n                return;\n            }\n\n            const transaction = this.db.transaction(this.storeName, \"readwrite\");\n            const request = transaction.objectStore(this.storeName).put(data.buffer, key);\n            request.onerror = () => reject;\n            request.onsuccess = () => resolve();\n        });\n    }\n\n    public del(key: string): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            if (this.db === null) {\n                resolve();\n                return;\n            }\n\n            const transaction = this.db.transaction(this.storeName, \"readwrite\");\n            const request = transaction.objectStore(this.storeName).delete(key);\n            request.onerror = () => reject;\n            request.onsuccess = () => resolve();\n        });\n    }\n\n    public get(key: string, defaultValue?: Uint8Array): Promise<Uint8Array> {\n        return new Promise<Uint8Array>((resolve, reject) => {\n            function rejectOrResolve(message: string) {\n                if (defaultValue === undefined) {\n                    reject(new Error(message));\n                } else {\n                    resolve(defaultValue);\n                }\n            }\n\n\n            if (this.db === null) {\n                rejectOrResolve(\"db is not initalized\");\n                return;\n            }\n\n            const transaction = this.db.transaction(this.storeName, \"readonly\");\n            const request = transaction.objectStore(this.storeName).get(key) as IDBRequest<ArrayBuffer>;\n            request.onerror = () => reject(new Error(\"Can't read value for key '\" + key + \"'\"));\n            request.onsuccess = () => {\n                if (request.result) {\n                    resolve(new Uint8Array(request.result));\n                } else {\n                    rejectOrResolve(\"Result is empty for key '\" + key + \"', result: \" + request.result);\n                }\n            };\n        });\n    }\n\n    public keys(): Promise<string[]> {\n        return new Promise<string[]>((resolve, reject) => {\n            if (this.db === null) {\n                resolve([]);\n                return;\n            }\n\n            const transaction = this.db.transaction(this.storeName, \"readonly\");\n            const request = transaction.objectStore(this.storeName).index(\"key\").getAllKeys();\n            request.onerror = () => reject;\n            request.onsuccess = (event) => {\n                const keys = (event.target as any).result as string[];\n                resolve(keys);\n            };\n        });\n    }\n\n    public forEach(each: (key: string, value: Uint8Array) => void): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            if (this.db === null) {\n                resolve();\n                return;\n            }\n\n            const transaction = this.db.transaction(this.storeName, \"readonly\");\n            const request = transaction.objectStore(this.storeName).openCursor();\n            request.onerror = () => reject;\n            request.onsuccess = (event) => {\n                const cursor = (event.target as any).result as IDBCursorWithValue;\n                if (cursor) {\n                    each(cursor.key.toString(), new Uint8Array(cursor.value));\n                    cursor.continue();\n                } else {\n                    resolve();\n                }\n            };\n        });\n    }\n}\n\nexport function getCache(owner: string): Promise<Cache> {\n    return new Promise((resolve) => {\n        new LCache(owner, resolve, (msg: string) => {\n            console.error(\"Can't open IndexedDB cache\", msg);\n            resolve(new CacheNoop());\n        });\n    });\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { lStorage } from \"../host/lstorage\";\n\nexport const sockdriveBackendNames = [\"localhost\", \"js-dos\"];\nexport type SockdriveBackendName = typeof sockdriveBackendNames[number];\nexport const sockdriveBackend: {\n    [key: SockdriveBackendName]: {\n        sockdriveEndpoint: string,\n        sockdriveWssEndpoint: string,\n    }\n} = {\n    \"js-dos\": {\n        sockdriveEndpoint: \"https://sockdrive.js-dos.com:8001\",\n        sockdriveWssEndpoint: \"wss://sockdrive.js-dos.com:8001\",\n    },\n    \"localhost\": {\n        sockdriveEndpoint: \"http://localhost:8001\",\n        sockdriveWssEndpoint: \"ws://localhost:8001\",\n    },\n};\n\nexport interface InitState {\n    uid: string,\n    sockdriveBackendName: SockdriveBackendName,\n};\n\nlet storeUid = -1;\nexport function createInitSlice() {\n    storeUid += 1;\n    return {\n        storeUid,\n        slice: createSlice({\n            name: \"init\",\n            initialState: {\n                uid: storeUid,\n                sockdriveBackendName: lStorage.getItem(\"sockdrive.backend.name\") ?? \"js-dos\",\n            },\n            reducers: {\n                setSockdriveBackendName: (state, a: { payload: SockdriveBackendName }) => {\n                    state.sockdriveBackendName = a.payload;\n                    lStorage.setItem(\"sockdrive.backend.name\", a.payload);\n                },\n            },\n        }),\n    };\n}\n\nexport const initSlice = createInitSlice().slice;\n","import { ThunkMiddleware, configureStore } from \"@reduxjs/toolkit\";\nimport { UiState, uiSlice } from \"./store/ui\";\nimport { AuthState, authSlice } from \"./store/auth\";\nimport { DosState, dosSlice } from \"./store/dos\";\nimport { I18NState, i18nSlice } from \"./i18n\";\nimport { StorageState, storageSlice } from \"./store/storage\";\nimport { EditorState, editorSlice } from \"./store/editor\";\nimport { DosEvent, DosOptions } from \"./public/types\";\nimport { CommandInterface, InitFs } from \"emulators\";\nimport { useStore } from \"react-redux\";\nimport { Cache, CacheNoop } from \"./host/lcache\";\nimport { InitState, createInitSlice, initSlice, sockdriveBackend, sockdriveBackendNames } from \"./store/init\";\nimport { LayersInstance } from \"./layers/instance\";\n\nexport interface LoadedBundle {\n    bundleUrl: string | null,\n    bundleChangesUrl: string | null,\n    bundle: InitFs | null,\n    bundleChanges: Uint8Array | null,\n    initFs: InitFs | null,\n}\n\nexport interface NonSerializableStore {\n    root: HTMLDivElement,\n    loadedBundle: LoadedBundle | null,\n    ci: CommandInterface | null,\n    cache: Cache,\n    options: Partial<DosOptions>,\n    layers: Promise<LayersInstance> | null;\n}\n\nexport interface DosAction {\n    asyncStore: (cakkback: (store: Store) => void) => void,\n}\n\nconst dosMiddleware: ThunkMiddleware<any> = (store) => (next) => (action) => {\n    function asyncStore(callback: (store: any) => void) {\n        setTimeout(() => callback(store), 4);\n    }\n\n    const actionWithAsyncDispatch =\n        Object.assign({}, action, { asyncStore });\n\n    next(actionWithAsyncDispatch);\n};\n\nconst nonSerializableStoreMap: { [uid: string]: NonSerializableStore } = {};\n\nexport function makeNonSerializableStore(options: Partial<DosOptions>): NonSerializableStore {\n    return {\n        root: null as any,\n        loadedBundle: null,\n        ci: null,\n        cache: new CacheNoop(),\n        options,\n        layers: null,\n    };\n}\n\nexport function makeStore(nonSerializableStore: NonSerializableStore, options: Partial<DosOptions>) {\n    const { storeUid, slice } = createInitSlice();\n    const store = configureStore({\n        reducer: {\n            init: slice.reducer,\n            i18n: i18nSlice.reducer,\n            auth: authSlice.reducer,\n            ui: uiSlice.reducer,\n            dos: dosSlice.reducer,\n            storage: storageSlice.reducer,\n            editor: editorSlice.reducer,\n        },\n        middleware: (getDefault) => {\n            const all = getDefault();\n            all.push(dosMiddleware);\n            return all;\n        },\n    });\n    nonSerializableStoreMap[storeUid] = nonSerializableStore;\n    if (options.sockdriveBackend && sockdriveBackendNames.indexOf(options.sockdriveBackend.name) === -1) {\n        sockdriveBackendNames.push(options.sockdriveBackend.name);\n        sockdriveBackend[options.sockdriveBackend.name] = {\n            sockdriveEndpoint: \"https://\" + options.sockdriveBackend.host,\n            sockdriveWssEndpoint: \"wss://\" + options.sockdriveBackend.host,\n        };\n        store.dispatch(initSlice.actions.setSockdriveBackendName(options.sockdriveBackend.name));\n    }\n    return store;\n};\n\nexport interface State {\n    init: InitState,\n    ui: UiState,\n    auth: AuthState,\n    dos: DosState,\n    i18n: I18NState,\n    editor: EditorState,\n    storage: StorageState,\n}\n\nexport type Store = ReturnType<typeof makeStore>;\n\nexport function getNonSerializableStore(storeOrState: any): NonSerializableStore {\n    if (typeof storeOrState.getState === \"function\") {\n        return nonSerializableStoreMap[storeOrState.getState().init.uid];\n    } else {\n        return nonSerializableStoreMap[storeOrState.init.uid];\n    }\n}\n\nexport function useNonSerializableStore() {\n    return getNonSerializableStore(useStore());\n}\n\nexport function postJsDosEvent(nonSerializableStore: NonSerializableStore, event: DosEvent, ci?: CommandInterface) {\n    if (nonSerializableStore.options.onEvent) {\n        setTimeout(() => {\n            nonSerializableStore.options.onEvent?.(event, ci);\n        }, 4);\n    }\n}\n\nexport function getState(store: Store): State {\n    return store.getState() as any;\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { DosAction, getNonSerializableStore, makeStore, postJsDosEvent } from \"../store\";\nimport { Emulators } from \"emulators\";\nimport { lStorage } from \"../host/lstorage\";\n\nconst alphabet = \"qwertyuiopasdfghjklzxcvbnm1234567890\";\ndeclare const emulators: Emulators;\nexport interface BundleConfig {\n    name?: string,\n    version?: string,\n    backend?: string,\n    render?: string,\n};\n\nexport const BackendValues = <const>[\"dosbox\", \"dosboxX\"];\nexport type Backend = typeof BackendValues[number];\n\nexport const RenderBackendValues = <const>[\"webgl\", \"canvas\"];\nexport type RenderBackend = typeof RenderBackendValues[number];\n\nexport const RenderAspectValues = <const>[\"AsIs\", \"1/1\", \"5/4\", \"4/3\", \"16/10\", \"16/9\", \"Fit\"];\nexport type RenderAspect = typeof RenderAspectValues[number];\nexport const FitConstant = 65535;\n\nexport const ImageRenderingValues = <const>[\"pixelated\", \"smooth\"];\nexport type ImageRendering = typeof ImageRenderingValues[number];\n\nexport interface EmulatorStats {\n    cyclesPerMs: number,\n    nonSkippableSleepPreSec: number,\n    sleepPerSec: number,\n    sleepTimePerSec: number,\n    framePerSec: number,\n    soundPerSec: number,\n    msgSentPerSec: number,\n    msgRecvPerSec: number,\n    netSent: number,\n    netRecv: number,\n    driveSent: number,\n    driveRecv: number,\n    driveRecvTime: number,\n    driveCacheHit: number,\n    driveCacheMiss: number,\n    driveCacheUsed: number,\n    driveIo: { read: number, write: number }[];\n};\n\nconst initialState: {\n    step:\n    \"emu-init\" | \"emu-error\" | \"emu-ready\" |\n    \"bnd-load\" | \"bnd-error\" | \"bnd-config\" | \"bnd-ready\" |\n    \"bnd-play\",\n    emuVersion: string,\n    worker: boolean,\n    backend: Backend,\n    backendLocked: boolean,\n    backendHardware: boolean,\n    renderBackend: RenderBackend,\n    renderAspect: RenderAspect,\n    volume: number,\n    mobileControls: boolean,\n    mirroredControls: boolean,\n    scaleControls: number,\n    mouseSensitivity: number,\n    mouseCapture: boolean,\n    paused: boolean,\n    error: null | undefined | string,\n    bundle: string | null,\n    config: BundleConfig,\n    stats: EmulatorStats,\n    ci: boolean,\n    ciStartedAt: number,\n    network: {\n        server: \"netherlands\" | \"newyork\" | \"singapore\",\n        room: string,\n        ipx: \"connecting\" | \"connected\" | \"disconnected\" | \"error\",\n    },\n    imageRendering: ImageRendering,\n    sockdriveWrite: boolean,\n    sockdriveInfo: { drive: string, write: boolean}[],\n    softKeyboard: boolean,\n    softKeyboardLayout: string[][][],\n    softKeyboardSymbols: {[key: string]: string}[],\n    softKeyboardActiveSymbols: number,\n    softKeyboardActiveLayout: number,\n    noCursor: boolean,\n} = {\n    step: \"emu-init\",\n    emuVersion: \"-\",\n    error: null,\n    bundle: null,\n    config: {},\n    worker: lStorage.getItem(\"worker\") !== \"false\",\n    backend: (lStorage.getItem(\"backend\") ?? \"dosbox\") as Backend,\n    backendLocked: false,\n    backendHardware: (lStorage.getItem(\"backendHardware\") !== \"false\"),\n    renderBackend: (lStorage.getItem(\"renderBackend\") ?? \"webgl\") as RenderBackend,\n    renderAspect: (lStorage.getItem(\"renderAspect\") ?? \"AsIs\") as RenderAspect,\n    volume: (Number.parseFloat(lStorage.getItem(\"volume\") ?? \"1.0\")),\n    mobileControls: false,\n    mirroredControls: lStorage.getItem(\"mirroredControls\") === \"true\",\n    scaleControls: (Number.parseFloat(lStorage.getItem(\"scaleControls\") ?? \"0.2\")),\n    mouseSensitivity: (Number.parseFloat(lStorage.getItem(\"mouse_sensitivity\") ?? \"1.0\")),\n    mouseCapture: false,\n    paused: false,\n    stats: {\n        cyclesPerMs: 0,\n        nonSkippableSleepPreSec: 0,\n        sleepPerSec: 0,\n        sleepTimePerSec: 0,\n        framePerSec: 0,\n        soundPerSec: 0,\n        msgSentPerSec: 0,\n        msgRecvPerSec: 0,\n        netRecv: 0,\n        netSent: 0,\n        driveSent: 0,\n        driveRecv: 0,\n        driveRecvTime: 0,\n        driveCacheHit: 0,\n        driveCacheMiss: 0,\n        driveCacheUsed: 0,\n        driveIo: [],\n    },\n    network: {\n        server: (lStorage.getItem(\"net.server\") ?? \"netherlands\") as any,\n        room: randomRoom(),\n        ipx: \"disconnected\",\n    },\n    ci: false,\n    ciStartedAt: 0,\n    imageRendering: (lStorage.getItem(\"imageRendering\") ?? \"pixelated\") as any,\n    sockdriveWrite: true,\n    sockdriveInfo: [],\n    softKeyboard: false,\n    softKeyboardLayout: [\n        [\n            [\n                \"{esc} {f1} {f2} {f3} {f4}\",\n                \"0 1 2 3 4\",\n                \"5 6 7 8 9\",\n                \"{ } ( ) {shift}\",\n                \"{layout} {ctrl} {alt} {space}\",\n            ],\n            [\n                \"{f5} {f6} {f7} {f8}\",\n                \"{pgup} {pgdown} {bksp}\",\n                \"\",\n                \"{up}\",\n                \"{left} {down} {right}\",\n            ],\n            [\n                \"{f9} {f10} {f11} {f12}\",\n                \"{del} {kp7} {kp8} {kp9}\",\n                \"{tab} {kp4} {kp5} {kp6}\",\n                \"- {kp1} {kp2} {kp3}\",\n                \"+ {kp0} . {enter}\",\n            ],\n        ],\n        [\n            [\n                \"{esc} ` 1 2 3 4 5 6 7 8 9 0 ( ) - = {bksp} {enter}\",\n                \"{tab} q w e r t y u i o p { } \\\\ [ ] {up}\",\n                \"{shift} {left} {right} a s d f g h j k l : ; ' [ {down}\",\n                \"{layout} {symbols} {alt} {ctrl} z x c v b n m , . / ] {space}\",\n            ],\n        ],\n    ],\n    softKeyboardSymbols: [\n        {\n            \"{esc}\": \"\",\n            \"{bksp}\": \"\",\n            \"{enter}\": \"\",\n            \"{up}\": \"\",\n            \"{down}\": \"\",\n            \"{left}\": \"\",\n            \"{right}\": \"\",\n            \"{shift}\": \"\",\n            \"{layout}\": \"\",\n            \"{pgup}\": \"PgUp\",\n            \"{pgdown}\": \"PgDown\",\n            \"{kp7}\": \"\",\n            \"{kp8}\": \"\",\n            \"{kp9}\": \"\",\n            \"{kp5}\": \"5\",\n            \"{kp4}\": \"\",\n            \"{kp6}\": \"\",\n            \"{kp1}\": \"\",\n            \"{kp2}\": \"\",\n            \"{kp3}\": \"\",\n            \"{kp0}\": \"0\",\n            \"{symbols}\": \"En/Ru\",\n        },\n        {\n            \"q\": \"\", \"w\": \"\", \"e\": \"\", \"r\": \"\", \"t\": \"\",\n            \"y\": \"\", \"u\": \"\", \"i\": \"\", \"o\": \"\", \"p\": \"\",\n            \"{\": \"\", \"}\": \"\", \"a\": \"\", \"s\": \"\", \"d\": \"\",\n            \"f\": \"\", \"g\": \"\", \"h\": \"\", \"j\": \"\", \"k\": \"\",\n            \"l\": \"\", \";\": \"\", \"'\": \"\", \"z\": \"\", \"x\": \"\",\n            \"c\": \"\", \"v\": \"\", \"b\": \"\", \"n\": \"\", \"m\": \"\",\n            \",\": \"\", \".\": \"\",\n        },\n    ],\n    softKeyboardActiveSymbols: 0,\n    softKeyboardActiveLayout: 0,\n    noCursor: false,\n};\n\nexport type DosState = typeof initialState;\n\nexport const dosSlice = createSlice({\n    name: \"dos\",\n    initialState,\n    reducers: {\n        emuReady: (s, a: { payload: string }) => {\n            s.step = \"emu-ready\";\n            s.emuVersion = a.payload;\n        },\n        emuError: (s, a: { payload: string }) => {\n            s.step = \"emu-error\";\n            s.error = a.payload ?? \"Unexpeceted error\";\n        },\n        bndLoad: (s, a: { payload: string }) => {\n            s.step = \"bnd-load\";\n            s.bundle = a.payload;\n        },\n        bndError: (s, a: { payload: string }) => {\n            s.step = \"bnd-error\";\n            s.error = a.payload ?? \"Unexpeceted error\";\n        },\n        bndConfig: (s) => {\n            s.step = \"bnd-config\";\n        },\n        bndReady: (s, a: { payload: BundleConfig }) => {\n            s.step = \"bnd-ready\";\n            s.config = a.payload;\n        },\n        bndPlay: (s, a) => {\n            s.step = \"bnd-play\";\n            (a as unknown as DosAction).asyncStore((store) => {\n                postJsDosEvent(getNonSerializableStore(store), \"bnd-play\");\n            });\n        },\n        dosWorker: (s, a: { payload: boolean }) => {\n            s.worker = a.payload;\n            lStorage.setItem(\"worker\", s.worker ? \"true\" : \"false\");\n        },\n        dosBackend: (s, a: { payload: Backend }) => {\n            s.backend = a.payload as Backend;\n        },\n        dosBackendLocked: (s, a: { payload: boolean }) => {\n            s.backendLocked = a.payload;\n        },\n        dosBackendHardware: (s, a: { payload: boolean }) => {\n            s.backendHardware = a.payload;\n            lStorage.setItem(\"backendHardware\", s.backendHardware ? \"true\" : \"false\");\n        },\n        renderBackend: (s, a: { payload: RenderBackend }) => {\n            s.renderBackend = a.payload;\n            lStorage.setItem(\"renderBackend\", s.renderBackend);\n        },\n        renderAspect: (s, a: { payload: RenderAspect }) => {\n            s.renderAspect = a.payload;\n            lStorage.setItem(\"renderAspect\", s.renderAspect);\n        },\n        imageRendering: (s, a: { payload: ImageRendering }) => {\n            s.imageRendering = a.payload;\n            lStorage.setItem(\"imageRendering\", s.imageRendering);\n        },\n        volume: (s, a: { payload: number }) => {\n            s.volume = a.payload;\n            lStorage.setItem(\"volume\", s.volume + \"\");\n        },\n        mouseSensitivity: (s, a: { payload: number }) => {\n            s.mouseSensitivity = a.payload;\n            lStorage.setItem(\"mouse_sensitivity\", s.mouseSensitivity + \"\");\n        },\n        mouseCapture: (s, a: { payload: boolean }) => {\n            s.mouseCapture = a.payload;\n        },\n        paused: (s, a: { payload: boolean }) => {\n            s.paused = a.payload;\n        },\n        stats: (s, a: { payload: EmulatorStats }) => {\n            s.stats = a.payload;\n        },\n        ci: (s, a: { payload: boolean }) => {\n            s.ci = a.payload;\n            if (a.payload) {\n                s.ciStartedAt = Date.now();\n            }\n        },\n        connectIpx: (s, a: { payload: { room: string, address: string } }) => {\n            if (s.network.ipx === \"connected\") {\n                throw new Error(\"Already connected\");\n            }\n\n            if (!s.ci) {\n                throw new Error(\"DOS is not started\");\n            }\n\n            const { room, address } = a.payload;\n            s.network.ipx = \"connecting\";\n            (a as unknown as DosAction).asyncStore((store) => {\n                const nonSerializableStore = getNonSerializableStore(store);\n                if (!nonSerializableStore.ci) {\n                    throw new Error(\"DOS is not started\");\n                }\n\n                const canonicalAddress = address.endsWith(\"/\") ?\n                    address.substring(0, address.length - 1) :\n                    address;\n\n                nonSerializableStore.ci.networkConnect(0 /* NetworkType.NETWORK_DOSBOX_IPX */,\n                    canonicalAddress + \":1900/ipx/\" + room.replaceAll(\"@\", \"_\"))\n                    .then(() => {\n                        store.dispatch(dosSlice.actions.statusIpx(\"connected\"));\n                    })\n                    .catch((e) => {\n                        store.dispatch(dosSlice.actions.statusIpx(\"error\"));\n                        console.error(e);\n                    });\n            });\n        },\n        statusIpx: (s, a: { payload: \"error\" | \"connected\" | \"connecting\" }) => {\n            s.network.ipx = a.payload;\n        },\n        disconnectIpx: (s, a) => {\n            s.network.ipx = \"disconnected\";\n            (a as unknown as DosAction).asyncStore((store) => {\n                getNonSerializableStore(store).ci?.networkDisconnect(0 /* IPX */);\n            });\n        },\n        setRoom: (s, a: { payload: string }) => {\n            s.network.room = a.payload;\n        },\n        setServer: (s, a: { payload: typeof initialState.network.server }) => {\n            s.network.server = a.payload;\n            lStorage.setItem(\"net.server\", a.payload);\n        },\n        setSockdriveWrite: (s, a: { payload: boolean }) => {\n            s.sockdriveWrite = a.payload;\n        },\n        addSockdriveInfo: (s, a: { payload: { drive: string, write: boolean} }) => {\n            s.sockdriveInfo.push(a.payload);\n        },\n        mobileControls: (s, a: { payload: boolean }) => {\n            s.mobileControls = a.payload;\n        },\n        mirroredControls: (s, a: { payload: boolean }) => {\n            s.mirroredControls = a.payload;\n            lStorage.setItem(\"mirroredControls\", a.payload ? \"true\" : \"false\");\n        },\n        scaleControls: (s, a: { payload: number }) => {\n            s.scaleControls = a.payload;\n            lStorage.setItem(\"scaleControls\", s.scaleControls + \"\");\n        },\n        softKeyboard: (s, a: { payload: boolean }) => {\n            s.softKeyboard = a.payload;\n        },\n        softKeyboardLayout: (s, a: { payload: string[] | string[][][] }) => {\n            if (a.payload.length > 0 && Array.isArray(a.payload[0])) {\n                s.softKeyboardLayout = a.payload as string[][][];\n            } else {\n                s.softKeyboardLayout = [[a.payload as string[]]];\n            }\n        },\n        softKeyboardSymbols: (s, a: { payload: {[key: string]: string}[] }) => {\n            s.softKeyboardSymbols = a.payload;\n        },\n        softKeyboardActiveSymbols: (s, a: { payload: number }) => {\n            s.softKeyboardActiveSymbols = a.payload;\n        },\n        softKeyboardActiveLayout: (s, a: { payload: number }) => {\n            s.softKeyboardActiveLayout = a.payload;\n        },\n        noCursor: (s, a: { payload: boolean }) => {\n            s.noCursor = a.payload;\n        },\n    },\n});\n\nlet emulatorsReady = false;\nexport function initEmulators(store: ReturnType<typeof makeStore>, pathPrefix: string) {\n    store.dispatch(async (dispatch) => {\n        try {\n            if (!emulatorsReady) {\n                await initEmulatorsJs(pathPrefix);\n                emulatorsReady = true;\n            }\n            dispatch(dosSlice.actions.emuReady(emulators.version));\n        } catch (e) {\n            console.error(\"Unable to init emulators.js\", e);\n            dispatch(dosSlice.actions.emuError((e as any).message));\n        }\n    });\n}\n\nfunction initEmulatorsJs(pathPrefix: string) {\n    const el = document.querySelector(\"#emulators.js\");\n    if (el !== null) {\n        return Promise.resolve();\n    }\n\n    return new Promise<void>((resolve, reject) => {\n        const script = document.createElement(\"script\");\n        script.async = true;\n        script.type = \"text/javascript\";\n        script.src = pathPrefix + \"emulators.js\";\n        script.onload = () => {\n            emulators.pathPrefix = pathPrefix;\n            resolve();\n        };\n        script.onerror = (err) => {\n            reject(new Error(\"Unable to add emulators.js. Probably you should set the \" +\n                \"'pathPrefix' option to point to the js-dos folder.\"));\n        };\n\n        document.head.appendChild(script);\n    });\n};\n\nfunction randomSymbol() {\n    return alphabet[Math.round(Math.random() * (alphabet.length - 1))];\n}\n\nfunction randomRoom() {\n    return randomSymbol() + randomSymbol() + randomSymbol();\n}\n","import{options as r,Fragment as e}from\"preact\";export{Fragment}from\"preact\";var t=/[\"&<]/;function n(r){if(0===r.length||!1===t.test(r))return r;for(var e=0,n=0,o=\"\",f=\"\";n<r.length;n++){switch(r.charCodeAt(n)){case 34:f=\"&quot;\";break;case 38:f=\"&amp;\";break;case 60:f=\"&lt;\";break;default:continue}n!==e&&(o+=r.slice(e,n)),o+=f,e=n+1}return n!==e&&(o+=r.slice(e,n)),o}var o=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,f=0,i=Array.isArray;function u(e,t,n,o,i,u){var a,c,p={};for(c in t)\"ref\"==c?a=t[c]:p[c]=t[c];var l={type:e,props:p,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--f,__i:-1,__u:0,__source:i,__self:u};if(\"function\"==typeof e&&(a=e.defaultProps))for(c in a)void 0===p[c]&&(p[c]=a[c]);return r.vnode&&r.vnode(l),l}function a(r){var t=u(e,{tpl:r,exprs:[].slice.call(arguments,1)});return t.key=t.__v,t}var c={},p=/[A-Z]/g;function l(e,t){if(r.attr){var f=r.attr(e,t);if(\"string\"==typeof f)return f}if(\"ref\"===e||\"key\"===e)return\"\";if(\"style\"===e&&\"object\"==typeof t){var i=\"\";for(var u in t){var a=t[u];if(null!=a&&\"\"!==a){var l=\"-\"==u[0]?u:c[u]||(c[u]=u.replace(p,\"-$&\").toLowerCase()),_=\";\";\"number\"!=typeof a||l.startsWith(\"--\")||o.test(l)||(_=\"px;\"),i=i+l+\":\"+a+_}}return e+'=\"'+i+'\"'}return null==t||!1===t||\"function\"==typeof t||\"object\"==typeof t?\"\":!0===t?e:e+'=\"'+n(t)+'\"'}function _(r){if(null==r||\"boolean\"==typeof r||\"function\"==typeof r)return null;if(\"object\"==typeof r){if(void 0===r.constructor)return r;if(i(r)){for(var e=0;e<r.length;e++)r[e]=_(r[e]);return r}}return n(\"\"+r)}export{u as jsx,l as jsxAttr,u as jsxDEV,_ as jsxEscape,a as jsxTemplate,u as jsxs};\n//# sourceMappingURL=jsxRuntime.module.js.map\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { useT } from \"../../i18n\";\nimport { State } from \"../../store\";\nimport { editorSlice } from \"../../store/editor\";\nimport { dosboxconf } from \"./defaults\";\nimport { dosSlice } from \"../../store/dos\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { sockdriveBackend } from \"../../store/init\";\nimport { uiSlice } from \"../../store/ui\";\n\nconst imgmount = \"imgmount\\\\s+(\\\\d+)\\\\s+sockdrive\\\\s+([^\\\\s]+)\\\\s+([^\\\\s]+)\\\\s+([^\\\\s]+)\\\\s*$\";\nconst cleanup = \"imgmount\\\\s+(\\\\d+)\\\\s+sockdrive\\\\s+.*$\";\n\ninterface Sockdrive {\n    num: string,\n    backend: string,\n    owner: string,\n    drive: string,\n}\n\nexport function EditorConf() {\n    const t = useT();\n    const bundleConfig = useSelector((state: State) => state.editor.bundleConfig);\n    const account = useSelector((state: State) => state.auth.account);\n    const backend = useSelector((state: State) => state.dos.backend);\n    const { sockdriveEndpoint, sockdriveWssEndpoint } = useSelector((state: State) =>\n        sockdriveBackend[state.init.sockdriveBackendName] ??\n        sockdriveBackend[\"js-dos\"]);\n    const dispatch = useDispatch();\n    const [myDrives, setMyDrives] = useState<{ name: string, owner: string }[]>([]);\n\n    useEffect(() => {\n        if (!account) {\n            setMyDrives([]);\n        } else {\n            fetch(sockdriveEndpoint + \"/list/drives/\" + account.token)\n                .then((r) => r.json())\n                .then(setMyDrives)\n                .catch(console.error);\n        }\n    }, [account?.token, sockdriveEndpoint]);\n\n    function parseSockDrives(conf: string) {\n        const drives: { [num: string]: Sockdrive } = {};\n        const re = new RegExp(imgmount, \"gm\");\n        let m: RegExpExecArray | null;\n        while (m = re.exec(conf)) {\n            /* eslint-disable-next-line no-unused-vars */\n            const [_, num, backend, owner, drive] = m;\n            drives[num] = {\n                num,\n                backend,\n                owner,\n                drive,\n            };\n        }\n        return drives;\n    }\n\n    const [sockdrives, setSockdrives] = useState<{ [num: string]: Sockdrive }>(\n        parseSockDrives(bundleConfig?.dosboxConf ?? \"\"));\n\n    function setSockdrivesAndUpdateConf(sockdrives: { [num: string]: Sockdrive }) {\n        setSockdrives(sockdrives);\n        if (bundleConfig) {\n            const parts: string[] = [];\n            for (const next of Object.values(sockdrives)) {\n                if (next.owner.length > 0 && next.drive.length > 0) {\n                    parts.push(`imgmount ${next.num} sockdrive ${next.backend} ${next.owner} ${next.drive}`);\n                }\n            }\n\n            let contents = bundleConfig.dosboxConf;\n            contents = contents.replaceAll(new RegExp(cleanup, \"gm\"), \"\");\n            if (parts.length > 0) {\n                let start = contents.indexOf(\"[autoexec]\");\n                if (start === -1) {\n                    start = contents.length;\n                } else {\n                    start += 10;\n                }\n                const footer = contents.substring(start);\n                contents = contents.substring(0, start);\n                contents += \"\\n\" + parts.join(\"\\n\") + \"\\n\" + footer.trim();\n            }\n            updateDosboxConf(contents);\n        }\n    }\n\n    function changeConfig(contents: string) {\n        setSockdrives(parseSockDrives(contents));\n        updateDosboxConf(contents);\n    }\n\n    function updateDosboxConf(newConf: string) {\n        dispatch(dosSlice.actions.mouseCapture(newConf.indexOf(\"autolock=true\") > 0));\n        dispatch(editorSlice.actions.dosboxConf(newConf));\n        dispatch(dosSlice.actions.dosBackendLocked(newConf.indexOf(\"sockdrive\") >= 0));\n        dispatch(dosSlice.actions.noCursor(newConf.indexOf(\"sockdrive\") >= 0));\n    }\n\n    if (bundleConfig === null) {\n        return null;\n    }\n\n    return <div class=\"editor-conf-frame flex flex-col flex-grow w-full gap-2\">\n        <div class=\"\">{t(\"dosboxconf_template\")}</div>\n        <div class=\"flex flex-row flex-wrap items-center gap-2\">\n            {dosboxconf\n                .map(({ name, backend, contents }) => {\n                    return <button class=\"btn btn-sm\"\n                        onClick={() => {\n                            dispatch(dosSlice.actions.dosBackend(backend === \"dosboxX\" ? \"dosboxX\" : \"dosbox\"));\n                            changeConfig(contents.replaceAll(\"{wss-makevm}\", sockdriveWssEndpoint));\n                        }}>\n                        {name}\n                    </button>;\n                })}\n        </div>\n        {backend === \"dosboxX\" && <>\n            <button class=\"btn btn-ghost btn-xs self-start\" target=\"_blank\"\n                onClick={() => dispatch(uiSlice.actions.frameFatDrives())}>\n                {t(\"net_drives\")}:\n                <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                    stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"m12.75 15 3-3m0 0-3-3m3\n                         3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\" />\n                </svg>\n            </button>\n            {[\"2\", \"3\"].map((num) => {\n                return <div class=\"flex flex-row justify-start items-center gap-3 w-full\">\n                    <p>{num === \"2\" ? \"C:\" : \"D:\"}</p>\n                    <div class=\"flex flex-col gap-2\">\n                        <div class=\"flex flex-row gap-1 items-center\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                                stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M17.982 18.725A7.488 7.488\n                                    0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963\n                                    0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3\n                                    3 0 1 1-6 0 3 3 0 0 1 6 0Z\" />\n                            </svg>\n                            <input class=\"input input-xs\" type=\"text\" value={sockdrives[num]?.owner ?? \"\"}\n                                onChange={(e) => {\n                                    const newSockdrives = { ...sockdrives };\n                                    newSockdrives[num] = {\n                                        num,\n                                        backend: sockdrives[num]?.backend ?? sockdriveWssEndpoint,\n                                        owner: e.currentTarget.value,\n                                        drive: sockdrives[num]?.drive ?? \"\",\n                                    };\n                                    setSockdrivesAndUpdateConf(newSockdrives);\n                                }}></input>\n                        </div>\n                        <div class=\"flex flex-row gap-1 items-center\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                                stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M20.25 6.375c0 2.278-3.694\n                                    4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75\n                                    4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25\n                                    4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5\n                                    0v3.75C20.25 16.153\n                                    16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25\n                                    4.125s-8.25-1.847-8.25-4.125\" />\n                            </svg>\n\n                            <input class=\"input input-xs\" type=\"text\" value={sockdrives[num]?.drive ?? \"\"}\n                                onChange={(e) => {\n                                    const newSockdrives = { ...sockdrives };\n                                    newSockdrives[num] = {\n                                        num,\n                                        backend: sockdrives[num]?.backend ?? sockdriveWssEndpoint,\n                                        owner: sockdrives[num]?.owner ?? \"\",\n                                        drive: e.currentTarget.value,\n                                    };\n                                    setSockdrivesAndUpdateConf(newSockdrives);\n                                }}></input>\n                        </div>\n                    </div>\n                    <div class=\"dropdown dropdown-bottom dropdown-end\">\n                        <button tabIndex={0} role=\"button\" class=\"btn btn-sm\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n                                viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                                    d=\"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5\n                                        0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25\n                                        2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25\n                                        0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0\n                                        1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776\" />\n                            </svg>\n                        </button>\n                        <ul tabIndex={0} class=\"dropdown-content z-[1] menu p-2 shadow bg-base-100\n                            rounded-box w-52 max-h-80 overflow-auto\">\n                            {myDrives.map(({ name, owner }) => {\n                                return <li onClick={(e) => {\n                                    const newSockdrives = { ...sockdrives };\n                                    newSockdrives[num] = {\n                                        num,\n                                        owner,\n                                        backend: sockdriveWssEndpoint,\n                                        drive: name,\n                                    };\n                                    setSockdrivesAndUpdateConf(newSockdrives);\n                                    e.currentTarget.parentElement!.blur();\n                                }}><a>{name}</a></li>;\n                            })}\n                        </ul>\n                    </div>\n                    <button class=\"btn btn-sm\" onClick={() => {\n                        const newSockdrives = { ...sockdrives };\n                        delete newSockdrives[num];\n                        setSockdrivesAndUpdateConf(newSockdrives);\n                    }}>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\"\n                            stroke=\"currentColor\" class=\"w-4 h-4\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                                d=\"M12 9.75 14.25 12m0 0 2.25 2.25M14.25 12l2.25-2.25M14.25 12 12 14.25m-2.58\n                                4.92-6.374-6.375a1.125 1.125 0 0 1 0-1.59L9.42 4.83c.21-.211.497-.33.795-.33H19.5a2.25\n                                2.25 0 0 1 2.25 2.25v10.5a2.25 2.25 0 0 1-2.25 2.25h-9.284c-.298 0-.585-.119-.795-.33Z\"\n                            />\n                        </svg>\n                    </button>\n                </div>;\n            })}\n        </>}\n        <textarea class=\"flex-grow\" value={bundleConfig.dosboxConf}\n            onChange={(e) => changeConfig(e.currentTarget?.value ?? \"\")} />\n    </div>;\n}\n","/*! react-checkbox-tree - v1.8.0 | 2022 */\n/*! For license information please see index.browser.js.LICENSE.txt */\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"react\")):\"function\"==typeof define&&define.amd?define([\"react\"],t):\"object\"==typeof exports?exports.ReactCheckboxTree=t(require(\"react\")):e.ReactCheckboxTree=t(e.React)}(self,(e=>(()=>{var t={4184:(e,t)=>{var r;!function(){\"use strict\";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if(\"string\"===i||\"number\"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var a=o.apply(null,r);a&&e.push(a)}}else if(\"object\"===i)if(r.toString===Object.prototype.toString)for(var c in r)n.call(r,c)&&r[c]&&e.push(c);else e.push(r.toString())}}return e.join(\" \")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},8552:(e,t,r)=>{var n=r(852)(r(5639),\"DataView\");e.exports=n},1989:(e,t,r)=>{var n=r(1789),o=r(401),i=r(7667),a=r(1327),c=r(1866);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=c,e.exports=s},8407:(e,t,r)=>{var n=r(7040),o=r(4125),i=r(2117),a=r(7518),c=r(4705);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=c,e.exports=s},7071:(e,t,r)=>{var n=r(852)(r(5639),\"Map\");e.exports=n},3369:(e,t,r)=>{var n=r(4785),o=r(1285),i=r(6e3),a=r(9916),c=r(5265);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=c,e.exports=s},3818:(e,t,r)=>{var n=r(852)(r(5639),\"Promise\");e.exports=n},8525:(e,t,r)=>{var n=r(852)(r(5639),\"Set\");e.exports=n},8668:(e,t,r)=>{var n=r(3369),o=r(619),i=r(2385);function a(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},6384:(e,t,r)=>{var n=r(8407),o=r(7465),i=r(3779),a=r(7599),c=r(4758),s=r(4309);function l(e){var t=this.__data__=new n(e);this.size=t.size}l.prototype.clear=o,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=c,l.prototype.set=s,e.exports=l},2705:(e,t,r)=>{var n=r(5639).Symbol;e.exports=n},1149:(e,t,r)=>{var n=r(5639).Uint8Array;e.exports=n},577:(e,t,r)=>{var n=r(852)(r(5639),\"WeakMap\");e.exports=n},4963:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}},4636:(e,t,r)=>{var n=r(2545),o=r(5694),i=r(1469),a=r(4144),c=r(5776),s=r(6719),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),u=!r&&o(e),p=!r&&!u&&a(e),f=!r&&!u&&!p&&s(e),d=r||u||p||f,h=d?n(e.length,String):[],y=h.length;for(var b in e)!t&&!l.call(e,b)||d&&(\"length\"==b||p&&(\"offset\"==b||\"parent\"==b)||f&&(\"buffer\"==b||\"byteLength\"==b||\"byteOffset\"==b)||c(b,y))||h.push(b);return h}},2488:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}},2908:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},8470:(e,t,r)=>{var n=r(7813);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},8866:(e,t,r)=>{var n=r(2488),o=r(1469);e.exports=function(e,t,r){var i=t(e);return o(e)?i:n(i,r(e))}},4239:(e,t,r)=>{var n=r(2705),o=r(9607),i=r(2333),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?\"[object Undefined]\":\"[object Null]\":a&&a in Object(e)?o(e):i(e)}},9454:(e,t,r)=>{var n=r(4239),o=r(7005);e.exports=function(e){return o(e)&&\"[object Arguments]\"==n(e)}},939:(e,t,r)=>{var n=r(2492),o=r(7005);e.exports=function e(t,r,i,a,c){return t===r||(null==t||null==r||!o(t)&&!o(r)?t!=t&&r!=r:n(t,r,i,a,e,c))}},2492:(e,t,r)=>{var n=r(6384),o=r(7114),i=r(8351),a=r(6096),c=r(4160),s=r(1469),l=r(4144),u=r(6719),p=\"[object Arguments]\",f=\"[object Array]\",d=\"[object Object]\",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,y,b,v){var g=s(e),m=s(t),x=g?f:c(e),O=m?f:c(t),k=(x=x==p?d:x)==d,j=(O=O==p?d:O)==d,_=x==O;if(_&&l(e)){if(!l(t))return!1;g=!0,k=!1}if(_&&!k)return v||(v=new n),g||u(e)?o(e,t,r,y,b,v):i(e,t,x,r,y,b,v);if(!(1&r)){var w=k&&h.call(e,\"__wrapped__\"),C=j&&h.call(t,\"__wrapped__\");if(w||C){var P=w?e.value():e,E=C?t.value():t;return v||(v=new n),b(P,E,r,y,v)}}return!!_&&(v||(v=new n),a(e,t,r,y,b,v))}},8458:(e,t,r)=>{var n=r(3560),o=r(5346),i=r(3218),a=r(346),c=/^\\[object .+?Constructor\\]$/,s=Function.prototype,l=Object.prototype,u=s.toString,p=l.hasOwnProperty,f=RegExp(\"^\"+u.call(p).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");e.exports=function(e){return!(!i(e)||o(e))&&(n(e)?f:c).test(a(e))}},8749:(e,t,r)=>{var n=r(4239),o=r(1780),i=r(7005),a={};a[\"[object Float32Array]\"]=a[\"[object Float64Array]\"]=a[\"[object Int8Array]\"]=a[\"[object Int16Array]\"]=a[\"[object Int32Array]\"]=a[\"[object Uint8Array]\"]=a[\"[object Uint8ClampedArray]\"]=a[\"[object Uint16Array]\"]=a[\"[object Uint32Array]\"]=!0,a[\"[object Arguments]\"]=a[\"[object Array]\"]=a[\"[object ArrayBuffer]\"]=a[\"[object Boolean]\"]=a[\"[object DataView]\"]=a[\"[object Date]\"]=a[\"[object Error]\"]=a[\"[object Function]\"]=a[\"[object Map]\"]=a[\"[object Number]\"]=a[\"[object Object]\"]=a[\"[object RegExp]\"]=a[\"[object Set]\"]=a[\"[object String]\"]=a[\"[object WeakMap]\"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[n(e)]}},280:(e,t,r)=>{var n=r(5726),o=r(6916),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var r in Object(e))i.call(e,r)&&\"constructor\"!=r&&t.push(r);return t}},2545:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},4757:e=>{e.exports=function(e,t){return e.has(t)}},4429:(e,t,r)=>{var n=r(5639)[\"__core-js_shared__\"];e.exports=n},7114:(e,t,r)=>{var n=r(8668),o=r(2908),i=r(4757);e.exports=function(e,t,r,a,c,s){var l=1&r,u=e.length,p=t.length;if(u!=p&&!(l&&p>u))return!1;var f=s.get(e),d=s.get(t);if(f&&d)return f==t&&d==e;var h=-1,y=!0,b=2&r?new n:void 0;for(s.set(e,t),s.set(t,e);++h<u;){var v=e[h],g=t[h];if(a)var m=l?a(g,v,h,t,e,s):a(v,g,h,e,t,s);if(void 0!==m){if(m)continue;y=!1;break}if(b){if(!o(t,(function(e,t){if(!i(b,t)&&(v===e||c(v,e,r,a,s)))return b.push(t)}))){y=!1;break}}else if(v!==g&&!c(v,g,r,a,s)){y=!1;break}}return s.delete(e),s.delete(t),y}},8351:(e,t,r)=>{var n=r(2705),o=r(1149),i=r(7813),a=r(7114),c=r(8776),s=r(1814),l=n?n.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,r,n,l,p,f){switch(r){case\"[object DataView]\":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case\"[object ArrayBuffer]\":return!(e.byteLength!=t.byteLength||!p(new o(e),new o(t)));case\"[object Boolean]\":case\"[object Date]\":case\"[object Number]\":return i(+e,+t);case\"[object Error]\":return e.name==t.name&&e.message==t.message;case\"[object RegExp]\":case\"[object String]\":return e==t+\"\";case\"[object Map]\":var d=c;case\"[object Set]\":var h=1&n;if(d||(d=s),e.size!=t.size&&!h)return!1;var y=f.get(e);if(y)return y==t;n|=2,f.set(e,t);var b=a(d(e),d(t),n,l,p,f);return f.delete(e),b;case\"[object Symbol]\":if(u)return u.call(e)==u.call(t)}return!1}},6096:(e,t,r)=>{var n=r(8234),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,i,a,c){var s=1&r,l=n(e),u=l.length;if(u!=n(t).length&&!s)return!1;for(var p=u;p--;){var f=l[p];if(!(s?f in t:o.call(t,f)))return!1}var d=c.get(e),h=c.get(t);if(d&&h)return d==t&&h==e;var y=!0;c.set(e,t),c.set(t,e);for(var b=s;++p<u;){var v=e[f=l[p]],g=t[f];if(i)var m=s?i(g,v,f,t,e,c):i(v,g,f,e,t,c);if(!(void 0===m?v===g||a(v,g,r,i,c):m)){y=!1;break}b||(b=\"constructor\"==f)}if(y&&!b){var x=e.constructor,O=t.constructor;x==O||!(\"constructor\"in e)||!(\"constructor\"in t)||\"function\"==typeof x&&x instanceof x&&\"function\"==typeof O&&O instanceof O||(y=!1)}return c.delete(e),c.delete(t),y}},1957:(e,t,r)=>{var n=\"object\"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},8234:(e,t,r)=>{var n=r(8866),o=r(9551),i=r(3674);e.exports=function(e){return n(e,i,o)}},5050:(e,t,r)=>{var n=r(7019);e.exports=function(e,t){var r=e.__data__;return n(t)?r[\"string\"==typeof t?\"string\":\"hash\"]:r.map}},852:(e,t,r)=>{var n=r(8458),o=r(7801);e.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},9607:(e,t,r)=>{var n=r(2705),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,c=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,c),r=e[c];try{e[c]=void 0;var n=!0}catch(e){}var o=a.call(e);return n&&(t?e[c]=r:delete e[c]),o}},9551:(e,t,r)=>{var n=r(4963),o=r(479),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,c=a?function(e){return null==e?[]:(e=Object(e),n(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=c},4160:(e,t,r)=>{var n=r(8552),o=r(7071),i=r(3818),a=r(8525),c=r(577),s=r(4239),l=r(346),u=\"[object Map]\",p=\"[object Promise]\",f=\"[object Set]\",d=\"[object WeakMap]\",h=\"[object DataView]\",y=l(n),b=l(o),v=l(i),g=l(a),m=l(c),x=s;(n&&x(new n(new ArrayBuffer(1)))!=h||o&&x(new o)!=u||i&&x(i.resolve())!=p||a&&x(new a)!=f||c&&x(new c)!=d)&&(x=function(e){var t=s(e),r=\"[object Object]\"==t?e.constructor:void 0,n=r?l(r):\"\";if(n)switch(n){case y:return h;case b:return u;case v:return p;case g:return f;case m:return d}return t}),e.exports=x},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1789:(e,t,r)=>{var n=r(4536);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return\"__lodash_hash_undefined__\"===r?void 0:r}return o.call(t,e)?t[e]:void 0}},1327:(e,t,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},1866:(e,t,r)=>{var n=r(4536);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?\"__lodash_hash_undefined__\":t,this}},5776:e=>{var t=/^(?:0|[1-9]\\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&(\"number\"==n||\"symbol\"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},7019:e=>{e.exports=function(e){var t=typeof e;return\"string\"==t||\"number\"==t||\"symbol\"==t||\"boolean\"==t?\"__proto__\"!==e:null===e}},5346:(e,t,r)=>{var n,o=r(4429),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+n:\"\";e.exports=function(e){return!!i&&i in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===(\"function\"==typeof r&&r.prototype||t)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,r)=>{var n=r(8470),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0||(r==t.length-1?t.pop():o.call(t,r,1),--this.size,0))}},2117:(e,t,r)=>{var n=r(8470);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},7518:(e,t,r)=>{var n=r(8470);e.exports=function(e){return n(this.__data__,e)>-1}},4705:(e,t,r)=>{var n=r(8470);e.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},4785:(e,t,r)=>{var n=r(1989),o=r(8407),i=r(7071);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},1285:(e,t,r)=>{var n=r(5050);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,r)=>{var n=r(5050);e.exports=function(e){return n(this,e).get(e)}},9916:(e,t,r)=>{var n=r(5050);e.exports=function(e){return n(this,e).has(e)}},5265:(e,t,r)=>{var n=r(5050);e.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}},8776:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},4536:(e,t,r)=>{var n=r(852)(Object,\"create\");e.exports=n},6916:(e,t,r)=>{var n=r(5569)(Object.keys,Object);e.exports=n},1167:(e,t,r)=>{e=r.nmd(e);var n=r(1957),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&n.process,c=function(){try{return i&&i.require&&i.require(\"util\").types||a&&a.binding&&a.binding(\"util\")}catch(e){}}();e.exports=c},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},5639:(e,t,r)=>{var n=r(1957),o=\"object\"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function(\"return this\")();e.exports=i},619:e=>{e.exports=function(e){return this.__data__.set(e,\"__lodash_hash_undefined__\"),this}},2385:e=>{e.exports=function(e){return this.__data__.has(e)}},1814:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},7465:(e,t,r)=>{var n=r(8407);e.exports=function(){this.__data__=new n,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,r)=>{var n=r(8407),o=r(7071),i=r(3369);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(e,t),this.size=r.size,this}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5694:(e,t,r)=>{var n=r(9454),o=r(7005),i=Object.prototype,a=i.hasOwnProperty,c=i.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(e){return o(e)&&a.call(e,\"callee\")&&!c.call(e,\"callee\")};e.exports=s},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,r)=>{var n=r(3560),o=r(1780);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},4144:(e,t,r)=>{e=r.nmd(e);var n=r(5639),o=r(5062),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,c=a&&a.exports===i?n.Buffer:void 0,s=(c?c.isBuffer:void 0)||o;e.exports=s},8446:(e,t,r)=>{var n=r(939);e.exports=function(e,t){return n(e,t)}},3560:(e,t,r)=>{var n=r(4239),o=r(3218);e.exports=function(e){if(!o(e))return!1;var t=n(e);return\"[object Function]\"==t||\"[object GeneratorFunction]\"==t||\"[object AsyncFunction]\"==t||\"[object Proxy]\"==t}},1780:e=>{e.exports=function(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)}},7005:e=>{e.exports=function(e){return null!=e&&\"object\"==typeof e}},6719:(e,t,r)=>{var n=r(8749),o=r(1717),i=r(1167),a=i&&i.isTypedArray,c=a?o(a):n;e.exports=c},3674:(e,t,r)=>{var n=r(4636),o=r(280),i=r(8612);e.exports=function(e){return i(e)?n(e):o(e)}},8306:(e,t,r)=>{var n=r(3369);function o(e,t){if(\"function\"!=typeof e||null!=t&&\"function\"!=typeof t)throw new TypeError(\"Expected a function\");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(o.Cache||n),r}o.Cache=n,e.exports=o},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},2703:(e,t,r)=>{\"use strict\";var n=r(414);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var c=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");throw c.name=\"Invariant Violation\",c}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},5697:(e,t,r)=>{e.exports=r(2703)()},414:e=>{\"use strict\";e.exports=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\"},9787:t=>{\"use strict\";t.exports=e}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={id:e,loaded:!1,exports:{}};return t[e](i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||new Function(\"return this\")()}catch(e){if(\"object\"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var o={};return(()=>{\"use strict\";n.r(o),n.d(o,{default:()=>xe,expandNodesToLevel:()=>me});var e=n(4184),t=n.n(e),r=n(8446),i=n.n(r),a=n(8306),c=n.n(a);let s=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?\"-\":\"_\")),\"\");var l=n(5697),u=n.n(l),p=n(9787),f=n.n(p);function d(e){return d=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},d(e)}var h=[\"children\",\"title\"];function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y.apply(this,arguments)}function b(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function m(e,t){if(t&&(\"object\"===d(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&g(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(n);if(o){var r=x(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return m(this,e)});function a(){return b(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"render\",value:function(){var e=this.props,t=e.children,r=e.title,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,h);return f().createElement(\"button\",y({\"aria-label\":r,title:r,type:\"button\"},n),t)}}])&&v(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(f().PureComponent);O(k,\"propTypes\",{children:u().node.isRequired,title:u().string}),O(k,\"defaultProps\",{title:null});const j=k,_={ALL:\"all\",PARENT:\"parent\",LEAF:\"leaf\"};function w(e){this.message=e,this.stack=Error().stack}w.prototype=Object.create(Error.prototype),w.prototype.name=\"CheckboxTreeError\";const C=w;function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var S=_;const T=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};N(this,e),this.props=t,this.flatNodes=r}var t,r;return t=e,r=[{key:\"setProps\",value:function(e){this.props=e}},{key:\"clone\",value:function(){var t=this,r={};return Object.keys(this.flatNodes).forEach((function(e){var n=t.flatNodes[e];r[e]=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},n)})),new e(this.props,r)}},{key:\"getNode\",value:function(e){return this.flatNodes[e]}},{key:\"reset\",value:function(){this.flatNodes={}}},{key:\"flattenNodes\",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Array.isArray(e)&&0!==e.length){var o=this.props,i=o.disabled,a=o.noCascade;e.forEach((function(e,o){var c=t.nodeHasChildren(e);if(void 0!==t.flatNodes[e.value])throw new C(\"Duplicate value '\".concat(e.value,\"' detected. All node values must be unique.\"));t.flatNodes[e.value]={label:e.label,value:e.value,children:e.children,parent:r,isChild:void 0!==r.value,isParent:c,isLeaf:!c,showCheckbox:void 0===e.showCheckbox||e.showCheckbox,disabled:t.getDisabledState(e,r,i,a),treeDepth:n,index:o},t.flattenNodes(e.children,e,n+1)}))}}},{key:\"nodeHasChildren\",value:function(e){return Array.isArray(e.children)}},{key:\"getDisabledState\",value:function(e,t,r,n){return!!r||!(n||!t.disabled)||Boolean(e.disabled)}},{key:\"deserializeLists\",value:function(e){var t=this,r=[\"checked\",\"expanded\"];Object.keys(this.flatNodes).forEach((function(e){r.forEach((function(r){t.flatNodes[e][r]=!1}))})),r.forEach((function(r){e[r].forEach((function(e){void 0!==t.flatNodes[e]&&(t.flatNodes[e][r]=!0)}))}))}},{key:\"serializeList\",value:function(e){var t=this,r=[];return Object.keys(this.flatNodes).forEach((function(n){t.flatNodes[n][e]&&r.push(n)})),r}},{key:\"expandAllNodes\",value:function(e){var t=this;return Object.keys(this.flatNodes).forEach((function(r){t.flatNodes[r].isParent&&(t.flatNodes[r].expanded=e)})),this}},{key:\"toggleChecked\",value:function(e,t,r,n){var o=this,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=this.flatNodes[e.value],c=[S.PARENT,S.ALL].indexOf(r)>-1,s=[S.LEAF,S.ALL].indexOf(r)>-1;if(a.isLeaf||n){if(e.disabled)return this;this.toggleNode(e.value,\"checked\",t)}else(c||0===a.children.length)&&this.toggleNode(e.value,\"checked\",t),s&&a.children.forEach((function(e){o.toggleChecked(e,t,r,n,!1)}));return i&&!n&&a.isChild&&c&&this.toggleParentStatus(a.parent,r),this}},{key:\"toggleParentStatus\",value:function(e,t){var r=this.flatNodes[e.value];r.isChild?(t===S.ALL&&this.toggleNode(e.value,\"checked\",this.isEveryChildChecked(r)),this.toggleParentStatus(r.parent,t)):this.toggleNode(e.value,\"checked\",this.isEveryChildChecked(r))}},{key:\"isEveryChildChecked\",value:function(e){var t=this;return e.children.every((function(e){return t.getNode(e.value).checked}))}},{key:\"toggleNode\",value:function(e,t,r){return this.flatNodes[e][t]=r,this}}],r&&A(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();function R(e){return R=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},R(e)}function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L.apply(this,arguments)}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function B(e,t){if(t&&(\"object\"===R(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var U=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&q(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=F(n);if(o){var r=F(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return B(this,e)});function a(){return I(this,a),i.apply(this,arguments)}return t=a,r=[{key:\"componentDidMount\",value:function(){this.updateDeterminateProperty()}},{key:\"componentDidUpdate\",value:function(){this.updateDeterminateProperty()}},{key:\"updateDeterminateProperty\",value:function(){var e=this.props.indeterminate;this.checkbox.indeterminate=e}},{key:\"render\",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.props);return delete t.indeterminate,f().createElement(\"input\",L({},t,{ref:function(t){e.checkbox=t},type:\"checkbox\"}))}}],r&&z(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(f().PureComponent);M(U,\"propTypes\",{indeterminate:u().bool}),M(U,\"defaultProps\",{indeterminate:!1});const K=U,H=u().shape({check:u().node,uncheck:u().node,halfCheck:u().node,expandClose:u().node,expandOpen:u().node,expandAll:u().node,collapseAll:u().node,parentClose:u().node,parentOpen:u().node,leaf:u().node}),$=u().shape({collapseAll:u().string.isRequired,expandAll:u().string.isRequired,toggle:u().string.isRequired});function V(e){return V=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},V(e)}function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function J(e,t){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},J(e,t)}function G(e,t){if(t&&(\"object\"===V(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Y(e)}function Y(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Q(e)}function X(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Z=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&J(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Q(o);if(i){var r=Q(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return G(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,c),(t=a.call(this,e)).onCheck=t.onCheck.bind(Y(t)),t.onCheckboxKeyPress=t.onCheckboxKeyPress.bind(Y(t)),t.onCheckboxKeyUp=t.onCheckboxKeyUp.bind(Y(t)),t.onClick=t.onClick.bind(Y(t)),t.onExpand=t.onExpand.bind(Y(t)),t}return r=c,(n=[{key:\"onCheck\",value:function(){var e=this.props,t=e.value;(0,e.onCheck)({value:t,checked:this.getCheckState({toggle:!0})})}},{key:\"onCheckboxKeyPress\",value:function(e){32===e.which&&e.preventDefault()}},{key:\"onCheckboxKeyUp\",value:function(e){var t=e.keyCode;[13,32].includes(t)&&this.onCheck()}},{key:\"onClick\",value:function(){var e=this.props,t=e.expandOnClick,r=e.isParent,n=e.value,o=e.onClick;r&&t&&this.onExpand(),o({value:n,checked:this.getCheckState({toggle:!1})})}},{key:\"onExpand\",value:function(){var e=this.props,t=e.expanded,r=e.value;(0,e.onExpand)({value:r,expanded:!t})}},{key:\"getCheckState\",value:function(e){var t=e.toggle,r=this.props,n=r.checked,o=r.optimisticToggle;return!(0!==n||!t)||1===n&&!t||2===n&&o}},{key:\"renderCollapseButton\",value:function(){var e=this.props,t=e.expandDisabled,r=e.isLeaf,n=e.lang;return r?f().createElement(\"span\",{className:\"rct-collapse\"},f().createElement(\"span\",{className:\"rct-icon\"})):f().createElement(j,{className:\"rct-collapse rct-collapse-btn\",disabled:t,title:n.toggle,onClick:this.onExpand},this.renderCollapseIcon())}},{key:\"renderCollapseIcon\",value:function(){var e=this.props,t=e.expanded,r=e.icons,n=r.expandClose,o=r.expandOpen;return t?o:n}},{key:\"renderCheckboxIcon\",value:function(){var e=this.props,t=e.checked,r=e.icons,n=r.uncheck,o=r.check,i=r.halfCheck;return 0===t?n:1===t?o:i}},{key:\"renderNodeIcon\",value:function(){var e=this.props,t=e.expanded,r=e.icon,n=e.icons,o=n.leaf,i=n.parentClose,a=n.parentOpen,c=e.isLeaf;return null!==r?r:c?o:t?a:i}},{key:\"renderBareLabel\",value:function(e){var t=this.props,r=t.onClick,n=t.title,o=null!==r;return f().createElement(\"span\",{className:\"rct-bare-label\",title:n},o?f().createElement(\"span\",{className:\"rct-node-clickable\",onClick:this.onClick,onKeyPress:this.onClick,role:\"button\",tabIndex:0},e):e)}},{key:\"renderCheckboxLabel\",value:function(e){var t=this.props,r=t.checked,n=t.disabled,o=t.title,i=t.treeId,a=t.value,c=null!==t.onClick,s=\"\".concat(i,\"-\").concat(String(a).split(\" \").join(\"_\")),l=[f().createElement(\"label\",{key:0,htmlFor:s,title:o},f().createElement(K,{checked:1===r,disabled:n,id:s,indeterminate:2===r,onClick:this.onCheck,onChange:function(){}}),f().createElement(\"span\",{\"aria-checked\":1===r,\"aria-disabled\":n,className:\"rct-checkbox\",role:\"checkbox\",tabIndex:0,onKeyPress:this.onCheckboxKeyPress,onKeyUp:this.onCheckboxKeyUp},this.renderCheckboxIcon()),c?null:e)];return c&&l.push(f().createElement(\"span\",{key:1,className:\"rct-node-clickable\",onClick:this.onClick,onKeyPress:this.onClick,role:\"link\",tabIndex:0},e)),l}},{key:\"renderLabel\",value:function(){var e=this.props,t=e.label,r=e.showCheckbox,n=[e.showNodeIcon?f().createElement(\"span\",{key:0,className:\"rct-node-icon\"},this.renderNodeIcon()):null,f().createElement(\"span\",{key:1,className:\"rct-title\"},t)];return r?this.renderCheckboxLabel(n):this.renderBareLabel(n)}},{key:\"renderChildren\",value:function(){return this.props.expanded?this.props.children:null}},{key:\"render\",value:function(){var e=this.props,r=e.className,n=e.disabled,o=e.expanded,i=e.isLeaf,a=t()({\"rct-node\":!0,\"rct-node-leaf\":i,\"rct-node-parent\":!i,\"rct-node-expanded\":!i&&o,\"rct-node-collapsed\":!i&&!o,\"rct-disabled\":n},r);return f().createElement(\"li\",{className:a},f().createElement(\"span\",{className:\"rct-text\"},this.renderCollapseButton(),this.renderLabel()),this.renderChildren())}}])&&W(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),c}(f().PureComponent);X(Z,\"propTypes\",{checked:u().number.isRequired,disabled:u().bool.isRequired,expandDisabled:u().bool.isRequired,expanded:u().bool.isRequired,icons:H.isRequired,isLeaf:u().bool.isRequired,isParent:u().bool.isRequired,label:u().node.isRequired,lang:$.isRequired,optimisticToggle:u().bool.isRequired,showNodeIcon:u().bool.isRequired,treeId:u().string.isRequired,value:u().oneOfType([u().string,u().number]).isRequired,onCheck:u().func.isRequired,onExpand:u().func.isRequired,children:u().node,className:u().string,expandOnClick:u().bool,icon:u().node,showCheckbox:u().bool,title:u().string,onClick:u().func}),X(Z,\"defaultProps\",{children:null,className:null,expandOnClick:!1,icon:null,showCheckbox:!0,title:null,onClick:function(){}});const ee=Z,te=u().oneOfType([u().arrayOf(u().string),u().arrayOf(u().number)]);function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ie={label:u().node.isRequired,value:u().oneOfType([u().string,u().number]).isRequired,disabled:u().bool,icon:u().node,showCheckbox:u().bool,title:u().string};const ae=u().oneOfType([u().shape(ie),u().shape(ne(ne({},ie),{},{children:u().arrayOf(ie).isRequired}))]);function ce(e){return ce=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},ce(e)}function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach((function(t){ye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pe(e,t){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pe(e,t)}function fe(e,t){if(t&&(\"object\"===ce(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return de(e)}function de(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function he(e){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},he(e)}function ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var be=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&pe(e,t)}(p,e);var r,n,o,a,l,u=(a=p,l=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=he(a);if(l){var r=he(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return fe(this,e)});function p(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,p),t=u.call(this,e);var r=new T(e);return r.flattenNodes(e.nodes),r.deserializeLists({checked:e.checked,expanded:e.expanded}),t.state={id:e.id||\"rct-\".concat(s()),model:r,prevProps:e},t.onCheck=t.onCheck.bind(de(t)),t.onExpand=t.onExpand.bind(de(t)),t.onNodeClick=t.onNodeClick.bind(de(t)),t.onExpandAll=t.onExpandAll.bind(de(t)),t.onCollapseAll=t.onCollapseAll.bind(de(t)),t.combineMemorized=c()((function(e,t){return le(le({},e),t)})).bind(de(t)),t}return r=p,n=[{key:\"onCheck\",value:function(e){var t=this.props,r=t.checkModel,n=t.noCascade,o=t.onCheck,i=this.state.model.clone(),a=i.getNode(e.value);i.toggleChecked(e,e.checked,r,n),o(i.serializeList(\"checked\"),le(le({},a),e))}},{key:\"onExpand\",value:function(e){var t=this.props.onExpand,r=this.state.model.clone(),n=r.getNode(e.value);r.toggleNode(e.value,\"expanded\",e.expanded),t(r.serializeList(\"expanded\"),le(le({},n),e))}},{key:\"onNodeClick\",value:function(e){(0,this.props.onClick)(le(le({},this.state.model.getNode(e.value)),e))}},{key:\"onExpandAll\",value:function(){this.expandAllNodes()}},{key:\"onCollapseAll\",value:function(){this.expandAllNodes(!1)}},{key:\"expandAllNodes\",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props.onExpand;t(this.state.model.clone().expandAllNodes(e).serializeList(\"expanded\"))}},{key:\"determineShallowCheckState\",value:function(e,t){var r=this.state.model.getNode(e.value);return r.isLeaf||t||0===e.children.length?r.checked?1:0:this.isEveryChildChecked(e)?1:this.isSomeChildChecked(e)?2:0}},{key:\"isEveryChildChecked\",value:function(e){var t=this;return e.children.every((function(e){return 1===t.state.model.getNode(e.value).checkState}))}},{key:\"isSomeChildChecked\",value:function(e){var t=this;return e.children.some((function(e){return t.state.model.getNode(e.value).checkState>0}))}},{key:\"renderTreeNodes\",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props,o=n.expandDisabled,i=n.expandOnClick,a=n.icons,c=n.lang,s=n.noCascade,l=n.onClick,u=n.onlyLeafCheckboxes,d=n.optimisticToggle,h=n.showNodeTitle,y=n.showNodeIcon,b=this.state,v=b.id,g=b.model,m=p.defaultProps.icons,x=e.map((function(e){var n=e.value,p=g.getNode(e.value),b=p.isParent?t.renderTreeNodes(e.children,e):null;p.checkState=t.determineShallowCheckState(e,s);var x=u?p.isLeaf:p.showCheckbox;return!r.value||g.getNode(r.value).expanded?f().createElement(ee,{key:n,checked:p.checkState,className:e.className,disabled:p.disabled,expandDisabled:o,expandOnClick:i,expanded:p.expanded,icon:e.icon,icons:t.combineMemorized(m,a),label:e.label,lang:c,optimisticToggle:d,isLeaf:p.isLeaf,isParent:p.isParent,showCheckbox:x,showNodeIcon:y,title:h?e.title||e.label:e.title,treeId:v,value:e.value,onCheck:t.onCheck,onClick:l&&t.onNodeClick,onExpand:t.onExpand},b):null}));return f().createElement(\"ol\",null,x)}},{key:\"renderExpandAll\",value:function(){var e=this.props,t=e.icons,r=t.expandAll,n=t.collapseAll,o=e.lang;return e.showExpandAll?f().createElement(\"div\",{className:\"rct-options\"},f().createElement(j,{className:\"rct-option rct-option-expand-all\",title:o.expandAll,onClick:this.onExpandAll},r),f().createElement(j,{className:\"rct-option rct-option-collapse-all\",title:o.collapseAll,onClick:this.onCollapseAll},n)):null}},{key:\"renderHiddenInput\",value:function(){var e=this.props,t=e.name,r=e.nameAsArray;return void 0===t?null:r?this.renderArrayHiddenInput():this.renderJoinedHiddenInput()}},{key:\"renderArrayHiddenInput\",value:function(){var e=this.props,t=e.checked,r=e.name;return t.map((function(e){var t=\"\".concat(r,\"[]\");return f().createElement(\"input\",{key:e,name:t,type:\"hidden\",value:e})}))}},{key:\"renderJoinedHiddenInput\",value:function(){var e=this.props,t=e.checked,r=e.name,n=t.join(\",\");return f().createElement(\"input\",{name:r,type:\"hidden\",value:n})}},{key:\"render\",value:function(){var e,r=this.props,n=r.direction,o=r.disabled,i=r.iconsClass,a=r.nodes,c=r.nativeCheckboxes,s=this.state.id,l=this.renderTreeNodes(a),u=t()((ye(e={\"react-checkbox-tree\":!0,\"rct-disabled\":o},\"rct-icons-\".concat(i),!0),ye(e,\"rct-native-display\",c),ye(e,\"rct-direction-rtl\",\"rtl\"===n),e));return f().createElement(\"div\",{className:u,id:s},this.renderExpandAll(),this.renderHiddenInput(),l)}}],o=[{key:\"getDerivedStateFromProps\",value:function(e,t){var r=t.model,n=t.prevProps,o=e.disabled,a=e.id,c=e.nodes,s=le(le({},t),{},{prevProps:e});return r.setProps(e),i()(n.nodes,c)&&n.disabled===o||(r.reset(),r.flattenNodes(c)),null!==a&&(s=le(le({},s),{},{id:a})),r.deserializeLists({checked:e.checked,expanded:e.expanded}),s}}],n&&ue(r.prototype,n),o&&ue(r,o),Object.defineProperty(r,\"prototype\",{writable:!1}),p}(f().Component);function ve(e){return function(e){if(Array.isArray(e))return ge(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||function(e,t){if(e){if(\"string\"==typeof e)return ge(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ge(e,t):void 0}}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function me(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(r>t)return[];var n=[];return e.forEach((function(e){e.children&&(n=[].concat(ve(n),[e.value],ve(me(e.children,t,r+1))))})),n}ye(be,\"propTypes\",{nodes:u().arrayOf(ae).isRequired,checkModel:u().oneOf([_.LEAF,_.ALL]),checked:te,direction:u().string,disabled:u().bool,expandDisabled:u().bool,expandOnClick:u().bool,expanded:te,icons:H,iconsClass:u().string,id:u().string,lang:$,name:u().string,nameAsArray:u().bool,nativeCheckboxes:u().bool,noCascade:u().bool,onlyLeafCheckboxes:u().bool,optimisticToggle:u().bool,showExpandAll:u().bool,showNodeIcon:u().bool,showNodeTitle:u().bool,onCheck:u().func,onClick:u().func,onExpand:u().func}),ye(be,\"defaultProps\",{checkModel:_.LEAF,checked:[],direction:\"ltr\",disabled:!1,expandDisabled:!1,expandOnClick:!1,expanded:[],icons:{check:f().createElement(\"span\",{className:\"rct-icon rct-icon-check\"}),uncheck:f().createElement(\"span\",{className:\"rct-icon rct-icon-uncheck\"}),halfCheck:f().createElement(\"span\",{className:\"rct-icon rct-icon-half-check\"}),expandClose:f().createElement(\"span\",{className:\"rct-icon rct-icon-expand-close\"}),expandOpen:f().createElement(\"span\",{className:\"rct-icon rct-icon-expand-open\"}),expandAll:f().createElement(\"span\",{className:\"rct-icon rct-icon-expand-all\"}),collapseAll:f().createElement(\"span\",{className:\"rct-icon rct-icon-collapse-all\"}),parentClose:f().createElement(\"span\",{className:\"rct-icon rct-icon-parent-close\"}),parentOpen:f().createElement(\"span\",{className:\"rct-icon rct-icon-parent-open\"}),leaf:f().createElement(\"span\",{className:\"rct-icon rct-icon-leaf\"})},iconsClass:\"fa4\",id:null,lang:{collapseAll:\"Collapse all\",expandAll:\"Expand all\",toggle:\"Toggle\"},name:void 0,nameAsArray:!1,nativeCheckboxes:!1,noCascade:!1,onlyLeafCheckboxes:!1,optimisticToggle:!0,showExpandAll:!1,showNodeIcon:!0,showNodeTitle:!1,onCheck:function(){},onClick:null,onExpand:function(){}});const xe=be})(),o})()));","import { uploadsS3Url, uploadsS3Bucket, uploadNamspace, presignPut } from \"./config\";\n\nfunction getPersonalBundleKey(id: string,\n                              bundleUrl: string): string {\n    const index = bundleUrl.lastIndexOf(\"/\");\n    const basename = bundleUrl.substring(index + 1);\n    return \"personal-v2/\" + uploadNamspace + \"/\" + id + \"/\" + basename;\n}\n\nexport function getChangesUrlPrefix(id: string): string {\n    return uploadsS3Url + \"/\" + uploadsS3Bucket + \"/\" + \"personal-v2\" + \"/\" + uploadNamspace + \"/\" + id + \"/\";\n}\n\nexport function getChangesUrl(id: string, bundleUrl: string): string {\n    const personalBundleKey = getPersonalBundleKey(id, bundleUrl);\n    return uploadsS3Url + \"/\" + uploadsS3Bucket + \"/\" + personalBundleKey;\n}\n\nexport async function putChanges(bundleUrl: string,\n                                 data: Uint8Array): Promise<void> {\n    let response = await fetch(presignPut + \"?bundleUrl=\" + encodeURIComponent(bundleUrl));\n    const result = await response.json();\n\n    if (!result.success) {\n        throw new Error(\"Unable to put personal bundle\");\n    }\n\n    const post = result.post as {\n        url: string,\n        fields: {\n            Policy: string,\n            \"X-Amz-Algorithm\": string,\n            \"X-Amz-Credential\": string,\n            \"X-Amz-Date\": string,\n            \"X-Amz-Signature\": string,\n            bucket: string,\n            key: string,\n        },\n    };\n\n    const formData = new FormData();\n    Object.entries(post.fields).forEach(([k, v]) => {\n        formData.append(k, v);\n    });\n    formData.append(\"acl\", \"public-read\");\n    formData.append(\"file\", new Blob([data]));\n\n    response = await fetch(post.url, {\n        method: \"post\",\n        body: formData,\n    });\n\n    if (response.status !== 200 && response.status !== 204) {\n        throw new Error(\"Unable to put changes: \" + response.statusText);\n    }\n}\n","import { Dispatch } from \"@reduxjs/toolkit\";\nimport { NonSerializableStore, State } from \"./store\";\nimport { getT } from \"./i18n\";\nimport { putChanges } from \"./v8/changes\";\nimport { uiSlice } from \"./store/ui\";\nimport { Account } from \"./store/auth\";\n\nexport async function apiSave(state: State,\n                              nonSerializableStore: NonSerializableStore,\n                              dispatch: Dispatch): Promise<boolean> {\n    const ci = nonSerializableStore.ci;\n    const changesUrl = nonSerializableStore.loadedBundle?.bundleChangesUrl;\n    if (ci === null || !changesUrl || !state.ui.cloudSaves) {\n        return false;\n    }\n\n    const t = getT(state);\n    const account = state.auth.account;\n    try {\n        const changes = await ci.persist(true);\n        if (changes !== null) {\n            if (canDoCloudSaves(account)) {\n                await putChanges(changesUrl, changes);\n            } else {\n                await nonSerializableStore.cache.put(changesUrl, changes);\n            }\n        }\n\n        if (account === null || account.email === null) {\n            dispatch(uiSlice.actions.showToast({\n                message: t(\"warn_save\"),\n                intent: \"success\",\n            }));\n        } else {\n            dispatch(uiSlice.actions.showToast({\n                message: t(\"success_save\"),\n                intent: \"success\",\n            }));\n        }\n\n        return true;\n    } catch (e: any) {\n        dispatch(uiSlice.actions.showToast({\n            message: t(\"unable_to_save\"),\n            intent: \"error\",\n        }));\n        console.error(e);\n\n        return false;\n    }\n}\n\nexport function isSockdrivePremium(sockdriveEndpoint: string, account: Account | null): Promise<boolean> {\n    if (account) {\n        return fetch(sockdriveEndpoint + \"/premium/\" + account.email)\n            .then((r) => r.json())\n            .then((payload: { premium: boolean }) => payload.premium);\n    } else {\n        return Promise.resolve(false);\n    }\n}\n\nexport function canDoCloudSaves(account: Account | null) {\n    return account?.email !== undefined;\n}\n","import { Dispatch, Store } from \"@reduxjs/toolkit\";\nimport { DosConfig, Emulators, InitFs } from \"emulators\";\nimport { dosSlice } from \"./store/dos\";\nimport { bundleFromChanges, bundleFromFile, bundleFromUrl } from \"./host/bundle-storage\";\nimport { uiSlice } from \"./store/ui\";\nimport { editorSlice } from \"./store/editor\";\nimport { getChangesUrl } from \"./v8/changes\";\nimport { storageSlice } from \"./store/storage\";\nimport { getNonSerializableStore, getState } from \"./store\";\n\ndeclare const emulators: Emulators;\n\nexport async function loadEmptyBundle(store: Store) {\n    await doLoadBundle(\"empty.jsdos\",\n        (async () => {\n            const bundle = await emulators.bundle();\n            return bundle.toUint8Array();\n        })(), null, null, store);\n\n    store.dispatch(uiSlice.actions.frameConf());\n    store.dispatch(uiSlice.actions.setEditor(true));\n}\n\nexport async function loadBundle(bundle: Uint8Array, openConfig: boolean, store: Store) {\n    await doLoadBundle(\"bundle.jsdos\", Promise.resolve(bundle),\n        null, null, store);\n    if (openConfig) {\n        store.dispatch(uiSlice.actions.frameConf());\n    }\n}\n\nexport function loadBundleFromFile(file: File, store: Store) {\n    return doLoadBundle(file.name,\n        bundleFromFile(file, store),\n        null, null, store);\n}\n\nexport async function loadBundleFromConfg(config: DosConfig, initFs: InitFs | null, store: Store) {\n    const nonSerializableStore = getNonSerializableStore(store);\n    const dispatch = store.dispatch;\n    nonSerializableStore.loadedBundle = null;\n\n    dispatch(editorSlice.actions.init(config));\n    syncWithConfig(config, dispatch);\n\n    nonSerializableStore.loadedBundle = {\n        bundleUrl: null,\n        bundleChangesUrl: null,\n        bundle: config,\n        bundleChanges: null,\n        initFs,\n    };\n    dispatch(dosSlice.actions.bndReady({}));\n}\n\nexport async function loadBundleFromUrl(url: string, store: Store) {\n    return doLoadBundle(url,\n        bundleFromUrl(url, store),\n        changesProducer(url, store),\n        url,\n        store);\n}\n\nasync function doLoadBundle(bundleName: string,\n                            bundlePromise: Promise<Uint8Array>,\n                            bundleChangesPromise: (ReturnType<typeof changesProducer>) | null,\n                            bundleUrl: string | null,\n                            store: Store) {\n    const nonSerializableStore = getNonSerializableStore(store);\n    const dispatch = store.dispatch;\n    nonSerializableStore.loadedBundle = null;\n\n\n    dispatch(dosSlice.actions.bndLoad(bundleName));\n\n    const bundle = await bundlePromise;\n    dispatch(storageSlice.actions.ready());\n    const bundleChanges = await bundleChangesPromise;\n    dispatch(dosSlice.actions.bndConfig());\n\n    const config = await emulators.bundleConfig(bundle);\n    dispatch(editorSlice.actions.init(config));\n    if (config === null) {\n        dispatch(uiSlice.actions.frameConf());\n    } else {\n        syncWithConfig(config, dispatch);\n    }\n\n    nonSerializableStore.loadedBundle = {\n        bundleUrl,\n        bundleChangesUrl: bundleChanges?.url ?? null,\n        bundle,\n        bundleChanges: bundleChanges?.bundle ?? null,\n        initFs: null,\n    };\n    dispatch(dosSlice.actions.bndReady({}));\n}\n\nasync function changesProducer(bundleUrl: string, store: Store): Promise<{\n    url: string,\n    bundle: Uint8Array | null,\n}> {\n    const account = getState(store).auth.account;\n    const owner = account?.email ?? \"guest\";\n    const url = getChangesUrl(owner, bundleUrl);\n    const bundle = await bundleFromChanges(url, account, store);\n    return {\n        url,\n        bundle,\n    };\n}\n\nfunction syncWithConfig(config: DosConfig, dispatch: Dispatch) {\n    if (config.dosboxConf.indexOf(\"sockdrive\") >= 0) {\n        dispatch(dosSlice.actions.dosBackendLocked(true));\n        dispatch(dosSlice.actions.dosBackend(\"dosboxX\"));\n        dispatch(dosSlice.actions.noCursor(true));\n    }\n    dispatch(dosSlice.actions.mouseCapture(config.dosboxConf.indexOf(\"autolock=true\") >= 0));\n}\n","import { storageSlice } from \"../store/storage\";\nimport { Account } from \"../store/auth\";\nimport { brCdn } from \"../v8/config\";\nimport { Store, getNonSerializableStore } from \"../store\";\nimport { canDoCloudSaves } from \"../player-api\";\n\nexport function bundleFromFile(file: File, store: Store): Promise<Uint8Array> {\n    return new Promise<Uint8Array>((resolve) => {\n        store.dispatch(storageSlice.actions.reset());\n        const reader = new FileReader();\n        reader.addEventListener(\"load\", async (e) => {\n            resolve(new Uint8Array(reader.result as ArrayBuffer));\n        });\n        reader.addEventListener(\"progress\", (e) => {\n            store.dispatch(storageSlice.actions.progress([e.loaded, e.total]));\n        });\n        reader.readAsArrayBuffer(file);\n    });\n}\n\n\nexport async function bundleFromChanges(url: string, account: Account | null,\n                                        store: Store): Promise<Uint8Array | null> {\n    if (!canDoCloudSaves(account)) {\n        return await getNonSerializableStore(store).cache.get(url).catch(() => null);\n    }\n\n    try {\n        const response = await fetch(url, {\n            cache: \"no-cache\",\n        });\n\n        if (response.status !== 200) {\n            throw new Error(\"Resource not avalible (\" + response.status + \"): \" + response.statusText);\n        }\n\n        return response.arrayBuffer().then((b) => new Uint8Array(b));\n    } catch (e: any) {\n        return await getNonSerializableStore(store).cache.get(url).catch(() => null);\n    }\n}\n\nexport async function bundleFromUrl(url: string, store: Store): Promise<Uint8Array> {\n    try {\n        return await getNonSerializableStore(store).cache.get(url);\n    } catch (e: any) {\n        // ignore\n    }\n\n    store.dispatch(storageSlice.actions.reset());\n    const response = await fetch(url, {\n        cache: \"no-store\",\n    });\n\n    if (response.status !== 200) {\n        throw new Error(\"Resource not avalible (\" + response.status + \"): \" + response.statusText);\n    }\n\n    const lenHeader = response.headers.get(\"Content-Length\");\n    const length = lenHeader === null ? 0 :\n        Number.parseInt(lenHeader);\n    const reader = response.body!.getReader();\n\n    let received = 0;\n    const chunks: Uint8Array[] = [];\n    while (true) {\n        const { done, value } = await reader.read();\n\n        if (done) {\n            break;\n        }\n\n        chunks.push(value);\n        received += value.length;\n\n        const bytes = Math.min(url.startsWith(brCdn) ? received / 2 : received, length);\n        store.dispatch(storageSlice.actions.progress([bytes, length]));\n    }\n\n    let offset = 0;\n    const complete = new Uint8Array(received);\n    for (const next of chunks) {\n        complete.set(next, offset);\n        offset += next.length;\n    }\n\n    getNonSerializableStore(store).cache\n        .put(url, complete)\n        .catch(console.error);\n\n    return complete;\n};\n","export function downloadUrlToFs(fileName: string, url: string, targetBlank = true) {\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.target = targetBlank ? \"_blank\" : \"_self\";\n    a.download = fileName;\n    a.style.display = \"none\";\n    document.body.appendChild(a);\n\n    a.click();\n    a.remove();\n}\n\nexport function downloadArrayToFs(fileName: string, data: Uint8Array) {\n    const blob = new Blob([data], {\n        type: \"application/zip\",\n    });\n    downloadUrlToFs(fileName, URL.createObjectURL(blob));\n}\n","import { FsNode } from \"emulators/dist/types/protocol/protocol\";\nimport { useEffect, useRef, useState } from \"preact/hooks\";\nimport CheckboxTree, { Node, OnCheckNode, OnExpandNode } from \"react-checkbox-tree\";\nimport { useSelector, useStore } from \"react-redux\";\nimport { useT } from \"../../i18n\";\nimport { loadBundle } from \"../../player-api-load\";\nimport { State, useNonSerializableStore } from \"../../store\";\nimport { downloadArrayToFs } from \"../../download-file\";\n\ninterface NodeExt extends Node {\n    fsNode: FsNode,\n}\n\nexport function EditorFsFrame() {\n    const t = useT();\n    const haveCi = useSelector((state: State) => state.dos.ci);\n    const nonSerializableStore = useNonSerializableStore();\n    const [fsSize, setFsSize] = useState<number>(0);\n    const [fsTree, _setFsTree] = useState<NodeExt[] | null>(null);\n    const [expanded, setExpanded] = useState<string[]>([]);\n    const [checked, setChecked] = useState<string[]>([]);\n    const [uploadingFile, setUploadingFile] = useState<string | null>(null);\n    const [makingBundle, setMakingBundle] = useState<boolean>(false);\n\n    function setFsTree(fsTree: NodeExt[] | null) {\n        _setFsTree(fsTree);\n        setFsSize(Math.round(calcFsSize(fsTree) / 1024 / 1024 * 100) / 100);\n    }\n\n    useEffect(() => {\n        if (nonSerializableStore.ci === null || !haveCi) {\n            return;\n        }\n\n        let cancled = false;\n        nonSerializableStore.ci.fsTree()\n            .then((tree) => {\n                if (!cancled) {\n                    setFsTree(toNodes(tree));\n                }\n            })\n            .catch((e) => {\n                console.error(e);\n                if (!cancled) {\n                    setFsTree(null);\n                }\n            });\n\n        return () => {\n            cancled = true;\n        };\n    }, [haveCi]);\n\n\n    function onExpand(expanded: Array<string>, node: OnExpandNode) {\n        setExpanded(expanded);\n    }\n\n    function onCheck(checked: Array<string>, node: OnCheckNode) {\n        setChecked(checked);\n    }\n\n    async function onRefresh() {\n        setFsTree(null);\n        if (nonSerializableStore.ci === null || !haveCi) {\n            return;\n        }\n        const tree = await nonSerializableStore.ci.fsTree();\n        setFsTree(toNodes(tree));\n    }\n\n    // const check = <input type=\"checkbox\" class=\"checkbox\" />;\n    return <div class=\"editor-fs-frame frame-root items-start px-4\">\n        {(makingBundle || uploadingFile !== null) &&\n        <div class=\"card card-bordered bg-base-100 shadow-xl w-full\">\n            <div class=\"card-body\">\n                <div class=\"card-title\">\n                    {t(makingBundle ? \"please_wait\" : \"uploading_file\")}\n                </div>\n                <span class=\"break-words\">\n                    {makingBundle ? t(\"making_bundle\") : uploadingFile}\n                </span>\n            </div>\n        </div>}\n        {!makingBundle && uploadingFile === null && fsTree &&\n        <div className=\"fs-tree-view\">\n            <Actions\n                onRefresh={onRefresh}\n                onUploadingFile={setUploadingFile}\n                onMakingBundle={setMakingBundle} />\n            <div class=\"bg-base-200 px-2 py-1 text-right\">\n                {t(\"size\")}: {fsSize} Mb\n            </div>\n            <div class=\"fs-tree\">\n                <CheckboxTree\n                    icons={{\n                        expandOpen: <FolderOpened /> as any,\n                        expandClose: <FolderClosed /> as any,\n                        // expandAll: <div class=\"bg-red-100 w-4 h-4\"></div> as any,\n                        // parentOpen: <div class=\"bg-blue-100 w-4 h-4\"></div> as any,\n                        // parentClose: <div class=\"bg-purple-100 w-4 h-4\"></div> as any,\n                    }}\n                    iconsClass=\"icon\"\n                    nativeCheckboxes={false}\n                    onlyLeafCheckboxes={true}\n                    nodes={fsTree}\n                    checked={checked}\n                    onCheck={onCheck}\n                    expanded={expanded}\n                    onExpand={onExpand} />\n            </div>\n        </div>}\n    </div>;\n}\n\nfunction toNodes(fsTree: FsNode): NodeExt[] {\n    const fs: NodeExt[] = [];\n    for (const next of (fsTree.nodes?.sort(nodeSorter) || [])) {\n        fs.push(toNode(next, \".\"));\n    }\n    return fs;\n}\n\nfunction toNode(fsNode: FsNode, path: string): NodeExt {\n    const fullPath = path + \"/\" + fsNode.name;\n    const nodeExt: NodeExt = {\n        label: fsNode.name,\n        value: fullPath,\n        fsNode,\n    };\n\n    if (fsNode.nodes !== null) {\n        const children = fsNode.nodes.sort(nodeSorter)\n            .map((next) => toNode(next, fullPath));\n        nodeExt.children = children;\n    }\n\n    return nodeExt;\n}\n\nfunction Actions(props: {\n    onRefresh: () => void,\n    onUploadingFile: (file: string | null) => void,\n    onMakingBundle: (making: boolean) => void,\n}) {\n    const t = useT();\n    const uploadDirRef = useRef<HTMLInputElement>(null);\n    const uploadFileRef = useRef<HTMLInputElement>(null);\n    const store = useStore();\n    const nonSerializableStore = useNonSerializableStore();\n    const { onRefresh, onUploadingFile, onMakingBundle } = props;\n\n    useEffect(() => {\n        if (uploadDirRef.current !== null) {\n            uploadDirRef.current.setAttribute(\"directory\", \"\");\n            uploadDirRef.current.setAttribute(\"webkitdirectory\", \"\");\n        }\n    }, [uploadDirRef]);\n\n    function onUploadClick(file: boolean) {\n        const input = (file ? uploadFileRef : uploadDirRef).current;\n        if (input === null) {\n            return;\n        }\n\n        input.click();\n    }\n\n    async function onUpload(event: any) {\n        const ci = nonSerializableStore.ci;\n        const files: FileList = event.target.files;\n        if (ci === null || files === null) {\n            return;\n        }\n\n        try {\n            for (const file of files) {\n                onUploadingFile(file.name);\n                const parts = (file.webkitRelativePath ?? \"\").split(\"/\");\n                parts.shift();\n                const relPath = parts.join(\"/\");\n                await ci.fsWriteFile(relPath.length == 0 ? file.name : relPath, file.stream());\n            }\n        } finally {\n            onUploadingFile(null);\n        }\n\n        await onRefresh();\n    }\n\n    async function onRestart() {\n        const ci = nonSerializableStore.ci;\n        if (ci === null || !window.confirm(t(\"fs_restart\"))) {\n            return;\n        }\n\n        onMakingBundle(true);\n        try {\n            const bundle = await ci.persist(false);\n            if (bundle) {\n                loadBundle(bundle, true, store);\n            }\n        } finally {\n            onMakingBundle(false);\n        }\n    }\n\n    async function onDownload() {\n        const ci = nonSerializableStore.ci;\n        if (ci === null) {\n            return;\n        }\n\n        onMakingBundle(true);\n        try {\n            const bundle = await ci.persist(false);\n            if (bundle) {\n                downloadArrayToFs(\"bundle.jsdos\", bundle);\n            }\n        } finally {\n            onMakingBundle(false);\n        }\n    }\n\n    return <div class=\"h-6 flex flex-row\">\n        <input class=\"hidden\" type=\"file\" multiple ref={uploadDirRef} onChange={onUpload} />\n        <input class=\"hidden\" type=\"file\" multiple ref={uploadFileRef} onChange={onUpload} />\n        <button class=\"refresh btn-xs rounded-none\" onClick={onRefresh}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n                viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                    d=\"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181\n                    3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181\n                    3.182m0-4.991v4.99\" />\n            </svg>\n        </button>\n        <button class=\"add-file btn-xs rounded-none\" onClick={() => onUploadClick(true)}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n                viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M19.5 14.25v-2.625a3.375\n                    3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0\n                    00-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125\n                    1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9\n                     9 0 00-9-9z\" />\n            </svg>\n        </button>\n        <button class=\"add-dir btn-xs rounded-none\" onClick={() => onUploadClick(false)}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n                viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                    d=\"M12 10.5v6m3-3H9m4.06-7.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25\n                    2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75\n                    18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z\" />\n            </svg>\n        </button>\n        <div class=\"flex-grow\"></div>\n        <button class=\"download btn-xs rounded-none\" onClick={onDownload}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n                viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9 13.5l3 3m0 0l3-3m-3\n                    3v-6m1.06-4.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25\n                    0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5\n                    0 01-1.06-.44z\" />\n            </svg>\n        </button>\n        <button class=\"restart btn-xs rounded-none\" onClick={onRestart}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n                viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M21 7.5V18M15 7.5V18M3\n                    16.811V8.69c0-.864.933-1.406 1.683-.977l7.108 4.061a1.125 1.125 0 010 1.954l-7.108\n                    4.061A1.125 1.125 0 013 16.811z\" />\n            </svg>\n        </button>\n    </div>;\n}\n\nfunction nodeSorter(a: FsNode, b: FsNode) {\n    if (a.nodes !== null && b.nodes !== null) {\n        return b.name.localeCompare(a.name);\n    }\n\n    return a.nodes === null ? 1 : -1;\n}\n\nfunction FolderOpened() {\n    return <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n        viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4 mr-2\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M19.5 8.25l-7.5 7.5-7.5-7.5\" />\n    </svg>;\n}\n\nfunction FolderClosed() {\n    return <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n        stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4 mr-2\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M8.25 4.5l7.5 7.5-7.5 7.5\" />\n    </svg>;\n}\n\nfunction calcFsSize(fsTree: NodeExt[] | null) {\n    if (!fsTree) {\n        return 0;\n    }\n\n    let size = 0;\n    for (const next of fsTree) {\n        if (next.fsNode.size !== null) {\n            size += next.fsNode.size!;\n        } else {\n            size += calcFsSize(next.children as NodeExt[]);\n        }\n    }\n\n    return size;\n}\n","import { useT } from \"../i18n\";\n\nexport function Select(props: {\n    class?: string,\n    selectClass?: string,\n    label: string,\n    selected: string,\n    values: string[],\n    onSelect?: (value: string) => void,\n    disabled?: boolean,\n    multiline?: boolean,\n}) {\n    const t = useT();\n    const multiline = props.multiline === true;\n    function onSelect(e: any) {\n        if (props.onSelect !== undefined) {\n            props.onSelect(e.currentTarget.value);\n        }\n    }\n    return <div class={props.class + \" option flex \" +\n        (multiline ? \"flex-col\" : \"flex-row items-center\")}>\n        <div class={ multiline ? \"mb-2\" : \"mr-4\" }>{props.label}</div>\n        <div class=\"flex-grow\">\n            <select class={ props.selectClass ? props.selectClass :\n                (multiline ? \"w-full\" : \"w-28\") }\n            onChange={onSelect} disabled={props.disabled === true}>\n                {props.values.map((v) => {\n                    return <option selected={v === props.selected} value={v}>{t(v)}</option>;\n                })}\n            </select>\n        </div>\n    </div>;\n}\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { useT } from \"../i18n\";\nimport { State } from \"../store\";\nimport { Select } from \"./select\";\nimport { AnyAction } from \"@reduxjs/toolkit\";\nimport {\n    Backend, BackendValues, dosSlice, ImageRendering, ImageRenderingValues, RenderAspect, RenderAspectValues,\n    RenderBackend, RenderBackendValues,\n} from \"../store/dos\";\nimport { ThemeValues, Theme, uiSlice } from \"../store/ui\";\nimport { lStorage } from \"../host/lstorage\";\nimport { SockdriveBackendName, initSlice, sockdriveBackendNames } from \"../store/init\";\n\nexport function BackendSelect(props: { multiline?: boolean }) {\n    const locked = useSelector((state: State) => state.dos.backendLocked);\n    return <OptionSelect\n        multiline={props.multiline}\n        label=\"emulation_backend\"\n        values={[...BackendValues]}\n        disabled={locked}\n        selector={(state: State) => state.dos.backend}\n        dispatch={(newValue: Backend) => {\n            lStorage.setItem(\"backend\", newValue);\n            return dosSlice.actions.dosBackend(newValue);\n        }}\n    />;\n}\n\nexport function RenderSelect(props: { multiline?: boolean }) {\n    const disabled = useSelector((state: State) => state.ui.window) === \"run\";\n    return <OptionSelect\n        multiline={props.multiline}\n        label=\"render_backend\"\n        values={[...RenderBackendValues]}\n        disabled={disabled}\n        selector={(state: State) => state.dos.renderBackend}\n        dispatch={(newValue: RenderBackend) => dosSlice.actions.renderBackend(newValue)}\n    />;\n}\n\nexport function RenderAspectSelect(props: { multiline?: boolean }) {\n    return <OptionSelect\n        label=\"render_aspect\"\n        multiline={props.multiline}\n        values={[...RenderAspectValues]}\n        selector={(state: State) => state.dos.renderAspect}\n        dispatch={(newValue: RenderAspect) => dosSlice.actions.renderAspect(newValue)}\n    />;\n}\n\nexport function ImageRenderingSelect(props: { multiline?: boolean }) {\n    return <OptionSelect\n        label=\"image_rendering\"\n        multiline={props.multiline}\n        values={[...ImageRenderingValues]}\n        selector={(state: State) => state.dos.imageRendering}\n        dispatch={(newValue: ImageRendering) => dosSlice.actions.imageRendering(newValue)}\n    />;\n}\n\nexport function ThemeSelect(props: { class?: string, multiline?: boolean }) {\n    return <OptionSelect\n        class={props.class}\n        label=\"theme\"\n        values={[...ThemeValues]}\n        selector={(state: State) => state.ui.theme}\n        dispatch={(newValue: Theme) => uiSlice.actions.theme(newValue)}\n        multiline={props.multiline}\n    />;\n}\n\nexport function SockdriveBackend(props: { class?: string, multiline?: boolean }) {\n    return <OptionSelect<SockdriveBackendName>\n        class={props.class}\n        label=\"FAT16/32 Backend\"\n        values={sockdriveBackendNames}\n        selector={(state: State) => state.init.sockdriveBackendName}\n        dispatch={(newValue) => initSlice.actions.setSockdriveBackendName(newValue)}\n        multiline={props.multiline}\n    />;\n}\n\nfunction OptionSelect<T>(props: {\n    class?: string,\n    selectClass?: string,\n    label: string,\n    values: string[]\n    selector: (state: State) => T,\n    dispatch: (newValue: T) => AnyAction;\n    disabled?: boolean,\n    multiline?: boolean,\n}) {\n    const t = useT();\n    const value = useSelector(props.selector);\n    const dispatch = useDispatch();\n\n    function onBackend(newValue: T) {\n        dispatch(props.dispatch(newValue));\n    }\n    return <Select\n        class={\"mt-4 \" + props.class}\n        selectClass={props.selectClass}\n        disabled={props.disabled}\n        multiline={props.multiline}\n        label={t(props.label)}\n        selected={value as string}\n        values={props.values}\n        onSelect={onBackend as any} />;\n}\n\n","export function LockBadge(props: {\n    class?: string,\n}) {\n    return <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\"\n        class={ props.class ?? \"absolute left-0 top-0 -ml-1 -mt-1 text-error w-4 h-4\" }>\n        <path fill-rule=\"evenodd\" d=\"M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003\n                    3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75\n                    8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z\" clip-rule=\"evenodd\" />\n    </svg>;\n}\n","import { useT } from \"../i18n\";\nimport { SockdriveBackend } from \"../components/dos-option-select\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { sockdriveBackend } from \"../store/init\";\nimport { State } from \"../store\";\nimport { useEffect, useRef, useState } from \"preact/hooks\";\nimport { uiSlice } from \"../store/ui\";\nimport { LockBadge } from \"../components/lock\";\nimport { isSockdrivePremium } from \"../player-api\";\n\ninterface Drive {\n    name: string,\n    owner: string\n    fork_of: string[],\n    template: string,\n}\n\nexport function FatDrivesFrame() {\n    const t = useT();\n    const account = useSelector((state: State) => state.auth.account);\n    const { sockdriveEndpoint } = useSelector((state: State) =>\n        sockdriveBackend[state.init.sockdriveBackendName] ??\n        sockdriveBackend[\"js-dos\"]);\n    const [myDrives, setMyDrives] = useState<Drive[]>([]);\n    const dispatch = useDispatch();\n    const me = account?.email ?? \"\";\n    const [filter, setFilter] = useState<string>(\"\");\n    const [busy, setBusy] = useState<boolean>(true);\n    const forkDialogRef = useRef<HTMLDialogElement>(null);\n    const deleteDialogRef = useRef<HTMLDialogElement>(null);\n    const [forkName, setForkName] = useState<string>(\"\");\n    const [deleteConfirm, setDeleteConfirm] = useState<string>(\"\");\n    const [dialogError, setDialogError] = useState<string | null>(null);\n    const [dialogIndex, setDialogIndex] = useState<number>(-1);\n    const [sockdrivePremium, setSockdrivePremium] = useState<boolean>(false);\n    const premium = (account?.premium ?? false) || sockdrivePremium;\n\n\n    function reloadDrives() {\n        if (!account || !account.token) {\n            setMyDrives([\n                {\n                    \"fork_of\": [],\n                    \"name\": \"fat32-2gb\",\n                    \"owner\": \"system\",\n                    \"template\": \"fat32-2gb\",\n                },\n                {\n                    \"fork_of\": [],\n                    \"name\": \"fat16-256m\",\n                    \"owner\": \"system\",\n                    \"template\": \"fat16-256m\",\n                },\n                {\n                    \"fork_of\": [\n                        \"system/fat16-256m\",\n                    ],\n                    \"name\": \"win95-v1\",\n                    \"owner\": \"system\",\n                    \"template\": \"fat16-256m\",\n                },\n                {\n                    \"fork_of\": [\n                        \"system/fat16-256m\",\n                    ],\n                    \"name\": \"dos7.1-v1\",\n                    \"owner\": \"system\",\n                    \"template\": \"fat16-256m\",\n                },\n                {\n                    \"fork_of\": [\n                        \"system/fat32-2gb\",\n                    ],\n                    \"name\": \"win98-v1\",\n                    \"owner\": \"system\",\n                    \"template\": \"fat32-2gb\",\n                },\n                {\n                    \"fork_of\": [\n                        \"system/fat32-2gb\",\n                    ],\n                    \"name\": \"win95-v2\",\n                    \"owner\": \"system\",\n                    \"template\": \"fat32-2gb\",\n                },\n            ]);\n            setBusy(false);\n        } else {\n            setBusy(true);\n            fetch(sockdriveEndpoint + \"/list/drives/\" + account.token)\n                .then((r) => r.json())\n                .then((drives: Drive[]) => {\n                    setMyDrives(drives.sort((a, b) => a.name.localeCompare(b.name)));\n                })\n                .catch(console.error)\n                .finally(() => setBusy(false));\n\n            isSockdrivePremium(sockdriveEndpoint, account)\n                .then(setSockdrivePremium)\n                .catch(console.error);\n        }\n    }\n\n    useEffect(() => {\n        reloadDrives();\n    }, [account?.token, sockdriveEndpoint]);\n\n    return <div class=\"frame-root items-start gap-3 px-4\">\n        <SockdriveBackend multiline={true} class=\"w-full \" />\n        <input class=\"input input-bordered input-sm w-full\" placeholder={t(\"filter\")}\n            value={filter} onChange={(e) => setFilter(e.currentTarget.value ?? \"\")}></input>\n        <div class=\"w-full\">\n            {!busy && <table class=\"table w-full\">\n                <thead>\n                    <tr>\n                        <th>{t(\"net_drives\")}</th>\n                        <th></th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {\n                        // eslint-disable-next-line camelcase\n                        myDrives.map(({ name, owner, fork_of }, index) => {\n                            if (filter.length > 0 &&\n                                owner.indexOf(filter) === -1 && name.indexOf(filter) === -1) {\n                                return null;\n                            }\n                            return <>\n                                <tr>\n                                    <td onClick={() => { }}>\n                                        <p class=\"font-bold\">{name}</p>\n                                        {\n                                            // eslint-disable-next-line camelcase\n                                            fork_of.map((path) => {\n                                                return <p class=\"text-xs\">&nbsp;&nbsp;&nbsp;&nbsp;{path}</p>;\n                                            })}\n                                        {owner !== account?.email &&\n                                            <p class=\"text-xs\">{owner}</p>}\n                                    </td>\n                                    {premium && <td>\n                                        {account?.token && <div class=\"btn btn-ghost btn-xs\"\n                                            onClick={() => {\n                                                setDialogIndex(index);\n                                                forkDialogRef.current?.showModal();\n                                            }}>Fork</div>}\n                                        {account?.token && owner === me && <div class=\"btn btn-xs btn-ghost\"\n                                            onClick={() => {\n                                                setDialogIndex(index);\n                                                deleteDialogRef.current?.showModal();\n                                            }}>{t(\"delete\")}</div>}\n                                    </td>}\n                                    {!premium && <td>\n                                        <div class=\"cursor-pointer\"\n                                            onClick={() => dispatch(uiSlice.actions.warnOnPremium(true))}>\n                                            <LockBadge class=\"text-error\" />\n                                        </div>\n                                    </td>}\n                                </tr>\n                            </>;\n                        })}\n                </tbody>\n            </table>\n            }\n            {busy && <span class=\"loading loading-spinner loading-lg\"></span>}\n        </div>\n        <dialog ref={forkDialogRef} class=\"modal\">\n            {!busy && dialogIndex >= 0 && account !== null && <div class=\"modal-box\">\n                <h3 class=\"font-bold text-lg\">{t(\"enter_name_of_drive\")}:</h3>\n                <p class=\"text-xs text-neutral-content mt-2\">\n                    fork of: {myDrives[dialogIndex].owner}/{myDrives[dialogIndex].name}\n                </p>\n                <input type=\"text\" placeholder=\"name\" value={forkName}\n                    class=\"mt-6 input input-bordered input-primary w-full\" onChange={(e) =>\n                        setForkName(e.currentTarget.value)} />\n                {dialogError !== null &&\n                    <p class=\"mt-2 text-error\">{t(\"error\")}: {dialogError}</p>}\n                <div class=\"modal-action\">\n                    {forkName.length > 0 && <button class=\"btn mr-2 btn-primary\" onClick={() => {\n                        setDialogIndex(-1);\n                        setBusy(true);\n                        // eslint-disable-next-line max-len\n                        fetch(`${sockdriveEndpoint}/fork/drive/${myDrives[dialogIndex].owner}/${myDrives[dialogIndex].name}/${forkName}/${account.token}`, {\n                            method: \"POST\",\n                        })\n                            .then((r) => r.json())\n                            .then((response) => {\n                                if (response.error) {\n                                    throw new Error(response.error);\n                                } else {\n                                    setMyDrives([]);\n                                    reloadDrives();\n                                }\n                                forkDialogRef.current?.close();\n                            })\n                            .catch((e) => {\n                                console.error(e.message);\n                                dispatch(uiSlice.actions\n                                    .showToast({ message: e.message, intent: \"error\" }));\n                            })\n                            .finally(() => {\n                                setBusy(false);\n                            });\n                    }}>{t(\"fork\")}</button>}\n                    <button class=\"btn\" onClick={() => forkDialogRef.current?.close()}>{t(\"close\")}</button>\n                </div>\n            </div>}\n        </dialog>\n        <dialog ref={deleteDialogRef} class=\"modal\">\n            {!busy && dialogIndex >= 0 && account !== null && <div class=\"modal-box\">\n                <h3 class=\"font-bold text-lg\">{t(\"enter_name_of_drive\")}:</h3>\n                <p class=\"text-xs text-neutral mt-2\">{myDrives[dialogIndex].owner}/{myDrives[dialogIndex].name}</p>\n                <input type=\"text\" placeholder=\"name\" value={deleteConfirm}\n                    class=\"mt-6 input input-bordered input-primary w-full\"\n                    onChange={(e) => setDeleteConfirm(e.currentTarget.value)} />\n                {dialogError !== null &&\n                    <p class=\"mt-2 text-error\">{t(\"error\")}: {setDialogError}</p>}\n                <div class=\"modal-action\">\n                    {deleteConfirm === myDrives[dialogIndex].owner + \"/\" + myDrives[dialogIndex].name &&\n                        <button class=\"btn mr-2 btn-primary\" onClick={() => {\n                            setDialogIndex(-1);\n                            setBusy(true);\n                            // eslint-disable-next-line max-len\n                            fetch(`${sockdriveEndpoint}/fork/delete/${myDrives[dialogIndex].owner}/${myDrives[dialogIndex].name}/${account.token}`, { method: \"POST\" })\n                                .then((r) => r.json())\n                                .then((response) => {\n                                    if (response.error) {\n                                        throw new Error(response.error);\n                                    } else {\n                                        const newDrives = [...myDrives];\n                                        newDrives.splice(dialogIndex, 1);\n                                        setMyDrives(newDrives);\n                                    }\n                                    deleteDialogRef.current?.close();\n                                })\n                                .catch((e) => {\n                                    console.error(e.message);\n                                    setDialogError(e.message);\n                                    dispatch(uiSlice.actions\n                                        .showToast({ message: e.message, intent: \"error\" }));\n                                })\n                                .finally(() => {\n                                    setBusy(false);\n                                });\n                        }}>{t(\"delete\")}</button>}\n                    <button class=\"btn\" onClick={() => deleteDialogRef.current?.close()}>{t(\"close\")}</button>\n                </div>\n            </div>\n            }\n        </dialog >\n    </div >;\n}\n","import { useEffect, useRef } from \"preact/hooks\";\n\nexport function Checkbox(props: {\n    class?: string,\n    toggleClass?: string,\n    label: string,\n    checked?: boolean,\n    onChange?: (value: boolean) => void,\n    disabled?: boolean,\n    intermediate?: boolean,\n}) {\n    const ref = useRef<HTMLInputElement>(null);\n\n    useEffect(() => {\n        if (ref === null || ref.current === null) {\n            return;\n        }\n\n        (ref.current as any).indeterminate = props.intermediate;\n    }, [ref, props.intermediate]);\n\n    function onChange() {\n        if (props.onChange) {\n            props.onChange(!(props.checked === true));\n        }\n    }\n\n    return <div className={props.class + \" form-control option\"}\n        onClick={onChange}>\n        <label className=\"label cursor-pointer\">\n            <span className=\"label-text mr-6\">{props.label}</span>\n            <input\n                ref={ref}\n                checked={props.checked === true}\n                type=\"checkbox\"\n                className={ \"toggle \" + (props.checked ? \" toggle-primary \" : \"\") +\n                    props.toggleClass }\n                disabled={props.disabled === true} />\n        </label>\n    </div>;\n}\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { Checkbox } from \"../components/checkbox\";\nimport { useT } from \"../i18n\";\nimport { State } from \"../store\";\nimport { dosSlice } from \"../store/dos\";\nimport { Select } from \"../components/select\";\nimport { uiSlice } from \"../store/ui\";\nimport { Dispatch } from \"@reduxjs/toolkit\";\n\nexport function NetworkFrame() {\n    const network = useSelector((state: State) => state.dos.network);\n    const room = network.room;\n    const server = network.server;\n    const disabled = network.ipx !== \"disconnected\";\n    const t = useT();\n    const dispatch = useDispatch();\n    const ipxLink =\n        network.ipx === \"connected\" ?\n            location.href + searchSeparator() +\n            \"ipx=1&server=\" + network.server + \"&room=\" + room :\n            null;\n\n    function setRoom(room: string) {\n        dispatch(dosSlice.actions.setRoom(room));\n    }\n\n    function setServer(server: string) {\n        dispatch(dosSlice.actions.setServer(server as any));\n    }\n\n    function toggleIpx() {\n        if (network.ipx === \"connected\") {\n            dispatch(dosSlice.actions.disconnectIpx({}));\n        } else {\n            dispatch(dosSlice.actions.connectIpx({\n                room,\n                address: \"wss://\" + server + \".dos.zone\",\n            }) as any);\n        }\n    }\n\n    function copyAndClose() {\n        if (ipxLink) {\n            copyToClipBoard(ipxLink, t, dispatch);\n            dispatch(uiSlice.actions.frameNone());\n        }\n    }\n\n    function onServer(newServer: string) {\n        setServer(newServer);\n    }\n\n    return <div class=\"network-frame frame-root items-start px-4 relative\">\n        <div class=\"ml-1 mb-4 w-full flex flex-row items-center\">\n            <Select\n                class=\"text-sm\"\n                selectClass=\"w-full\"\n                label={t(\"server\") + \":\"}\n                selected={server}\n                values={[\"netherlands\", \"newyork\", \"singapore\"]}\n                disabled={disabled}\n                onSelect={onServer}\n            />\n        </div>\n        <div class=\"form-control w-full\">\n            <label class=\"label\">\n                <span class=\"label-text\">{t(\"room\")}:</span>\n            </label>\n            <input type=\"text\"\n                class=\"input w-full input-sm input-bordered\"\n                disabled={disabled}\n                onChange={(e) => setRoom(e.currentTarget.value)}\n                value={room}></input>\n        </div>\n        <Checkbox\n            class={\"mt-4 \" + (network.ipx === \"error\" ? \"error\" : \"\")}\n            onChange={toggleIpx}\n            label=\"IPX\"\n            checked={network.ipx === \"connected\"}\n            disabled={network.ipx === \"connecting\"}\n            intermediate={network.ipx === \"connecting\"}\n        />\n\n        {ipxLink !== null && <div class=\"mt-4 text-sm alert alert-success shadow-lg flex flex-col\">\n            <div>{t(\"copy_net_link\")}:</div>\n            <div class=\"flex flex-row\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\"\n                    class=\"w-6 h-6 mx-1 cursor-pointer hover:text-accent-focus flex-shrink-0\"\n                    fill=\"none\" onClick={copyAndClose}\n                    viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                        d=\"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125\n                        1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06\n                        9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504\n                        1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0\n                        00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5\n                        10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12\n                        6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125\n                         0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75\" />\n                </svg>\n                <div class=\"contextmenu underline break-all\"\n                    target=\"_blank\">{ipxLink}</div>\n            </div>\n        </div>}\n    </div >;\n}\n\nfunction searchSeparator() {\n    if (location.href.endsWith(\"?\") || location.href.endsWith(\"&\")) {\n        return \"\";\n    }\n    return location.href.indexOf(\"?\") > 0 ? \"&\" : \"?\";\n}\n\nasync function copyToClipBoard(text: string,\n                               t: (key: string) => string,\n                               dispatch: Dispatch) {\n    if (!navigator.clipboard) {\n        return;\n    }\n\n    try {\n        await navigator.clipboard.writeText(text);\n        dispatch(uiSlice.actions.showToast({\n            message: t(\"copied\"),\n            intent: \"success\",\n        }));\n    } catch (e: any) {\n        dispatch(uiSlice.actions.showToast({\n            message: t(\"error\"),\n            intent: \"error\",\n        }));\n    }\n}\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { useT } from \"../i18n\";\nimport { State, useNonSerializableStore } from \"../store\";\nimport { dosSlice } from \"../store/dos\";\nimport { uiSlice } from \"../store/ui\";\nimport { Checkbox } from \"./checkbox\";\n\nexport function Editor() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const editor = useSelector((state: State) => state.ui.editor);\n    return <Checkbox\n        class=\"mt-4\"\n        label={t(\"editor\")}\n        checked={editor}\n        onChange={(e) => dispatch(uiSlice.actions.setEditor(e))}\n    />;\n}\n\nexport function MouseCapture() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const lock = useSelector((state: State) => state.dos.mouseCapture);\n    return <Checkbox\n        class=\"mt-4\"\n        label={t(\"mouse_lock\")}\n        checked={lock}\n        onChange={(l) => dispatch(dosSlice.actions.mouseCapture(l))}\n    />;\n}\n\nexport function SystemCursor() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const lock = useSelector((state: State) => !state.dos.noCursor);\n    return <Checkbox\n        class=\"mt-4\"\n        label={t(\"system_cursor\")}\n        checked={lock}\n        onChange={(l) => dispatch(dosSlice.actions.noCursor(!l))}\n    />;\n}\n\nexport function MobileControls() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const lock = useSelector((state: State) => state.dos.mobileControls);\n    return <Checkbox\n        class=\"mt-4\"\n        label={t(\"mobile_controls\")}\n        checked={lock}\n        onChange={(l) => dispatch(dosSlice.actions.mobileControls(l))}\n    />;\n}\n\nexport function MirroredControls() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const lock = useSelector((state: State) => state.dos.mirroredControls);\n    return <Checkbox\n        class=\"mt-4\"\n        label={t(\"mirrored_controls\")}\n        checked={lock}\n        onChange={(l) => dispatch(dosSlice.actions.mirroredControls(l))}\n    />;\n}\n\nexport function PauseCheckbox() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const paused = useSelector((state: State) => state.dos.paused);\n    const disabled = useSelector((state: State) => state.ui.window) !== \"run\";\n    return <Checkbox\n        class=\"mt-4\"\n        label={t(\"pause\")}\n        checked={paused}\n        disabled={disabled}\n        onChange={(p) => dispatch(dosSlice.actions.paused(p))}\n    />;\n}\n\nexport function WorkerCheckbox() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const worker = useSelector((state: State) => state.dos.worker);\n    const hardware = useSelector((state: State) => state.dos.backendHardware);\n    const disabled = useSelector((state: State) => state.ui.window) === \"run\";\n    const nonSerializableStore = useNonSerializableStore();\n    return hardware && nonSerializableStore.options.backendHardware ? null : <Checkbox\n        class=\"mt-4\"\n        label={t(\"worker\")}\n        checked={worker}\n        disabled={disabled}\n        onChange={(w) => dispatch(dosSlice.actions.dosWorker(w))}\n    />;\n}\n\nexport function HardwareCheckbox() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const hardware = useSelector((state: State) => state.dos.backendHardware);\n    const nonSerializableStore = useNonSerializableStore();\n    return nonSerializableStore.options.backendHardware ? <Checkbox\n        class=\"mt-4\"\n        label={t(\"hardware\")}\n        checked={hardware}\n        onChange={(h) => dispatch(dosSlice.actions.dosBackendHardware(h))}\n    /> : null;\n}\n\nexport function SockdriveWrite() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const account = useSelector((state: State) => state.auth.account);\n    const visible = useSelector((state: State) => state.dos.backend === \"dosboxX\");\n    const checked = useSelector((state: State) => state.dos.sockdriveWrite) && account !== null;\n    return visible ? <Checkbox\n        class=\"mt-4\"\n        label={t(\"fat_write\")}\n        checked={checked}\n        onChange={(c) => {\n            if (!account) {\n                dispatch(uiSlice.actions.warnOnKey(true));\n            } else if (!account.premium) {\n                dispatch(uiSlice.actions.warnOnPremium(true));\n            }\n\n            dispatch(dosSlice.actions.setSockdriveWrite(c));\n        }}\n    /> : null;\n}\n","import { useEffect, useRef } from \"preact/hooks\";\n\nexport function Slider(props: {\n    class?: string,\n    label: string,\n    value: number,\n    onChange: (value: number) => void,\n}) {\n    const sliderRef = useRef<HTMLDivElement>(null);\n    const pointRef = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        if (sliderRef?.current === null) {\n            return;\n        }\n\n        const sliderEl = sliderRef.current;\n\n        let pressed = false;\n        function updatePercent(e: PointerEvent) {\n            const boundingRect = sliderEl.getBoundingClientRect();\n            const percent = Math.min(1, Math.max(0,\n                (e.clientX - boundingRect.left) / boundingRect.width));\n            props.onChange(percent);\n        }\n\n        function onPointerDown(e: PointerEvent) {\n            pressed = true;\n            updatePercent(e);\n        }\n        function onPointerMove(e: PointerEvent) {\n            if (!pressed) {\n                return;\n            }\n\n            updatePercent(e);\n        }\n\n        function onPointerUp(e: PointerEvent) {\n            pressed = false;\n        }\n\n\n        sliderEl.addEventListener(\"pointerdown\", onPointerDown);\n        sliderEl.addEventListener(\"pointermove\", onPointerMove);\n        sliderEl.addEventListener(\"pointerup\", onPointerUp);\n        sliderEl.addEventListener(\"pointercancel\", onPointerUp);\n        sliderEl.addEventListener(\"pointerleave\", onPointerUp);\n\n        return () => {\n            sliderEl.removeEventListener(\"pointerdown\", onPointerDown);\n            sliderEl.removeEventListener(\"pointermove\", onPointerMove);\n            sliderEl.removeEventListener(\"pointerup\", onPointerUp);\n            sliderEl.removeEventListener(\"pointercancel\", onPointerUp);\n            sliderEl.removeEventListener(\"pointerleave\", onPointerUp);\n        };\n    }, [sliderRef]);\n\n    const percent = Math.min(Math.max(0, props.value * 100), 100);\n\n    return <div class={props.class + \" slider option\"}>\n        <div class=\"label\">{props.label}</div>\n        <div class=\"touch\" ref={sliderRef}>\n            <div class=\"bg\"></div>\n            <div class=\"point\" ref={pointRef}\n                style={{ left: \"calc(\" + percent + \"%\" + \" - 12px)\" }}></div>\n        </div>\n    </div>;\n}\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { useT } from \"../i18n\";\nimport { dosSlice } from \"../store/dos\";\nimport { Slider } from \"./slider\";\nimport { State } from \"../store\";\n\nexport function MouseSensitiviySlider(props: {\n    class?: string,\n}) {\n    const t = useT();\n    const sensitivity = useSelector((state: State) => state.dos.mouseSensitivity);\n    const dispatch = useDispatch();\n\n    return <Slider\n        class={props.class}\n        label={t(\"mouse_sensitivity\")}\n        value={sensitivity}\n        onChange={(value) => dispatch(dosSlice.actions.mouseSensitivity(value)) }\n    />;\n}\n\nexport function ScaleControlsSlider(props: {\n    class?: string,\n}) {\n    const t = useT();\n    const sensitivity = useSelector((state: State) => state.dos.scaleControls);\n    const dispatch = useDispatch();\n\n    return <Slider\n        class={props.class}\n        label={t(\"scale_controls\")}\n        value={sensitivity}\n        onChange={(value) => dispatch(dosSlice.actions.scaleControls(value)) }\n    />;\n}\n\nexport function VolumeSlider(props: {\n    class?: string,\n}) {\n    const t = useT();\n    const volume = useSelector((state: State) => state.dos.volume);\n    const dispatch = useDispatch();\n\n    return <Slider\n        class={props.class}\n        label={t(\"volume\")}\n        value={volume}\n        onChange={(value) => dispatch(dosSlice.actions.volume(value)) }\n    />;\n}\n","import { MirroredControls, MobileControls,\n    MouseCapture, SystemCursor, PauseCheckbox } from \"../components/dos-option-checkbox\";\nimport { ImageRenderingSelect, RenderAspectSelect, ThemeSelect } from \"../components/dos-option-select\";\nimport { MouseSensitiviySlider, ScaleControlsSlider, VolumeSlider } from \"../components/dos-option-slider\";\n\nexport function SettingsFrame(props: {}) {\n    return <div class=\"settings-frame frame-root items-start pl-4\">\n        <PauseCheckbox />\n        <SystemCursor />\n        <MouseCapture />\n        <MobileControls />\n        <MirroredControls />\n        <ScaleControlsSlider class=\"mt-4\" />\n        <MouseSensitiviySlider />\n        <VolumeSlider />\n        <RenderAspectSelect multiline={true} />\n        <ImageRenderingSelect multiline={true} />\n        <ThemeSelect multiline={true} />\n    </div>;\n}\n","import { useSelector } from \"react-redux\";\nimport { State, useNonSerializableStore } from \"../store\";\n\nexport function StatsFrame() {\n    const nonSerializableStore = useNonSerializableStore();\n    const backend = useSelector((state: State) => state.dos.backend);\n    const hardware = useSelector((state: State) => state.dos.backendHardware) &&\n        nonSerializableStore.options.backendHardware;\n    const emuVersion = useSelector((state: State) => state.dos.emuVersion);\n    const startedAt = useSelector((state: State) => state.dos.ciStartedAt);\n    const stats = useSelector((state: State) => state.dos.stats);\n    const driveInfo = useSelector((state: State) => state.dos.sockdriveInfo);\n    const cycles = Math.round(useSelector((state: State) => state.dos.stats.cyclesPerMs) / 1000);\n    const driveRecvMb = Math.round(stats.driveRecv / 1024 / 1024 * 100) / 100;\n    const driveSpeedMb = (stats.driveRecvTime / 1000) > 1 ?\n        Math.round(driveRecvMb / stats.driveRecvTime * 1000 * 100) / 100 : 0;\n    return <div class=\"stats-frame frame-root items-start px-4\">\n        <div class=\"text-center mb-2 text-xs\">\n            js-dos/emu: {JSDOS_VERSION}/{emuVersion}\n        </div>\n        <div class=\"w-full overflow-x-auto\">\n            <table class=\"table table-compact w-full\">\n                <thead>\n                    <tr>\n                        <th>Metric</th>\n                        <th>Value</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td>Emulation</td>\n                        <td>{backend + \" \" + (hardware ? \"(WS)\" : \"(WA)\")}</td>\n                    </tr>\n                    <tr>\n                        <td>Uptime</td>\n                        <td>{Math.round((Date.now() - startedAt) / 100) / 10} s</td>\n                    </tr>\n                    <tr>\n                        <td>Cycles/ms</td>\n                        { cycles <= 0 && <td>~ K</td> }\n                        { cycles > 0 && cycles <= 1000 && <td>{cycles} K</td> }\n                        { cycles > 1000 && <td>{Math.round(cycles / 1000)} KK</td> }\n                    </tr>\n                    <tr>\n                        <td>NonSkipSleep COUNT/s</td>\n                        <td>{stats.nonSkippableSleepPreSec}</td>\n                    </tr>\n                    <tr>\n                        <td>Sleep COUNT/s</td>\n                        <td>{stats.sleepPerSec}</td>\n                    </tr>\n                    <tr>\n                        <td>Sleep TIME/s</td>\n                        <td>{stats.sleepTimePerSec}</td>\n                    </tr>\n                    <tr>\n                        <td>Msg FRAME/s</td>\n                        <td>{stats.framePerSec}</td>\n                    </tr>\n                    <tr>\n                        <td>Msg SOUND/s</td>\n                        <td>{stats.soundPerSec}</td>\n                    </tr>\n                    <tr>\n                        <td>Msg SENT/s</td>\n                        <td>{stats.msgSentPerSec}</td>\n                    </tr>\n                    <tr>\n                        <td>Msg RECV/s</td>\n                        <td>{stats.msgRecvPerSec}</td>\n                    </tr>\n                    <tr>\n                        <td>Net SENT/s</td>\n                        <td>{Math.round(stats.netSent / 1024 * 100) / 100}Kb</td>\n                    </tr>\n                    <tr>\n                        <td>Net RECV/s</td>\n                        <td>{Math.round(stats.netRecv / 1024 * 100) / 100}Kb</td>\n                    </tr>\n                    {driveInfo.map((info, i) => {\n                        return <tr>\n                            <td>HDD { i == 0 ? \"C:\" : \"D:\"}</td>\n                            <td>{info.drive} {info.write ? \" RW\" : \" RO\" }</td>\n                        </tr>;\n                    })}\n                    <tr>\n                        <td>HDD RECV/s</td>\n                        <td>{driveRecvMb}Mb (~{driveSpeedMb}Mb/s)</td>\n                    </tr>\n                    <tr>\n                        <td>HDD SENT/s</td>\n                        <td>{Math.round(stats.driveSent / 1024 / 1024 * 100) / 100}Mb</td>\n                    </tr>\n                    <tr>\n                        <td>HDD Cache</td>\n                        <td>{Math.round(stats.driveCacheUsed / 1024 / 1024 * 100) / 100}Mb</td>\n                    </tr>\n                    <tr>\n                        <td>HDD Cache Hit/Miss</td>\n                        <td>{stats.driveCacheHit} / {stats.driveCacheMiss}</td>\n                    </tr>\n                    <tr>\n                        <td>HDD RX</td>\n                        <td>{stats.driveIo.map((io) => {\n                            return io.read;\n                        }).join(\", \")}</td>\n                    </tr>\n                    <tr>\n                        <td>HDD TX</td>\n                        <td>{stats.driveIo.map((io) => {\n                            return io.write;\n                        }).join(\", \")}</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>;\n}\n","import { useDispatch, useSelector, useStore } from \"react-redux\";\nimport { dosSlice } from \"../store/dos\";\nimport { postJsDosEvent, State, useNonSerializableStore } from \"../store\";\nimport { useT } from \"../i18n\";\nimport { uiSlice } from \"../store/ui\";\nimport { Emulators } from \"emulators\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { authSlice, loadAccount } from \"../store/auth\";\nimport { isSockdrivePremium } from \"../player-api\";\nimport { sockdriveBackend } from \"../store/init\";\nimport { loadBundleFromUrl } from \"../player-api-load\";\n\ndeclare const emulators: Emulators;\n\nexport function PreRunWindow() {\n    const emuVersion = useSelector((state: State) => state.dos.emuVersion);\n\n    return <div class=\"pre-run-window\">\n        <Play />\n        <SecretKey />\n        <div class=\"self-end mt-8 absolute bottom-3\">\n            <span class=\"text-ellipsis overflow-hidden\">\n                js-{JSDOS_VERSION}/emu-{emuVersion.substring(0, emuVersion.indexOf(\" \"))}\n            </span>\n        </div>\n    </div>;\n}\n\nlet knownToken = \"-----\";\n\nfunction SecretKey() {\n    const t = useT();\n    const account = useSelector((state: State) => state.auth.account);\n    const kiosk = useSelector((state: State) => state.ui.kiosk);\n    const noCloud = useSelector((state: State) => state.ui.noCloud);\n    const [token, stateSetToken] = useState<string>(account?.token ?? \"\");\n    const { sockdriveEndpoint } = useSelector((state: State) =>\n        sockdriveBackend[state.init.sockdriveBackendName] ??\n        sockdriveBackend[\"js-dos\"]);\n    const [sockdrivePremium, setSockdrivePremium] = useState<boolean>(true);\n    const premium = (account?.premium ?? false) || sockdrivePremium;\n    const nonSerializableStore = useNonSerializableStore();\n    const warnOnKey = useSelector((state: State) => state.ui.warnOnKey);\n    const warnOnPremium = useSelector((state: State) => state.ui.warnOnPremium);\n    const dispatch = useDispatch();\n    const store = useStore();\n\n    useEffect(() => {\n        isSockdrivePremium(sockdriveEndpoint, account)\n            .then(setSockdrivePremium);\n    }, [account?.token, sockdriveEndpoint]);\n\n    if (kiosk || noCloud) {\n        return null;\n    }\n\n    function setToken(token: string) {\n        if (token === knownToken) {\n            return;\n        }\n\n        dispatch(uiSlice.actions.warnOnKey(false));\n        dispatch(uiSlice.actions.warnOnPremium(false));\n\n        knownToken = token;\n        stateSetToken(token);\n        loadAccount(token)\n            .then(({ token, account }) => {\n                if (token === knownToken) {\n                    dispatch(authSlice.actions.setAccount(account));\n                    if (nonSerializableStore.options.url) {\n                        loadBundleFromUrl(nonSerializableStore.options.url, store).catch((e) => {\n                            store.dispatch(dosSlice.actions.bndError(e.message));\n                        });\n                    }\n                }\n            }).catch(console.error);\n    }\n\n    useEffect(() => {\n        loadAccount(token).then(({ token, account }) => {\n            dispatch(authSlice.actions.setAccount(account));\n        });\n    }, []);\n\n    function fireOpenKey() {\n        postJsDosEvent(nonSerializableStore, \"open-key\");\n    }\n\n    const dzMark = account?.email === \"dz.caiiiycuk@gmail.com\";\n    const warnMark = <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n        viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"size-4 inline mr-2 text-warning opacity-50\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n            d=\"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73\n             0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898\n             0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z\" />\n    </svg>;\n\n    return <div class=\"mt-4 flex flex-col items-center\">\n        {account === null && t(\"hello_guest\")}\n        {account !== null && <div class={dzMark ? \"bg-warning px-2\" : \"\"}>\n            {t(\"hello\") + \", \" + (dzMark ? \"DOS Zone\" : (account.name ?? account.email)) + \"!\"}\n            <span class=\"link link-neutral lowercase inline ml-1\"\n                onClick={() => setToken(\"\")}>({t(\"logout\")})</span>\n        </div>}\n        <div class=\"mt-2\">\n            {account === null && <>\n                {t(\"no_cloud_access\")}\n                <a href=\"https://v8.js-dos.com/key\"\n                    onClick={fireOpenKey}\n                    target=\"_blank\" class=\"link link-neutral ml-1\">{t(\"key\")}</a>\n                &nbsp;{t(\"no_cloud_access2\")}.\n            </>}\n            {account !== null && premium === false && <>\n                {warnMark}\n                <span class={(warnOnPremium ? \"text-warning font-bold\" : \"\")}>\n                    {t(\"read_only_access\")}\n                    <a href=\"https://v8.js-dos.com/key\"\n                        onClick={fireOpenKey}\n                        target=\"_blank\" class={\"link ml-1 lowercase \" +\n                            (warnOnPremium ? \"\" : \"link-neutral\")} >({t(\"fix\")})</a>\n                </span>\n            </>}\n        </div>\n        {account === null &&\n            <div class=\"-ml-4\">\n                {warnMark}\n                <input maxLength={5} value={token} onChange={(e) => setToken(e.currentTarget.value)}\n                    placeholder=\"-----\"\n                    class={\"input input-xs input-bordered mt-4 mb-4 text-center w-20 bg-blend-multiply bg-opacity-40\" +\n                        (warnOnKey ? \" input-warning animate-pulse\" : \"\")}></input>\n            </div>}\n    </div>;\n}\n\nexport function Play(props: { class?: string, button?: boolean }) {\n    const configChanged = useSelector((state: State) => state.editor.configChanged);\n    const bundleConfig = useSelector((state: State) => state.editor.bundleConfig);\n    const frameVisible = useSelector((state: State) => state.ui.frame !== \"none\");\n    const nonSerializableStore = useNonSerializableStore();\n    const dispatch = useDispatch();\n    const t = useT();\n\n    async function onPlay() {\n        if (configChanged) {\n            const config = bundleConfig;\n            const bundle = nonSerializableStore.loadedBundle?.bundle;\n            if (bundle === null || config === null || !ArrayBuffer.isView(bundle)) {\n                throw new Error(\"Unexpected behaviour (internal state is broken), bundle is null\");\n            }\n\n            try {\n                nonSerializableStore.loadedBundle!.bundle =\n                    await emulators.bundleUpdateConfig(bundle, config);\n                dispatch(dosSlice.actions.bndPlay({}));\n            } catch (e) {\n                dispatch(dosSlice.actions.bndError((e as Error).message ?? \"unexpected error\"));\n            }\n        } else {\n            dispatch(dosSlice.actions.bndPlay({}));\n        }\n    }\n\n    if (props.button === true) {\n        return <div class=\"btn btn-accent w-full sm:hidden\" onClick={onPlay}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-6 h-6\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15.91 11.672a.375.375 0 010\n                .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z\" />\n            </svg>\n\n            {t(\"play\")}\n        </div>;\n    } else {\n        return <div class={props.class + \" relative cursor-pointer w-1/4 h-1/4 min-w-48 \" +\n            \"min-h-48 max-w-96 max-h-96\"} onClick={onPlay}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-full h-full play-button\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15.91 11.672a.375.375 0 010\n                .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z\" />\n            </svg>\n\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n                viewBox=\"0 0 24 24\" stroke-width=\"1.5\"\n                stroke=\"currentColor\" class={\"w-10 h-10 absolute right-0 bottom-0 cursor-pointer\" +\n                    (frameVisible ? \" sidebar-highlight\" : \"\")}\n                onClick={(e) => {\n                    if (frameVisible) {\n                        dispatch(uiSlice.actions.frameNone());\n                    } else {\n                        dispatch(uiSlice.actions.framePreRun());\n                    }\n                    e.stopPropagation();\n                }}>\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55\n                        0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257\n                        1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26\n                        1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010\n                        .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298\n                        2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0\n                        01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55\n                        0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0\n                        01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0\n                        01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932\n                        6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0\n                        01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072\n                        1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z\" />\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n            </svg>\n        </div>;\n    }\n}\n","import { Editor, HardwareCheckbox, MirroredControls, MobileControls,\n    MouseCapture,\n    SockdriveWrite,\n    SystemCursor,\n    WorkerCheckbox } from \"../components/dos-option-checkbox\";\nimport { BackendSelect, RenderAspectSelect, RenderSelect, ThemeSelect } from \"../components/dos-option-select\";\nimport { MouseSensitiviySlider, ScaleControlsSlider, VolumeSlider } from \"../components/dos-option-slider\";\nimport { Play } from \"../window/prerun-window\";\n\nexport function PreRunFrame(props: {}) {\n    return <div class=\"prerun-frame frame-root items-start pl-4\">\n        <Play button={true} />\n        <SystemCursor />\n        <MouseCapture />\n        <MobileControls />\n        <MirroredControls />\n        <ScaleControlsSlider class=\"mt-4\" />\n        <MouseSensitiviySlider />\n        <VolumeSlider />\n        <BackendSelect multiline={true} />\n        <WorkerCheckbox />\n        <RenderSelect multiline={true} />\n        <RenderAspectSelect multiline={true} />\n        <HardwareCheckbox />\n        <SockdriveWrite />\n        <Editor />\n        <ThemeSelect multiline={true} />\n    </div>;\n}\n","import { useSelector } from \"react-redux\";\nimport { State } from \"../store\";\nimport { EditorConf } from \"./editor/editor-conf-frame\";\nimport { EditorFsFrame } from \"./editor/editor-fs-frame\";\nimport { FatDrivesFrame } from \"./fat-drives-frame\";\nimport { NetworkFrame } from \"./network-frame\";\nimport { SettingsFrame } from \"./settings-frame\";\nimport { StatsFrame } from \"./stats-frame\";\nimport { PreRunFrame } from \"./prerun-frame\";\n\nexport function Frame(props: {}) {\n    const frame = useSelector((state: State) => state.ui.frame);\n    const frameXs = useSelector((state: State) => state.ui.frameXs);\n    const wideScreen = useSelector((state: State) => state.ui.wideScreen);\n    if (frame === \"none\") {\n        return null;\n    }\n\n\n    return <div class={\"frame \" + (frameXs ? \" frame-xs \" : \"\") +\n        (frameXs || wideScreen ? \"\" : \" frame-md\")}>\n        { frame === \"settings\" && <SettingsFrame /> }\n        { frame === \"editor-conf\" && <EditorConf /> }\n        { frame === \"editor-fs\" && <EditorFsFrame /> }\n        { frame === \"network\" && <NetworkFrame /> }\n        { frame === \"stats\" && <StatsFrame /> }\n        { frame === \"fat-drives\" && <FatDrivesFrame /> }\n        { frame === \"prerun\" && <PreRunFrame /> }\n    </div>;\n};\n","import { Store, getNonSerializableStore } from \"../store\";\nimport { uiSlice } from \"../store/ui\";\n\nexport function browserSetFullScreen(fullScreen: boolean, store: Store) {\n    const root = getNonSerializableStore(store).root as any;\n    if (fullScreen) {\n        if (root.requestFullscreen) {\n            root.requestFullscreen();\n        } else if (root.webkitRequestFullscreen) {\n            root.webkitRequestFullscreen();\n        } else if (root.mozRequestFullScreen) {\n            root.mozRequestFullScreen();\n        } else if (root.msRequestFullscreen) {\n            root.msRequestFullscreen();\n        } else if (root.webkitEnterFullscreen) {\n            root.webkitEnterFullscreen();\n        } else {\n            root.classList.add(\"jsdos-fullscreen-workaround\");\n        }\n    } else {\n        if (root.classList.contains(\"jsdos-fullscreen-workaround\")) {\n            root.classList.remove(\"jsdos-fullscreen-workaround\");\n        } else if (document.exitFullscreen) {\n            document.exitFullscreen();\n        } else if ((document as any).webkitExitFullscreen) {\n            (document as any).webkitExitFullscreen();\n        } else if ((document as any).mozCancelFullScreen) {\n            (document as any).mozCancelFullScreen();\n        } else if ((document as any).msExitFullscreen) {\n            (document as any).msExitFullscreen();\n        }\n    }\n\n    store.dispatch(uiSlice.actions.setFullScreen(fullScreen));\n}\n","import { useSelector, useStore } from \"react-redux\";\nimport { State, Store } from \"../store\";\nimport { browserSetFullScreen } from \"../host/fullscreen\";\n\nexport function FullscreenButton(props: {\n    class?: string,\n}) {\n    const fullScreen = useSelector((state: State) => state.ui.fullScreen);\n    const store = useStore() as Store;\n\n    function onClick() {\n        browserSetFullScreen(!fullScreen, store);\n    }\n    /* eslint-disable max-len */\n    return <div class={\"fullscreen-button sidebar-button \" + props.class} onClick={onClick}>\n        <div class={\"w-full h-full scale-75 hover:scale-90\"}>\n            {!fullScreen &&\n                <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n                    viewBox=\"0 0 16 16\" fill=\"currentColor\" stroke=\"none\" enable-background=\"new 0 0 16 16\" >\n                    <g>\n                        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.99,8.99c-0.28,0-0.53,0.11-0.71,0.29l-3.29,3.29v-1.59c0-0.55-0.45-1-1-1\n                                s-1,0.45-1,1v4c0,0.55,0.45,1,1,1h4c0.55,0,1-0.45,1-1s-0.45-1-1-1H3.41L6.7,10.7c0.18-0.18,0.29-0.43,0.29-0.71\n                                C6.99,9.44,6.54,8.99,5.99,8.99z M14.99-0.01h-4c-0.55,0-1,0.45-1,1s0.45,1,1,1h1.59L9.28,5.29C9.1,5.47,8.99,5.72,8.99,5.99\n                                c0,0.55,0.45,1,1,1c0.28,0,0.53-0.11,0.71-0.29l3.29-3.29v1.59c0,0.55,0.45,1,1,1s1-0.45,1-1v-4C15.99,0.44,15.54-0.01,14.99-0.01\n                                z\"/>\n                    </g>\n                </svg>\n            }\n            {fullScreen &&\n                <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n                    viewBox=\"0 0 16 16\" fill=\"currentColor\" stroke=\"none\" enable-background=\"new 0 0 16 16\">\n                    <g>\n                        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15.99,0.99c0-0.55-0.45-1-1-1c-0.28,0-0.53,0.11-0.71,0.29l-3.29,3.29V1.99\n                            c0-0.55-0.45-1-1-1s-1,0.45-1,1v4c0,0.55,0.45,1,1,1h4c0.55,0,1-0.45,1-1s-0.45-1-1-1h-1.59L15.7,1.7\n                            C15.88,1.52,15.99,1.27,15.99,0.99z M5.99,8.99h-4c-0.55,0-1,0.45-1,1s0.45,1,1,1h1.59l-3.29,3.29c-0.18,0.18-0.29,0.43-0.29,0.71\n                            c0,0.55,0.45,1,1,1c0.28,0,0.53-0.11,0.71-0.29l3.29-3.29v1.59c0,0.55,0.45,1,1,1s1-0.45,1-1v-4C6.99,9.44,6.54,8.99,5.99,8.99z\"\n                        />\n                    </g>\n                </svg>\n            }\n        </div>\n    </div >;\n    /* eslint-enable max-len */\n}\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { State } from \"../store\";\nimport { uiSlice } from \"../store/ui\";\n\nexport function NetworkButton(props: {\n    class?: string,\n}) {\n    const hightlight = useSelector((state: State) => state.ui.frame) === \"network\";\n    const inactive = useSelector((state: State) => state.dos.network.ipx !== \"connected\");\n    const dispatch = useDispatch();\n\n    function onClick() {\n        if (hightlight) {\n            dispatch(uiSlice.actions.frameNone());\n        } else {\n            dispatch(uiSlice.actions.frameNetwork());\n        }\n    }\n\n    return <div class={\"network-button sidebar-button \" +\n        (hightlight ? \" sidebar-highlight \" : \"\") +\n        (inactive ? \" inactive \" : \"\") +\n        props.class} onClick={onClick}>\n        <div class=\"w-full h-full\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-full h-full\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M8.288 15.038a5.25 5.25 0\n                 017.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565\n                 14.587-5.565 20.152 0M12.53 18.22l-.53.53-.53-.53a.75.75 0 011.06 0z\" />\n            </svg>\n            { inactive && <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\"\n                stroke=\"currentColor\" class=\"w-full text-error h-full absolute top-0 left-0\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4 4L18 18\" />\n            </svg> }\n        </div>\n\n\n    </div >;\n}\n","import { AnyAction } from \"@reduxjs/toolkit\";\nimport { useDispatch, useSelector, useStore } from \"react-redux\";\nimport { getState, State, Store } from \"../store\";\nimport { Frame, uiSlice } from \"../store/ui\";\nimport { useEffect, useRef, useState } from \"preact/hooks\";\nimport { dosSlice } from \"../store/dos\";\n\nexport function FatDrivesButton(props: {\n    class?: string,\n}) {\n    return <SidebarButton\n        class={props.class}\n        frame=\"fat-drives\"\n        action={uiSlice.actions.frameFatDrives()}\n    >\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n            stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-full h-full\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M5.25 14.25h13.5m-13.5\n                0a3 3 0 01-3-3m3 3a3 3 0 100 6h13.5a3 3 0 100-6m-16.5-3a3 3 0 013-3h13.5a3 3\n                0 013 3m-19.5 0a4.5 4.5 0 01.9-2.7L5.737 5.1a3.375 3.375 0 012.7-1.35h7.126c1.062\n                 0 2.062.5 2.7 1.35l2.587 3.45a4.5 4.5 0 01.9 2.7m0 0a3 3 0 01-3 3m0\n                 3h.008v.008h-.008v-.008zm0-6h.008v.008h-.008v-.008zm-3\n                 6h.008v.008h-.008v-.008zm0-6h.008v.008h-.008v-.008z\" />\n        </svg>\n    </SidebarButton>;\n}\n\nexport function DosboxConfButton(props: { class?: string }) {\n    return <SidebarButton\n        class={props.class}\n        frame=\"editor-conf\"\n        action={uiSlice.actions.frameConf()}\n    >\n        <svg xmlns=\"http://www.w3.org/2000/svg\"\n            fill=\"none\" viewBox=\"0 0 24 24\"\n            stroke-width=\"1.5\"\n            stroke=\"currentColor\"\n            class=\"w-full h-full\">\n            <path stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                d=\"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125\n                0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5\n                3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504\n                 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z\" />\n        </svg>\n    </SidebarButton>;\n}\n\nexport function FsButton(props: {\n    class?: string,\n}) {\n    return <SidebarButton\n        class={props.class}\n        frame=\"editor-fs\"\n        action={uiSlice.actions.frameFs()}\n    >\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n            viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-full h-full\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M21.75 17.25v-.228a4.5 4.5\n                0 00-.12-1.03l-2.268-9.64a3.375 3.375 0 00-3.285-2.602H7.923a3.375\n                3.375 0 00-3.285 2.602l-2.268 9.64a4.5 4.5 0 00-.12 1.03v.228m19.5 0a3 3\n                0 01-3 3H5.25a3 3 0 01-3-3m19.5 0a3 3 0 00-3-3H5.25a3 3 0 00-3 3m16.5\n                0h.008v.008h-.008v-.008zm-3 0h.008v.008h-.008v-.008z\" />\n        </svg>\n    </SidebarButton>;\n}\n\nexport function CyclesButton() {\n    const cycles = Math.round(useSelector((state: State) => state.dos.stats.cyclesPerMs) / 1000);\n    return <SidebarButton\n        class=\"cycles\"\n        frame=\"stats\"\n        action={uiSlice.actions.frameStats()}>\n        {cycles <= 0 && <><span>~</span><sup>KC</sup></>}\n        {cycles > 0 && cycles <= 1000 && <><span>{cycles}</span><sup>KC</sup></>}\n        {cycles > 0 && cycles > 1000 && <><span>{Math.round(cycles / 1000)}</span><sup><strong>K</strong>KC</sup></>}\n    </SidebarButton>;\n}\n\nexport function HddLed(props: {}) {\n    const store: Store = useStore();\n    const ref = useRef<HTMLDivElement>(null);\n    const [state] = useState<{\n        recv: number, enabled: boolean, delayLedTo: number,\n    }>({ recv: 0, enabled: false, delayLedTo: 0 });\n\n    useEffect(() => {\n        if (ref.current) {\n            const el = ref.current;\n            el.classList.add(\"bg-base-300\");\n\n            const id = setInterval(() => {\n                if (state.delayLedTo <= Date.now()) {\n                    const newRecv = getState(store).dos.stats.driveRecv;\n                    const newEnabled = state.recv !== newRecv;\n                    if (newEnabled !== state.enabled) {\n                        el.classList.remove(\"bg-base-300\", \"bg-green-300\", \"animate-led\");\n                        if (newEnabled) {\n                            el.classList.add(\"bg-green-300\", \"animate-led\");\n                        } else {\n                            el.classList.add(\"bg-base-300\");\n                        }\n                        state.enabled = newEnabled;\n                    }\n\n                    if (newEnabled) {\n                        state.delayLedTo = Date.now() + 300 + Math.random() * 1500;\n                    } else {\n                        state.delayLedTo = 0;\n                    }\n\n                    state.recv = newRecv;\n                }\n            }, 150);\n\n            return () => {\n                el.classList.remove(\"bg-base-300\", \"bg-green-300\", \"animate-led\");\n                clearInterval(id);\n            };\n        }\n    }, [ref, state]);\n    const [on, setOn] = useState<boolean>(false);\n    const [off, setOff] = useState<{ recv: number, timeoutId: number | null }>({\n        recv: 0,\n        timeoutId: null,\n    });\n    const statsRecv = useSelector((state: State) => state.dos.stats.driveRecv);\n    if (off.recv !== statsRecv) {\n        if (!on) {\n            setOn(true);\n        }\n\n        if (off.timeoutId) {\n            clearTimeout(off.timeoutId);\n        }\n\n        const id = setTimeout(() => {\n            setOn(false);\n            setOff({\n                recv: statsRecv,\n                timeoutId: null,\n            });\n        }, 1000);\n\n        setOff({\n            recv: statsRecv,\n            timeoutId: id,\n        });\n    }\n    return <div ref={ref} class=\"self-end mr-2 -mt-3 w-2 h-1\"></div>;\n}\n\nexport function SettingsButton(props: {\n    class?: string,\n}) {\n    return <SidebarButton\n        class={props.class}\n        action={uiSlice.actions.frameSettings()}\n        frame=\"settings\">\n\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n            viewBox=\"0 0 24 24\" stroke-width=\"1.5\"\n            stroke=\"currentColor\" class=\"w-full h-full\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55\n                0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257\n                1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26\n                1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010\n                .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298\n                2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0\n                01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55\n                0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0\n                01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0\n                01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932\n                6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0\n                01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072\n                1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z\" />\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n        </svg>\n\n    </SidebarButton >;\n}\n\nexport function SidebarButton(props: {\n    class?: string,\n    frame: Frame,\n    action: AnyAction,\n    children: any\n}) {\n    const hightlight = useSelector((state: State) => state.ui.frame) === props.frame;\n    const dispatch = useDispatch();\n\n    function onClick() {\n        if (hightlight) {\n            dispatch(uiSlice.actions.frameNone());\n        } else {\n            dispatch(props.action);\n        }\n    }\n\n    return <div class={\"sidebar-button \" + (hightlight ? \"sidebar-highlight \" : \"\") +\n        props.class} onClick={onClick}>\n        {props.children}\n    </div>;\n}\n\nexport function SoftKeyboardButton(props: {\n    class?: string,\n}) {\n    const softKeyboard = useSelector((state: State) => state.dos.softKeyboard);\n    const dispatch = useDispatch();\n\n    /* eslint-disable max-len */\n    return <div class={\"sidebar-button \" + (softKeyboard ? \"sidebar-highlight \" : \"\") +\n        props.class} onClick={() => dispatch(dosSlice.actions.softKeyboard(!softKeyboard))}>\n        <svg class=\"w-full h-full\" fill=\"currentColor\" stroke=\"currentColor\" version=\"1.1\" id=\"Layer_1\" viewBox=\"0 0 507.9 507.9\"><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></g><g id=\"SVGRepo_iconCarrier\"> <g> <g> <path d=\"M465.7,140.75H268.1v-77.3c0-7.8-6.3-14.1-14.1-14.1c-7.8,0-14.1,6.3-14.1,14.1v77.3H42.3c-23.3,0-42.3,19-42.3,42.3 v233.2c0,23.3,19,42.3,42.3,42.3h423.3c23.3,0,42.3-19,42.3-42.3v-233.2C508,159.75,489,140.75,465.7,140.75z M465.7,430.35H42.3 c-7.8,0-14.1-6.3-14.1-14.1v-233.2c0-7.8,6.3-14.1,14.1-14.1h423.3c7.8,0,14.1,6.3,14.1,14.1v233.2h0.1 C479.8,424.05,473.5,430.35,465.7,430.35z\"></path> </g> </g> <g> <g> <path d=\"M440.6,194.05h-85.4c-7.8,0-14.1,6.3-14.1,14.1s6.3,14.1,14.1,14.1h85.4c7.8,0,14.1-6.3,14.1-14.1 C454.7,200.35,448.4,194.05,440.6,194.05z\"></path> </g> </g> <g> <g> <path d=\"M80.9,377.05H67.4c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C95,383.35,88.7,377.05,80.9,377.05z\"></path> </g> </g> <g> <g> <path d=\"M303.3,377.05H141.6c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h161.8c7.8,0,14.1-6.3,14.1-14.1 C317.5,383.35,311.1,377.05,303.3,377.05z\"></path> </g> </g> <g> <g> <path d=\"M80.9,255.05H67.4c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C95.1,261.35,88.7,255.05,80.9,255.05z\"></path> </g> </g> <g> <g> <path d=\"M152.8,255.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.4,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C166.9,261.35,160.6,255.05,152.8,255.05z\"></path> </g> </g> <g> <g> <path d=\"M224.8,255.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C238.9,261.35,232.6,255.05,224.8,255.05z\"></path> </g> </g> <g> <g> <path d=\"M296.7,255.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C310.8,261.35,304.5,255.05,296.7,255.05z\"></path> </g> </g> <g> <g> <path d=\"M80.9,194.05H67.4c-7.8,0-14.1,6.3-14.1,14.1s6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C95.1,200.35,88.7,194.05,80.9,194.05z\"></path> </g> </g> <g> <g> <path d=\"M152.8,194.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.4,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C166.9,200.35,160.6,194.05,152.8,194.05z\"></path> </g> </g> <g> <g> <path d=\"M224.8,194.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C238.9,200.35,232.6,194.05,224.8,194.05z\"></path> </g> </g> <g> <g> <path d=\"M296.7,194.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C310.8,200.35,304.5,194.05,296.7,194.05z\"></path> </g> </g> <g> <g> <path d=\"M368.7,255.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C382.8,261.35,376.4,255.05,368.7,255.05z\"></path> </g> </g> <g> <g> <path d=\"M440.6,255.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C454.7,261.35,448.4,255.05,440.6,255.05z\"></path> </g> </g> <g> <g> <path d=\"M368.7,316.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C382.8,322.35,376.4,316.05,368.7,316.05z\"></path> </g> </g> <g> <g> <path d=\"M440.6,316.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C454.7,322.35,448.4,316.05,440.6,316.05z\"></path> </g> </g> <g> <g> <path d=\"M368.7,377.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C382.8,383.35,376.4,377.05,368.7,377.05z\"></path> </g> </g> <g> <g> <path d=\"M440.6,377.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C454.7,383.35,448.4,377.05,440.6,377.05z\"></path> </g> </g> <g> <g> <path d=\"M80.9,316.05H67.4c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C95.1,322.35,88.7,316.05,80.9,316.05z\"></path> </g> </g> <g> <g> <path d=\"M152.8,316.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.4,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C166.9,322.35,160.6,316.05,152.8,316.05z\"></path> </g> </g> <g> <g> <path d=\"M224.8,316.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C238.9,322.35,232.6,316.05,224.8,316.05z\"></path> </g> </g> <g> <g> <path d=\"M296.7,316.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C310.8,322.35,304.5,316.05,296.7,316.05z\"></path> </g> </g> </g></svg>\n    </div>;\n    /* eslint-enable max-len */\n}\n\nexport function PreRunButton(props: { class?: string }) {\n    return <SidebarButton\n        class={props.class}\n        frame=\"prerun\"\n        action={uiSlice.actions.framePreRun()}\n    >\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n            viewBox=\"0 0 24 24\" stroke-width=\"1.5\"\n            stroke=\"currentColor\" class=\"w-full h-full\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55\n                0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257\n                1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26\n                1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010\n                .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298\n                2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0\n                01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55\n                0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0\n                01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0\n                01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932\n                6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0\n                01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072\n                1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z\" />\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n        </svg>\n    </SidebarButton>;\n}\n","export function DisketteIcon(props: {\n    class?: string,\n}) {\n    return <svg xmlns=\"http://www.w3.org/2000/svg\"\n        style=\"padding: 2px\"\n        viewBox=\"0 0 16 16\" enable-background=\"new 0 0 16 16\"\n        fill=\"currentColor\" class={ \"w-full h-full rounded-lg \" + props.class }>\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n            d=\"M15.71,2.29l-2-2C13.53,0.11,13.28,0,13,0h-1v6H4V0H1C0.45,0,0,0.45,0,1v14\n                c0,0.55,0.45,1,1,1h14c0.55,0,1-0.45,1-1V3C16,2.72,15.89,2.47,15.71,2.29z\n                M14,15H2V9c0-0.55,0.45-1,1-1h10c0.55,0,1,0.45,1,1V15\n                z M11,1H9v4h2V1z\"/>\n    </svg>;\n}\n","import { useDispatch, useSelector, useStore } from \"react-redux\";\nimport { DisketteIcon } from \"./diskette-icon\";\nimport { getState, State, useNonSerializableStore } from \"../store\";\nimport { useState } from \"preact/hooks\";\nimport { apiSave } from \"../player-api\";\n\nexport function SaveButtons() {\n    const [showLoad, setShowLoad] = useState<boolean>(false);\n    const dosboxX = useSelector((state: State) => state.dos.backend) === \"dosboxX\";\n    return <div class=\"save-buttons flex flex-col justify-center items-center -my-2\">\n        <CloudSaveButton />\n        { dosboxX && <SaveButton label=\"X\" bgcolor=\"bg-primary\"\n            textcolor=\"text-primary-content\" onClick={() => setShowLoad(true)} /> }\n        { dosboxX && showLoad && <LoadButton label=\"X\" bgcolor=\"bg-primary\" /> }\n    </div>;\n}\n\nfunction SaveButton(props: {\n    label: number | string,\n    bgcolor: string,\n    textcolor: string,\n    onClick: () => void,\n}) {\n    const nonSerializableStore = useNonSerializableStore();\n    function onClick() {\n        const ci = nonSerializableStore.ci;\n        if (ci === null) {\n            return;\n        }\n\n        ci.sendBackendEvent({\n            type: \"wc-trigger-event\",\n            event: \"hand_savestate\",\n        });\n\n        props.onClick();\n    }\n\n    return <div class={\"sidebar-button flex justify-center\"}\n        onClick={onClick}>\n        <DisketteIcon />\n        <div class={\"text-badge \" + props.textcolor + \" \" + props.bgcolor}>{props.label}</div>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\"\n            stroke=\"currentColor\" class=\"absolute bottom-1 w-3 h-3\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9.813 15.904 9\n                18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25\n                12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813\n                2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09\n                3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375\n                0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18\n                2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75\n                 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567\n                16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5\n                18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394\n                1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z\" />\n        </svg>\n    </div>;\n}\n\nfunction LoadButton(props: {\n    label: number | string,\n    bgcolor: string,\n}) {\n    const nonSerializableStore = useNonSerializableStore();\n    function onClick() {\n        const ci = nonSerializableStore.ci;\n        if (ci === null) {\n            return;\n        }\n\n        ci.sendBackendEvent({\n            type: \"wc-trigger-event\",\n            event: \"hand_loadstate\",\n        });\n    }\n\n    return <div class={\"sidebar-button flex justify-center\"}\n        onClick={onClick}>\n        <DisketteIcon class=\"opacity-10\" />\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n            viewBox=\"0 0 24 24\" stroke-width=\"1.5\"\n            stroke=\"currentColor\" class=\"absolute bottom-1 w-6 h-6 -scale-y-100\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                d=\"m15 15 6-6m0 0-6-6m6 6H9a6 6 0 0 0 0 12h3\" />\n        </svg>\n    </div>;\n}\n\n\nfunction CloudSaveButton(props: {\n    class?: string,\n}) {\n    const [busy, setBusy] = useState<boolean>(false);\n    const dispatch = useDispatch();\n    const cloudSaves = useSelector((state: State) => state.ui.cloudSaves);\n    const nonSerializableStore = useNonSerializableStore();\n    const store = useStore();\n\n    if (!cloudSaves ||\n        nonSerializableStore.loadedBundle === null ||\n        nonSerializableStore.loadedBundle.bundleChangesUrl === null) {\n        return null;\n    }\n\n    function onClick() {\n        if (busy) {\n            return;\n        }\n\n\n        setBusy(true);\n        apiSave(getState(store as any), nonSerializableStore, dispatch)\n            .finally(() =>setBusy(false));\n    }\n\n    return <div class={\"save-button sidebar-button overflow-hidden \" +\n        (busy ? \" sidebar-highlight \" : \"\") + props.class} onClick={onClick}>\n        <div class=\"w-full h-full flex justify-center\">\n            <DisketteIcon />\n            {busy && <div class=\"sidebar-badge\" />}\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                stroke-width=\"1.5\" stroke=\"currentColor\"\n                class=\"absolute bottom-1 w-3 h-3\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                    d=\"M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775\n                    5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z\" />\n            </svg>\n        </div>\n    </div>;\n}\n","import { useSelector } from \"react-redux\";\nimport { State } from \"../store\";\nimport { FullscreenButton } from \"./fullscreen-button\";\nimport { NetworkButton } from \"./network-button\";\nimport {\n    DosboxConfButton, SettingsButton, CyclesButton, FsButton,\n    FatDrivesButton, HddLed,\n    SoftKeyboardButton,\n    PreRunButton,\n} from \"./sidebar-button\";\nimport { SaveButtons } from \"./save-buttons\";\n\nexport function SideBar(props: {}) {\n    const window = useSelector((state: State) => state.ui.window);\n    const editor = useSelector((state: State) => state.ui.editor);\n    const backend = useSelector((state: State) => state.dos.backend);\n    const kiosk = useSelector((state: State) => state.ui.kiosk);\n    const networking = !useSelector((state: State) => state.ui.noNetworking);\n\n    if (kiosk) {\n        return null;\n    }\n\n    return <div class=\"sidebar\">\n        {window === \"run\" && <SaveButtons />}\n        {window === \"run\" && <SoftKeyboardButton />}\n        {window === \"run\" && networking && <NetworkButton />}\n        {editor && window === \"prerun\" && <DosboxConfButton />}\n        {editor && window === \"prerun\" && backend === \"dosboxX\" && <FatDrivesButton />}\n        {editor && window === \"run\" && <FsButton />}\n        <div class=\"contentbar\"></div>\n        {window === \"run\" && <FullscreenButton />}\n        {window === \"run\" && <CyclesButton />}\n        {window === \"run\" && <HddLed />}\n        {window === \"prerun\" && <PreRunButton />}\n        {window === \"run\" && <SettingsButton />}\n    </div>;\n};\n","/* eslint-disable camelcase */\n\nexport const KBD_NONE = 0;\nexport const KBD_0 = 48;\nexport const KBD_1 = 49;\nexport const KBD_2 = 50;\nexport const KBD_3 = 51;\nexport const KBD_4 = 52;\nexport const KBD_5 = 53;\nexport const KBD_6 = 54;\nexport const KBD_7 = 55;\nexport const KBD_8 = 56;\nexport const KBD_9 = 57;\nexport const KBD_a = 65;\nexport const KBD_b = 66;\nexport const KBD_c = 67;\nexport const KBD_d = 68;\nexport const KBD_e = 69;\nexport const KBD_f = 70;\nexport const KBD_g = 71;\nexport const KBD_h = 72;\nexport const KBD_i = 73;\nexport const KBD_j = 74;\nexport const KBD_k = 75;\nexport const KBD_l = 76;\nexport const KBD_m = 77;\nexport const KBD_n = 78;\nexport const KBD_o = 79;\nexport const KBD_p = 80;\nexport const KBD_q = 81;\nexport const KBD_r = 82;\nexport const KBD_s = 83;\nexport const KBD_t = 84;\nexport const KBD_u = 85;\nexport const KBD_v = 86;\nexport const KBD_w = 87;\nexport const KBD_x = 88;\nexport const KBD_y = 89;\nexport const KBD_z = 90;\nexport const KBD_f1 = 290;\nexport const KBD_f2 = 291;\nexport const KBD_f3 = 292;\nexport const KBD_f4 = 293;\nexport const KBD_f5 = 294;\nexport const KBD_f6 = 295;\nexport const KBD_f7 = 296;\nexport const KBD_f8 = 297;\nexport const KBD_f9 = 298;\nexport const KBD_f10 = 299;\nexport const KBD_f11 = 300;\nexport const KBD_f12 = 301;\n\nexport const KBD_kp0 = 320;\nexport const KBD_kp1 = 321;\nexport const KBD_kp2 = 322;\nexport const KBD_kp3 = 323;\nexport const KBD_kp4 = 324;\nexport const KBD_kp5 = 325;\nexport const KBD_kp6 = 326;\nexport const KBD_kp7 = 327;\nexport const KBD_kp8 = 328;\nexport const KBD_kp9 = 329;\n\nexport const KBD_kpperiod = 330;\nexport const KBD_kpdivide = 331;\nexport const KBD_kpmultiply = 332;\nexport const KBD_kpminus = 333;\nexport const KBD_kpplus = 334;\nexport const KBD_kpenter = 335;\n\nexport const KBD_esc = 256;\nexport const KBD_tab = 258;\nexport const KBD_backspace = 259;\nexport const KBD_enter = 257;\nexport const KBD_space = 32;\nexport const KBD_leftalt = 342;\nexport const KBD_rightalt = 346;\nexport const KBD_leftctrl = 341;\nexport const KBD_rightctrl = 345;\nexport const KBD_leftshift = 340;\nexport const KBD_rightshift = 344;\nexport const KBD_capslock = 280;\nexport const KBD_scrolllock = 281;\nexport const KBD_numlock = 282;\nexport const KBD_grave = 96;\nexport const KBD_minus = 45;\nexport const KBD_equals = 61;\nexport const KBD_backslash = 92;\nexport const KBD_leftbracket = 91;\nexport const KBD_rightbracket = 93;\nexport const KBD_semicolon = 59;\nexport const KBD_quote = 39;\nexport const KBD_period = 46;\nexport const KBD_comma = 44;\nexport const KBD_slash = 47;\nexport const KBD_printscreen = 283;\nexport const KBD_pause = 284;\nexport const KBD_insert = 260;\nexport const KBD_home = 268;\nexport const KBD_pageup = 266;\nexport const KBD_delete = 261;\nexport const KBD_end = 269;\nexport const KBD_pagedown = 267;\nexport const KBD_left = 263;\nexport const KBD_up = 265;\nexport const KBD_down = 264;\nexport const KBD_right = 262;\nexport const KBD_extra_lt_gt = 348; // ???\n\nexport const domToKeyCodes: {[index: number]: number} = {\n    8: KBD_backspace,\n    9: KBD_tab,\n    13: KBD_enter,\n    16: KBD_leftshift,\n    17: KBD_leftctrl,\n    18: KBD_leftalt,\n    19: KBD_pause,\n    27: KBD_esc,\n    32: KBD_space,\n    33: KBD_pageup,\n    34: KBD_pagedown,\n    35: KBD_end,\n    36: KBD_home,\n    37: KBD_left,\n    38: KBD_up,\n    39: KBD_right,\n    40: KBD_down,\n    45: KBD_insert,\n    46: KBD_delete,\n    48: KBD_0,\n    49: KBD_1,\n    50: KBD_2,\n    51: KBD_3,\n    52: KBD_4,\n    53: KBD_5,\n    54: KBD_6,\n    55: KBD_7,\n    56: KBD_8,\n    57: KBD_9,\n    59: KBD_semicolon,\n    64: KBD_equals,\n    65: KBD_a,\n    66: KBD_b,\n    67: KBD_c,\n    68: KBD_d,\n    69: KBD_e,\n    70: KBD_f,\n    71: KBD_g,\n    72: KBD_h,\n    73: KBD_i,\n    74: KBD_j,\n    75: KBD_k,\n    76: KBD_l,\n    77: KBD_m,\n    78: KBD_n,\n    79: KBD_o,\n    80: KBD_p,\n    81: KBD_q,\n    82: KBD_r,\n    83: KBD_s,\n    84: KBD_t,\n    85: KBD_u,\n    86: KBD_v,\n    87: KBD_w,\n    88: KBD_x,\n    89: KBD_y,\n    90: KBD_z,\n    91: KBD_leftbracket,\n    93: KBD_rightbracket,\n    96: KBD_kp0,\n    97: KBD_kp1,\n    98: KBD_kp2,\n    99: KBD_kp3,\n    100: KBD_kp4,\n    101: KBD_kp5,\n    102: KBD_kp6,\n    103: KBD_kp7,\n    104: KBD_kp8,\n    105: KBD_kp9,\n    106: KBD_kpmultiply,\n    // 107: KBD_kpadd,\n    // 109: KBD_kpsubtract,\n    // 110: KBD_kpdecimal,\n    111: KBD_kpdivide,\n    112: KBD_f1,\n    113: KBD_f2,\n    114: KBD_f3,\n    115: KBD_f4,\n    116: KBD_f5,\n    117: KBD_f6,\n    118: KBD_f7,\n    119: KBD_f8,\n    120: KBD_f9,\n    121: KBD_f10,\n    122: KBD_f11,\n    123: KBD_f12,\n    144: KBD_numlock,\n    145: KBD_scrolllock,\n    173: KBD_minus,\n    186: KBD_semicolon,\n    187: KBD_equals,\n    188: KBD_comma,\n    189: KBD_minus,\n    190: KBD_period,\n    191: KBD_slash,\n    192: KBD_grave,\n    219: KBD_leftbracket,\n    220: KBD_backslash,\n    221: KBD_rightbracket,\n    222: KBD_quote,\n    // 224: KBD_left_super,\n};\n\nexport const namedKeyCodes: {[name: string]: number} = {\n    \"KBD_NONE\": KBD_NONE,\n    \"KBD_0\": KBD_0,\n    \"KBD_1\": KBD_1,\n    \"KBD_2\": KBD_2,\n    \"KBD_3\": KBD_3,\n    \"KBD_4\": KBD_4,\n    \"KBD_5\": KBD_5,\n    \"KBD_6\": KBD_6,\n    \"KBD_7\": KBD_7,\n    \"KBD_8\": KBD_8,\n    \"KBD_9\": KBD_9,\n    \"KBD_a\": KBD_a,\n    \"KBD_b\": KBD_b,\n    \"KBD_c\": KBD_c,\n    \"KBD_d\": KBD_d,\n    \"KBD_e\": KBD_e,\n    \"KBD_f\": KBD_f,\n    \"KBD_g\": KBD_g,\n    \"KBD_h\": KBD_h,\n    \"KBD_i\": KBD_i,\n    \"KBD_j\": KBD_j,\n    \"KBD_k\": KBD_k,\n    \"KBD_l\": KBD_l,\n    \"KBD_m\": KBD_m,\n    \"KBD_n\": KBD_n,\n    \"KBD_o\": KBD_o,\n    \"KBD_p\": KBD_p,\n    \"KBD_q\": KBD_q,\n    \"KBD_r\": KBD_r,\n    \"KBD_s\": KBD_s,\n    \"KBD_t\": KBD_t,\n    \"KBD_u\": KBD_u,\n    \"KBD_v\": KBD_v,\n    \"KBD_w\": KBD_w,\n    \"KBD_x\": KBD_x,\n    \"KBD_y\": KBD_y,\n    \"KBD_z\": KBD_z,\n    \"KBD_f1\": KBD_f1,\n    \"KBD_f2\": KBD_f2,\n    \"KBD_f3\": KBD_f3,\n    \"KBD_f4\": KBD_f4,\n    \"KBD_f5\": KBD_f5,\n    \"KBD_f6\": KBD_f6,\n    \"KBD_f7\": KBD_f7,\n    \"KBD_f8\": KBD_f8,\n    \"KBD_f9\": KBD_f9,\n    \"KBD_f10\": KBD_f10,\n    \"KBD_f11\": KBD_f11,\n    \"KBD_f12\": KBD_f12,\n\n    \"KBD_kp0\": KBD_kp0,\n    \"KBD_kp1\": KBD_kp1,\n    \"KBD_kp2\": KBD_kp2,\n    \"KBD_kp3\": KBD_kp3,\n    \"KBD_kp4\": KBD_kp4,\n    \"KBD_kp5\": KBD_kp5,\n    \"KBD_kp6\": KBD_kp6,\n    \"KBD_kp7\": KBD_kp7,\n    \"KBD_kp8\": KBD_kp8,\n    \"KBD_kp9\": KBD_kp9,\n\n    \"KBD_kpperiod\": KBD_kpperiod,\n    \"KBD_kpdivide\": KBD_kpdivide,\n    \"KBD_kpmultiply\": KBD_kpmultiply,\n    \"KBD_kpminus\": KBD_kpminus,\n    \"KBD_kpplus\": KBD_kpplus,\n    \"KBD_kpenter\": KBD_kpenter,\n\n    \"KBD_esc\": KBD_esc,\n    \"KBD_tab\": KBD_tab,\n    \"KBD_backspace\": KBD_backspace,\n    \"KBD_enter\": KBD_enter,\n    \"KBD_space\": KBD_space,\n    \"KBD_leftalt\": KBD_leftalt,\n    \"KBD_rightalt\": KBD_rightalt,\n    \"KBD_leftctrl\": KBD_leftctrl,\n    \"KBD_rightctrl\": KBD_rightctrl,\n    \"KBD_leftshift\": KBD_leftshift,\n    \"KBD_rightshift\": KBD_rightshift,\n    \"KBD_capslock\": KBD_capslock,\n    \"KBD_scrolllock\": KBD_scrolllock,\n    \"KBD_numlock\": KBD_numlock,\n    \"KBD_grave\": KBD_grave,\n    \"KBD_minus\": KBD_minus,\n    \"KBD_equals\": KBD_equals,\n    \"KBD_backslash\": KBD_backslash,\n    \"KBD_leftbracket\": KBD_leftbracket,\n    \"KBD_rightbracket\": KBD_rightbracket,\n    \"KBD_semicolon\": KBD_semicolon,\n    \"KBD_quote\": KBD_quote,\n    \"KBD_period\": KBD_period,\n    \"KBD_comma\": KBD_comma,\n    \"KBD_slash\": KBD_slash,\n    \"KBD_printscreen\": KBD_printscreen,\n    \"KBD_pause\": KBD_pause,\n    \"KBD_insert\": KBD_insert,\n    \"KBD_home\": KBD_home,\n    \"KBD_pageup\": KBD_pageup,\n    \"KBD_delete\": KBD_delete,\n    \"KBD_end\": KBD_end,\n    \"KBD_pagedown\": KBD_pagedown,\n    \"KBD_left\": KBD_left,\n    \"KBD_up\": KBD_up,\n    \"KBD_down\": KBD_down,\n    \"KBD_right\": KBD_right,\n    \"KBD_extra_lt_gt\": KBD_extra_lt_gt,\n};\n\nexport const keyCodesToDom: {[index: number]: number} = {};\nfor (const next of Object.keys(domToKeyCodes)) {\n    const key = Number.parseInt(next, 10);\n    keyCodesToDom[domToKeyCodes[key]] = key;\n}\n\nexport function domToKeyCode(domCode: number) {\n    return domToKeyCodes[domCode] || 0;\n}\n","import { FitConstant } from \"../../../store/dos\";\n\nexport function resizeCanvas(canvas: HTMLCanvasElement,\n                             frameWidth: number,\n                             frameHeight: number,\n                             forceAspect?: number) {\n    const rect = canvas.parentElement!.getBoundingClientRect();\n    const containerWidth = rect.width;\n    const containerHeight = rect.height;\n\n    if (frameHeight === 0) {\n        return;\n    }\n    const aspect =\n        forceAspect === FitConstant ? (containerWidth / containerHeight) :\n            (forceAspect ?? (frameWidth / frameHeight));\n\n    let width = containerWidth;\n    let height = containerWidth / aspect;\n\n    if (height > containerHeight) {\n        height = containerHeight;\n        width = containerHeight * aspect;\n    }\n\n    canvas.style.position = \"relative\";\n    canvas.style.top = (containerHeight - height) / 2 + \"px\";\n    canvas.style.left = (containerWidth - width) / 2 + \"px\";\n    canvas.style.width = width + \"px\";\n    canvas.style.height = height + \"px\";\n};\n","import { CommandInterface } from \"emulators\";\nimport { resizeCanvas } from \"./resize\";\n\nconst vsSource = `\nattribute vec4 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nvarying highp vec2 vTextureCoord;\n\nvoid main(void) {\n  gl_Position = aVertexPosition;\n  vTextureCoord = aTextureCoord;\n}\n`;\n\nconst fsSource = `\nvarying highp vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\n\nvoid main(void) {\n  highp vec4 color = texture2D(uSampler, vTextureCoord);\n  gl_FragColor = vec4(color.r, color.g, color.b, 1.0);\n}\n`;\n\nexport function webGl(canvas: HTMLCanvasElement,\n                      ci: CommandInterface,\n                      forceAspect?: number) {\n    const gl = canvas.getContext(\"webgl\");\n    if (gl === null) {\n        throw new Error(\"Unable to create webgl context on given canvas\");\n    }\n\n    const shaderProgram = initShaderProgram(gl, vsSource, fsSource);\n    const vertexPosition = gl.getAttribLocation(shaderProgram, \"aVertexPosition\");\n    const textureCoord = gl.getAttribLocation(shaderProgram, \"aTextureCoord\");\n    const uSampler = gl.getUniformLocation(shaderProgram, \"uSampler\");\n\n    initBuffers(gl, vertexPosition, textureCoord);\n\n    const texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\n    const pixel = new Uint8Array([0, 0, 0]);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB,\n        1, 1, 0, gl.RGB, gl.UNSIGNED_BYTE,\n        pixel);\n\n    gl.useProgram(shaderProgram);\n    gl.activeTexture(gl.TEXTURE0);\n    gl.uniform1i(uSampler, 0);\n\n    let frameWidth = 0;\n    let frameHeight = 0;\n\n    let requestAnimationFrameId: number | null = null;\n    let frame: Uint8Array | null = null;\n    let frameFormat: number = 0;\n\n    const updateTexture = () => {\n        if (frame !== null) {\n            gl.texImage2D(gl.TEXTURE_2D, 0, frameFormat,\n                frameWidth, frameHeight, 0, frameFormat, gl.UNSIGNED_BYTE,\n                frame);\n            frame = null;\n        }\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n\n        requestAnimationFrameId = null;\n    };\n\n    const onResize = () => {\n        resizeCanvas(canvas, frameWidth, frameHeight, forceAspect);\n    };\n\n    const onResizeFrame = (w: number, h: number) => {\n        frameWidth = w;\n        frameHeight = h;\n        canvas.width = frameWidth;\n        canvas.height = frameHeight;\n        frame = null;\n        gl.viewport(0, 0, frameWidth, frameHeight);\n        onResize();\n    };\n\n    ci.events().onFrameSize(onResizeFrame);\n    ci.events().onFrame((rgb, rgba) => {\n        frame = rgb != null ? rgb : rgba;\n        frameFormat = rgb != null ? gl.RGB : gl.RGBA;\n        if (requestAnimationFrameId === null) {\n            requestAnimationFrameId = requestAnimationFrame(updateTexture);\n        }\n    });\n\n    onResizeFrame(ci.width(), ci.height());\n\n    const resizeObserver = new ResizeObserver(onResize);\n    resizeObserver.observe(canvas.parentElement!);\n    window.addEventListener(\"resize\", onResize);\n\n    return () => {\n        ci.events().onFrameSize(() => {});\n        ci.events().onFrame(() => {});\n        resizeObserver.disconnect();\n        window.removeEventListener(\"resize\", onResize);\n    };\n}\n\nfunction initShaderProgram(gl: WebGLRenderingContext, vsSource: string, fsSource: string) {\n    const vertexShader = loadShader(gl, gl.VERTEX_SHADER, vsSource);\n    const fragmentShader = loadShader(gl, gl.FRAGMENT_SHADER, fsSource);\n\n    const shaderProgram = gl.createProgram() as WebGLShader;\n    gl.attachShader(shaderProgram, vertexShader);\n    gl.attachShader(shaderProgram, fragmentShader);\n    gl.linkProgram(shaderProgram);\n\n    if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\n        throw new Error(\"Unable to initialize the shader program: \" + gl.getProgramInfoLog(shaderProgram));\n    }\n\n    return shaderProgram;\n}\n\nfunction loadShader(gl: WebGLRenderingContext, shaderType: GLenum, source: string) {\n    const shader = gl.createShader(shaderType) as WebGLShader;\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        const info = gl.getShaderInfoLog(shader);\n        gl.deleteShader(shader);\n        throw new Error(\"An error occurred compiling the shaders: \" + info);\n    }\n\n    return shader;\n}\n\nfunction initBuffers(gl: WebGLRenderingContext, vertexPosition: number, textureCoord: number) {\n    const positionBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    const positions = [\n        -1.0, -1.0, 0.0,\n        1.0, -1.0, 0.0,\n        1.0, 1.0, 0.0,\n        -1.0, -1.0, 0.0,\n        1.0, 1.0, 0.0,\n        -1.0, 1.0, 0.0,\n    ];\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(positions), gl.STATIC_DRAW);\n    gl.vertexAttribPointer(vertexPosition, 3, gl.FLOAT, false, 0, 0);\n    gl.enableVertexAttribArray(vertexPosition);\n\n    const textureCoordBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, textureCoordBuffer);\n    const textureCoordinates = [\n        0.0, 1.0,\n        1.0, 1.0,\n        1.0, 0.0,\n        0.0, 1.0,\n        1.0, 0.0,\n        0.0, 0.0,\n    ];\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(textureCoordinates),\n        gl.STATIC_DRAW);\n\n    gl.vertexAttribPointer(textureCoord, 2, gl.FLOAT, false, 0, 0);\n    gl.enableVertexAttribArray(textureCoord);\n}\n","import { CommandInterface } from \"emulators\";\nimport { resizeCanvas } from \"./resize\";\n\nexport function canvas(canvas: HTMLCanvasElement,\n                       ci: CommandInterface,\n                       forceAspect?: number) {\n    const context = canvas.getContext(\"2d\");\n    if (context === null) {\n        throw new Error(\"Unable to create 2d context on given canvas\");\n    }\n\n    let frameWidth = 0;\n    let frameHeight = 0;\n\n    const onResize = () => {\n        resizeCanvas(canvas, frameWidth, frameHeight, forceAspect);\n    };\n\n    let rgba = new Uint8ClampedArray(0);\n    const onResizeFrame = (w: number, h: number) => {\n        frameWidth = w;\n        frameHeight = h;\n        canvas.width = frameWidth;\n        canvas.height = frameHeight;\n        rgba = new Uint8ClampedArray(w * h * 4);\n        onResize();\n    };\n    ci.events().onFrameSize(onResizeFrame);\n    ci.events().onFrame((frameRgb, frameRgba) => {\n        if (frameRgb === null && frameRgba === null) {\n            return;\n        }\n\n        const frame = (frameRgb !== null ? frameRgb : frameRgba) as Uint8Array;\n\n        let frameOffset = 0;\n        let rgbaOffset = 0;\n\n        while (rgbaOffset < rgba.length) {\n            rgba[rgbaOffset++] = frame[frameOffset++];\n            rgba[rgbaOffset++] = frame[frameOffset++];\n            rgba[rgbaOffset++] = frame[frameOffset++];\n            rgba[rgbaOffset++] = 255;\n\n            if (frame.length === rgba.length) {\n                frameOffset++;\n            }\n        }\n\n        context.putImageData(new ImageData(rgba, frameWidth, frameHeight), 0, 0);\n    });\n\n    onResizeFrame(ci.width(), ci.height());\n\n    const resizeObserver = new ResizeObserver(onResize);\n    resizeObserver.observe(canvas.parentElement!);\n    window.addEventListener(\"resize\", onResize);\n\n    return () => {\n        ci.events().onFrameSize(() => {});\n        ci.events().onFrame(() => {});\n        resizeObserver.disconnect();\n        window.removeEventListener(\"resize\", onResize);\n    };\n}\n","import { CommandInterface } from \"emulators\";\n\nclass SamplesQueue {\n    private samplesQueue: Float32Array[] = [];\n\n    push(samples: Float32Array) {\n        this.samplesQueue.push(samples);\n    }\n\n    length() {\n        let total = 0;\n        for (const next of this.samplesQueue) {\n            total += next.length;\n        }\n        return total;\n    }\n\n    writeTo(dst: Float32Array, bufferSize: number) {\n        let writeIt = 0;\n        while (this.samplesQueue.length > 0) {\n            const src = this.samplesQueue[0];\n            const toRead = Math.min(bufferSize - writeIt, src.length);\n            if (toRead === src.length) {\n                dst.set(src, writeIt);\n                this.samplesQueue.shift();\n            } else {\n                dst.set(src.slice(0, toRead), writeIt);\n                this.samplesQueue[0] = src.slice(toRead);\n            }\n\n            writeIt += toRead;\n\n            if (writeIt === bufferSize) {\n                break;\n            }\n        }\n\n        if (writeIt < bufferSize) {\n            dst.fill(0, writeIt);\n        }\n    }\n}\n\nexport function audioNode(ci: CommandInterface,\n                          bindVolumeFn?: (fn: (volume: number) => void) => () => void) {\n    const sampleRate = ci.soundFrequency();\n    const channels = 1;\n\n    if (sampleRate === 0) {\n        console.warn(\"Can't create audio node with sampleRate === 0, ingnoring\");\n        return () => {};\n    }\n\n    let audioContext: AudioContext | null = null;\n\n    if (typeof AudioContext !== \"undefined\") {\n        audioContext = new AudioContext({\n            sampleRate,\n            latencyHint: \"interactive\",\n        });\n    } else if (typeof (window as any).webkitAudioContext !== \"undefined\") {\n        // eslint-disable-next-line new-cap\n        audioContext = new (window as any).webkitAudioContext({\n            sampleRate,\n            latencyHint: \"interactive\",\n        });\n    }\n\n    if (audioContext == null) {\n        return () => {};\n    }\n\n    const samplesQueue = new SamplesQueue();\n    const bufferSize = 2048;\n    const preBufferSize = 2048;\n\n    ci.events().onSoundPush((samples) => {\n        if (samplesQueue.length() < bufferSize * 2 + preBufferSize) {\n            samplesQueue.push(samples);\n        }\n    });\n\n    const audioNode = audioContext.createScriptProcessor(bufferSize, 0, channels);\n    let started = false;\n\n    const onQueueProcess = (event: AudioProcessingEvent) => {\n        const numFrames = event.outputBuffer.length;\n        const numChannels = event.outputBuffer.numberOfChannels;\n        const samplesCount = samplesQueue.length();\n\n        if (!started) {\n            started = samplesCount >= preBufferSize;\n        }\n\n        if (!started) {\n            return;\n        }\n\n        for (let channel = 0; channel < numChannels; channel++) {\n            const channelData = event.outputBuffer.getChannelData(channel);\n            samplesQueue.writeTo(channelData, numFrames);\n        }\n    };\n\n    audioNode.onaudioprocess = onQueueProcess;\n\n    const gainNode = audioContext.createGain();\n    gainNode.connect(audioContext.destination);\n    audioNode.connect(gainNode);\n\n    gainNode.gain.value = 1.0;\n\n    let unbindVolumeFn: () => void;\n    if (bindVolumeFn) {\n        unbindVolumeFn = bindVolumeFn((volume: number) => {\n            gainNode.gain.value = volume;\n        });\n    }\n\n    const resumeWebAudio = () => {\n        if (audioContext !== null && audioContext.state === \"suspended\") {\n            audioContext.resume();\n        }\n    };\n\n    document.addEventListener(\"pointerdown\", resumeWebAudio, { once: true });\n    document.addEventListener(\"keydown\", resumeWebAudio, { once: true });\n\n    return () => {\n        ci.events().onSoundPush(() => {});\n\n        if (audioContext !== null) {\n            audioNode.disconnect();\n            gainNode.disconnect();\n            audioContext\n                .close()\n                .catch(console.error);\n            audioContext = null;\n        }\n\n        if (unbindVolumeFn !== undefined) {\n            unbindVolumeFn();\n        }\n\n        document.removeEventListener(\"pointerdown\", resumeWebAudio);\n        document.removeEventListener(\"keydown\", resumeWebAudio);\n    };\n}\n","function initBind() {\n    const isMobile = /Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(navigator.appVersion) ||\n                /Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(navigator.userAgent) ||\n                (/MacIntel/.test(navigator.platform) && navigator.maxTouchPoints && navigator.maxTouchPoints > 2);\n    const isTouch = isMobile && !!(\"ontouchstart\" in window);\n    const isPointer = isMobile && (window.PointerEvent ? true : false);\n    const isMSPointer = isMobile && ((window as any).MSPointerEvent ? true : false);\n    let canLock = !isMobile;\n\n    const starters: string[] = [];\n    const changers: string[] = [];\n    const enders: string[] = [];\n    const leavers: string[] = [];\n    const prevents: string[] = [];\n\n    if (isPointer) {\n        starters.push(\"pointerdown\");\n        enders.push(\"pointerup\", \"pointercancel\");\n        changers.push(\"pointermove\");\n        prevents.push(\"touchstart\", \"touchmove\", \"touchend\");\n    } else if (isMSPointer) {\n        starters.push(\"MSPointerDown\");\n        changers.push(\"MSPointerMove\");\n        enders.push(\"MSPointerUp\");\n    } else if (isTouch) {\n        canLock = false;\n        starters.push(\"touchstart\", \"mousedown\");\n        changers.push(\"touchmove\");\n        enders.push(\"touchend\", \"touchcancel\", \"mouseup\");\n    } else {\n        starters.push(\"mousedown\");\n        changers.push(\"mousemove\");\n        enders.push(\"mouseup\");\n        leavers.push(\"mouseleave\");\n    }\n\n    return {\n        mobile: isMobile,\n        canLock,\n        starters,\n        changers,\n        enders,\n        prevents,\n        leavers,\n    };\n}\n\nexport interface PointerState {\n    x: number,\n    y: number,\n    mX: number,\n    mY: number,\n    button?: number,\n}\n\nexport function getPointerState(e: Event, el: HTMLElement): PointerState {\n    if (e.type.match(/^touch/)) {\n        const evt = e as TouchEvent;\n        const rect = el.getBoundingClientRect();\n        return {\n            x: evt.targetTouches[0].clientX - rect.x,\n            y: evt.targetTouches[0].clientY - rect.y,\n            mX: 0,\n            mY: 0,\n        };\n    } else if (e.type.match(/^pointer/)) {\n        const evt = e as PointerEvent;\n        return {\n            x: evt.offsetX,\n            y: evt.offsetY,\n            mX: evt.movementX,\n            mY: evt.movementY,\n        };\n    } else {\n        const evt = e as MouseEvent;\n        return {\n            x: evt.offsetX,\n            y: evt.offsetY,\n            mX: evt.movementX,\n            mY: evt.movementY,\n            button: evt.button === 0 ? 0 : 1,\n        };\n    }\n}\n\nexport const pointer = initBind();\n\n","import { pointer, getPointerState } from \"./pointer\";\n\nexport function mount(el: HTMLElement,\n                      onMouseDown: (x: number, y: number, button?: number) => void,\n                      onMouseMove: (x: number, y: number, mX: number, mY: number) => void,\n                      onMouseUp: (x: number, y: number, button?: number) => void,\n                      onMouseLeave: (x: number, y: number) => void) {\n    // eslint-disable-next-line\n    function preventDefaultIfNeeded(e: Event) {\n        // not needed yet\n    }\n\n    const onStart = (e: Event) => {\n        if (e.target !== el) {\n            return;\n        }\n\n        const state = getPointerState(e, el);\n        onMouseDown(state.x, state.y, state.button);\n\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onChange = (e: Event) => {\n        if (e.target !== el) {\n            return;\n        }\n\n        const state = getPointerState(e, el);\n        onMouseMove(state.x, state.y, state.mX, state.mY);\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onEnd = (e: Event) => {\n        const state = getPointerState(e, el);\n        onMouseUp(state.x, state.y, state.button);\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onLeave = (e: Event) => {\n        if (e.target !== el) {\n            return;\n        }\n\n        const state = getPointerState(e, el);\n        onMouseLeave(state.x, state.y);\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onPrevent = (e: Event) => {\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const options = {\n        capture: false,\n    };\n\n    for (const next of pointer.starters) {\n        el.addEventListener(next, onStart, options);\n    }\n    for (const next of pointer.changers) {\n        el.addEventListener(next, onChange, options);\n    }\n    for (const next of pointer.enders) {\n        el.addEventListener(next, onEnd, options);\n    }\n    for (const next of pointer.prevents) {\n        el.addEventListener(next, onPrevent, options);\n    }\n    for (const next of pointer.leavers) {\n        el.addEventListener(next, onLeave, options);\n    }\n\n    return () => {\n        for (const next of pointer.starters) {\n            el.removeEventListener(next, onStart, options);\n        }\n        for (const next of pointer.changers) {\n            el.removeEventListener(next, onChange, options);\n        }\n        for (const next of pointer.enders) {\n            el.removeEventListener(next, onEnd, options);\n        }\n        for (const next of pointer.prevents) {\n            el.removeEventListener(next, onPrevent, options);\n        }\n        for (const next of pointer.leavers) {\n            el.removeEventListener(next, onLeave, options);\n        }\n    };\n}\n","import { CommandInterface } from \"emulators\";\nimport { mount } from \"./mount\";\n\nconst insensitivePadding = 1 / 100;\n\nexport function mouseDefault(pointerButton: number,\n                             el: HTMLElement,\n                             ci: CommandInterface) {\n    const mapXY = (x: number, y: number) => doMapXY(x, y, el, ci);\n\n    if (document.pointerLockElement === el) {\n        document.exitPointerLock();\n    }\n\n    function onMouseDown(x: number, y: number, button?: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n        ci.sendMouseButton(button ?? pointerButton, true);\n    }\n\n    function onMouseUp(x: number, y: number, button?: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n        ci.sendMouseButton(button ?? pointerButton, false);\n    }\n\n    function onMouseMove(x: number, y: number, mX: number, mY: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n    }\n\n    function onMouseLeave(x: number, y: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n    }\n\n    return mount(el, onMouseDown, onMouseMove, onMouseUp, onMouseLeave);\n}\n\nfunction doMapXY(eX: number,\n                 eY: number,\n                 el: HTMLElement,\n                 ci: CommandInterface) {\n    const { width: containerWidth, height: containerHeight } = el.getBoundingClientRect();\n    const frameWidth = ci.width();\n    const frameHeight = ci.height();\n\n    const aspect = frameWidth / frameHeight;\n\n    let width = containerWidth;\n    let height = containerWidth / aspect;\n\n    if (height > containerHeight) {\n        height = containerHeight;\n        width = containerHeight * aspect;\n    }\n\n    const top = (containerHeight - height) / 2;\n    const left = (containerWidth - width) / 2;\n\n    let x = Math.max(0, Math.min(1, (eX - left) / width));\n    let y = Math.max(0, Math.min(1, (eY - top) / height));\n\n    if (x <= insensitivePadding) {\n        x = 0;\n    }\n\n    if (x >= (1 - insensitivePadding)) {\n        x = 1;\n    }\n\n    if (y <= insensitivePadding) {\n        y = 0;\n    }\n\n    if (y >= (1 - insensitivePadding)) {\n        y = 1;\n    }\n\n    return {\n        x,\n        y,\n    };\n}\n","import { CommandInterface } from \"emulators\";\nimport { mount } from \"./mount\";\n\nconst clickDelay = 500;\nconst clickThreshold = 50;\n\nexport function mouseSwipe(sensitivity: number,\n                           pointerButton: number,\n                           el: HTMLElement,\n                           ci: CommandInterface) {\n    let startedAt = -1;\n    let acc = 0;\n    let prevX = 0;\n    let prevY = 0;\n\n    const onMouseDown = (x: number, y: number, mouseButton?: number) => {\n        startedAt = Date.now();\n        acc = 0;\n        prevX = x;\n        prevY = y;\n\n        if (mouseButton !== undefined) {\n            ci.sendMouseButton(mouseButton, true);\n        }\n    };\n\n    function onMouseMove(x: number, y: number, mX: number, mY: number) {\n        if (mX === undefined) {\n            mX = x - prevX;\n        }\n\n        if (mY === undefined) {\n            mY = y - prevY;\n        }\n\n        prevX = x;\n        prevY = y;\n\n        if (mX === 0 && mY === 0) {\n            return;\n        }\n\n        acc += Math.abs(mX) + Math.abs(mY);\n\n        ci.sendMouseRelativeMotion(mX * sensitivity * 2, mY * sensitivity * 2);\n    }\n\n    const onMouseUp = (x: number, y: number, mouseButton?: number) => {\n        if (mouseButton !== undefined) {\n            ci.sendMouseButton(mouseButton, false);\n        } else {\n            const delay = Date.now() - startedAt;\n\n            if (delay < clickDelay && acc < clickThreshold) {\n                const button = mouseButton ?? pointerButton;\n                ci.sendMouseButton(button, true);\n                setTimeout(() => ci.sendMouseButton(button, false), 60);\n            }\n        }\n    };\n\n    const noop = () => {};\n\n    return mount(el, onMouseDown, onMouseMove, onMouseUp, noop);\n}\n","import { CommandInterface } from \"emulators\";\nimport { mousePointerLock } from \"./mouse/mouse-locked\";\nimport { mouseDefault } from \"./mouse/mouse-not-locked\";\nimport { mouseSwipe } from \"./mouse/mouse-swipe\";\nimport { pointer } from \"./mouse/pointer\";\n\nexport function mouse(lock: boolean,\n                      sensitivity: number,\n                      pointerButton: number,\n                      el: HTMLElement,\n                      ci: CommandInterface) {\n    if (lock && !pointer.canLock) {\n        return mouseSwipe(sensitivity, pointerButton, el, ci);\n    }\n\n    if (lock) {\n        const unlock = mousePointerLock(el);\n        const umount = mouseSwipe(sensitivity, pointerButton, el, ci);\n\n        return () => {\n            umount();\n            unlock();\n        };\n    }\n\n    return mouseDefault(pointerButton, el, ci);\n}\n","import { pointer } from \"./pointer\";\n\nexport function mousePointerLock(el: HTMLElement) {\n    function requestLock() {\n        if (document.pointerLockElement !== el) {\n            const requestPointerLock = el.requestPointerLock ||\n                (el as any).mozRequestPointerLock ||\n                (el as any).webkitRequestPointerLock;\n\n            requestPointerLock.call(el);\n\n            return;\n        }\n    }\n\n    const options = {\n        capture: true,\n    };\n\n    for (const next of pointer.starters) {\n        el.addEventListener(next, requestLock, options);\n    }\n\n    return () => {\n        for (const next of pointer.starters) {\n            el.removeEventListener(next, requestLock, options);\n        }\n    };\n}\n","import { pointer } from \"../../window/dos/controls/mouse/pointer\";\n\nexport function createDiv(className: string, innerHtml?: string) {\n    const el = document.createElement(\"div\");\n    el.className = className;\n    if (innerHtml !== undefined) {\n        el.innerHTML = innerHtml;\n    }\n    return el;\n}\n\nexport function stopPropagation(el: HTMLElement, preventDefault = true) {\n    const onStop = (e: Event) => {\n        e.stopPropagation();\n    };\n    const onPrevent = (e: Event) => {\n        e.stopPropagation();\n        if (preventDefault) {\n            e.preventDefault();\n        }\n    };\n    const options = {\n        capture: false,\n    };\n    for (const next of pointer.starters) {\n        el.addEventListener(next, onStop, options);\n    }\n    for (const next of pointer.enders) {\n        el.addEventListener(next, onStop, options);\n    }\n    for (const next of pointer.prevents) {\n        el.addEventListener(next, onPrevent, options);\n    }\n}\n","import { createDiv } from \"./helpers\";\n\n// eslint-disable-next-line\nexport interface LayersOptions {\n    optionControls?: string[];\n}\n\nexport class Layers {\n    options: LayersOptions;\n    root: HTMLDivElement;\n    canvas: HTMLCanvasElement;\n    mouseOverlay: HTMLDivElement;\n    width: number;\n    height: number;\n    keyboardVisible = false;\n    pointerLock = false;\n    pointerDisabled = false;\n    pointerButton: 0 | 1 = 0;\n\n    toggleKeyboard: () => void;\n\n    private onResize: ((width: number, height: number) => void)[];\n\n    private onKeyDown: (keyCode: number) => void;\n    private onKeyUp: (keyCode: number) => void;\n    private onKeyPress: (keyCode: number) => void;\n    private onKeysPress: (keyCodes: number[]) => void;\n\n    // eslint-disable-next-line\n    constructor(root: HTMLDivElement, canvas: HTMLCanvasElement, toggleKeyboard: () => void, options: LayersOptions) {\n        this.toggleKeyboard = toggleKeyboard;\n        this.options = options;\n        this.root = root;\n        this.root.classList.add(\"emulator-root\");\n\n        this.canvas = canvas;\n        this.canvas.className = \"emulator-canvas\";\n        this.mouseOverlay = createMouseOverlayLayer();\n\n        this.root.appendChild(this.mouseOverlay);\n\n        this.width = root.offsetWidth;\n        this.height = root.offsetHeight;\n\n        this.onResize = [];\n        this.onKeyDown = () => {/**/};\n        this.onKeyUp = () => {/**/};\n        this.onKeyPress = () => {/**/};\n        this.onKeysPress = () => {/**/};\n\n        new ResizeObserver((entries) => {\n            for (const e of entries) {\n                if (e.target === root) {\n                    this.width = e.contentRect.width;\n                    this.height = e.contentRect.height;\n                    for (const next of this.onResize) {\n                        next(this.width, this.height);\n                    }\n                }\n            }\n        }).observe(this.root);\n    }\n\n    addOnResize(handler: (width: number, height: number) => void) {\n        this.onResize.push(handler);\n    }\n\n    removeOnResize(handler: (width: number, height: number) => void) {\n        this.onResize = this.onResize.filter((n) => n !== handler);\n    }\n\n    setOnKeyDown(handler: (keyCode: number) => void) {\n        this.onKeyDown = handler;\n    }\n\n    fireKeyDown(keyCode: number) {\n        this.onKeyDown(keyCode);\n    }\n\n    setOnKeyUp(handler: (keyCode: number) => void) {\n        this.onKeyUp = handler;\n    }\n\n    fireKeyUp(keyCode: number) {\n        this.onKeyUp(keyCode);\n    }\n\n    setOnKeyPress(handler: (keyCode: number) => void) {\n        this.onKeyPress = handler;\n    }\n\n    fireKeyPress(keyCode: number) {\n        this.onKeyPress(keyCode);\n    }\n\n    setOnKeysPress(handler: (keyCodes: number[]) => void) {\n        this.onKeysPress = handler;\n    }\n\n\n    fireKeysPress(keyCodes: number[]) {\n        this.onKeysPress(keyCodes);\n    }\n}\n\nfunction createMouseOverlayLayer() {\n    return createDiv(\"emulator-mouse-overlay\", \"\");\n}\n","import { Button } from \"./button\";\nimport { EventMapping } from \"./nipple\";\nimport { Mapper } from \"./keyboard\";\n\nimport { GridType } from \"./grid\";\n\nexport type LayerControlType =\n    \"Options\" | \"Key\" | \"Keyboard\" |\n    \"Switch\" | \"ScreenMove\" |\n    \"PointerButton\" | \"NippleActivator\";\n\nexport interface LayerPosition {\n    column: number;\n    row: number;\n}\n\nexport interface LayerControl extends LayerPosition {\n    type: LayerControlType,\n    symbol: string;\n}\n\nexport interface LayerKeyControl extends LayerControl {\n    mapTo: number[];\n}\n\nexport interface LayerSwitchControl extends LayerControl {\n    layerName: string,\n}\n\nexport interface LayerScreenMoveControl extends LayerControl {\n    direction: \"up\" | \"down\" | \"left\" | \"right\" |\n        \"up-left\" | \"up-right\" | \"down-left\" | \"down-right\";\n}\n\nexport interface LayerPointerButtonControl extends LayerControl {\n    button: 0 | 1;\n    click: boolean;\n}\n\n// eslint-disable-next-line\nexport interface LayerNippleActivatorControl extends LayerControl {\n}\n\n// eslint-disable-next-line\nexport interface LayerPointerResetControl extends LayerControl {\n}\n\n// eslint-disable-next-line\nexport interface LayerPointerToggleControl extends LayerControl {\n}\n\nexport interface LayerPointerMoveControl extends LayerControl {\n    x: number;\n    y: number;\n}\n\n\nexport interface LayerConfig {\n    grid: GridType,\n    title: string,\n    controls: LayerControl[],\n}\n\nexport interface LayersConfig {\n    version: number,\n    layers: LayerConfig[],\n}\n\n\nexport interface LegacyLayerConfig {\n    name: string,\n    buttons: Button[],\n    gestures: EventMapping[],\n    mapper: Mapper,\n}\n\nexport type LegacyLayersConfig = {[index: string]: LegacyLayerConfig};\n\nexport function extractLayersConfig(config: any): LayersConfig | LegacyLayersConfig | null {\n    if (config.layersConfig !== undefined) {\n        if (config.layersConfig.version === 1) {\n            migrateV1ToV2(config.layersConfig);\n        }\n\n        return config.layersConfig;\n    }\n\n    if (config.layers !== undefined) {\n        return config.layers;\n    }\n\n    return null;\n}\n\nfunction migrateV1ToV2(config: LayersConfig) {\n    for (const layer of config.layers) {\n        for (const control of layer.controls) {\n            if (control.type === \"Key\") {\n                const keyControl = control as LayerKeyControl;\n                if (typeof keyControl.mapTo === \"number\") {\n                    keyControl.mapTo = [keyControl.mapTo];\n                }\n            }\n        }\n    }\n}\n","import { CommandInterface } from \"emulators\";\nimport { Layers } from \"../dom/layers\";\nimport { namedKeyCodes, KBD_NONE } from \"../../window/dos/controls/keys\";\nimport { pointer } from \"../../window/dos/controls/mouse/pointer\";\nimport { LayoutPosition } from \"./layout\";\n\nexport type ActionType = \"click\" | \"hold\";\n// hold - means track press/release events separately\n\nexport type Binding = number;\n\nexport interface Button {\n    action: ActionType,\n    mapTo: Binding,\n    symbol?: string,\n    position: LayoutPosition,\n}\n\nconst keyCodeToName = initKeyCodeToName();\n\nfunction initKeyCodeToName() {\n    const keyCodeToName: {[keyCode: number]: string} = {};\n    for (const next of Object.keys(namedKeyCodes)) {\n        keyCodeToName[namedKeyCodes[next]] = next.substr(4, 2);\n    }\n    return keyCodeToName;\n}\n\nexport interface ButtonHandler {\n    onDown?: () => void;\n    onUp?: () => void;\n    onClick?: () => void;\n}\n\nexport interface HTMLJsDosButtonElement extends HTMLDivElement {\n    widthPx: number;\n    heightPx: number;\n}\n\nexport function createButton(symbol: string,\n                             handler: ButtonHandler,\n                             size: number): HTMLJsDosButtonElement {\n    const innerSize = Math.round(size * 0.6);\n    const innerTextSize = Math.round(size * 0.5);\n    const borderWidth = Math.max(1, Math.round(size / 20));\n    const backgroundImage = symbolToUrl[symbol.toLowerCase()];\n    const text = backgroundImage === undefined ? symbol : \"\";\n    const button = createDiv(\"emulator-button-touch-zone\") as HTMLJsDosButtonElement;\n    const innerButton = createDiv(\"emulator-button\");\n    const innerText = createDiv(\"emulator-button-text\",\n        backgroundImage === undefined ? ((text === undefined || text.length === 0) ?\n            \"\" : text.substr(0, 1).toUpperCase()) : \"\");\n\n    if (backgroundImage !== undefined) {\n        innerButton.style.backgroundImage = \"url(\\\"\" + backgroundImage + \"\\\")\";\n    }\n    innerButton.style.width = innerSize + \"px\";\n    innerButton.style.height = innerSize + \"px\";\n    innerText.style.fontSize = innerTextSize + \"px\";\n\n    button.widthPx = size - borderWidth * 2;\n    button.heightPx = size - borderWidth * 2;\n    button.style.width = button.widthPx + \"px\";\n    button.style.height = button.heightPx + \"px\";\n    button.style.borderWidth = borderWidth + \"px\";\n    button.appendChild(innerButton);\n    button.appendChild(innerText);\n\n    const onStart = (e: Event) => {\n        if (handler.onDown !== undefined) {\n            handler.onDown();\n        }\n        if (handler.onClick !== undefined) {\n            handler.onClick();\n        }\n        e.stopPropagation();\n        e.preventDefault();\n    };\n    const onEnd = (e: Event) => {\n        if (handler.onUp !== undefined) {\n            handler.onUp();\n        }\n        e.stopPropagation();\n        e.preventDefault();\n    };\n    const onPrevent = (e: Event) => {\n        e.stopPropagation();\n        e.preventDefault();\n    };\n    const options = {\n        capture: true,\n    };\n    for (const next of pointer.starters) {\n        button.addEventListener(next, onStart, options);\n    }\n    for (const next of pointer.enders) {\n        button.addEventListener(next, onEnd, options);\n    }\n    for (const next of pointer.changers) {\n        button.addEventListener(next, onPrevent, options);\n    }\n    for (const next of pointer.leavers) {\n        button.addEventListener(next, onPrevent, options);\n    }\n    for (const next of pointer.prevents) {\n        button.addEventListener(next, onPrevent, options);\n    }\n    return button;\n}\n\nexport function deprecatedButton(layers: Layers,\n                                 ci: CommandInterface,\n                                 buttons: Button[],\n                                 size: number) {\n    const ident = Math.round(size / 4);\n    const toRemove: HTMLElement[] = [];\n\n    for (const next of buttons) {\n        if (next.mapTo === KBD_NONE) {\n            continue;\n        }\n\n        const symbol = (next.symbol || mapToSymbol(next.mapTo)).toUpperCase();\n        const handler = deprecatedCreateHandler(next, layers);\n        const button = createButton(symbol, handler, size);\n\n        button.style.position = \"absolute\";\n        const cssStyle = (next as any).style;\n        if (cssStyle) {\n            for (const prop of Object.keys(cssStyle)) {\n                (button.style as any)[prop] = (cssStyle as any)[prop];\n            }\n        }\n\n        if (next.position !== undefined) {\n            const left = next.position.left;\n            const top = next.position.top;\n            const bottom = next.position.bottom;\n            const right = next.position.right;\n\n            if (left !== undefined) {\n                button.style.left = (ident * left + size * (left - 1)) + \"px\";\n            }\n\n            if (right !== undefined) {\n                button.style.right = (ident * right + size * (right - 1)) + \"px\";\n            }\n\n            if (top !== undefined) {\n                button.style.top = (ident * top + size * (top - 1)) + \"px\";\n            }\n\n            if (bottom !== undefined) {\n                button.style.bottom = (ident * bottom + size * (bottom - 1)) + \"px\";\n            }\n        }\n        layers.mouseOverlay.appendChild(button);\n        toRemove.push(button);\n    }\n\n    return () => {\n        for (const next of toRemove) {\n            if (next.parentElement === layers.mouseOverlay) {\n                layers.mouseOverlay.removeChild(next);\n            }\n        }\n    };\n}\n\nfunction createDiv(className: string, innerHtml?: string) {\n    const el = document.createElement(\"div\");\n    el.className = className;\n    if (innerHtml !== undefined) {\n        el.innerHTML = innerHtml;\n    }\n    return el;\n}\n\nfunction mapToSymbol(mapTo: Binding): string {\n    if (typeof mapTo === \"number\") {\n        return keyCodeToName[mapTo];\n    }\n\n    return mapTo;\n}\n\nfunction deprecatedCreateHandler(button: Button,\n                                 layers: Layers): ButtonHandler {\n    return button.action === \"click\" ?\n        { onClick: () => layers.fireKeyPress(button.mapTo) } :\n        {\n            onDown: () => layers.fireKeyDown(button.mapTo),\n            onUp: () => layers.fireKeyUp(button.mapTo),\n        };\n}\n\n/* eslint-disable max-len */\nconst down = \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Layer_1' xmlns:sketch='http://www.bohemiancoding.com/sketch/ns' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 20 20' fill='%23FFF' enable-background='new 0 0 20 20' xml:space='preserve'%3E%3Ctitle%3EShape%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cg id='Page-1' sketch:type='MSPage'%3E%3Cg id='Artboard-1' transform='translate(-3.000000, -1.000000)' sketch:type='MSArtboardGroup'%3E%3Cpath id='Shape' sketch:type='MSShapeGroup' d='M19,12c-0.3,0-0.5,0.1-0.7,0.3L14,16.6V3c0-0.5-0.4-1-1-1s-1,0.5-1,1v13.6 l-4.3-4.3C7.5,12.1,7.3,12,7,12c-0.5,0-1,0.4-1,1c0,0.3,0.1,0.5,0.3,0.7l6,6c0.2,0.2,0.4,0.3,0.7,0.3s0.5-0.1,0.7-0.3l6-6 c0.2-0.2,0.3-0.4,0.3-0.7C20,12.4,19.5,12,19,12L19,12z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\";\nconst left = \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 20 20' enable-background='new 0 0 20 20' fill='%23FFF' xml:space='preserve'%3E%3Cg id='left_arrow_1_'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M18,9H4.41l4.29-4.29C8.89,4.53,9,4.28,9,4c0-0.55-0.45-1-1-1 C7.72,3,7.47,3.11,7.29,3.29l-6,6C1.11,9.47,1,9.72,1,10c0,0.28,0.11,0.53,0.29,0.71l6,6C7.47,16.89,7.72,17,8,17 c0.55,0,1-0.45,1-1c0-0.28-0.11-0.53-0.29-0.71L4.41,11H18c0.55,0,1-0.45,1-1C19,9.45,18.55,9,18,9z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\";\nconst right = \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' fill='%23fff' viewBox='0 0 20 20' enable-background='new 0 0 20 20' xml:space='preserve'%3E%3Cg id='right_arrow_1_'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M18.71,9.29l-6-6C12.53,3.11,12.28,3,12,3c-0.55,0-1,0.45-1,1 c0,0.28,0.11,0.53,0.29,0.71L15.59,9H2c-0.55,0-1,0.45-1,1c0,0.55,0.45,1,1,1h13.59l-4.29,4.29C11.11,15.47,11,15.72,11,16 c0,0.55,0.45,1,1,1c0.28,0,0.53-0.11,0.71-0.29l6-6C18.89,10.53,19,10.28,19,10C19,9.72,18.89,9.47,18.71,9.29z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\";\nconst enter = \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 18.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' fill='%23fff' viewBox='0 0 20 20' enable-background='new 0 0 20 20' xml:space='preserve'%3E%3Cg id='key_enter_1_'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M18,2c-0.55,0-1,0.45-1,1v5c0,2.21-1.79,4-4,4H4.41l2.29-2.29 C6.89,9.53,7,9.28,7,9c0-0.55-0.45-1-1-1C5.72,8,5.47,8.11,5.29,8.29l-4,4C1.11,12.47,1,12.72,1,13c0,0.28,0.11,0.53,0.29,0.71 l4,4C5.47,17.89,5.72,18,6,18c0.55,0,1-0.45,1-1c0-0.28-0.11-0.53-0.29-0.71L4.41,14H13c3.31,0,6-2.69,6-6V3C19,2.45,18.55,2,18,2 z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\";\nconst symbolToUrl: {[symbol: string]: string} = {\n    fullscreen: \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 16 16' enable-background='new 0 0 16 16' xml:space='preserve'%3E%3Cg id='maximize_1_' fill='%23FFFFFF'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M5.99,8.99c-0.28,0-0.53,0.11-0.71,0.29l-3.29,3.29v-1.59c0-0.55-0.45-1-1-1 s-1,0.45-1,1v4c0,0.55,0.45,1,1,1h4c0.55,0,1-0.45,1-1s-0.45-1-1-1H3.41L6.7,10.7c0.18-0.18,0.29-0.43,0.29-0.71 C6.99,9.44,6.54,8.99,5.99,8.99z M14.99-0.01h-4c-0.55,0-1,0.45-1,1s0.45,1,1,1h1.59L9.28,5.29C9.1,5.47,8.99,5.72,8.99,5.99 c0,0.55,0.45,1,1,1c0.28,0,0.53-0.11,0.71-0.29l3.29-3.29v1.59c0,0.55,0.45,1,1,1s1-0.45,1-1v-4C15.99,0.44,15.54-0.01,14.99-0.01 z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\",\n    save: \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 18.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 16 16' enable-background='new 0 0 16 16' fill='%23FFFFFF' xml:space='preserve'%3E%3Cg id='floppy_disk'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M15.71,2.29l-2-2C13.53,0.11,13.28,0,13,0h-1v6H4V0H1C0.45,0,0,0.45,0,1v14 c0,0.55,0.45,1,1,1h14c0.55,0,1-0.45,1-1V3C16,2.72,15.89,2.47,15.71,2.29z M14,15H2V9c0-0.55,0.45-1,1-1h10c0.55,0,1,0.45,1,1V15 z M11,1H9v4h2V1z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\",\n    options: \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 20 20' enable-background='new 0 0 20 20' fill='%23FFF' xml:space='preserve'%3E%3Cg id='cog_2_'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M19,8h-2.31c-0.14-0.46-0.33-0.89-0.56-1.3l1.7-1.7c0.39-0.39,0.39-1.02,0-1.41 l-1.41-1.41c-0.39-0.39-1.02-0.39-1.41,0l-1.7,1.7c-0.41-0.22-0.84-0.41-1.3-0.55V1c0-0.55-0.45-1-1-1H9C8.45,0,8,0.45,8,1v2.33 C7.52,3.47,7.06,3.67,6.63,3.91L5,2.28c-0.37-0.37-0.98-0.37-1.36,0L2.28,3.64C1.91,4.02,1.91,4.63,2.28,5l1.62,1.62 C3.66,7.06,3.46,7.51,3.31,8H1C0.45,8,0,8.45,0,9v2c0,0.55,0.45,1,1,1h2.31c0.14,0.46,0.33,0.89,0.56,1.3L2.17,15 c-0.39,0.39-0.39,1.02,0,1.41l1.41,1.41c0.39,0.39,1.02,0.39,1.41,0l1.7-1.7c0.41,0.22,0.84,0.41,1.3,0.55V19c0,0.55,0.45,1,1,1h2 c0.55,0,1-0.45,1-1v-2.33c0.48-0.14,0.94-0.35,1.37-0.59L15,17.72c0.37,0.37,0.98,0.37,1.36,0l1.36-1.36 c0.37-0.37,0.37-0.98,0-1.36l-1.62-1.62c0.24-0.43,0.45-0.89,0.6-1.38H19c0.55,0,1-0.45,1-1V9C20,8.45,19.55,8,19,8z M10,14 c-2.21,0-4-1.79-4-4c0-2.21,1.79-4,4-4s4,1.79,4,4C14,12.21,12.21,14,10,14z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\",\n    keyboard: \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 18.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 16 16' enable-background='new 0 0 16 16' xml:space='preserve'%3E%3Cg id='manually_entered_data_2_'%3E%3Cg%3E%3Cpath fill='%23FFFFFF' fill-rule='evenodd' clip-rule='evenodd' d='M1,8h3.76l2-2H1C0.45,6,0,6.45,0,7C0,7.55,0.45,8,1,8z M15.49,3.99 C15.8,3.67,16,3.23,16,2.75C16,1.78,15.22,1,14.25,1c-0.48,0-0.92,0.2-1.24,0.51l-1.44,1.44l2.47,2.47L15.49,3.99z M1,4h7.76l2-2 H1C0.45,2,0,2.45,0,3C0,3.55,0.45,4,1,4z M1,10c-0.55,0-1,0.45-1,1c0,0.48,0.35,0.86,0.8,0.96L2.76,10H1z M10.95,3.57l-6.69,6.69 l2.47,2.47l6.69-6.69L10.95,3.57z M15.2,6.04L13.24,8H15c0.55,0,1-0.45,1-1C16,6.52,15.65,6.14,15.2,6.04z M2,15l3.86-1.39 l-2.46-2.44L2,15z M15,10h-3.76l-2,2H15c0.55,0,1-0.45,1-1C16,10.45,15.55,10,15,10z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\",\n    up: \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Layer_1' xmlns:sketch='http://www.bohemiancoding.com/sketch/ns' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 20 20' fill='%23FFF' enable-background='new 0 0 20 20' xml:space='preserve'%3E%3Ctitle%3EShape%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cg id='Page-1' sketch:type='MSPage'%3E%3Cg id='Artboard-1' transform='translate(-3.000000, -1.000000)' sketch:type='MSArtboardGroup'%3E%3Cpath id='Shape' sketch:type='MSShapeGroup' d='M19.7,8.3l-6-6C13.5,2.1,13.3,2,13,2s-0.5,0.1-0.7,0.3l-6,6C6.1,8.5,6,8.7,6,9 c0,0.6,0.5,1,1,1c0.3,0,0.5-0.1,0.7-0.3L12,5.4V19c0,0.5,0.4,1,1,1s1-0.5,1-1V5.4l4.3,4.3C18.5,9.9,18.7,10,19,10c0.5,0,1-0.4,1-1 C20,8.7,19.9,8.5,19.7,8.3L19.7,8.3z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\",\n    down,\n    do: down,\n    dw: down,\n    dwn: down,\n    left,\n    le: left,\n    lft: left,\n    right,\n    ri: right,\n    rght: right,\n    rgh: right,\n    enter,\n    en: enter,\n    enr: enter,\n    ent: enter,\n    entr: enter,\n};\n\n","import { CommandInterface } from \"emulators\";\nimport { Layers } from \"../../dom/layers\";\n\nimport { mount } from \"./mouse-common\";\n\nconst clickDelay = 500;\nconst clickThreshold = 50;\n\nexport function mouseSwipe(sensitivity: number, layers: Layers, ci: CommandInterface) {\n    const el = layers.mouseOverlay;\n\n    let startedAt = -1;\n    let acc = 0;\n    let prevX = 0;\n    let prevY = 0;\n\n    const onMouseDown = (x: number, y: number) => {\n        startedAt = Date.now();\n        acc = 0;\n        prevX = x;\n        prevY = y;\n    };\n\n    function onMouseMove(x: number, y: number, mX: number, mY: number) {\n        if (mX === undefined) {\n            mX = x - prevX;\n        }\n\n        if (mY === undefined) {\n            mY = y - prevY;\n        }\n\n        prevX = x;\n        prevY = y;\n\n        if (mX === 0 && mY === 0) {\n            return;\n        }\n\n        acc += Math.abs(mX) + Math.abs(mY);\n\n        (ci as any).sendMouseRelativeMotion(mX * sensitivity * 2, mY * sensitivity * 2);\n    }\n\n    const onMouseUp = (x: number, y: number) => {\n        const delay = Date.now() - startedAt;\n\n        if (delay < clickDelay && acc < clickThreshold) {\n            const button = layers.pointerButton || 0;\n            ci.sendMouseButton(button, true);\n            setTimeout(() => ci.sendMouseButton(button, false), 60);\n        }\n    };\n\n    const noop = () => {};\n\n    return mount(el, layers, onMouseDown, onMouseMove, onMouseUp, noop);\n}\n","import { CommandInterface } from \"emulators\";\nimport { Layers } from \"../../dom/layers\";\n\nimport { mapXY as doMapXY, mount } from \"./mouse-common\";\n\nexport function mouseNotLocked(layers: Layers, ci: CommandInterface) {\n    const el = layers.mouseOverlay;\n    const mapXY = (x: number, y: number) => doMapXY(x, y, ci, layers);\n\n    if (document.pointerLockElement === el) {\n        document.exitPointerLock();\n    }\n\n    function onMouseDown(x: number, y: number, button: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n        ci.sendMouseButton(button, true);\n    }\n\n    function onMouseUp(x: number, y: number, button: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n        ci.sendMouseButton(button, false);\n    }\n\n    function onMouseMove(x: number, y: number, mX: number, mY: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n    }\n\n    function onMouseLeave(x: number, y: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n    }\n\n    return mount(el, layers, onMouseDown, onMouseMove, onMouseUp, onMouseLeave);\n}\n","import { CommandInterface } from \"emulators\";\nimport { Layers } from \"../../dom/layers\";\nimport { pointer, getPointerState } from \"../../../window/dos/controls/mouse/pointer\";\nimport { mouseSwipe } from \"./mouse-swipe\";\nimport { mouseNotLocked } from \"./mouse-not-locked\";\nimport { mouseLocked } from \"./mouse-locked\";\n\nconst insensitivePadding = 1 / 100;\n\nexport function mapXY(eX: number, eY: number,\n                      ci: CommandInterface, layers: Layers) {\n    const frameWidth = ci.width();\n    const frameHeight = ci.height();\n    const containerWidth = layers.width;\n    const containerHeight = layers.height;\n\n    const aspect = frameWidth / frameHeight;\n\n    let width = containerWidth;\n    let height = containerWidth / aspect;\n\n    if (height > containerHeight) {\n        height = containerHeight;\n        width = containerHeight * aspect;\n    }\n\n    const top = (containerHeight - height) / 2;\n    const left = (containerWidth - width) / 2;\n\n    let x = Math.max(0, Math.min(1, (eX - left) / width));\n    let y = Math.max(0, Math.min(1, (eY - top) / height));\n\n    if (x <= insensitivePadding) {\n        x = 0;\n    }\n\n    if (x >= (1 - insensitivePadding)) {\n        x = 1;\n    }\n\n    if (y <= insensitivePadding) {\n        y = 0;\n    }\n\n    if (y >= (1 - insensitivePadding)) {\n        y = 1;\n    }\n\n    return {\n        x,\n        y,\n    };\n}\n\nexport function mount(el: HTMLDivElement, layers: Layers,\n                      onMouseDown: (x: number, y: number, button: number) => void,\n                      onMouseMove: (x: number, y: number, mX: number, mY: number) => void,\n                      onMouseUp: (x: number, y: number, button: number) => void,\n                      onMouseLeave: (x: number, y: number) => void) {\n    // eslint-disable-next-line\n    function preventDefaultIfNeeded(e: Event) {\n        // not needed yet\n    }\n\n    let pressedButton = 0;\n    const onStart = (e: Event) => {\n        if (e.target !== el) {\n            return;\n        }\n\n        if (layers.pointerDisabled) {\n            e.stopPropagation();\n            preventDefaultIfNeeded(e);\n            return;\n        }\n\n        const state = getPointerState(e, el);\n        pressedButton = state.button || layers.pointerButton;\n        onMouseDown(state.x, state.y, pressedButton);\n\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onChange = (e: Event) => {\n        if (e.target !== el) {\n            return;\n        }\n\n        if (layers.pointerDisabled) {\n            e.stopPropagation();\n            preventDefaultIfNeeded(e);\n            return;\n        }\n\n        const state = getPointerState(e, el);\n        onMouseMove(state.x, state.y, state.mX, state.mY);\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onEnd = (e: Event) => {\n        if (layers.pointerDisabled) {\n            e.stopPropagation();\n            preventDefaultIfNeeded(e);\n            return;\n        }\n\n        const state = getPointerState(e, el);\n        onMouseUp(state.x, state.y, pressedButton);\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onLeave = (e: Event) => {\n        if (e.target !== el) {\n            return;\n        }\n\n        if (layers.pointerDisabled) {\n            e.stopPropagation();\n            preventDefaultIfNeeded(e);\n            return;\n        }\n\n        const state = getPointerState(e, el);\n        onMouseLeave(state.x, state.y);\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onPrevent = (e: Event) => {\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const options = {\n        capture: false,\n    };\n\n    for (const next of pointer.starters) {\n        el.addEventListener(next, onStart, options);\n    }\n    for (const next of pointer.changers) {\n        el.addEventListener(next, onChange, options);\n    }\n    for (const next of pointer.enders) {\n        el.addEventListener(next, onEnd, options);\n    }\n    for (const next of pointer.prevents) {\n        el.addEventListener(next, onPrevent, options);\n    }\n    for (const next of pointer.leavers) {\n        el.addEventListener(next, onLeave, options);\n    }\n\n    return () => {\n        for (const next of pointer.starters) {\n            el.removeEventListener(next, onStart, options);\n        }\n        for (const next of pointer.changers) {\n            el.removeEventListener(next, onChange, options);\n        }\n        for (const next of pointer.enders) {\n            el.removeEventListener(next, onEnd, options);\n        }\n        for (const next of pointer.prevents) {\n            el.removeEventListener(next, onPrevent, options);\n        }\n        for (const next of pointer.leavers) {\n            el.removeEventListener(next, onLeave, options);\n        }\n    };\n}\n\nexport function mouse(autolock: boolean, sensitivity: number, layers: Layers, ci: CommandInterface) {\n    if (autolock && !pointer.canLock) {\n        return mouseSwipe(sensitivity, layers, ci);\n    }\n\n    if (autolock) {\n        return mouseLocked(sensitivity, layers, ci);\n    }\n\n    return mouseNotLocked(layers, ci);\n}\n","import { CommandInterface } from \"emulators\";\nimport { Layers } from \"../../dom/layers\";\nimport { mount } from \"./mouse-common\";\n\nexport function mouseLocked(sensitivity: number, layers: Layers, ci: CommandInterface) {\n    const el = layers.mouseOverlay;\n\n    function isNotLocked() {\n        return document.pointerLockElement !== el;\n    }\n\n    function onMouseDown(x: number, y: number, button: number) {\n        if (isNotLocked()) {\n            const requestPointerLock = el.requestPointerLock ||\n                (el as any).mozRequestPointerLock ||\n                (el as any).webkitRequestPointerLock;\n\n            requestPointerLock.call(el);\n\n            return;\n        }\n\n        ci.sendMouseButton(button, true);\n    }\n\n    function onMouseUp(x: number, y: number, button: number) {\n        if (isNotLocked()) {\n            return;\n        }\n\n        ci.sendMouseButton(button, false);\n    }\n\n    function onMouseMove(x: number, y: number, mX: number, mY: number) {\n        if (isNotLocked()) {\n            return;\n        }\n\n        if (mX === 0 && mY === 0) {\n            return;\n        }\n\n        (ci as any).sendMouseRelativeMotion(mX * sensitivity, mY * sensitivity);\n    }\n\n    function onMouseLeave(x: number, y: number) {\n        // nothing to do\n    }\n\n    return mount(el, layers, onMouseDown, onMouseMove, onMouseUp, onMouseLeave);\n}\n","///////////////////////\n///      UTILS      ///\n///////////////////////\n\nexport const distance = (p1, p2) => {\n    const dx = p2.x - p1.x;\n    const dy = p2.y - p1.y;\n\n    return Math.sqrt((dx * dx) + (dy * dy));\n};\n\nexport const angle = (p1, p2) => {\n    const dx = p2.x - p1.x;\n    const dy = p2.y - p1.y;\n\n    return degrees(Math.atan2(dy, dx));\n};\n\nexport const findCoord = (p, d, a) => {\n    const b = {x: 0, y: 0};\n    a = radians(a);\n    b.x = p.x - d * Math.cos(a);\n    b.y = p.y - d * Math.sin(a);\n    return b;\n};\n\nexport const radians = (a) => {\n    return a * (Math.PI / 180);\n};\n\nexport const degrees = (a) => {\n    return a * (180 / Math.PI);\n};\n\nexport const isPressed = (evt) => {\n    if (isNaN(evt.buttons)) {\n        return evt.pressure !== 0;\n    }\n    return evt.buttons !== 0;\n};\n\nconst timers = new Map();\nexport const throttle = (cb) => {\n    if (timers.has(cb)) {\n        clearTimeout(timers.get(cb));\n    }\n    timers.set(cb, setTimeout(cb, 100));\n};\n\nexport const bindEvt = (el, arg, handler) => {\n    const types = arg.split(/[ ,]+/g);\n    let type;\n    for (let i = 0; i < types.length; i += 1) {\n        type = types[i];\n        if (el.addEventListener) {\n            el.addEventListener(type, handler, false);\n        } else if (el.attachEvent) {\n            el.attachEvent(type, handler);\n        }\n    }\n};\n\nexport const unbindEvt = (el, arg, handler) => {\n    const types = arg.split(/[ ,]+/g);\n    let type;\n    for (let i = 0; i < types.length; i += 1) {\n        type = types[i];\n        if (el.removeEventListener) {\n            el.removeEventListener(type, handler);\n        } else if (el.detachEvent) {\n            el.detachEvent(type, handler);\n        }\n    }\n};\n\nexport const trigger = (el, type, data) => {\n    const evt = new CustomEvent(type, data);\n    el.dispatchEvent(evt);\n};\n\nexport const prepareEvent = (evt) => {\n    evt.preventDefault();\n    return evt.type.match(/^touch/) ? evt.changedTouches : evt;\n};\n\nexport const getScroll = () => {\n    const x = (window.pageXOffset !== undefined) ?\n        window.pageXOffset :\n        (document.documentElement || document.body.parentNode || document.body)\n            .scrollLeft;\n\n    const y = (window.pageYOffset !== undefined) ?\n        window.pageYOffset :\n        (document.documentElement || document.body.parentNode || document.body)\n            .scrollTop;\n    return {\n        x: x,\n        y: y\n    };\n};\n\nexport const applyPosition = (el, pos) => {\n    if (pos.top || pos.right || pos.bottom || pos.left) {\n        el.style.top = pos.top;\n        el.style.right = pos.right;\n        el.style.bottom = pos.bottom;\n        el.style.left = pos.left;\n    } else {\n        el.style.left = pos.x + 'px';\n        el.style.top = pos.y + 'px';\n    }\n};\n\nexport const getTransitionStyle = (property, values, time) => {\n    const obj = configStylePropertyObject(property);\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (typeof values === 'string') {\n                obj[i] = values + ' ' + time;\n            } else {\n                let st = '';\n                for (let j = 0, max = values.length; j < max; j += 1) {\n                    st += values[j] + ' ' + time + ', ';\n                }\n                obj[i] = st.slice(0, -2);\n            }\n        }\n    }\n    return obj;\n};\n\nexport const getVendorStyle = (property, value) => {\n    const obj = configStylePropertyObject(property);\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            obj[i] = value;\n        }\n    }\n    return obj;\n};\n\nexport const configStylePropertyObject = (prop) => {\n    const obj = {};\n    obj[prop] = '';\n    const vendors = ['webkit', 'Moz', 'o'];\n    vendors.forEach(function (vendor) {\n        obj[vendor + prop.charAt(0).toUpperCase() + prop.slice(1)] = '';\n    });\n    return obj;\n};\n\nexport const extend = (objA, objB) => {\n    for (let i in objB) {\n        if (objB.hasOwnProperty(i)) {\n            objA[i] = objB[i];\n        }\n    }\n    return objA;\n};\n\n// Overwrite only what's already present\nexport const safeExtend = (objA, objB) => {\n    const obj = {};\n    for (let i in objA) {\n        if (objA.hasOwnProperty(i) && objB.hasOwnProperty(i)) {\n            obj[i] = objB[i];\n        } else if (objA.hasOwnProperty(i)) {\n            obj[i] = objA[i];\n        }\n    }\n    return obj;\n};\n\n// Map for array or unique item.\nexport const map = (ar, fn) => {\n    if (ar.length) {\n        for (let i = 0, max = ar.length; i < max; i += 1) {\n            fn(ar[i]);\n        }\n    } else {\n        fn(ar);\n    }\n};\n\n// Clamp position within the range\nexport const clamp = (pos, nipplePos, size) => ({\n    //                          left-clamping        right-clamping\n    x: Math.min(Math.max(pos.x, nipplePos.x - size), nipplePos.x + size),\n    //                          top-clamping         bottom-clamping\n    y: Math.min(Math.max(pos.y, nipplePos.y - size), nipplePos.y + size)\n});\n","///////////////////////\n///   SUPER CLASS   ///\n///////////////////////\nimport * as u from './utils';\n\n// Constants\nvar isTouch = !!('ontouchstart' in window);\nvar isPointer = window.PointerEvent ? true : false;\nvar isMSPointer = window.MSPointerEvent ? true : false;\nvar events = {\n    touch: {\n        start: 'touchstart',\n        move: 'touchmove',\n        end: 'touchend, touchcancel'\n    },\n    mouse: {\n        start: 'mousedown',\n        move: 'mousemove',\n        end: 'mouseup'\n    },\n    pointer: {\n        start: 'pointerdown',\n        move: 'pointermove',\n        end: 'pointerup, pointercancel'\n    },\n    MSPointer: {\n        start: 'MSPointerDown',\n        move: 'MSPointerMove',\n        end: 'MSPointerUp'\n    }\n};\nvar toBind;\nvar secondBind = {};\nif (isPointer) {\n    toBind = events.pointer;\n} else if (isMSPointer) {\n    toBind = events.MSPointer;\n} else if (isTouch) {\n    toBind = events.touch;\n    secondBind = events.mouse;\n} else {\n    toBind = events.mouse;\n}\n\nfunction Super () {}\n\n// Basic event system.\nSuper.prototype.on = function (arg, cb) {\n    var self = this;\n    var types = arg.split(/[ ,]+/g);\n    var type;\n    self._handlers_ = self._handlers_ || {};\n\n    for (var i = 0; i < types.length; i += 1) {\n        type = types[i];\n        self._handlers_[type] = self._handlers_[type] || [];\n        self._handlers_[type].push(cb);\n    }\n    return self;\n};\n\nSuper.prototype.off = function (type, cb) {\n    var self = this;\n    self._handlers_ = self._handlers_ || {};\n\n    if (type === undefined) {\n        self._handlers_ = {};\n    } else if (cb === undefined) {\n        self._handlers_[type] = null;\n    } else if (self._handlers_[type] &&\n            self._handlers_[type].indexOf(cb) >= 0) {\n        self._handlers_[type].splice(self._handlers_[type].indexOf(cb), 1);\n    }\n\n    return self;\n};\n\nSuper.prototype.trigger = function (arg, data) {\n    var self = this;\n    var types = arg.split(/[ ,]+/g);\n    var type;\n    self._handlers_ = self._handlers_ || {};\n\n    for (var i = 0; i < types.length; i += 1) {\n        type = types[i];\n        if (self._handlers_[type] && self._handlers_[type].length) {\n            self._handlers_[type].forEach(function (handler) {\n                handler.call(self, {\n                    type: type,\n                    target: self\n                }, data);\n            });\n        }\n    }\n};\n\n// Configuration\nSuper.prototype.config = function (options) {\n    var self = this;\n    self.options = self.defaults || {};\n    if (options) {\n        self.options = u.safeExtend(self.options, options);\n    }\n};\n\n// Bind internal events.\nSuper.prototype.bindEvt = function (el, type) {\n    var self = this;\n    self._domHandlers_ = self._domHandlers_ || {};\n\n    self._domHandlers_[type] = function () {\n        if (typeof self['on' + type] === 'function') {\n            self['on' + type].apply(self, arguments);\n        } else {\n            // eslint-disable-next-line no-console\n            console.warn('[WARNING] : Missing \"on' + type + '\" handler.');\n        }\n    };\n\n    u.bindEvt(el, toBind[type], self._domHandlers_[type]);\n\n    if (secondBind[type]) {\n        // Support for both touch and mouse at the same time.\n        u.bindEvt(el, secondBind[type], self._domHandlers_[type]);\n    }\n\n    return self;\n};\n\n// Unbind dom events.\nSuper.prototype.unbindEvt = function (el, type) {\n    var self = this;\n    self._domHandlers_ = self._domHandlers_ || {};\n\n    u.unbindEvt(el, toBind[type], self._domHandlers_[type]);\n\n    if (secondBind[type]) {\n        // Support for both touch and mouse at the same time.\n        u.unbindEvt(el, secondBind[type], self._domHandlers_[type]);\n    }\n\n    delete self._domHandlers_[type];\n\n    return this;\n};\n\nexport default Super;\n","import Super from './super';\nimport * as u from './utils';\n\n///////////////////////\n///   THE NIPPLE    ///\n///////////////////////\n\nfunction Nipple (collection, options) {\n    this.identifier = options.identifier;\n    this.position = options.position;\n    this.frontPosition = options.frontPosition;\n    this.collection = collection;\n\n    // Defaults\n    this.defaults = {\n        size: 100,\n        threshold: 0.1,\n        color: 'white',\n        fadeTime: 250,\n        dataOnly: false,\n        restJoystick: true,\n        restOpacity: 0.5,\n        mode: 'dynamic',\n        zone: document.body,\n        lockX: false,\n        lockY: false,\n        shape: 'circle'\n    };\n\n    this.config(options);\n\n    // Overwrites\n    if (this.options.mode === 'dynamic') {\n        this.options.restOpacity = 0;\n    }\n\n    this.id = Nipple.id;\n    Nipple.id += 1;\n    this.buildEl()\n        .stylize();\n\n    // Nipple's API.\n    this.instance = {\n        el: this.ui.el,\n        on: this.on.bind(this),\n        off: this.off.bind(this),\n        show: this.show.bind(this),\n        hide: this.hide.bind(this),\n        add: this.addToDom.bind(this),\n        remove: this.removeFromDom.bind(this),\n        destroy: this.destroy.bind(this),\n        setPosition:this.setPosition.bind(this),\n        resetDirection: this.resetDirection.bind(this),\n        computeDirection: this.computeDirection.bind(this),\n        trigger: this.trigger.bind(this),\n        position: this.position,\n        frontPosition: this.frontPosition,\n        ui: this.ui,\n        identifier: this.identifier,\n        id: this.id,\n        options: this.options\n    };\n\n    return this.instance;\n}\n\nNipple.prototype = new Super();\nNipple.constructor = Nipple;\nNipple.id = 0;\n\n// Build the dom element of the Nipple instance.\nNipple.prototype.buildEl = function (options) {\n    this.ui = {};\n\n    if (this.options.dataOnly) {\n        return this;\n    }\n\n    this.ui.el = document.createElement('div');\n    this.ui.back = document.createElement('div');\n    this.ui.front = document.createElement('div');\n\n    this.ui.el.className = 'nipple collection_' + this.collection.id;\n    this.ui.back.className = 'back';\n    this.ui.front.className = 'front';\n\n    this.ui.el.setAttribute('id', 'nipple_' + this.collection.id +\n        '_' + this.id);\n\n    this.ui.el.appendChild(this.ui.back);\n    this.ui.el.appendChild(this.ui.front);\n\n    return this;\n};\n\n// Apply CSS to the Nipple instance.\nNipple.prototype.stylize = function () {\n    if (this.options.dataOnly) {\n        return this;\n    }\n    var animTime = this.options.fadeTime + 'ms';\n    var borderStyle = u.getVendorStyle('borderRadius', '50%');\n    var transitStyle = u.getTransitionStyle('transition', 'opacity', animTime);\n    var styles = {};\n    styles.el = {\n        position: 'absolute',\n        opacity: this.options.restOpacity,\n        display: 'block',\n        'zIndex': 999\n    };\n\n    styles.back = {\n        position: 'absolute',\n        display: 'block',\n        width: this.options.size + 'px',\n        height: this.options.size + 'px',\n        left: 0,\n        marginLeft: -this.options.size / 2 + 'px',\n        marginTop: -this.options.size / 2 + 'px',\n        background: this.options.color,\n        'opacity': '.5'\n    };\n\n    styles.front = {\n        width: this.options.size / 2 + 'px',\n        height: this.options.size / 2 + 'px',\n        position: 'absolute',\n        display: 'block',\n        left: 0,\n        marginLeft: -this.options.size / 4 + 'px',\n        marginTop: -this.options.size / 4 + 'px',\n        background: this.options.color,\n        'opacity': '.5',\n        transform: 'translate(0px, 0px)'\n    };\n\n    u.extend(styles.el, transitStyle);\n    if(this.options.shape === 'circle'){\n        u.extend(styles.back, borderStyle);\n    }\n    u.extend(styles.front, borderStyle);\n\n    this.applyStyles(styles);\n\n    return this;\n};\n\nNipple.prototype.applyStyles = function (styles) {\n    // Apply styles\n    for (var i in this.ui) {\n        if (this.ui.hasOwnProperty(i)) {\n            for (var j in styles[i]) {\n                this.ui[i].style[j] = styles[i][j];\n            }\n        }\n    }\n\n    return this;\n};\n\n// Inject the Nipple instance into DOM.\nNipple.prototype.addToDom = function () {\n    // We're not adding it if we're dataOnly or already in dom.\n    if (this.options.dataOnly || document.body.contains(this.ui.el)) {\n        return this;\n    }\n    this.options.zone.appendChild(this.ui.el);\n    return this;\n};\n\n// Remove the Nipple instance from DOM.\nNipple.prototype.removeFromDom = function () {\n    if (this.options.dataOnly || !document.body.contains(this.ui.el)) {\n        return this;\n    }\n    this.options.zone.removeChild(this.ui.el);\n    return this;\n};\n\n// Entirely destroy this nipple\nNipple.prototype.destroy = function () {\n    clearTimeout(this.removeTimeout);\n    clearTimeout(this.showTimeout);\n    clearTimeout(this.restTimeout);\n    this.trigger('destroyed', this.instance);\n    this.removeFromDom();\n    this.off();\n};\n\n// Fade in the Nipple instance.\nNipple.prototype.show = function (cb) {\n    var self = this;\n\n    if (self.options.dataOnly) {\n        return self;\n    }\n\n    clearTimeout(self.removeTimeout);\n    clearTimeout(self.showTimeout);\n    clearTimeout(self.restTimeout);\n\n    self.addToDom();\n\n    self.restCallback();\n\n    setTimeout(function () {\n        self.ui.el.style.opacity = 1;\n    }, 0);\n\n    self.showTimeout = setTimeout(function () {\n        self.trigger('shown', self.instance);\n        if (typeof cb === 'function') {\n            cb.call(this);\n        }\n    }, self.options.fadeTime);\n\n    return self;\n};\n\n// Fade out the Nipple instance.\nNipple.prototype.hide = function (cb) {\n    var self = this;\n\n    if (self.options.dataOnly) {\n        return self;\n    }\n\n    self.ui.el.style.opacity = self.options.restOpacity;\n\n    clearTimeout(self.removeTimeout);\n    clearTimeout(self.showTimeout);\n    clearTimeout(self.restTimeout);\n\n    self.removeTimeout = setTimeout(\n        function () {\n            var display = self.options.mode === 'dynamic' ? 'none' : 'block';\n            self.ui.el.style.display = display;\n            if (typeof cb === 'function') {\n                cb.call(self);\n            }\n\n            self.trigger('hidden', self.instance);\n        },\n        self.options.fadeTime\n    );\n\n    if (self.options.restJoystick) {\n        const rest = self.options.restJoystick;\n        const newPosition = {};\n\n        newPosition.x = rest === true || rest.x !== false ? 0 : self.instance.frontPosition.x;\n        newPosition.y = rest === true || rest.y !== false ? 0 : self.instance.frontPosition.y;\n\n        self.setPosition(cb, newPosition);\n    }\n\n    return self;\n};\n\n// Set the nipple to the specified position\nNipple.prototype.setPosition = function (cb, position) {\n    var self = this;\n    self.frontPosition = {\n        x: position.x,\n        y: position.y\n    };\n    var animTime = self.options.fadeTime + 'ms';\n\n    var transitStyle = {};\n    transitStyle.front = u.getTransitionStyle('transition',\n        ['transform'], animTime);\n\n    var styles = {front: {}};\n    styles.front = {\n        transform: 'translate(' + self.frontPosition.x + 'px,' + self.frontPosition.y + 'px)'\n    };\n\n    self.applyStyles(transitStyle);\n    self.applyStyles(styles);\n\n    self.restTimeout = setTimeout(\n        function () {\n            if (typeof cb === 'function') {\n                cb.call(self);\n            }\n            self.restCallback();\n        },\n        self.options.fadeTime\n    );\n};\n\nNipple.prototype.restCallback = function () {\n    var self = this;\n    var transitStyle = {};\n    transitStyle.front = u.getTransitionStyle('transition', 'none', '');\n    self.applyStyles(transitStyle);\n    self.trigger('rested', self.instance);\n};\n\nNipple.prototype.resetDirection = function () {\n    // Fully rebuild the object to let the iteration possible.\n    this.direction = {\n        x: false,\n        y: false,\n        angle: false\n    };\n};\n\nNipple.prototype.computeDirection = function (obj) {\n    var rAngle = obj.angle.radian;\n    var angle45 = Math.PI / 4;\n    var angle90 = Math.PI / 2;\n    var direction, directionX, directionY;\n\n    // Angular direction\n    //     \\  UP /\n    //      \\   /\n    // LEFT       RIGHT\n    //      /   \\\n    //     /DOWN \\\n    //\n    if (\n        rAngle > angle45 &&\n        rAngle < (angle45 * 3) &&\n        !obj.lockX\n    ) {\n        direction = 'up';\n    } else if (\n        rAngle > -angle45 &&\n        rAngle <= angle45 &&\n        !obj.lockY\n    ) {\n        direction = 'left';\n    } else if (\n        rAngle > (-angle45 * 3) &&\n        rAngle <= -angle45 &&\n        !obj.lockX\n    ) {\n        direction = 'down';\n    } else if (!obj.lockY) {\n        direction = 'right';\n    }\n\n    // Plain direction\n    //    UP                 |\n    // _______               | RIGHT\n    //                  LEFT |\n    //   DOWN                |\n    if (!obj.lockY) {\n        if (rAngle > -angle90 && rAngle < angle90) {\n            directionX = 'left';\n        } else {\n            directionX = 'right';\n        }\n    }\n\n    if (!obj.lockX) {\n        if (rAngle > 0) {\n            directionY = 'up';\n        } else {\n            directionY = 'down';\n        }\n    }\n\n    if (obj.force > this.options.threshold) {\n        var oldDirection = {};\n        var i;\n        for (i in this.direction) {\n            if (this.direction.hasOwnProperty(i)) {\n                oldDirection[i] = this.direction[i];\n            }\n        }\n\n        var same = {};\n\n        this.direction = {\n            x: directionX,\n            y: directionY,\n            angle: direction\n        };\n\n        obj.direction = this.direction;\n\n        for (i in oldDirection) {\n            if (oldDirection[i] === this.direction[i]) {\n                same[i] = true;\n            }\n        }\n\n        // If all 3 directions are the same, we don't trigger anything.\n        if (same.x && same.y && same.angle) {\n            return obj;\n        }\n\n        if (!same.x || !same.y) {\n            this.trigger('plain', obj);\n        }\n\n        if (!same.x) {\n            this.trigger('plain:' + directionX, obj);\n        }\n\n        if (!same.y) {\n            this.trigger('plain:' + directionY, obj);\n        }\n\n        if (!same.angle) {\n            this.trigger('dir dir:' + direction, obj);\n        }\n    } else {\n        this.resetDirection();\n    }\n\n    return obj;\n};\n\nexport default Nipple;\n","import Nipple from './nipple';\nimport Super from './super';\nimport * as u from './utils';\n\n///////////////////////////\n///   THE COLLECTION    ///\n///////////////////////////\n\nfunction Collection (manager, options) {\n    var self = this;\n    self.nipples = [];\n    self.idles = [];\n    self.actives = [];\n    self.ids = [];\n    self.pressureIntervals = {};\n    self.manager = manager;\n    self.id = Collection.id;\n    Collection.id += 1;\n\n    // Defaults\n    self.defaults = {\n        zone: document.body,\n        multitouch: false,\n        maxNumberOfNipples: 10,\n        mode: 'dynamic',\n        position: {top: 0, left: 0},\n        catchDistance: 200,\n        size: 100,\n        threshold: 0.1,\n        color: 'white',\n        fadeTime: 250,\n        dataOnly: false,\n        restJoystick: true,\n        restOpacity: 0.5,\n        lockX: false,\n        lockY: false,\n        shape: 'circle',\n        dynamicPage: false,\n        follow: false\n    };\n\n    self.config(options);\n\n    // Overwrites\n    if (self.options.mode === 'static' || self.options.mode === 'semi') {\n        self.options.multitouch = false;\n    }\n\n    if (!self.options.multitouch) {\n        self.options.maxNumberOfNipples = 1;\n    }\n    const computedStyle = getComputedStyle(self.options.zone.parentElement);\n    if (computedStyle && computedStyle.display === 'flex') {\n        self.parentIsFlex = true;\n    }\n\n    self.updateBox();\n    self.prepareNipples();\n    self.bindings();\n    self.begin();\n\n    return self.nipples;\n}\n\nCollection.prototype = new Super();\nCollection.constructor = Collection;\nCollection.id = 0;\n\nCollection.prototype.prepareNipples = function () {\n    var self = this;\n    var nips = self.nipples;\n\n    // Public API Preparation.\n    nips.on = self.on.bind(self);\n    nips.off = self.off.bind(self);\n    nips.options = self.options;\n    nips.destroy = self.destroy.bind(self);\n    nips.ids = self.ids;\n    nips.id = self.id;\n    nips.processOnMove = self.processOnMove.bind(self);\n    nips.processOnEnd = self.processOnEnd.bind(self);\n    nips.get = function (id) {\n        if (id === undefined) {\n            return nips[0];\n        }\n        for (var i = 0, max = nips.length; i < max; i += 1) {\n            if (nips[i].identifier === id) {\n                return nips[i];\n            }\n        }\n        return false;\n    };\n};\n\nCollection.prototype.bindings = function () {\n    var self = this;\n    // Touch start event.\n    self.bindEvt(self.options.zone, 'start');\n    // Avoid native touch actions (scroll, zoom etc...) on the zone.\n    self.options.zone.style.touchAction = 'none';\n    self.options.zone.style.msTouchAction = 'none';\n};\n\nCollection.prototype.begin = function () {\n    var self = this;\n    var opts = self.options;\n\n    // We place our static nipple\n    // if needed.\n    if (opts.mode === 'static') {\n        var nipple = self.createNipple(\n            opts.position,\n            self.manager.getIdentifier()\n        );\n        // Add it to the dom.\n        nipple.add();\n        // Store it in idles.\n        self.idles.push(nipple);\n    }\n};\n\n// Nipple Factory\nCollection.prototype.createNipple = function (position, identifier) {\n    var self = this;\n    var scroll = self.manager.scroll;\n    var toPutOn = {};\n    var opts = self.options;\n    var offset = {\n        x: self.parentIsFlex ? scroll.x : (scroll.x + self.box.left),\n        y: self.parentIsFlex ? scroll.y : (scroll.y + self.box.top)\n    };\n\n    if (position.x && position.y) {\n        toPutOn = {\n            x: position.x - offset.x,\n            y: position.y - offset.y\n        };\n    } else if (\n        position.top ||\n        position.right ||\n        position.bottom ||\n        position.left\n    ) {\n\n        // We need to compute the position X / Y of the joystick.\n        var dumb = document.createElement('DIV');\n        dumb.style.display = 'hidden';\n        dumb.style.top = position.top;\n        dumb.style.right = position.right;\n        dumb.style.bottom = position.bottom;\n        dumb.style.left = position.left;\n        dumb.style.position = 'absolute';\n\n        opts.zone.appendChild(dumb);\n        var dumbBox = dumb.getBoundingClientRect();\n        opts.zone.removeChild(dumb);\n\n        toPutOn = position;\n        position = {\n            x: dumbBox.left + scroll.x,\n            y: dumbBox.top + scroll.y\n        };\n    }\n\n    var nipple = new Nipple(self, {\n        color: opts.color,\n        size: opts.size,\n        threshold: opts.threshold,\n        fadeTime: opts.fadeTime,\n        dataOnly: opts.dataOnly,\n        restJoystick: opts.restJoystick,\n        restOpacity: opts.restOpacity,\n        mode: opts.mode,\n        identifier: identifier,\n        position: position,\n        zone: opts.zone,\n        frontPosition: {\n            x: 0,\n            y: 0\n        },\n        shape: opts.shape\n    });\n\n    if (!opts.dataOnly) {\n        u.applyPosition(nipple.ui.el, toPutOn);\n        u.applyPosition(nipple.ui.front, nipple.frontPosition);\n    }\n    self.nipples.push(nipple);\n    self.trigger('added ' + nipple.identifier + ':added', nipple);\n    self.manager.trigger('added ' + nipple.identifier + ':added', nipple);\n\n    self.bindNipple(nipple);\n\n    return nipple;\n};\n\nCollection.prototype.updateBox = function () {\n    var self = this;\n    self.box = self.options.zone.getBoundingClientRect();\n};\n\nCollection.prototype.bindNipple = function (nipple) {\n    var self = this;\n    var type;\n    // Bubble up identified events.\n    var handler = function (evt, data) {\n        // Identify the event type with the nipple's id.\n        type = evt.type + ' ' + data.id + ':' + evt.type;\n        self.trigger(type, data);\n    };\n\n    // When it gets destroyed.\n    nipple.on('destroyed', self.onDestroyed.bind(self));\n\n    // Other events that will get bubbled up.\n    nipple.on('shown hidden rested dir plain', handler);\n    nipple.on('dir:up dir:right dir:down dir:left', handler);\n    nipple.on('plain:up plain:right plain:down plain:left', handler);\n};\n\nCollection.prototype.pressureFn = function (touch, nipple, identifier) {\n    var self = this;\n    var previousPressure = 0;\n    clearInterval(self.pressureIntervals[identifier]);\n    // Create an interval that will read the pressure every 100ms\n    self.pressureIntervals[identifier] = setInterval(function () {\n        var pressure = touch.force || touch.pressure ||\n            touch.webkitForce || 0;\n        if (pressure !== previousPressure) {\n            nipple.trigger('pressure', pressure);\n            self.trigger('pressure ' +\n                nipple.identifier + ':pressure', pressure);\n            previousPressure = pressure;\n        }\n    }.bind(self), 100);\n};\n\nCollection.prototype.onstart = function (evt) {\n    var self = this;\n    var opts = self.options;\n    var origEvt = evt;\n    evt = u.prepareEvent(evt);\n\n    // Update the box position\n    self.updateBox();\n\n    var process = function (touch) {\n        // If we can create new nipples\n        // meaning we don't have more active nipples than we should.\n        if (self.actives.length < opts.maxNumberOfNipples) {\n            self.processOnStart(touch);\n        }\n        else if(origEvt.type.match(/^touch/)){\n            // zombies occur when end event is not received on Safari\n            // first touch removed before second touch, we need to catch up...\n            // so remove where touches in manager that no longer exist\n            Object.keys(self.manager.ids).forEach(function(k){\n                if(Object.values(origEvt.touches).findIndex(function(t){return t.identifier===k;}) < 0){\n                    // manager has id that doesn't exist in touches\n                    var e = [evt[0]];\n                    e.identifier = k;\n                    self.processOnEnd(e);\n                }\n            });\n            if(self.actives.length < opts.maxNumberOfNipples){\n                self.processOnStart(touch);\n            }\n        }\n    };\n\n    u.map(evt, process);\n\n    // We ask upstream to bind the document\n    // on 'move' and 'end'\n    self.manager.bindDocument();\n    return false;\n};\n\nCollection.prototype.processOnStart = function (evt) {\n    var self = this;\n    var opts = self.options;\n    var indexInIdles;\n    var identifier = self.manager.getIdentifier(evt);\n    var pressure = evt.force || evt.pressure || evt.webkitForce || 0;\n    var position = {\n        x: evt.pageX,\n        y: evt.pageY\n    };\n\n    var nipple = self.getOrCreate(identifier, position);\n\n    // Update its touch identifier\n    if (nipple.identifier !== identifier) {\n        self.manager.removeIdentifier(nipple.identifier);\n    }\n    nipple.identifier = identifier;\n\n    var process = function (nip) {\n        // Trigger the start.\n        nip.trigger('start', nip);\n        self.trigger('start ' + nip.id + ':start', nip);\n\n        nip.show();\n        if (pressure > 0) {\n            self.pressureFn(evt, nip, nip.identifier);\n        }\n        // Trigger the first move event.\n        self.processOnMove(evt);\n    };\n\n    // Transfer it from idles to actives.\n    if ((indexInIdles = self.idles.indexOf(nipple)) >= 0) {\n        self.idles.splice(indexInIdles, 1);\n    }\n\n    // Store the nipple in the actives array\n    self.actives.push(nipple);\n    self.ids.push(nipple.identifier);\n\n    if (opts.mode !== 'semi') {\n        process(nipple);\n    } else {\n        // In semi we check the distance of the touch\n        // to decide if we have to reset the nipple\n        var distance = u.distance(position, nipple.position);\n        if (distance <= opts.catchDistance) {\n            process(nipple);\n        } else {\n            nipple.destroy();\n            self.processOnStart(evt);\n            return;\n        }\n    }\n\n    return nipple;\n};\n\nCollection.prototype.getOrCreate = function (identifier, position) {\n    var self = this;\n    var opts = self.options;\n    var nipple;\n\n    // If we're in static or semi, we might already have an active.\n    if (/(semi|static)/.test(opts.mode)) {\n        // Get the active one.\n        // TODO: Multi-touche for semi and static will start here.\n        // Return the nearest one.\n        nipple = self.idles[0];\n        if (nipple) {\n            self.idles.splice(0, 1);\n            return nipple;\n        }\n\n        if (opts.mode === 'semi') {\n            // If we're in semi mode, we need to create one.\n            return self.createNipple(position, identifier);\n        }\n\n        // eslint-disable-next-line no-console\n        console.warn('Coudln\\'t find the needed nipple.');\n        return false;\n    }\n    // In dynamic, we create a new one.\n    nipple = self.createNipple(position, identifier);\n    return nipple;\n};\n\nCollection.prototype.processOnMove = function (evt) {\n    var self = this;\n    var opts = self.options;\n    var identifier = self.manager.getIdentifier(evt);\n    var nipple = self.nipples.get(identifier);\n    var scroll = self.manager.scroll;\n\n    // If we're moving without pressing\n    // it's that we went out the active zone\n    if (!u.isPressed(evt)) {\n        this.processOnEnd(evt);\n        return;\n    }\n\n    if (!nipple) {\n        // This is here just for safety.\n        // It shouldn't happen.\n        // eslint-disable-next-line no-console\n        console.error('Found zombie joystick with ID ' + identifier);\n        self.manager.removeIdentifier(identifier);\n        return;\n    }\n\n    if (opts.dynamicPage) {\n        var elBox = nipple.el.getBoundingClientRect();\n        nipple.position = {\n            x: scroll.x + elBox.left,\n            y: scroll.y + elBox.top\n        };\n    }\n\n    nipple.identifier = identifier;\n\n    var size = nipple.options.size / 2;\n    var pos = {\n        x: evt.pageX,\n        y: evt.pageY\n    };\n\n    if (opts.lockX){\n        pos.y = nipple.position.y;\n    }\n    if (opts.lockY) {\n        pos.x = nipple.position.x;\n    }\n\n    var dist = u.distance(pos, nipple.position);\n    var angle = u.angle(pos, nipple.position);\n    var rAngle = u.radians(angle);\n    var force = dist / size;\n\n    var raw = {\n        distance: dist,\n        position: pos\n    };\n\n    // Clamp the position\n    var clamped_dist;\n    var clamped_pos;\n    if (nipple.options.shape === 'circle') {\n        // Clamp to a circle\n        clamped_dist = Math.min(dist, size);\n        clamped_pos = u.findCoord(nipple.position, clamped_dist, angle);\n    } else {\n        // Clamp to a square\n        clamped_pos = u.clamp(pos, nipple.position, size);\n        clamped_dist = u.distance(clamped_pos, nipple.position);\n    }\n\n    if (opts.follow) {\n        // follow behaviour\n        if (dist > size) {\n            let delta_x = pos.x - clamped_pos.x;\n            let delta_y = pos.y - clamped_pos.y;\n            nipple.position.x += delta_x;\n            nipple.position.y += delta_y;\n            nipple.el.style.top = (nipple.position.y - (self.box.top + scroll.y)) + 'px';\n            nipple.el.style.left = (nipple.position.x - (self.box.left + scroll.x)) + 'px';\n\n            dist = u.distance(pos, nipple.position);\n        }\n    } else {\n        // clamp behaviour\n        pos = clamped_pos;\n        dist = clamped_dist;\n    }\n\n    var xPosition = pos.x - nipple.position.x;\n    var yPosition = pos.y - nipple.position.y;\n\n    nipple.frontPosition = {\n        x: xPosition,\n        y: yPosition\n    };\n\n    if (!opts.dataOnly) {\n        nipple.ui.front.style.transform = 'translate(' + xPosition + 'px,' + yPosition + 'px)';\n    }\n\n    // Prepare event's datas.\n    var toSend = {\n        identifier: nipple.identifier,\n        position: pos,\n        force: force,\n        pressure: evt.force || evt.pressure || evt.webkitForce || 0,\n        distance: dist,\n        angle: {\n            radian: rAngle,\n            degree: angle\n        },\n        vector: {\n            x: xPosition / size,\n            y: - yPosition / size\n        },\n        raw: raw,\n        instance: nipple,\n        lockX: opts.lockX,\n        lockY: opts.lockY\n    };\n\n    // Compute the direction's datas.\n    toSend = nipple.computeDirection(toSend);\n\n    // Offset angles to follow units circle.\n    toSend.angle = {\n        radian: u.radians(180 - angle),\n        degree: 180 - angle\n    };\n\n    // Send everything to everyone.\n    nipple.trigger('move', toSend);\n    self.trigger('move ' + nipple.id + ':move', toSend);\n};\n\nCollection.prototype.processOnEnd = function (evt) {\n    var self = this;\n    var opts = self.options;\n    var identifier = self.manager.getIdentifier(evt);\n    var nipple = self.nipples.get(identifier);\n    var removedIdentifier = self.manager.removeIdentifier(nipple.identifier);\n\n    if (!nipple) {\n        return;\n    }\n\n    if (!opts.dataOnly) {\n        nipple.hide(function () {\n            if (opts.mode === 'dynamic') {\n                nipple.trigger('removed', nipple);\n                self.trigger('removed ' + nipple.id + ':removed', nipple);\n                self.manager\n                    .trigger('removed ' + nipple.id + ':removed', nipple);\n                nipple.destroy();\n            }\n        });\n    }\n\n    // Clear the pressure interval reader\n    clearInterval(self.pressureIntervals[nipple.identifier]);\n\n    // Reset the direciton of the nipple, to be able to trigger a new direction\n    // on start.\n    nipple.resetDirection();\n\n    nipple.trigger('end', nipple);\n    self.trigger('end ' + nipple.id + ':end', nipple);\n\n    // Remove identifier from our bank.\n    if (self.ids.indexOf(nipple.identifier) >= 0) {\n        self.ids.splice(self.ids.indexOf(nipple.identifier), 1);\n    }\n\n    // Clean our actives array.\n    if (self.actives.indexOf(nipple) >= 0) {\n        self.actives.splice(self.actives.indexOf(nipple), 1);\n    }\n\n    if (/(semi|static)/.test(opts.mode)) {\n        // Transfer nipple from actives to idles\n        // if we're in semi or static mode.\n        self.idles.push(nipple);\n    } else if (self.nipples.indexOf(nipple) >= 0) {\n        // Only if we're not in semi or static mode\n        // we can remove the instance.\n        self.nipples.splice(self.nipples.indexOf(nipple), 1);\n    }\n\n    // We unbind move and end.\n    self.manager.unbindDocument();\n\n    // We add back the identifier of the idle nipple;\n    if (/(semi|static)/.test(opts.mode)) {\n        self.manager.ids[removedIdentifier.id] = removedIdentifier.identifier;\n    }\n};\n\n// Remove destroyed nipple from the lists\nCollection.prototype.onDestroyed = function(evt, nipple) {\n    var self = this;\n    if (self.nipples.indexOf(nipple) >= 0) {\n        self.nipples.splice(self.nipples.indexOf(nipple), 1);\n    }\n    if (self.actives.indexOf(nipple) >= 0) {\n        self.actives.splice(self.actives.indexOf(nipple), 1);\n    }\n    if (self.idles.indexOf(nipple) >= 0) {\n        self.idles.splice(self.idles.indexOf(nipple), 1);\n    }\n    if (self.ids.indexOf(nipple.identifier) >= 0) {\n        self.ids.splice(self.ids.indexOf(nipple.identifier), 1);\n    }\n\n    // Remove the identifier from our bank\n    self.manager.removeIdentifier(nipple.identifier);\n\n    // We unbind move and end.\n    self.manager.unbindDocument();\n};\n\n// Cleanly destroy the manager\nCollection.prototype.destroy = function () {\n    var self = this;\n    self.unbindEvt(self.options.zone, 'start');\n\n    // Destroy nipples.\n    self.nipples.forEach(function(nipple) {\n        nipple.destroy();\n    });\n\n    // Clean 3DTouch intervals.\n    for (var i in self.pressureIntervals) {\n        if (self.pressureIntervals.hasOwnProperty(i)) {\n            clearInterval(self.pressureIntervals[i]);\n        }\n    }\n\n    // Notify the manager passing the instance\n    self.trigger('destroyed', self.nipples);\n    // We unbind move and end.\n    self.manager.unbindDocument();\n    // Unbind everything.\n    self.off();\n};\n\nexport default Collection;\n","import Collection from './collection';\nimport Super from './super';\nimport * as u from './utils';\n\n///////////////////////\n///     MANAGER     ///\n///////////////////////\n\nfunction Manager (options) {\n    var self = this;\n    self.ids = {};\n    self.index = 0;\n    self.collections = [];\n    self.scroll = u.getScroll();\n\n    self.config(options);\n    self.prepareCollections();\n\n    // Listen for resize, to reposition every joysticks\n    var resizeHandler = function () {\n        var pos;\n        self.collections.forEach(function (collection) {\n            collection.forEach(function (nipple) {\n                pos = nipple.el.getBoundingClientRect();\n                nipple.position = {\n                    x: self.scroll.x + pos.left,\n                    y: self.scroll.y + pos.top\n                };\n            });\n        });\n    };\n    u.bindEvt(window, 'resize', function () {\n        u.throttle(resizeHandler);\n    });\n\n    // Listen for scrolls, so we have a global scroll value\n    // without having to request it all the time.\n    var scrollHandler = function () {\n        self.scroll = u.getScroll();\n    };\n    u.bindEvt(window, 'scroll', function () {\n        u.throttle(scrollHandler);\n    });\n\n    return self.collections;\n}\n\nManager.prototype = new Super();\nManager.constructor = Manager;\n\nManager.prototype.prepareCollections = function () {\n    var self = this;\n    // Public API Preparation.\n    self.collections.create = self.create.bind(self);\n    // Listen to anything\n    self.collections.on = self.on.bind(self);\n    // Unbind general events\n    self.collections.off = self.off.bind(self);\n    // Destroy everything\n    self.collections.destroy = self.destroy.bind(self);\n    // Get any nipple\n    self.collections.get = function (id) {\n        var nipple;\n        // Use .every() to break the loop as soon as found.\n        self.collections.every(function (collection) {\n            nipple = collection.get(id);\n            return nipple ? false : true;\n        });\n        return nipple;\n    };\n};\n\nManager.prototype.create = function (options) {\n    return this.createCollection(options);\n};\n\n// Collection Factory\nManager.prototype.createCollection = function (options) {\n    var self = this;\n    var collection = new Collection(self, options);\n\n    self.bindCollection(collection);\n    self.collections.push(collection);\n\n    return collection;\n};\n\nManager.prototype.bindCollection = function (collection) {\n    var self = this;\n    var type;\n    // Bubble up identified events.\n    var handler = function (evt, data) {\n        // Identify the event type with the nipple's identifier.\n        type = evt.type + ' ' + data.id + ':' + evt.type;\n        self.trigger(type, data);\n    };\n\n    // When it gets destroyed we clean.\n    collection.on('destroyed', self.onDestroyed.bind(self));\n\n    // Other events that will get bubbled up.\n    collection.on('shown hidden rested dir plain', handler);\n    collection.on('dir:up dir:right dir:down dir:left', handler);\n    collection.on('plain:up plain:right plain:down plain:left', handler);\n};\n\nManager.prototype.bindDocument = function () {\n    var self = this;\n    // Bind only if not already binded\n    if (!self.binded) {\n        self.bindEvt(document, 'move')\n            .bindEvt(document, 'end');\n        self.binded = true;\n    }\n};\n\nManager.prototype.unbindDocument = function (force) {\n    var self = this;\n    // If there are no touch left\n    // unbind the document.\n    if (!Object.keys(self.ids).length || force === true) {\n        self.unbindEvt(document, 'move')\n            .unbindEvt(document, 'end');\n        self.binded = false;\n    }\n};\n\nManager.prototype.getIdentifier = function (evt) {\n    var id;\n    // If no event, simple increment\n    if (!evt) {\n        id = this.index;\n    } else {\n        // Extract identifier from event object.\n        // Unavailable in mouse events so replaced by latest increment.\n        id = evt.identifier === undefined ? evt.pointerId : evt.identifier;\n        if (id === undefined) {\n            id = this.latest || 0;\n        }\n    }\n\n    if (this.ids[id] === undefined) {\n        this.ids[id] = this.index;\n        this.index += 1;\n    }\n\n    // Keep the latest id used in case we're using an unidentified mouseEvent\n    this.latest = id;\n    return this.ids[id];\n};\n\nManager.prototype.removeIdentifier = function (identifier) {\n    var removed = {};\n    for (var id in this.ids) {\n        if (this.ids[id] === identifier) {\n            removed.id = id;\n            removed.identifier = this.ids[id];\n            delete this.ids[id];\n            break;\n        }\n    }\n    return removed;\n};\n\nManager.prototype.onmove = function (evt) {\n    var self = this;\n    self.onAny('move', evt);\n    return false;\n};\n\nManager.prototype.onend = function (evt) {\n    var self = this;\n    self.onAny('end', evt);\n    return false;\n};\n\nManager.prototype.oncancel = function (evt) {\n    var self = this;\n    self.onAny('end', evt);\n    return false;\n};\n\nManager.prototype.onAny = function (which, evt) {\n    var self = this;\n    var id;\n    var processFn = 'processOn' + which.charAt(0).toUpperCase() +\n        which.slice(1);\n    evt = u.prepareEvent(evt);\n    var processColl = function (e, id, coll) {\n        if (coll.ids.indexOf(id) >= 0) {\n            coll[processFn](e);\n            // Mark the event to avoid cleaning it later.\n            e._found_ = true;\n        }\n    };\n    var processEvt = function (e) {\n        id = self.getIdentifier(e);\n        u.map(self.collections, processColl.bind(null, e, id));\n        // If the event isn't handled by any collection,\n        // we need to clean its identifier.\n        if (!e._found_) {\n            self.removeIdentifier(id);\n        }\n    };\n\n    u.map(evt, processEvt);\n\n    return false;\n};\n\n// Cleanly destroy the manager\nManager.prototype.destroy = function () {\n    var self = this;\n    self.unbindDocument(true);\n    self.ids = {};\n    self.index = 0;\n    self.collections.forEach(function(collection) {\n        collection.destroy();\n    });\n    self.off();\n};\n\n// When a collection gets destroyed\n// we clean behind.\nManager.prototype.onDestroyed = function (evt, coll) {\n    var self = this;\n    if (self.collections.indexOf(coll) < 0) {\n        return false;\n    }\n    self.collections.splice(self.collections.indexOf(coll), 1);\n};\n\nexport default Manager;\n","import Manager from './manager';\n\nconst factory = new Manager();\nexport default {\n    create: function (options) {\n        return factory.create(options);\n    },\n    factory: factory\n};\n","import { Layers } from \"../dom/layers\";\nimport { createButton } from \"./button\";\nimport { createDiv, stopPropagation } from \"../dom/helpers\";\n\nexport function options(layers: Layers,\n                        layersNames: string[],\n                        onLayerChange: (layer: string) => void,\n                        size: number,\n                        top: number,\n                        right: number) {\n    const ident = Math.round(size / 4);\n\n    let controlsVisbile = false;\n    const keyboardVisible = false;\n\n    const updateVisibility = () => {\n        const display = controlsVisbile ? \"flex\" : \"none\";\n        for (const next of children) {\n            if (next == options) {\n                continue;\n            }\n\n            next.style.display = display;\n        }\n    };\n\n    const toggleOptions = () => {\n        controlsVisbile = !controlsVisbile;\n\n        if (!controlsVisbile && keyboardVisible) {\n            layers.toggleKeyboard();\n        }\n\n        updateVisibility();\n    };\n\n    const children: HTMLElement[] = [\n        createSelectForLayers(layersNames, onLayerChange),\n        createButton(\"keyboard\", {\n            onClick: () => {\n                layers.toggleKeyboard();\n\n                if (controlsVisbile && !keyboardVisible) {\n                    controlsVisbile = false;\n                    updateVisibility();\n                }\n            },\n        }, size),\n        createButton(\"options\", {\n            onClick: toggleOptions,\n        }, size),\n    ];\n    const options = children[children.length - 1];\n\n    const container = createDiv(\"emulator-options\");\n    const intialDisplay = keyboardVisible ? \"flex\" : \"none\";\n    for (const next of children) {\n        if (next !== options) {\n            next.classList.add(\"emulator-button-control\");\n        }\n        next.style.marginRight = ident + \"px\";\n        next.style.marginBottom = ident + \"px\";\n        if (next !== options) {\n            next.style.display = intialDisplay;\n        }\n        container.appendChild(next);\n    }\n\n    container.style.position = \"absolute\";\n    container.style.right = right + \"px\";\n    container.style.top = top + \"px\";\n\n    layers.mouseOverlay.appendChild(container);\n\n    return () => {\n        layers.mouseOverlay.removeChild(container);\n    };\n}\n\nfunction createSelectForLayers(layers: string[], onChange: (layer: string) => void) {\n    if (layers.length <= 1) {\n        return document.createElement(\"div\");\n    }\n\n    const select = document.createElement(\"select\");\n    select.classList.add(\"emulator-control-select\");\n\n\n    for (const next of layers) {\n        const option = document.createElement(\"option\");\n        option.value = next;\n        option.innerHTML = next;\n        select.appendChild(option);\n    }\n\n    select.onchange = (e: any) => {\n        const layer = e.target.value;\n        onChange(layer);\n    };\n\n    stopPropagation(select, false);\n\n    return select;\n}\n\n","import { CommandInterface } from \"emulators\";\nimport { Layers } from \"../dom/layers\";\n\nexport type Mapper = {[keyCode: number]: number};\n\nexport function keyboard(layers: Layers,\n                         ci: CommandInterface,\n                         mapperOpt?: Mapper) {\n    const mapper = mapperOpt || {};\n    function map(keyCode: number) {\n        if (mapper[keyCode] !== undefined) {\n            return mapper[keyCode];\n        }\n\n        return keyCode;\n    }\n\n    layers.setOnKeyDown((keyCode: number) => {\n        ci.sendKeyEvent(map(keyCode), true);\n    });\n    layers.setOnKeyUp((keyCode: number) => {\n        ci.sendKeyEvent(map(keyCode), false);\n    });\n    layers.setOnKeyPress((keyCode: number) => {\n        ci.simulateKeyPress(map(keyCode));\n    });\n    layers.setOnKeysPress((keyCodes: number[]) => {\n        ci.simulateKeyPress(...keyCodes);\n    });\n\n    return () => {\n        // eslint-disable-next-line\n        layers.setOnKeyDown((keyCode: number) => { /**/ });\n        // eslint-disable-next-line\n        layers.setOnKeyUp((keyCode: number) => { /**/ });\n        // eslint-disable-next-line\n        layers.setOnKeyPress((keyCode: number) => { /**/ });\n        // eslint-disable-next-line\n        layers.setOnKeysPress((keyCodes: number[]) => { /**/ });\n    };\n}\n","import { LegacyLayersConfig } from \"./layers-config\";\nimport { Layers } from \"../dom/layers\";\nimport { CommandInterface } from \"emulators\";\nimport { deprecatedButton } from \"./button\";\nimport { mouse } from \"./mouse/mouse-common\";\nimport { nipple } from \"./nipple\";\nimport { options } from \"./options\";\nimport { keyboard } from \"./keyboard\";\nimport { LayersInstance } from \"../instance\";\n\nexport function initLegacyLayersControl(\n    dosInstance: LayersInstance,\n    layers: Layers,\n    layersConfig: LegacyLayersConfig,\n    ci: CommandInterface) {\n    const layersNames = Object.keys(layersConfig);\n\n    const unbind = {\n        keyboard: () => {/**/},\n        mouse: () => {/**/},\n        gestures: () => {/**/},\n        buttons: () => {/**/},\n    };\n\n    const changeControlLayer = (layerName: string) => {\n        unbind.keyboard();\n        unbind.mouse();\n        unbind.gestures();\n        unbind.buttons();\n\n        unbind.keyboard = () => {/**/};\n        unbind.mouse = () => {/**/};\n        unbind.gestures = () => {/**/};\n        unbind.buttons = () => {/**/};\n\n        const layer = layersConfig[layerName];\n        if (layer === undefined) {\n            return;\n        }\n\n        unbind.keyboard = keyboard(layers, ci, layer.mapper);\n\n        if (layer.gestures !== undefined && layer.gestures.length > 0) {\n            unbind.gestures = nipple(layers, ci, layer.gestures);\n        } else {\n            unbind.mouse = mouse(dosInstance.autolock, dosInstance.sensitivity, layers, ci);\n        }\n\n        if (layer.buttons !== undefined && layer.buttons.length) {\n            unbind.buttons = deprecatedButton(layers, ci, layer.buttons, 54);\n        }\n    };\n\n\n    const unbindOptions =\n        (layers.options.optionControls?.length === 0) ?\n            () => {/**/} :\n            options(layers, layersNames, changeControlLayer, 54, 54 / 4, 0);\n\n    changeControlLayer(\"default\");\n\n    return () => {\n        unbind.gestures();\n        unbind.buttons();\n        unbind.mouse();\n        unbind.keyboard();\n        unbindOptions();\n    };\n}\n","import nipplejs from \"nipplejs\";\n\nimport { KBD_NONE } from \"../../window/dos/controls/keys\";\n\nimport { CommandInterface } from \"emulators\";\nimport { Layers } from \"../dom/layers\";\n\nexport type Event =\n    \"dir:up\" | \"dir:down\" | \"dir:left\" | \"dir:right\" |\n    \"plain:up\" | \"plain:down\" | \"plain:left\" | \"plain:right\" |\n    \"end:release\" | \"tap\";\n\nexport interface EventMapping {\n    joystickId: 0 | 1,\n    event: Event,\n    mapTo: number,\n}\n\nexport function nipple(layers: Layers,\n                       ci: CommandInterface,\n                       mapping: EventMapping[]) {\n    const manager = nipplejs.create({\n        zone: layers.mouseOverlay,\n        multitouch: true,\n        maxNumberOfNipples: 2,\n    });\n\n    let pressed = -1;\n\n    const press = (keyCode: number) => {\n        layers.fireKeyDown(keyCode);\n        pressed = keyCode;\n    };\n\n    const release = () => {\n        if (pressed !== -1) {\n            layers.fireKeyUp(pressed);\n            pressed = -1;\n        }\n    };\n\n    const releaseOnEnd: {[index: number]: boolean} = {};\n    const tapJoysticks: {[index: number]: number} = {};\n    const usedTimes: {[index: number]: number} = {\n    };\n    for (const next of mapping) {\n        if (next.event === \"end:release\") {\n            releaseOnEnd[next.joystickId] = true;\n        } else if (next.mapTo !== KBD_NONE) {\n            if (next.event === \"tap\") {\n                tapJoysticks[next.joystickId] = next.mapTo;\n            } else {\n                manager.on(next.event, () => {\n                    usedTimes[next.joystickId] = Date.now();\n                    release();\n                    press(next.mapTo);\n                });\n            }\n        }\n    }\n\n    const startTimes: {[index: number]: number} = {};\n    manager.on(\"start\", () => {\n        const id = manager.ids.length - 1;\n        startTimes[id] = Date.now();\n    });\n\n    manager.on(\"end\", () => {\n        const id = manager.ids.length - 1;\n        const delay = Date.now() - startTimes[id];\n\n        if (releaseOnEnd[id] === true) {\n            release();\n        }\n\n        if (tapJoysticks[id] && delay < 500 && usedTimes[id] < startTimes[id]) {\n            layers.fireKeyPress(tapJoysticks[id]);\n        }\n    });\n\n    return () => manager.destroy();\n}\n\n","export type GridType = \"square\" | \"honeycomb\";\n\nexport interface Cell {\n    centerX: number;\n    centerY: number;\n}\n\nexport interface GridConfiguration {\n    gridType: GridType,\n    cells: Cell[][];\n    columnWidth: number;\n    rowHeight: number;\n    columnsPadding: number;\n    rowsPadding: number;\n    width: number;\n    height: number;\n}\n\nexport interface Grid {\n    getConfiguration(width: number, height: number, scale?: number): GridConfiguration;\n}\n\nexport function getGrid(gridType: GridType) {\n    switch (gridType) {\n        case \"square\": return getSquareGrid();\n        case \"honeycomb\": return getHoneyCombGrid();\n    }\n\n    throw new Error(\"Unknown grid type \" + gridType);\n}\n\nfunction getSquareGrid(): Grid {\n    class SquareGrid implements Grid {\n        aspect = 200 / 320;\n\n        getConfiguration(width: number, height: number, scale = 1): GridConfiguration {\n            const cols = this.getCols();\n            const rows = this.getRows();\n            const middleCol = Math.floor(cols / 2);\n            const middleRow = Math.floor(rows / 2);\n            const columnsPadding = width * 5 / 100 / 2;\n            const rowsPadding = columnsPadding;\n            const columnWidth = (width - columnsPadding * 2) / cols * scale;\n            const rowHeight = (height - rowsPadding * 2) / rows * scale;\n            const size = Math.min(columnWidth, rowHeight);\n            const cells: Cell[][] = [];\n            for (let row = 0; row < rows; ++row) {\n                const cellRow: Cell[] = [];\n                for (let col = 0; col < cols; ++col) {\n                    cellRow.push({\n                        centerX: col < middleCol ?\n                            columnsPadding + size * (col + 1 / 2) :\n                            width - columnsPadding - size * ((cols - col - 1) + 1 / 2),\n                        centerY: row < middleRow ?\n                            rowsPadding + size * (row + 1 / 2) :\n                            height - rowsPadding - size * ((rows - row - 1) + 1 / 2),\n                    });\n                }\n                cells.push(cellRow);\n            }\n            return {\n                gridType: \"square\",\n                cells,\n                columnWidth: size,\n                rowHeight: size,\n                columnsPadding,\n                rowsPadding,\n                width,\n                height,\n            };\n        }\n\n        private getCols() {\n            return 10;\n        }\n\n        private getRows() {\n            return Math.floor(this.getCols() * this.aspect) + 1;\n        }\n    }\n\n    return new SquareGrid();\n}\n\nfunction getHoneyCombGrid(): Grid {\n    class SquareGrid implements Grid {\n        aspect = 200 / 320;\n\n        getConfiguration(width: number, height: number, scale = 1): GridConfiguration {\n            const cols = this.getCols();\n            const rows = this.getRows();\n            const middleCol = Math.floor(cols / 2);\n            const middleRow = Math.floor(rows / 2);\n            const columnsPadding = width * 5 / 100 / 2;\n            const rowsPadding = columnsPadding;\n            const columnWidth = (width - columnsPadding * 2) / cols * scale;\n            const rowHeight = (height - rowsPadding * 2) / rows * scale;\n            const size = Math.min(columnWidth, rowHeight);\n            const cells: Cell[][] = [];\n            for (let row = 0; row < rows; ++row) {\n                const cellRow: Cell[] = [];\n                const cellCols = row % 2 == 0 ? cols : cols - 1;\n                const padding = row % 2 == 0 ? 0 : size / 2;\n                for (let col = 0; col < cellCols; ++col) {\n                    cellRow.push({\n                        centerX: col < middleCol ?\n                            padding + columnsPadding + size * (col + 1 / 2):\n                            padding + width - columnsPadding - size * ((cols - col - 1) + 1/2),\n                        centerY: row < middleRow ?\n                            rowsPadding + size * (row + 1 / 2) :\n                            height - rowsPadding - size * ((rows - row - 1) + 1 / 2),\n                    });\n                }\n                cells.push(cellRow);\n            }\n            return {\n                gridType: \"honeycomb\",\n                cells,\n                columnWidth: size,\n                rowHeight: size,\n                columnsPadding,\n                rowsPadding,\n                width,\n                height,\n            };\n        }\n\n        getCols() {\n            return 10;\n        }\n\n        getRows() {\n            return Math.floor(this.getCols() * this.aspect) + 1;\n        }\n    }\n\n    return new SquareGrid();\n}\n","import { Layers } from \"../dom/layers\";\nimport { CommandInterface } from \"emulators\";\nimport {\n    LayersConfig, LayerConfig, LayerKeyControl,\n    LayerControl, LayerSwitchControl, LayerScreenMoveControl,\n    LayerPointerButtonControl, LayerPointerMoveControl, LayerPointerResetControl,\n    LayerPointerToggleControl, LayerNippleActivatorControl,\n} from \"./layers-config\";\nimport { Cell, getGrid, GridConfiguration } from \"./grid\";\nimport { createButton } from \"./button\";\nimport { keyboard } from \"./keyboard\";\nimport { mouse } from \"./mouse/mouse-common\";\nimport { options } from \"./options\";\nimport { pointer } from \"../../window/dos/controls/mouse/pointer\";\nimport { LayersInstance } from \"../instance\";\nimport nipplejs from \"nipplejs\";\n\nexport function initLayersControl(\n    layers: Layers,\n    layersConfig: LayersConfig,\n    ci: CommandInterface,\n    dosInstance: LayersInstance,\n    mirrored: boolean,\n    scale: number,\n    layerName?: string): () => void {\n    let selectedLayer = layersConfig.layers[0];\n    if (layerName !== undefined) {\n        for (const next of layersConfig.layers) {\n            if (next.title === layerName) {\n                selectedLayer = next;\n                break;\n            }\n        }\n    }\n    return initLayerConfig(selectedLayer, layers, ci, dosInstance, mirrored, scale);\n}\n\ninterface CellWithMeta extends Cell {\n    hidden?: boolean,\n}\n\ninterface Sensor {\n    activate: () => void;\n    deactivate: () => void;\n}\n\ninterface MirroredInfo {\n    leftStart: number;\n    leftEnd: number;\n    rightStart: number;\n    rightEnd: number;\n}\n\nclass ControlSensors {\n    sensors: { [key: string]: Sensor } = {};\n\n    activate(row: number, column: number) {\n        const sensor = this.sensors[column + \"_\" + row];\n        if (sensor !== undefined) {\n            sensor.activate();\n        }\n    }\n\n    deactivate(row: number, column: number) {\n        const sensor = this.sensors[column + \"_\" + row];\n        if (sensor !== undefined) {\n            sensor.deactivate();\n        }\n    }\n\n    register(row: number, column: number, sensor: Sensor) {\n        this.sensors[column + \"_\" + row] = sensor;\n    }\n}\n\ntype ControlFactory = (control: any,\n    layers: Layers,\n    ci: CommandInterface,\n    gridConfig: GridConfiguration,\n    sensors: ControlSensors,\n    dosInstance: LayersInstance) => () => void;\n\nconst factoryMapping: { [type: string]: ControlFactory } = {\n    Key: createKeyControl,\n    Options: createOptionsControl,\n    Keyboard: createKeyboardControl,\n    Switch: createSwitchControl,\n    ScreenMove: createScreenMoveControl,\n    PointerButton: createPointerButtonControl,\n    PointerMove: createPointerMoveControl,\n    PointerReset: createPointerResetControl,\n    PointerToggle: createPointerToggleControl,\n    NippleActivator: createNippleActivatorControl,\n};\n\nfunction initLayerConfig(layerConfig: LayerConfig,\n                         layers: Layers,\n                         ci: CommandInterface,\n                         dosInstance: LayersInstance,\n                         mirrored: boolean,\n                         scale: number): () => void {\n    const unbindKeyboard = keyboard(layers, ci);\n    const unbindMouse = mouse(dosInstance.autolock, dosInstance.sensitivity, layers, ci);\n\n    const unbindControls: (() => void)[] = [];\n    function rebuild(width: number, height: number) {\n        for (const next of unbindControls) {\n            next();\n        }\n        unbindControls.splice(0, unbindControls.length);\n\n        const grid = getGrid(layerConfig.grid);\n        const gridConfig = grid.getConfiguration(width, height, scale);\n        const sensors = new ControlSensors();\n\n        for (const next of layerConfig.controls) {\n            const { row, column, type } = next;\n            if (type === \"NippleActivator\") {\n                setHiddenAround(gridConfig, row, column);\n            }\n        }\n\n        let doOffsetColumnInRow = -1;\n        if (layers.options.optionControls?.length === 0) {\n            for (const next of layerConfig.controls) {\n                const { row, type } = next;\n                if (type === \"Options\") {\n                    doOffsetColumnInRow = row;\n                    break;\n                }\n            }\n        }\n\n        const mirroredInfo: { [row: number]: MirroredInfo } = {};\n        if (mirrored) {\n            for (const next of layerConfig.controls) {\n                const { row } = next;\n                let column = next.column;\n                const columnsCount = gridConfig.cells[row].length;\n                const middleColumn = columnsCount / 2;\n\n                if (row === doOffsetColumnInRow && column >= middleColumn) {\n                    column = Math.min(column + 1, columnsCount - 1);\n                }\n\n                if (mirroredInfo[row] === undefined) {\n                    mirroredInfo[row] = {\n                        leftStart: middleColumn,\n                        leftEnd: 0,\n                        rightStart: columnsCount - 1,\n                        rightEnd: middleColumn,\n                    };\n                }\n\n                if (column < middleColumn) {\n                    mirroredInfo[row].leftStart = Math.min(mirroredInfo[row].leftStart, column);\n                    mirroredInfo[row].leftEnd = Math.max(mirroredInfo[row].leftEnd, column);\n                } else {\n                    mirroredInfo[row].rightStart = Math.min(mirroredInfo[row].rightStart, column);\n                    mirroredInfo[row].rightEnd = Math.max(mirroredInfo[row].rightEnd, column);\n                }\n            }\n        }\n\n        for (const next of layerConfig.controls) {\n            const factory = factoryMapping[next.type];\n            if (factory === undefined) {\n                console.error(\"Factory for control '\" + next.type + \"' is not defined\");\n                continue;\n            }\n\n            const copy = { ...next };\n            const columnsCount = gridConfig.cells[next.row].length;\n            const middleColumn = columnsCount / 2;\n            if (doOffsetColumnInRow === next.row && next.column >= middleColumn) {\n                copy.column = Math.min(copy.column + 1, columnsCount - 1);\n            }\n\n            if (mirrored) {\n                const { leftStart, leftEnd, rightStart, rightEnd } = mirroredInfo[copy.row];\n                const leftSide = copy.column < middleColumn;\n                if (leftSide) {\n                    copy.column += middleColumn + (middleColumn - leftEnd) - leftStart - 1;\n                } else {\n                    copy.column -= middleColumn + (rightStart - middleColumn) - (columnsCount - rightEnd) + 1;\n                }\n\n                if (copy.column >= columnsCount) {\n                    console.error(\"Column\", copy.column, \"is out of bound\",\n                        columnsCount, leftSide ? \"[leftSide]\" : \"[rightSide]\", mirroredInfo);\n                    copy.column = columnsCount - 1;\n                } else if (copy.column < 0) {\n                    console.error(\"Column\", copy.column, \"is out of bound\",\n                        0, leftSide ? \"[leftSide]\" : \"[rightSide]\", mirroredInfo);\n                    copy.column = 0;\n                }\n            }\n\n            const unbind = factory(copy, layers, ci, gridConfig, sensors, dosInstance);\n            unbindControls.push(unbind);\n        }\n    }\n\n    layers.addOnResize(rebuild);\n    rebuild(layers.width, layers.height);\n\n    return () => {\n        layers.removeOnResize(rebuild);\n        unbindKeyboard();\n        unbindMouse();\n        for (const next of unbindControls) {\n            next();\n        }\n    };\n}\n\nfunction createKeyControl(keyControl: LayerKeyControl,\n                          layers: Layers,\n                          ci: CommandInterface,\n                          gridConfig: GridConfiguration,\n                          sensors: ControlSensors,\n                          dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column } = keyControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const handler = {\n        onDown: () => {\n            for (const next of keyControl.mapTo) {\n                ci.sendKeyEvent(next, true);\n            }\n        },\n        onUp: () => {\n            for (const next of keyControl.mapTo) {\n                ci.sendKeyEvent(next, false);\n            }\n        },\n    };\n\n    sensors.register(row, column, {\n        activate: handler.onDown,\n        deactivate: handler.onUp,\n    });\n\n    if (isHidden(gridConfig, row, column)) {\n        return () => {};\n    }\n\n    const button = createButton(keyControl.symbol, handler, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => layers.mouseOverlay.removeChild(button);\n}\n\nfunction createOptionsControl(optionControl: LayerControl,\n                              layers: Layers,\n                              ci: CommandInterface,\n                              gridConfig: GridConfiguration,\n                              sensors: ControlSensors,\n                              dosInstance: LayersInstance) {\n    if (layers.options.optionControls?.length === 0) {\n        return () => {/**/};\n    }\n\n    if (layers.options.optionControls !== undefined &&\n        layers.options.optionControls.length === 1 &&\n        layers.options.optionControls[0] === \"keyboard\") {\n        return createKeyboardControl(optionControl, layers, ci, gridConfig, sensors, dosInstance);\n    }\n\n    const { cells, columnWidth, rowHeight } = gridConfig;\n    const { row, column } = optionControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const top = centerY - rowHeight / 2;\n    const left = centerX - columnWidth / 2;\n    const right = gridConfig.width - left - columnWidth;\n\n    return options(layers, [\"default\"], () => {/**/},\n        columnWidth,\n        top,\n        right);\n}\n\nfunction createKeyboardControl(keyboardControl: LayerControl,\n                               layers: Layers,\n                               ci: CommandInterface,\n                               gridConfig: GridConfiguration,\n                               sensors: ControlSensors,\n                               dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column } = keyboardControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const button = createButton(\"keyboard\", {\n        onUp: () => layers.toggleKeyboard(),\n    }, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => {\n        layers.mouseOverlay.removeChild(button);\n    };\n}\n\nfunction createSwitchControl(switchControl: LayerSwitchControl,\n                             layers: Layers,\n                             ci: CommandInterface,\n                             gridConfig: GridConfiguration,\n                             sensors: ControlSensors,\n                             dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column } = switchControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const button = createButton(switchControl.symbol, {\n        onUp: () => dosInstance.setActiveConfig(dosInstance.getActiveConfig(), switchControl.layerName),\n    }, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => {\n        layers.mouseOverlay.removeChild(button);\n    };\n}\n\nfunction createScreenMoveControl(screenMoveControl: LayerScreenMoveControl,\n                                 layers: Layers,\n                                 ci: CommandInterface,\n                                 gridConfig: GridConfiguration,\n                                 sensors: ControlSensors,\n                                 dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column } = screenMoveControl;\n    const { centerX, centerY } = cells[row][column];\n\n    let mX = 0.5;\n    let mY = 0.5;\n\n    if (screenMoveControl.direction.indexOf(\"up\") >= 0) {\n        mY = 0;\n    }\n\n    if (screenMoveControl.direction.indexOf(\"down\") >= 0) {\n        mY = 1;\n    }\n\n    if (screenMoveControl.direction.indexOf(\"left\") >= 0) {\n        mX = 0;\n    }\n\n    if (screenMoveControl.direction.indexOf(\"right\") >= 0) {\n        mX = 1;\n    }\n\n    const handler = {\n        onDown: () => {\n            ci.sendMouseMotion(mX, mY);\n        },\n        onUp: () => {\n            ci.sendMouseMotion(0.5, 0.5);\n        },\n    };\n\n    sensors.register(row, column, {\n        activate: handler.onDown,\n        deactivate: handler.onUp,\n    });\n\n    if (isHidden(gridConfig, row, column)) {\n        return () => {};\n    }\n\n    const button = createButton(screenMoveControl.symbol, handler, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => layers.mouseOverlay.removeChild(button);\n}\n\nfunction createPointerButtonControl(pointerButtonControl: LayerPointerButtonControl,\n                                    layers: Layers,\n                                    ci: CommandInterface,\n                                    gridConfig: GridConfiguration,\n                                    sensors: ControlSensors,\n                                    dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column, click } = pointerButtonControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const handler = {\n        onDown: () => {\n            if (!click) {\n                layers.pointerButton = pointerButtonControl.button;\n            } else {\n                ci.sendMouseButton(pointerButtonControl.button, true);\n            }\n        },\n        onUp: () => {\n            if (!click) {\n                layers.pointerButton = 0;\n            } else {\n                ci.sendMouseButton(pointerButtonControl.button, false);\n            }\n        },\n    };\n\n    sensors.register(row, column, {\n        activate: handler.onDown,\n        deactivate: handler.onUp,\n    });\n\n    if (isHidden(gridConfig, row, column)) {\n        return () => {};\n    }\n\n    const button = createButton(pointerButtonControl.symbol, handler, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => layers.mouseOverlay.removeChild(button);\n}\n\nfunction createPointerMoveControl(pointerMoveControl: LayerPointerMoveControl,\n                                  layers: Layers,\n                                  ci: CommandInterface,\n                                  gridConfig: GridConfiguration,\n                                  sensors: ControlSensors,\n                                  dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column, x, y } = pointerMoveControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const handler = {\n        onDown: () => {\n            ci.sendMouseMotion(x, y);\n        },\n        onUp: () => {\n            ci.sendMouseMotion(x, y);\n        },\n    };\n\n    sensors.register(row, column, {\n        activate: handler.onDown,\n        deactivate: handler.onUp,\n    });\n\n    if (isHidden(gridConfig, row, column)) {\n        return () => {};\n    }\n\n    const button = createButton(pointerMoveControl.symbol, handler, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => layers.mouseOverlay.removeChild(button);\n}\n\nfunction createPointerResetControl(pointerResetControl: LayerPointerResetControl,\n                                   layers: Layers,\n                                   ci: CommandInterface,\n                                   gridConfig: GridConfiguration,\n                                   sensors: ControlSensors,\n                                   dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column } = pointerResetControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const handler = {\n        onDown: () => {\n            ci.sendMouseSync();\n        },\n    };\n\n    sensors.register(row, column, {\n        activate: handler.onDown,\n        deactivate: () => { },\n    });\n\n    if (isHidden(gridConfig, row, column)) {\n        return () => {};\n    }\n\n    const button = createButton(pointerResetControl.symbol, handler, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => layers.mouseOverlay.removeChild(button);\n}\n\nfunction createPointerToggleControl(pointerToggleControl: LayerPointerToggleControl,\n                                    layers: Layers,\n                                    ci: CommandInterface,\n                                    gridConfig: GridConfiguration,\n                                    sensors: ControlSensors,\n                                    dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column } = pointerToggleControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const handler = {\n        onDown: () => {\n            layers.pointerDisabled = !layers.pointerDisabled;\n            if (layers.pointerDisabled) {\n                if (!button.classList.contains(\"emulator-button-highlight\")) {\n                    button.classList.add(\"emulator-button-highlight\");\n                }\n            } else {\n                button.classList.remove(\"emulator-button-highlight\");\n            }\n        },\n    };\n\n    sensors.register(row, column, {\n        activate: handler.onDown,\n        deactivate: () => { },\n    });\n\n    if (isHidden(gridConfig, row, column)) {\n        return () => {};\n    }\n\n    const button = createButton(pointerToggleControl.symbol, handler, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => layers.mouseOverlay.removeChild(button);\n}\n\nfunction createNippleActivatorControl(nippleActivatorControl: LayerNippleActivatorControl,\n                                      layers: Layers,\n                                      ci: CommandInterface,\n                                      gridConfig: GridConfiguration,\n                                      sensors: ControlSensors,\n                                      dosInstance: LayersInstance) {\n    const { cells, columnWidth, rowHeight, width, height } = gridConfig;\n    const { row, column } = nippleActivatorControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const nippleContainer = document.createElement(\"div\");\n    const cellSize = 1.5;\n    const left = Math.max(0, centerX - columnWidth * cellSize);\n    const top = Math.max(0, centerY - rowHeight * cellSize);\n    const right = Math.max(0, width - centerX - columnWidth * cellSize);\n    const bottom = Math.max(0, height - centerY - rowHeight * cellSize);\n\n    nippleContainer.style.position = \"absolute\";\n    nippleContainer.style.zIndex = \"999\";\n    nippleContainer.style.left = left + \"px\";\n    nippleContainer.style.top = top + \"px\";\n    nippleContainer.style.right = right + \"px\";\n    nippleContainer.style.bottom = bottom + \"px\";\n\n    layers.mouseOverlay.appendChild(nippleContainer);\n\n    const manager = nipplejs.create({\n        zone: nippleContainer,\n        multitouch: false,\n        maxNumberOfNipples: 1,\n        mode: \"static\",\n        follow: false,\n        dynamicPage: true,\n        size: Math.max(columnWidth, rowHeight) * 1.5,\n        position: {\n            left: (width - right - left) / 2 + \"px\",\n            top: (height - bottom - top) / 2 + \"px\",\n        },\n    });\n\n    let activeColumn = -1;\n    let activeRow = -1;\n    manager.on(\"move\", (evt: any, data: any) => {\n        if (data.distance < 10) {\n            sensors.deactivate(activeRow, activeColumn);\n            activeColumn = -1;\n            activeRow = -1;\n            return;\n        }\n        let targetColumn = -1;\n        let targetRow = -1;\n        const step = 360 / 8;\n        const half = step / 2;\n        const degree = data.angle.degree;\n        if (degree > half && degree <= half + step) {\n            // console.log(\"up-right\")\n            targetColumn = column + 1;\n            targetRow = row - 1;\n        } else if (degree > half + step && degree <= half + step * 2) {\n            // console.log(\"up\");\n            targetColumn = column;\n            targetRow = row - 1;\n        } else if (degree > half + step * 2 && degree <= half + step * 3) {\n            // console.log(\"up-left\");\n            targetColumn = column - 1;\n            targetRow = row - 1;\n        } else if (degree > half + step * 3 && degree <= half + step * 4) {\n            // console.log(\"left\");\n            targetColumn = column - 1;\n            targetRow = row;\n        } else if (degree > half + step * 4 && degree <= half + step * 5) {\n            // console.log(\"down-left\");\n            targetColumn = column - 1;\n            targetRow = row + 1;\n        } else if (degree > half + step * 5 && degree <= half + step * 6) {\n            // console.log(\"down\")\n            targetColumn = column;\n            targetRow = row + 1;\n        } else if (degree > half + step * 6 && degree <= half + step * 7) {\n            // console.log(\"down-right\");\n            targetColumn = column + 1;\n            targetRow = row + 1;\n        } else {\n            // console.log(\"right\");\n            targetColumn = column + 1;\n            targetRow = row;\n        }\n\n        if (activeColumn !== targetColumn || activeRow !== targetRow) {\n            sensors.deactivate(activeRow, activeColumn);\n            sensors.activate(targetRow, targetColumn);\n            activeColumn = targetColumn;\n            activeRow = targetRow;\n        }\n    });\n\n    let started = false;\n    manager.on(\"start\", () => {\n        started = true;\n    });\n\n    manager.on(\"end\", () => {\n        started = false;\n        sensors.deactivate(activeRow, activeColumn);\n        activeRow = -1;\n        activeColumn = -1;\n    });\n\n    const options = {\n        capture: true,\n    };\n\n    function onEnd(e: Event) {\n        if (started) {\n            (manager as any).processOnEnd(e);\n        }\n    }\n\n    for (const next of pointer.enders) {\n        layers.mouseOverlay.addEventListener(next, onEnd, options);\n    }\n\n    return () => {\n        manager.destroy();\n        layers.mouseOverlay.removeChild(nippleContainer);\n        for (const next of pointer.enders) {\n            layers.mouseOverlay.removeEventListener(next, onEnd, options);\n        }\n    };\n}\n\nfunction isHidden(config: GridConfiguration, row: number, column: number) {\n    return (config.cells[row][column] as CellWithMeta).hidden === true;\n}\n\nfunction setHiddenAround(config: GridConfiguration,\n                         centralRow: number,\n                         centralColumn: number) {\n    function setHiddenIfValid(row: number, column: number) {\n        if (row === centralRow && column === centralColumn) {\n            return;\n        }\n\n        if (row >= 0 && row < config.cells.length) {\n            const rowCells = config.cells[row];\n            if (column >= 0 && column < rowCells.length) {\n                (rowCells[column] as CellWithMeta).hidden = true;\n            }\n        }\n    }\n\n    for (let ri = centralRow - 1; ri <= centralRow + 1; ++ri) {\n        for (let ci = centralColumn - 1; ci <= centralColumn + 1; ++ci) {\n            setHiddenIfValid(ri, ci);\n        }\n    }\n}\n","import { useDispatch, useSelector, useStore } from \"react-redux\";\nimport { dosSlice, FitConstant } from \"../../store/dos\";\nimport { getState, State, Store, useNonSerializableStore } from \"../../store\";\nimport { CommandInterface } from \"emulators\";\nimport { keyboard } from \"./controls/keyboard\";\nimport { webGl as webglRender } from \"./render/webgl\";\nimport { canvas as canvasRender } from \"./render/canvas\";\nimport { audioNode } from \"./sound/audio-node\";\nimport { useEffect } from \"preact/hooks\";\nimport { mouse } from \"./controls/mouse\";\nimport { KBD_0 } from \"./controls/keys\";\nimport { uiSlice } from \"../../store/ui\";\nimport { useT } from \"../../i18n\";\nimport { Layers } from \"../../layers/dom/layers\";\nimport { LayersConfig, LegacyLayersConfig, extractLayersConfig } from \"../../layers/controls/layers-config\";\nimport { initLegacyLayersControl } from \"../../layers/controls/legacy-layers-control\";\nimport { initLayersControl } from \"../../layers/controls/layers-control\";\nimport { LayersInstance } from \"../../layers/instance\";\n\nexport function useDosRuntime(canvas: HTMLCanvasElement,\n                              ci: CommandInterface): void {\n    useLog(ci);\n    useRenderImage(canvas);\n    useStats(ci);\n    usePause(ci);\n    useKeyboard(ci);\n    useMouse(canvas, ci);\n    useLayers(canvas, ci);\n    useRenderBackend(canvas, ci);\n    useAudioBackend(ci);\n}\n\nfunction useLog(ci: CommandInterface): void {\n    const dispatch = useDispatch();\n    const t = useT();\n    useEffect(() => {\n        const preloadProgress: { [drive: string]: number } = {};\n        ci.events().onMessage((msgType, ...args: string[]) => {\n            if (msgType === \"error\" && args[0]?.startsWith(\"[panic]\")) {\n                dispatch(uiSlice.actions.showToast({\n                    message: args[0],\n                    intent: \"panic\",\n                }));\n            } else if (msgType === \"log\" && args[0]?.indexOf(\"sockdrive:\") !== -1) {\n                const drive = args[0].substring(args[0].indexOf(\" \") + 1, args[0].indexOf(\",\"));\n                dispatch(uiSlice.actions.cloudSaves(false));\n                if (args[0]?.indexOf(\"write=\") !== -1) {\n                    console.log(\"drive\", drive, \"config:\", args[0]);\n                    dispatch(dosSlice.actions.addSockdriveInfo({\n                        drive,\n                        write: args[0]?.indexOf(\"write=false\") === -1,\n                    }));\n                }\n                if (args[0]?.indexOf(\"preload=\") !== -1) {\n                    const rest = Number.parseInt(args[0].substring(args[0].indexOf(\"preload=\") + \"preload=\".length));\n                    if (preloadProgress[drive] === undefined) {\n                        preloadProgress[drive] = rest;\n                    }\n\n                    dispatch(uiSlice.actions.showToast({\n                        message: t(\"preloading_sockdrive\") + \" \" +\n                            drive.substring(drive.indexOf(\"/\") + 1) + \"  \" +\n                            (Math.round(preloadProgress[drive] - rest) / 1024 / 1024).toFixed(2) + \"/\" +\n                            (Math.round(preloadProgress[drive] / 1024 / 1024)) + \"Mb\",\n                        long: true,\n                    }));\n                }\n            }\n        });\n    }, [ci, dispatch]);\n}\n\nfunction useRenderImage(canvas: HTMLCanvasElement): void {\n    const rendering = useSelector((state: State) => state.dos.imageRendering);\n    useEffect(() => {\n        canvas.style.imageRendering = rendering === \"smooth\" ? \"auto\" : rendering;\n    }, [canvas, rendering]);\n}\n\nfunction useMouse(canvas: HTMLCanvasElement,\n                  ci: CommandInterface): void {\n    const mobileControls = useSelector((state: State) => state.dos.mobileControls);\n    const mouseCapture = useSelector((state: State) => state.dos.mouseCapture);\n    const mouseSensitivity = 0.1 + useSelector((state: State) => state.dos.mouseSensitivity) * 3;\n    useEffect(() => {\n        if (!mobileControls) {\n            return mouse(mouseCapture, mouseSensitivity, 0, canvas, ci);\n        }\n    }, [canvas, ci, mouseCapture, mouseSensitivity, mobileControls]);\n}\n\nfunction useKeyboard(ci: CommandInterface): void {\n    useEffect(() => {\n        return keyboard(window as any, ci);\n    }, [ci]);\n}\n\nfunction useRenderBackend(canvas: HTMLCanvasElement,\n                          ci: CommandInterface): void {\n    const renderBackend = useSelector((state: State) => state.dos.renderBackend);\n    const renderAspect = useSelector((state: State) => state.dos.renderAspect);\n\n    let aspect: number | undefined = undefined;\n    switch (renderAspect) {\n        case \"1/1\": aspect = 1; break;\n        case \"5/4\": aspect = 5 / 4; break;\n        case \"4/3\": aspect = 4 / 3; break;\n        case \"16/10\": aspect = 16 / 10; break;\n        case \"16/9\": aspect = 16 / 9; break;\n        case \"Fit\": aspect = FitConstant;\n        default:\n    }\n\n    useEffect(() => {\n        let unbind = () => { };\n\n        if (renderBackend === \"canvas\") {\n            unbind = canvasRender(canvas, ci, aspect);\n        } else {\n            try {\n                unbind = webglRender(canvas, ci, aspect);\n            } catch (e) {\n                console.error(\"Unalbe to start webgl render\", e);\n                unbind = canvasRender(canvas, ci, aspect);\n            }\n        }\n\n        return unbind;\n    }, [canvas, ci, renderBackend, aspect]);\n}\n\nfunction useAudioBackend(ci: CommandInterface): void {\n    const store = useStore() as Store;\n\n    useEffect(() => {\n        const unbind = audioNode(ci, (setVolume) => {\n            let volume = 1;\n\n            const updateVolumeIfNeeded = () => {\n                const newVolume = getState(store).dos.volume;\n                if (Math.abs(volume - newVolume) >= 0.05) {\n                    setVolume(newVolume);\n                    volume = newVolume;\n                }\n            };\n\n            const unsubscribe = store.subscribe(updateVolumeIfNeeded);\n            return unsubscribe;\n        });\n\n        return unbind;\n    }, [ci]);\n}\n\nfunction usePause(ci: CommandInterface): void {\n    const paused = useSelector((state: State) => state.dos.paused);\n    const documentHidden = useSelector((state: State) => state.ui.documentHidden);\n    useEffect(() => {\n        (paused || documentHidden) ? ci.pause() : ci.resume();\n    }, [paused, documentHidden, ci]);\n}\n\nfunction useStats(ci: CommandInterface): void {\n    const dispatch = useDispatch();\n    useEffect(() => {\n        let prevCycles = 0;\n        let prevNonSkippableSleepCount = 0;\n        let prevSleepCount = 0;\n        let prevSleepTime = KBD_0;\n        let prevFrame = 0;\n        let prevSound = 0;\n        let prevMsgSent = 0;\n        let prevMsgRecv = 0;\n        let intervalStartedAt = Date.now();\n        const intervalId = setInterval(() => {\n            ci.asyncifyStats().then((stats) => {\n                const dtMs = Date.now() - intervalStartedAt;\n                const dtSec = dtMs / 1000;\n                if (dtSec > 0) {\n                    const dStats = {\n                        cyclesPerMs: Math.round((stats.cycles - prevCycles) / dtMs),\n                        nonSkippableSleepPreSec: Math.round((stats.nonSkippableSleepCount -\n                            prevNonSkippableSleepCount) / dtSec),\n                        sleepPerSec: Math.round((stats.sleepCount - prevSleepCount) / dtSec),\n                        sleepTimePerSec: Math.round((stats.sleepTime - prevSleepTime) / dtSec),\n                        framePerSec: Math.round((stats.messageFrame - prevFrame) / dtSec),\n                        soundPerSec: Math.round((stats.messageSound - prevSound) / dtSec),\n                        msgSentPerSec: Math.round((stats.messageSent - prevMsgSent) / dtSec),\n                        msgRecvPerSec: Math.round((stats.messageReceived - prevMsgRecv) / dtSec),\n                        netSent: stats.netSent,\n                        netRecv: stats.netRecv,\n                        driveSent: stats.driveSent,\n                        driveRecv: stats.driveRecv,\n                        driveRecvTime: stats.driveRecvTime,\n                        driveCacheHit: stats.driveCacheHit,\n                        driveCacheMiss: stats.driveCacheMiss,\n                        driveCacheUsed: stats.driveCacheUsed,\n                        driveIo: structuredClone(stats.driveIo),\n                    };\n                    dispatch(dosSlice.actions.stats(dStats));\n\n                    prevCycles = stats.cycles;\n                    prevNonSkippableSleepCount = stats.nonSkippableSleepCount;\n                    prevSleepCount = stats.sleepCount;\n                    prevSleepTime = stats.sleepTime;\n                    prevFrame = stats.messageFrame;\n                    prevSound = stats.messageSound;\n                    prevMsgSent = stats.messageSent;\n                    prevMsgRecv = stats.messageReceived;\n                    intervalStartedAt = Date.now();\n                }\n            });\n        }, 3000);\n\n        return () => {\n            clearInterval(intervalId);\n        };\n    }, [dispatch, ci]);\n}\n\nfunction useLayers(canvas: HTMLCanvasElement, ci: CommandInterface) {\n    const nsStore = useNonSerializableStore();\n    const mouseCapture = useSelector((state: State) => state.dos.mouseCapture);\n    const mirroredControls = useSelector((state: State) => state.dos.mirroredControls);\n    const scaleControls = 1 + useSelector((state: State) => state.dos.scaleControls);\n    const mouseSensitivity = 0.1 + useSelector((state: State) => state.dos.mouseSensitivity) * 3;\n    const mobileControls = useSelector((state: State) => state.dos.mobileControls);\n    const dispatch = useDispatch();\n    let softKeyboard = useSelector((state: State) => state.dos.softKeyboard);\n    function toggleKeyboard() {\n        softKeyboard = !softKeyboard;\n        dispatch(dosSlice.actions.softKeyboard(softKeyboard));\n    }\n    useEffect(() => {\n        if (mobileControls) {\n            if (nsStore.layers === null) {\n                nsStore.layers = (async function() {\n                    const layers = new Layers(canvas.parentElement as HTMLDivElement, canvas, toggleKeyboard, {});\n                    const config = extractLayersConfig((await ci.config()).jsdosConf);\n\n                    let activeLayer: string | undefined;\n                    let layersConfig: LayersConfig | LegacyLayersConfig | null = null;\n                    let unbindControls = () => { };\n                    const instance: LayersInstance = {\n                        config,\n                        layers,\n                        autolock: mouseCapture,\n                        sensitivity: mouseSensitivity,\n                        mirroredControls,\n                        scaleControls,\n                        activeLayer: activeLayer,\n                        getActiveConfig: () => layersConfig,\n                        setActiveConfig: (config: LayersConfig | LegacyLayersConfig | null, layerName?: string) => {\n                            layersConfig = config;\n                            activeLayer = layerName;\n                            unbindControls();\n\n                            if (config === null) {\n                                unbindControls = () => { };\n                                layers.mouseOverlay.style.display = \"none\";\n                            } else if (config.version === undefined) {\n                                layers.mouseOverlay.style.display = \"block\";\n                                unbindControls = initLegacyLayersControl(instance, layers,\n                                    config as LegacyLayersConfig, ci);\n                            } else {\n                                layers.mouseOverlay.style.display = \"block\";\n                                unbindControls = initLayersControl(layers, config as LayersConfig,\n                                    ci, instance, instance.mirroredControls, instance.scaleControls,\n                                    layerName);\n                            }\n                        },\n                    };\n\n                    instance.setActiveConfig(config);\n                    return instance;\n                })();\n                nsStore.layers.catch(console.error);\n            } else {\n                nsStore.layers.then((instance) => {\n                    instance.autolock = mouseCapture;\n                    instance.sensitivity = mouseSensitivity;\n                    instance.mirroredControls = mirroredControls;\n                    instance.scaleControls = scaleControls;\n                    instance.setActiveConfig(instance.getActiveConfig() ?? instance.config, instance.activeLayer);\n                });\n            }\n        } else if (nsStore.layers !== null) {\n            nsStore.layers.then((l) => l.setActiveConfig(null));\n        }\n    }, [ci, mouseCapture, mouseSensitivity, mobileControls, mirroredControls, scaleControls]);\n};\n","import { CommandInterface } from \"emulators\";\nimport { domToKeyCode } from \"./keys\";\n\nexport function keyboard(el: HTMLElement, ci: CommandInterface) {\n    function onKeyDown(e: KeyboardEvent) {\n        if ((e.target as any).type === \"text\") {\n            return;\n        }\n        const keyCode = domToKeyCode(e.keyCode);\n        ci.sendKeyEvent(keyCode, true);\n        e.stopPropagation();\n        e.preventDefault();\n    };\n\n    function onKeyUp(e: KeyboardEvent) {\n        if ((e.target as any).type === \"text\") {\n            return;\n        }\n        const keyCode = domToKeyCode(e.keyCode);\n        ci.sendKeyEvent(keyCode, false);\n        e.stopPropagation();\n        e.preventDefault();\n    };\n\n    el.addEventListener(\"keydown\", onKeyDown);\n    el.addEventListener(\"keyup\", onKeyUp);\n\n    return () => {\n        el.removeEventListener(\"keydown\", onKeyDown);\n        el.removeEventListener(\"keyup\", onKeyUp);\n    };\n}\n","import { CommandInterface } from \"emulators\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { useSelector } from \"react-redux\";\nimport { State } from \"../../store\";\n\nexport const dhry2Bundle = \"/b4b5275904d86a4ab8a20917b2b7e34f0df47bf7.jsdos\";\n\nexport function Dhry2Results(props: { ci: CommandInterface }) {\n    const ci = props.ci;\n    const backend = useSelector((state: State) => state.dos.backend);\n    const worker = useSelector((state: State) => state.dos.worker);\n\n    const [results, setResults] = useState<{\n        runs: number,\n        time: number,\n        vax: number,\n        pc: string | null,\n    }>({\n        runs: 0,\n        time: 0,\n        vax: 0,\n        pc: null,\n    });\n\n    const [stats, setStats] = useState<{sleepPerSec: number, cyclesPerMs: number}>({\n        sleepPerSec: 0,\n        cyclesPerMs: 0,\n    });\n\n    useEffect(() => {\n        const listeners: ((message: string) => void)[] = [];\n\n        ci.events().onStdout((message: string) => {\n            for (const next of listeners) {\n                next(message);\n            }\n        });\n\n        const oldStdoutFn = ci.events().onStdout;\n        ci.events().onStdout = (fn: (message: string) => void) => {\n            listeners.push(fn);\n        };\n\n        // listen program outpus for `~>dtime` marker\n        let startedAt = Date.now();\n        let prevSleepCount = 0;\n        let prevCycles = 0;\n        ci.events().onStdout((message) => {\n            if (!message.startsWith(\"dhry2:\")) {\n                return;\n            }\n\n            ci.asyncifyStats().then((stats) => {\n                const dt = Date.now() - startedAt;\n                setStats({\n                    sleepPerSec: Math.round((stats.sleepCount - prevSleepCount) * 1000 / dt),\n                    cyclesPerMs: Math.round((stats.cycles - prevCycles) / dt),\n                });\n                startedAt = Date.now();\n                prevSleepCount = stats.sleepCount;\n                prevCycles = stats.cycles;\n            });\n\n            // eslint-disable-next-line\n            const [_, runsStr, deltaStr, vaxRatingStr] = message.split(\" \");\n            const runs = Number.parseInt(runsStr);\n            const delta = Number.parseFloat(deltaStr);\n            const vaxRating = Number.parseFloat(vaxRatingStr);\n\n            if (delta >= 5000) {\n                setResults({\n                    runs,\n                    time: Math.round(delta * 10) / 10,\n                    vax: Math.round(vaxRating * 100) / 100,\n                    pc: getComparablePc(vaxRating),\n                });\n            } else {\n                setResults({\n                    runs,\n                    time: Math.round(delta * 10) / 10,\n                    vax: Math.round(vaxRating * 100) / 100,\n                    pc: null,\n                });\n            }\n        });\n\n        return () => {\n            ci.events().onStdout = oldStdoutFn;\n        };\n    }, [ci]);\n\n    return <div class=\"dhry2-window\">\n        <div class=\"title\">Dhrystone 2 Benchmark</div>\n        <div class=\"backend\">Backend: {backend + \"-\" + (worker ? \"worker\" : \"direct\")}</div>\n        <div class=\"results\">\n            <div>VAX:</div>\n            <div>{results.vax}</div>\n            <div>Cycles p/ms:</div>\n            <div>{stats.cyclesPerMs}</div>\n            <div>Sleep p/sec:</div>\n            <div>{stats.sleepPerSec}</div>\n            <div>Runs:</div>\n            <div>{results.runs}</div>\n            <div>Time:</div>\n            <div>{results.time} <span>ms</span></div>\n            {results.pc !== null && <div>PC:</div>}\n            {results.pc !== null && <div>{results.pc ?? \"...\"}</div>}\n        </div>\n    </div>;\n}\n\n\nfunction getComparablePc(vax: number): string {\n    let index = 0;\n    while ((index * 2 + 1) < results.length) {\n        if (results[index * 2 + 1] as number >= vax) {\n            break;\n        }\n\n        index++;\n    }\n\n    index = Math.min((results.length / 2 - 1), index);\n    return (results[index * 2] + \"\").trim();\n}\n\n// Reuslts from\n// http://www.roylongbottom.org.uk/dhrystone%20results.htm\nconst results = [\n    \"AMD 80386 40MHz\", 13.7,\n    \"IBM 486D2 50MHz\", 22.4,\n    \"80486 DX2 66MHz\", 35.3,\n    \"IBM 486BL 100MHz\", 40.9,\n    \"AMD 5X86 133MHz\", 84.5,\n    \"Pentium 75MHz\", 87.1,\n    \"Cyrix P150 120MHz\", 160,\n    \"Pentium 100MHz\", 122,\n    \"Cyrix PP166 133MHz\", 180,\n    \"IBM 6x86 150MHz\", 188,\n    \"Pentium 133MHz\", 181,\n    \"Pentium 166MHz\", 189,\n    \"Cyrix PR233 188MHz\", 232,\n    \"Pentium 200MHz\", 269,\n    \"Pentium MMX 200MHz\", 276,\n    \"AMD K6 200MHz\", 289,\n    \"Pentium Pro 200MHz\", 312,\n    \"Celeron A 300MHz\", 484,\n    \"Pentium II 300MHz\", 477,\n    \"AMD K62 500MHz\", 606,\n    \"AMD K63 450MHz\", 645,\n    \"Pentium II 450MHz\", 713,\n    \"Celeron A 450MHz\", 720,\n    \"Pentium III 450MHz\", 722,\n    \"Pentium III 600MHz\", 959,\n    \"Athlon 600MHz\", 942,\n    \"Duron 600MHz\", 999,\n    \"Pentium III 1000MHz\", 1595,\n    \"PIII Tualatin 1200MHz\", 1907,\n    \"Pentium 4 1700MHz\", 1843,\n    \"Athlon Tbird 1000MHz\", 1659,\n    \"Duron 1000MHz\", 1674,\n    \"Celeron M 1295MHz\", 2273,\n    \"Atom 1600MHz\", 1828,\n    \"Pentium 4 1900MHz\", 2003,\n    \"Atom 1666MHz\", 1948,\n    \"P4 Xeon 2200MHz\", 2265,\n    \"Atom Z8300 1840MHz\", 2686,\n    \"Athlon 4 1600MHz\", 2830,\n    \"Pentium M 1862MHz\", 3933,\n    \"Ath4 Barton 1800MHz\", 3172,\n    \"Pentium 4E 3000MHz\", 3553,\n    \"Athlon XP 2080MHz\", 3700,\n    \"Turion 64 M 1900MHz\", 3742,\n    \"Pentium 4 3066MHz\", 4012,\n    \"Opteron 1991MHz\", 3985,\n    \"Core 2 Duo M 1830MHz\", 4952,\n    \"Athlon XP 2338MHz\", 4160,\n    \"Athlon 64 2150MHz\", 4288,\n    \"Pentium 4 3678MHz\", 4227,\n    \"Athlon 64 2211MHz\", 4462,\n    \"Celeron C2 M 2000MHz\", 5275,\n    \"Core 2 Duo 1 CP 2400MHz\", 6446,\n    \"Core i5 2467M 2300MHz\", 4752,\n    \"Phenom II 1 CP 3000MHz\", 7615,\n    \"Core i7 930 3066MHz\", 8684,\n    \"Core i7 860 3460MHz\", 9978,\n    \"Core i7 3930K 3800MHz\", 11197,\n    \"Core i7 4820K 3900MHz\", 11867,\n    \"Core i7 4820K 3900MHz\", 11978,\n    \"Core i7 3930K\", 13877,\n];\n","/* eslint-disable */\n\n// This code is from https://github.com/rsms/js-lru\n\n/**\n * A doubly linked list-based Least Recently Used (LRU) cache. Will keep most\n * recently used items while discarding least recently used items when its limit\n * is reached.\n *\n * Licensed under MIT. Copyright (c) 2010 Rasmus Andersson <http://hunch.se/>\n * See README.md for details.\n *\n * Illustration of the design:\n *\n *       entry             entry             entry             entry\n *       ______            ______            ______            ______\n *      | head |.newer => |      |.newer => |      |.newer => | tail |\n *      |  A   |          |  B   |          |  C   |          |  D   |\n *      |______| <= older.|______| <= older.|______| <= older.|______|\n *\n *  removed  <--  <--  <--  <--  <--  <--  <--  <--  <--  <--  <--  added\n */\nconst NEWER = Symbol(\"newer\");\nconst OLDER = Symbol(\"older\");\n\nexport class LRUMap {\n    size: number;\n    limit: number;\n    newest: any;\n    oldest: any;\n    _keymap: Map<any, any>;\n\n    constructor(limit: number, entries?: any) {\n        if (typeof limit !== \"number\") {\n            // called as (entries)\n            entries = limit;\n            limit = 0;\n        }\n\n        this.size = 0;\n        this.limit = limit;\n        this.oldest = this.newest = undefined;\n        this._keymap = new Map();\n\n        if (entries) {\n            this.assign(entries);\n            if (limit < 1) {\n                this.limit = this.size;\n            }\n        }\n    }\n\n    _markEntryAsUsed(entry: any) {\n        if (entry === this.newest) {\n            // Already the most recenlty used entry, so no need to update the list\n            return;\n        }\n        // HEAD--------------TAIL\n        //   <.older   .newer>\n        //  <--- add direction --\n        //   A  B  C  <D>  E\n        if (entry[NEWER]) {\n            if (entry === this.oldest) {\n                this.oldest = entry[NEWER];\n            }\n            entry[NEWER][OLDER] = entry[OLDER]; // C <-- E.\n        }\n        if (entry[OLDER]) {\n            entry[OLDER][NEWER] = entry[NEWER]; // C. --> E\n        }\n        entry[NEWER] = undefined; // D --x\n        entry[OLDER] = this.newest; // D. --> E\n        if (this.newest) {\n            this.newest[NEWER] = entry; // E. <-- D\n        }\n        this.newest = entry;\n    }\n\n    assign(entries: any) {\n        let entry; let limit = this.limit || Number.MAX_VALUE;\n        this._keymap.clear();\n        const it = entries[Symbol.iterator]();\n        for (let itv = it.next(); !itv.done; itv = it.next()) {\n            const e = new (Entry as any)(itv.value[0], itv.value[1]);\n            this._keymap.set(e.key, e);\n            if (!entry) {\n                this.oldest = e;\n            } else {\n                entry[NEWER] = e;\n                e[OLDER] = entry;\n            }\n            entry = e;\n            if (limit-- == 0) {\n                throw new Error(\"overflow\");\n            }\n        }\n        this.newest = entry;\n        this.size = this._keymap.size;\n    }\n\n    get(key: any) {\n        // First, find our cache entry\n        const entry = this._keymap.get(key);\n        if (!entry) return; // Not cached. Sorry.\n        // As <key> was found in the cache, register it as being requested recently\n        this._markEntryAsUsed(entry);\n        return entry.value;\n    }\n\n    set(key: any, value: any) {\n        let entry = this._keymap.get(key);\n\n        if (entry) {\n            // update existing\n            entry.value = value;\n            this._markEntryAsUsed(entry);\n            return this;\n        }\n\n        // new entry\n        this._keymap.set(key, (entry = new (Entry as any)(key, value)));\n\n        if (this.newest) {\n            // link previous tail to the new tail (entry)\n            this.newest[NEWER] = entry;\n            entry[OLDER] = this.newest;\n        } else {\n            // we're first in -- yay\n            this.oldest = entry;\n        }\n\n        // add new entry to the end of the linked list -- it's now the freshest entry.\n        this.newest = entry;\n        ++this.size;\n        if (this.size > this.limit) {\n            // we hit the limit -- remove the head\n            this.shift();\n        }\n\n        return this;\n    }\n\n    shift() {\n        // todo: handle special case when limit == 1\n        const entry = this.oldest;\n        if (entry) {\n            if (this.oldest[NEWER]) {\n                // advance the list\n                this.oldest = this.oldest[NEWER];\n                this.oldest[OLDER] = undefined;\n            } else {\n                // the cache is exhausted\n                this.oldest = undefined;\n                this.newest = undefined;\n            }\n            // Remove last strong reference to <entry> and remove links from the purged\n            // entry being returned:\n            entry[NEWER] = entry[OLDER] = undefined;\n            this._keymap.delete(entry.key);\n            --this.size;\n            return [entry.key, entry.value];\n        }\n    }\n}\n\nfunction Entry(this: any, key: any, value: any) {\n    this.key = key;\n    this.value = value;\n    this[NEWER] = undefined;\n    this[OLDER] = undefined;\n}\n\n\nfunction EntryIterator(this: any, oldestEntry: any) {\n    this.entry = oldestEntry;\n}\nEntryIterator.prototype[Symbol.iterator] = function () {\n    return this;\n};\nEntryIterator.prototype.next = function () {\n    const ent = this.entry;\n    if (ent) {\n        this.entry = ent[NEWER];\n        return { done: false, value: [ent.key, ent.value] };\n    } else {\n        return { done: true, value: undefined };\n    }\n};\n\n\nfunction KeyIterator(this: any, oldestEntry: any) {\n    this.entry = oldestEntry;\n}\nKeyIterator.prototype[Symbol.iterator] = function () {\n    return this;\n};\nKeyIterator.prototype.next = function () {\n    const ent = this.entry;\n    if (ent) {\n        this.entry = ent[NEWER];\n        return { done: false, value: ent.key };\n    } else {\n        return { done: true, value: undefined };\n    }\n};\n\nfunction ValueIterator(this: any, oldestEntry: any) {\n    this.entry = oldestEntry;\n}\nValueIterator.prototype[Symbol.iterator] = function () {\n    return this;\n};\nValueIterator.prototype.next = function () {\n    const ent = this.entry;\n    if (ent) {\n        this.entry = ent[NEWER];\n        return { done: false, value: ent.value };\n    } else {\n        return { done: true, value: undefined };\n    }\n};\n","import { LRUMap } from \"./lru\";\n\nexport interface Cache {\n    read(sector: number, originReadMode: boolean): Uint8Array | null;\n    write(sector: number, buffer: Uint8Array): boolean;\n    create(origin: number, buffer: Uint8Array): void;\n    getOrigin(sector: number): number;\n    memUsed(): number;\n}\n\nexport class BlockCache implements Cache {\n    aheadRange: number;\n    sectorSize: number;\n    lru: LRUMap;\n\n    constructor(sectorSize: number, aheadRange: number, memoryLimit: number) {\n        this.aheadRange = aheadRange;\n        this.sectorSize = sectorSize;\n        this.lru = new LRUMap(Math.floor(memoryLimit / (aheadRange * sectorSize)));\n    }\n\n    public read(sector: number, originReadMode: boolean): Uint8Array | null {\n        const origin = this.getOrigin(sector);\n        const cached = this.lru.get(origin) as Uint8Array;\n        if (cached) {\n            if (originReadMode) {\n                return cached;\n            } else {\n                const offset = sector - origin;\n                return cached.slice(offset * this.sectorSize, (offset + 1) * this.sectorSize);\n            }\n        }\n        return null;\n    }\n\n    public write(sector: number, buffer: Uint8Array) {\n        const origin = this.getOrigin(sector);\n        const cached = this.lru.get(origin);\n        if (cached) {\n            cached.set(buffer, (sector - origin) * this.sectorSize);\n        }\n        return cached !== undefined;\n    }\n\n    public create(origin: number, buffer: Uint8Array) {\n        this.lru.set(origin, buffer.slice(0));\n    }\n\n    public getOrigin(sector: number) {\n        return sector - sector % this.aheadRange;\n    }\n\n    public memUsed() {\n        return this.lru.size * this.aheadRange * this.sectorSize;\n    }\n}\n","import { EmModule, Ptr, Stats } from \"./types\";\nimport { BlockCache, Cache } from \"./cache\";\n\nconst MAX_FRAME_SIZE = 1 * 1024 * 1024;\nconst MEMORY_LIMIT = 64 * 1024 * 1024;\nconst preloadPriority: Drive[] = [];\n\ninterface Request {\n    type: 1 | 2, // read | write\n    sectors: number[],\n    buffer: Ptr | Uint8Array,\n    resolve: (result: number) => void,\n}\n\nexport function getPreloadPriority() {\n    return preloadPriority;\n}\n\nexport class Drive {\n    module: EmModule;\n    sectorSize: number;\n    endpoint: string;\n    owner: string;\n    drive: string;\n    token: string;\n    stats: Stats;\n\n    socket: Promise<WebSocket> = Promise.resolve(null as any);\n    request: Request | null;\n    pendingRequest: Request | null;\n\n    aheadRange: number = 0;\n    aheadSize: number = 0;\n    writeBuffer: Uint8Array;\n\n    maxRead: number = 0;\n    readBuffer: Uint8Array = new Uint8Array(0);\n    readAheadBuffer: Uint8Array = new Uint8Array(0);\n    readAheadPos = 0;\n    readAheadCompressed = 0;\n    readStartedAt: number = 0;\n    decodeBuffer: Uint8Array = new Uint8Array(0);\n\n    cache: Cache | null = null;\n    cleanup = () => {/**/};\n\n    openFn = (read: boolean, write: boolean, size: number, preloadQueue: number[],\n        aheadRange: number) => {/**/};\n    preloadProgressFn = (restBytes: number) => {/**/};\n    errorFn = (e: Error) => {/**/};\n\n    preloadSectors: boolean;\n    preloadQueue: number[] = [];\n\n    originReadMode: boolean;\n    readOnly = false;\n    alive = true;\n\n    public constructor(endpoint: string,\n        owner: string,\n        drive: string,\n        token: string,\n        stats: Stats,\n        module: EmModule,\n        preloadSectors = true,\n        originReadMode = false) {\n        this.sectorSize = 512;\n        this.module = module;\n        this.endpoint = endpoint;\n        this.owner = owner;\n        this.drive = drive;\n        this.token = token;\n        this.request = null;\n        this.pendingRequest = null;\n        this.writeBuffer = new Uint8Array(1 + 4 + this.sectorSize);\n        this.stats = stats;\n        this.preloadSectors = preloadSectors;\n        this.originReadMode = originReadMode;\n\n        this.reconnect();\n    }\n\n    public onError(errorFn: (e: Error) => void) {\n        this.errorFn = errorFn;\n    }\n\n    public onOpen(openFn: (read: boolean, write: boolean, imageSize: number,\n        preloadQueue: number[], aheadRange: number) => void) {\n        this.openFn = openFn;\n    }\n\n    public onPreloadProgress(progressFn: (restBytes: number) => void) {\n        this.preloadProgressFn = progressFn;\n    }\n\n    public reconnect(): void {\n        if (!this.alive) {\n            return;\n        }\n\n        this.socket = new Promise<WebSocket>((resolve, reject) => {\n            const socket = new WebSocket(this.endpoint);\n            socket.binaryType = \"arraybuffer\";\n            const onMessage = this.onMessage.bind(this);\n            const onOpen = () => {\n                const onInit = (event: { data: string }) => {\n                    socket.removeEventListener(\"message\", onInit);\n                    if (event.data.startsWith(\"write\") || event.data.startsWith(\"read\")) {\n                        const [mode, aheadRangeStr, sizeStr] = event.data.split(\",\");\n                        const aheadRange = Number.parseInt(aheadRangeStr);\n                        this.aheadRange = aheadRange;\n                        this.aheadSize = aheadRange * this.sectorSize;\n                        this.maxRead = Math.floor(MAX_FRAME_SIZE / this.aheadSize);\n\n                        const decodeBufferSize = this.aheadSize * this.maxRead;\n                        this.readBuffer = new Uint8Array(1 + 4 + this.maxRead * 4);\n                        this.readAheadBuffer = new Uint8Array(decodeBufferSize);\n                        this.decodeBuffer = new Uint8Array(decodeBufferSize);\n                        this.cache = new BlockCache(this.sectorSize, aheadRange, MEMORY_LIMIT);\n\n                        let preloadLength = 0;\n                        let preloadPos = 0;\n                        let preload: Uint8Array = new Uint8Array(0);\n                        const onPreloadMessage = (event: { data: ArrayBuffer }) => {\n                            let data = new Uint8Array(event.data);\n                            if (preloadLength === 0) {\n                                preloadLength = data[0] + (data[1] << 8) + (data[2] << 16) + (data[3] << 24);\n                                preload = new Uint8Array(preloadLength - 4);\n                                data = data.slice(4);\n                            }\n\n                            if (preloadPos < preloadLength) {\n                                preload.set(data, preloadPos);\n                                preloadPos += data.length;\n                            }\n\n                            if (preloadPos > preload.length) {\n                                const error = new Error(\"Preload buffer is bigger then expected\");\n                                this.errorFn(error);\n                                reject(error);\n                            } else if (preloadPos == preload.length) {\n                                this.preloadQueue = [];\n                                if (this.preloadSectors) {\n                                    for (let i = 0; i < preload.length; i += 4) {\n                                        this.preloadQueue.push(preload[i] + (preload[i + 1] << 8) +\n                                            (preload[i + 2] << 16) + (preload[i + 3] << 24));\n                                    }\n                                    preloadPriority.push(this);\n                                }\n                                socket.removeEventListener(\"message\", onPreloadMessage);\n                                socket.addEventListener(\"message\", onMessage);\n                                this.readOnly = mode !== \"write\";\n                                this.openFn(true, !this.readOnly,\n                                    (Number.parseInt(sizeStr) ?? 2 * 1024 * 1024) * 1024,\n                                    this.preloadQueue,\n                                    aheadRange);\n\n                                this.onOpen = () => {};\n                                this.errorFn = () => {};\n                                this.preloadSectors = false;\n                                resolve(socket);\n\n                                if (this.preloadQueue.length > 0) {\n                                    if (this.preloadQueue.length * this.aheadSize > MEMORY_LIMIT) {\n                                        console.log(\"WARN! preloadQueue size is bigger then allowed\",\n                                            this.preloadQueue.length * this.aheadSize / 1024 / 1024, \">\",\n                                            MEMORY_LIMIT / 1024 / 1024);\n                                        this.preloadQueue = this.preloadQueue\n                                            .slice(0, Math.floor(MEMORY_LIMIT / this.aheadSize));\n                                    }\n\n                                    this.makePreloadRequest();\n                                }\n                            }\n                        };\n                        socket.addEventListener(\"message\", onPreloadMessage);\n                    } else {\n                        const error = new Error(event.data ?? \"Unable to establish connection\");\n                        this.errorFn(error);\n                        reject(error);\n                    }\n                };\n                socket.addEventListener(\"message\", onInit);\n                socket.addEventListener(\"close\", () => {\n                    for (let i = 0; i < preloadPriority.length; ++i) {\n                        if (preloadPriority[i] === this) {\n                            preloadPriority.splice(i, 1);\n                            break;\n                        }\n                    }\n                });\n                socket.send(this.owner + \"&\" + this.drive + \"&\" + this.token);\n            };\n            const onError = (e: Event) => {\n                console.error(\"Network error\", e, \"will reconnect\");\n                cleanup();\n                socket.close();\n                setTimeout(this.reconnect.bind(this), 300);\n            };\n            socket.addEventListener(\"error\", onError);\n            socket.addEventListener(\"open\", onOpen);\n            const cleanup = function() {\n                socket.removeEventListener(\"message\", onMessage);\n                socket.removeEventListener(\"open\", onOpen);\n                socket.removeEventListener(\"error\", onError);\n            };\n            this.cleanup = cleanup;\n        });\n\n        if (this.request !== null) {\n            this.executeRequest(this.request);\n        }\n    }\n\n    private makePreloadRequest() {\n        if (this.request === null && this.preloadQueue.length > 0 &&\n            preloadPriority.length > 0 && preloadPriority[0] === this) {\n            this.request = this.makeReadRequest(this.preloadQueue.shift()!);\n            this.executeRequest(this.request);\n        }\n    }\n\n    private makeReadRequest(sector: number, buffer: number = -1, resolve: (res: number) => void = () => { }): Request {\n        const sectors: number[] = [sector];\n        if (this.preloadQueue.length > 0) {\n            if (preloadPriority[0] === this) {\n                this.preloadProgressFn(this.preloadQueue.length * this.aheadSize);\n                while (this.preloadQueue.length > 0 && sectors.length < this.maxRead) {\n                    const preload = this.preloadQueue.shift()!;\n                    if (preload !== sector) {\n                        sectors.push(preload);\n                    }\n                }\n            }\n            for (let i = 0; i < this.preloadQueue.length; ++i) {\n                if (this.preloadQueue[i] == sector) {\n                    this.preloadQueue.splice(i, 1);\n                    break;\n                }\n            }\n            if (this.preloadQueue.length === 0) {\n                let i = 0;\n                for (;i < preloadPriority.length; ++i) {\n                    if (preloadPriority[i] === this) {\n                        preloadPriority.splice(i, 1);\n                        break;\n                    }\n                }\n                if (i == 0 && preloadPriority.length > 0) {\n                    preloadPriority[0].makePreloadRequest();\n                }\n            }\n        }\n        return {\n            type: 1,\n            sectors,\n            buffer,\n            resolve,\n        };\n    }\n\n    public read(sector: number, buffer: Ptr, sync: boolean): Promise<number> | number {\n        const cached = this.cache!.read(sector, this.originReadMode);\n        if (cached !== null) {\n            this.stats.cacheHit++;\n            this.module.HEAPU8.set(cached, buffer);\n            return sync ? 0 : Promise.resolve(0);\n        } else if (sync) {\n            return 255;\n        } else {\n            return new Promise<number>((resolve) => {\n                this.stats.cacheMiss++;\n\n                const request: Request = this.makeReadRequest(sector, buffer, resolve);\n                if (this.request !== null) {\n                    if (this.pendingRequest === null) {\n                        this.pendingRequest = request;\n                    } else {\n                        console.error(\"New read request while old one is still processed\");\n                        resolve(3);\n                    }\n                } else {\n                    this.request = request;\n                    this.executeRequest(this.request);\n                }\n            });\n        }\n    }\n\n    public write(sector: number, buffer: Ptr): number {\n        const request: Request = {\n            type: 2,\n            sectors: [sector],\n            buffer: this.module.HEAPU8.slice(buffer, buffer + this.sectorSize),\n            resolve: () => {/**/},\n        };\n        this.cache!.write(sector, request.buffer as Uint8Array);\n        this.executeRequest(request);\n        return 0;\n    }\n\n    public async close() {\n        this.alive = false;\n        const socket = await this.socket;\n        await new Promise<void>((resolve) => {\n            const intervalId = setInterval(() => {\n                if (socket.bufferedAmount === 0) {\n                    clearInterval(intervalId);\n                    resolve();\n                }\n            }, 32);\n        });\n        this.cleanup();\n        socket.close();\n    }\n\n    private executeRequest(request: Request) {\n        this.socket.then(async (socket) => {\n            if (socket.readyState === WebSocket.CLOSED || socket.readyState === WebSocket.CLOSING) {\n                if (!this.alive) {\n                    console.error(\"Trying to read from closed drive\", this.drive);\n                    request.resolve(4);\n                    return;\n                } else {\n                    console.error(\"Drive connection to '\" + this.owner + \"/\" + this.drive +\n                        \"' was closed, trying to reconnect...\");\n                    this.preloadQueue = [];\n                    this.reconnect();\n                    socket = await this.socket;\n                }\n            }\n\n            if (request.type === 1) {\n                const { sectors } = request;\n                this.readStartedAt = Date.now();\n                this.readAheadPos = 0;\n                this.readAheadCompressed = 0;\n                this.readBuffer[0] = 1; // read\n                this.readBuffer[1] = sectors.length & 0xFF;\n                this.readBuffer[2] = (sectors.length >> 8) & 0xFF;\n                this.readBuffer[3] = (sectors.length >> 16) & 0xFF;\n                this.readBuffer[4] = (sectors.length >> 24) & 0xFF;\n\n                for (let i = 0; i < sectors.length; ++i) {\n                    const origin = this.cache!.getOrigin(sectors[i]);\n\n                    if (i > 0 && origin !== sectors[i]) {\n                        console.error(\"Assertion failed orign should equal to sector\", origin, sectors[i]);\n                        request.resolve(5);\n                        return;\n                    }\n\n                    this.readBuffer[5 + i * 4] = origin & 0xFF;\n                    this.readBuffer[5 + i * 4 + 1] = (origin >> 8) & 0xFF;\n                    this.readBuffer[5 + i * 4 + 2] = (origin >> 16) & 0xFF;\n                    this.readBuffer[5 + i * 4 + 3] = (origin >> 24) & 0xFF;\n                }\n                socket.send(this.readBuffer.slice(0, sectors.length * 4 + 5).buffer);\n            } else if (this.readOnly) {\n                request.resolve(0);\n            } else {\n                const { sectors, buffer, resolve } = request;\n                this.stats.write += this.sectorSize;\n                this.writeBuffer[0] = 2; // write\n                this.writeBuffer[1] = sectors[0] & 0xFF;\n                this.writeBuffer[2] = (sectors[0] >> 8) & 0xFF;\n                this.writeBuffer[3] = (sectors[0] >> 16) & 0xFF;\n                this.writeBuffer[4] = (sectors[0] >> 24) & 0xFF;\n                // TBD: maybe do not copy and send just slice ???\n                this.writeBuffer.set(buffer as Uint8Array, 5);\n                socket.send(this.writeBuffer.buffer);\n                resolve(0);\n            }\n        }).catch(console.error);\n    }\n\n    public onMessage(event: { data: ArrayBuffer }) {\n        if (this.request === null) {\n            console.error(\"Received message without request\");\n            this.reconnect();\n        } else if (this.request.type === 2) {\n            console.error(\"Received read payload while write request\");\n            this.reconnect();\n        } else if (event.data instanceof ArrayBuffer) {\n            let data = new Uint8Array(event.data);\n            if (this.readAheadCompressed === 0) {\n                this.readAheadCompressed = data[0] + (data[1] << 8) + (data[2] << 16) + (data[3] << 24);\n                data = data.slice(4);\n            }\n\n            const { sectors, buffer, resolve } = this.request;\n            const restLength = this.readAheadCompressed - this.readAheadPos;\n            if (data.byteLength > restLength || restLength < 0) {\n                console.error(\"wrong read payload length \" + data.byteLength + \" instead of \" + restLength);\n                resolve(3);\n            } else {\n                this.readAheadBuffer.set(data, this.readAheadPos);\n                this.readAheadPos += data.byteLength;\n                const expectedSize = this.aheadSize * sectors.length;\n\n                if (this.readAheadPos == this.readAheadCompressed) {\n                    let decodeResult = expectedSize;\n                    if (this.readAheadCompressed < expectedSize) {\n                        const result = decodeLz4(this.readAheadBuffer, this.decodeBuffer, 0, this.readAheadCompressed);\n                        if (result < 0) {\n                            decodeResult = result;\n                        } else {\n                            this.readAheadBuffer.set(this.decodeBuffer.slice(0, expectedSize), 0);\n                        }\n                    }\n\n                    if (decodeResult != expectedSize) {\n                        console.error(\"wrong decode result \" + decodeResult + \" should be \" + expectedSize);\n                        resolve(4);\n                    } else {\n                        for (let i = 0; i < sectors.length; ++i) {\n                            const aheadOffset = i * this.aheadSize;\n                            const sector = sectors[i];\n                            const origin = this.cache!.getOrigin(sector);\n                            this.cache!.create(origin,\n                                this.readAheadBuffer.slice(aheadOffset, aheadOffset + this.aheadSize));\n                            if (i == 0 && buffer as number >= 0) {\n                                if (this.originReadMode && sector !== origin) {\n                                    throw new Error(\"Sector must be one of origins in originReadMode\");\n                                }\n                                const offset = sector - origin;\n                                // aheadOffset is zero\n                                const from = offset * this.sectorSize;\n                                this.module.HEAPU8.set(this.readAheadBuffer\n                                    .slice(from, from + (this.originReadMode ? this.aheadRange : 1) * this.sectorSize),\n                                    buffer as number);\n                            }\n                        }\n\n                        this.stats.cacheUsed = this.cache!.memUsed();\n                        this.stats.read += this.readAheadCompressed;\n                        this.stats.readTotalTime += Date.now() - this.readStartedAt;\n                        this.request = null;\n                        resolve(0);\n\n                        if (this.pendingRequest !== null) {\n                            this.request = this.pendingRequest;\n                            this.pendingRequest = null;\n                            this.executeRequest(this.request);\n                        } else {\n                            this.makePreloadRequest();\n                        }\n                    }\n                }\n            }\n        } else {\n            console.error(\"Received non arraybuffer data\");\n            this.reconnect();\n        }\n    }\n\n    public currentSocket() {\n        return this.socket;\n    }\n}\n\n/**\n * Decode a block. Assumptions: input contains all sequences of a\n * chunk, output is large enough to receive the decoded data.\n * If the output buffer is too small, an error will be thrown.\n * If the returned value is negative, an error occured at the returned offset.\n *\n * @param {ArrayBufferView} input input data\n * @param {ArrayBufferView} output output data\n * @param {number=} sIdx\n * @param {number=} eIdx\n * @return {number} number of decoded bytes\n * @private\n */\nfunction decodeLz4(input: Uint8Array, output: Uint8Array, sIdx: number, eIdx: number) {\n    sIdx = sIdx || 0;\n    eIdx = eIdx || (input.length - sIdx);\n    // Process each sequence in the incoming data\n    let i; let n; let j;\n    for (i = sIdx, n = eIdx, j = 0; i < n;) {\n        const token = input[i++];\n\n        // Literals\n        let literalsLength = (token >> 4);\n        if (literalsLength > 0) {\n            // length of literals\n            let l = literalsLength + 240;\n            while (l === 255) {\n                l = input[i++];\n                literalsLength += l;\n            }\n\n            // Copy the literals\n            const end = i + literalsLength;\n            while (i < end) output[j++] = input[i++];\n\n            // End of buffer?\n            if (i === n) return j;\n        }\n\n        // Match copy\n        // 2 bytes offset (little endian)\n        const offset = input[i++] | (input[i++] << 8);\n\n        // XXX 0 is an invalid offset value\n        if (offset === 0) return j;\n        if (offset > j) return -(i - 2);\n\n        // length of match copy\n        let matchLength = (token & 0xf);\n        let l = matchLength + 240;\n        while (l === 255) {\n            l = input[i++];\n            matchLength += l;\n        }\n\n        // Copy the match\n        let pos = j - offset; // position of the match copy in the current output\n        const end = j + matchLength + 4; // minmatch = 4\n        while (j < end) output[j++] = output[pos++];\n    }\n\n    return j;\n};\n","import {\n    TransportLayer, ClientMessage, MessageHandler,\n    ServerMessage, DataChunk, FsNode,\n} from \"emulators/dist/types/protocol/protocol\";\n\nimport { createSockdrive } from \"./ws-sockdrive\";\n\nconst sockdriveConfirmWrite = false;\n\nexport interface Hardware {\n    readConfig(): string;\n    sendMessage(payload: string): void;\n    addKey(key: number, pressed: number, timeMs: number): void;\n    mouseMove(x: number, y: number, relative: boolean, timeMs: number): void;\n    mouseButton(button: number, pressed: number, timeMs: number): void;\n    getFramePayload(): string;\n\n    createFile(path: string): string;\n    appendFile(blob: string): string;\n    writeFile(path: string): string;\n    closeFile(): string;\n}\n\nconst textDecoder = new TextDecoder();\nconst textEncoder = new TextEncoder();\nconst fMultiplier = 200000000;\n\n// eslint-disable-next-line max-len\nconst clientMessageValues: ClientMessage[] = [\n    \"wc-install\", \"wc-run\", \"wc-pack-fs-to-bundle\", \"wc-add-key\", \"wc-mouse-move\", \"wc-mouse-button\", \"wc-mouse-sync\",\n    \"wc-exit\", \"wc-sync-sleep\", \"wc-pause\", \"wc-resume\", \"wc-mute\", \"wc-unmute\", \"wc-connect\", \"wc-disconnect\",\n    \"wc-backend-event\", \"wc-asyncify-stats\", \"wc-fs-tree\", \"wc-fs-get-file\", \"wc-send-data-chunk\",\n    \"wc-net-connected\", \"wc-net-received\",\n];\nconst clientMessageEnum: { [msg: string]: number } = {};\nclientMessageValues.forEach((v, i) => clientMessageEnum[v] = i);\n\nconst serverMessageValues: ServerMessage[] = [\n    \"ws-extract-progress\", \"ws-ready\", \"ws-server-ready\", \"ws-frame-set-size\",\n    \"ws-update-lines\", \"ws-log\", \"ws-warn\", \"ws-err\",\n    \"ws-stdout\", \"ws-exit\", \"ws-persist\", \"ws-sound-init\", \"ws-sound-push\",\n    \"ws-config\", \"ws-sync-sleep\", \"ws-connected\", \"ws-disconnected\",\n    \"ws-asyncify-stats\", \"ws-fs-tree\", \"ws-send-data-chunk\",\n    \"ws-net-connect\", \"ws-net-disconnect\", \"ws-net-send\",\n];\nconst serverMessageEnum: { [num: string]: ServerMessage } = {};\nserverMessageValues.forEach((v, i) => serverMessageEnum[i] = v);\n\nexport class WsTransportLayer implements TransportLayer {\n    socket: WebSocket;\n    sessionId: string = Date.now() + \"\";\n    hardware: Hardware;\n    onInit: (version: number) => void = () => {/**/};\n\n    private cycles = 0;\n    private sockdrive = createSockdrive(this.onSockdriveOpen.bind(this),\n        this.onSockdriveError.bind(this), this.onSockdrivePreloadProgress.bind(this));\n\n    private handler: MessageHandler = () => {/**/};\n\n    private writeUint32(container: Uint8Array, value: number, offset: number) {\n        container[offset] = value & 0xFF;\n        container[offset + 1] = (value & 0x0000FF00) >> 8;\n        container[offset + 2] = (value & 0x00FF0000) >> 16;\n        container[offset + 3] = (value & 0xFF000000) >> 24;\n        return offset + 4;\n    }\n\n    private readUint32(container: Uint8Array, offset: number) {\n        return (container[offset] & 0x000000FF) |\n            ((container[offset + 1] << 8) & 0x0000FF00) |\n            ((container[offset + 2] << 16) & 0x00FF0000) |\n            ((container[offset + 3] << 24) & 0xFF000000);\n    }\n\n    private readUint64(container: Uint8Array, offset: number) {\n        return this.readUint32(container, offset) + this.readUint32(container, offset + 4) * 2 ** 32;\n    }\n\n    private sendMessageToSocket(id: ClientMessage | number, ...payload: (Uint8Array | null)[]) {\n        let length = 1;\n        for (const next of payload) {\n            length += 4 + (next?.length ?? 0);\n        }\n\n        const encoded = new Uint8Array(length);\n        encoded[0] = typeof id === \"string\" ? clientMessageEnum[id] : id;\n        let position = 1;\n        for (const next of payload) {\n            this.writeUint32(encoded, next?.length ?? 0, position);\n            position += 4;\n            if (next) {\n                encoded.set(next, position);\n                position += next.length;\n            }\n        }\n\n        this.socket.send(encoded);\n    }\n\n    private readMessage(payload: Uint8Array): { id: number, payload: (Uint8Array | null)[] } {\n        const out: Uint8Array[] = [];\n        let position = 1;\n        while (position + 4 <= payload.length) {\n            const length = this.readUint32(payload, position);\n            position += 4;\n\n            if (position + length > payload.length) {\n                throw new Error(\"read_message out of bounds\");\n            } else {\n                out.push(payload.slice(position, position + length));\n            }\n\n            position += length;\n        }\n\n        return {\n            id: payload[0],\n            payload: out,\n        };\n    }\n\n    private onMessage(msg: Uint8Array) {\n        const { id, payload } = this.readMessage(msg);\n        const message = serverMessageEnum[id];\n        switch (message) {\n            case \"ws-ready\": {\n                this.onInit((payload && payload[0] && payload.length > 0) ? payload[0][0] : 0);\n                this.handler(message, {});\n            } break;\n            case \"ws-server-ready\":\n            case \"ws-exit\": {\n                // delay ws-server-ready until ws-sound-init\n                if (message !== \"ws-server-ready\") {\n                    this.handler(message, {});\n                }\n            } break;\n            case \"ws-stdout\":\n            case \"ws-log\":\n            case \"ws-warn\":\n            case \"ws-err\": {\n                this.handler(message, {\n                    tag: textDecoder.decode(payload[0]!),\n                    message: textDecoder.decode(payload[1]!),\n                });\n            } break;\n            case \"ws-send-data-chunk\": {\n                const chunk: DataChunk = {\n                    type: textDecoder.decode(payload[0]!) as any,\n                    name: textDecoder.decode(payload[1]!),\n                    data: payload[2],\n                };\n                this.handler(message, { chunk });\n            } break;\n            case \"ws-config\": {\n                this.handler(message, {\n                    dosboxConf: payload[0]!,\n                    jsdosConf: textDecoder.decode(payload[1]!),\n                });\n            } break;\n            case \"ws-sound-init\": {\n                this.handler(message, {\n                    freq: this.readUint32(payload[0]!, 0),\n                });\n                this.handler(\"ws-server-ready\", {});\n            } break;\n            case \"ws-sound-push\": {\n                this.handler(message, {\n                    samples: new Float32Array(payload[0]!.buffer),\n                });\n            } break;\n            case \"ws-frame-set-size\": {\n                this.handler(message, {\n                    width: this.readUint32(payload[0]!, 0),\n                    height: this.readUint32(payload[0]!, 4),\n                });\n            } break;\n            case \"ws-update-lines\": {\n                if (payload.length > 0) {\n                    const lines: { start: number, heapu8: Uint8Array }[] = [];\n                    for (const next of payload) {\n                        lines.push({\n                            start: this.readUint32(next!, 0),\n                            heapu8: next!.slice(4),\n                        });\n                    }\n                    this.handler(message, { lines });\n                }\n            } break;\n            case \"ws-asyncify-stats\": {\n                this.cycles += this.readUint32(payload[0]!, 0);\n                const stats = {\n                    messageSent: this.readUint32(payload[0]!, 4),\n                    messageReceived: this.readUint32(payload[0]!, 8),\n                    messageFrame: this.readUint32(payload[0]!, 12),\n                    messageSound: this.readUint32(payload[0]!, 16),\n                    nonSkippableSleepCount: 0,\n                    sleepCount: 0,\n                    sleepTime: 0,\n                    cycles: this.cycles,\n                    netSent: 0,\n                    netRecv: 0,\n                    driveSent: this.sockdrive.stats.write,\n                    driveRecv: this.sockdrive.stats.read,\n                    driveRecvTime: this.sockdrive.stats.readTotalTime,\n                    driveCacheHit: this.sockdrive.stats.cacheHit,\n                    driveCacheMiss: this.sockdrive.stats.cacheMiss,\n                    driveCacheUsed: this.sockdrive.stats.cacheUsed,\n                    driveIo: this.sockdrive.stats.io,\n                };\n                this.handler(message, stats);\n            } break;\n            case \"ws-connected\": {\n                this.handler(message, { networkType: payload[0]![0], address: textDecoder.decode(payload[1]!) });\n            } break;\n            case \"ws-disconnected\": {\n                this.handler(message, { networkType: payload[0]![0] });\n            } break;\n            case \"ws-fs-tree\": {\n                const info: { name: string, size: number | null }[] = [];\n                for (let i = 0; i < payload.length - 1; ++i) {\n                    info.push({ name: textDecoder.decode(payload[i]!), size: null });\n                }\n\n                const sizes = payload[payload.length - 1]!;\n                for (let i = 0; i < info.length; ++i) {\n                    const size = this.readUint32(sizes, i * 4);\n                    info[i].size = size < 0 ? null : size;\n                }\n\n                const fsTree: FsNode = {\n                    name: \".\",\n                    nodes: [],\n                    size: null,\n                };\n\n                function lookupNode(name: string): [FsNode, string] {\n                    const parts = name.split(\"/\");\n                    let node: FsNode | undefined = fsTree;\n                    for (let i = 1; i < parts.length - 1; ++i) {\n                        const dir = parts[i];\n                        node = node!.nodes?.find((n) => n.name == dir);\n                        if (!node) {\n                            throw new Error(\"Unable to find node \" + name + \", subdir \" + dir);\n                        }\n                    }\n                    return [node, parts[parts.length - 1]];\n                };\n\n                for (const { name, size } of info) {\n                    const [node, basename] = lookupNode(name);\n                    node.nodes?.push({\n                        name: basename,\n                        size,\n                        nodes: size === null ? [] : null,\n                    });\n                }\n\n                this.handler(\"ws-fs-tree\", {\n                    fsTree,\n                });\n            } break;\n            case \"ws-persist\": {\n                this.handler(\"ws-persist\", {\n                    bundle: payload.length > 0 ? payload[0]! : null,\n                });\n            } break;\n            case \"ws-net-connect\": {\n                let address = textDecoder.decode(payload[0]!);\n                if (!address.startsWith(\"wss://\") && !address.startsWith(\"ws://\")) {\n                    address = ((\n                        window.location.protocol === \"http:\" &&\n                        window.location.hostname !== \"localhost\"\n                    ) ? \"ws://\" : \"wss://\") + address;\n                }\n                this.handler(\"ws-net-connect\", { address });\n            } break;\n            case \"ws-net-send\": {\n                this.handler(\"ws-net-send\", {\n                    networkId: this.readUint32(payload[0]!, 0),\n                    data: payload[1],\n                });\n            } break;\n            case \"ws-net-disconnect\": {\n                this.handler(\"ws-net-disconnect\", {\n                    networkId: this.readUint32(payload[0]!, 0),\n                });\n            } break;\n            default: {\n                if (message === undefined) { // not standard messages\n                    (async () => {\n                        switch (id) {\n                            case 100/* ws-sockdrive-open */: {\n                                const url = textDecoder.decode(payload[0]!);\n                                const owner = textDecoder.decode(payload[1]!);\n                                const name = textDecoder.decode(payload[2]!);\n                                const token = textDecoder.decode(payload[3]!);\n                                const { handle, aheadRange } = await this.sockdrive.open(url, owner, name, token);\n                                const template = this.sockdrive.template(handle);\n                                const packet = new Uint8Array(4 * 7);\n                                let offset = 0;\n                                offset = this.writeUint32(packet, handle, offset);\n                                offset = this.writeUint32(packet, template.size, offset);\n                                offset = this.writeUint32(packet, template.heads, offset);\n                                offset = this.writeUint32(packet, template.cylinders, offset);\n                                offset = this.writeUint32(packet, template.sectors, offset);\n                                offset = this.writeUint32(packet, template.sectorSize, offset);\n                                this.writeUint32(packet, aheadRange, offset);\n                                this.sendMessageToSocket(100, packet);\n                            } break;\n                            case 101/* ws-sockdrive-read */: {\n                                const handle = this.readUint32(payload[0]!, 0);\n                                const sector = this.readUint32(payload[0]!, 4);\n                                const response = await this.sockdrive.read(handle, sector);\n                                const packet = new Uint8Array(4);\n                                this.writeUint32(packet, response.code, 0);\n                                this.sendMessageToSocket(101, packet, response.buffer ?? null);\n                            } break;\n                            case 102/* ws-sockdrive-write */: {\n                                const handle = this.readUint32(payload[0]!, 0);\n                                const sector = this.readUint32(payload[0]!, 4);\n                                const code = this.sockdrive.write(handle, sector, payload[1]!);\n                                const packet = new Uint8Array(4);\n                                this.writeUint32(packet, code, 0);\n                                if (sockdriveConfirmWrite) {\n                                    this.sendMessageToSocket(102, packet);\n                                }\n                            } break;\n                            case 103/* ws-sockdrive-close */: {\n                                this.sockdrive.close(this.readUint32(payload[0]!, 0));\n                            } break;\n                            default:\n                                console.log(\"WARN! Unhandled server non standard message\", id, payload);\n                        }\n                    })().catch((e) => {\n                        this.handler(\"ws-err\", {\n                            tag: \"panic\",\n                            message: \"sockdrive error: \" + (e.message ?? \"???\"),\n                        });\n                    });\n                } else {\n                    console.warn(\"WARN! Unhandled server message\", message);\n                }\n            }\n        }\n    }\n\n    constructor(socket: WebSocket, onInit: (version: number) => void) {\n        this.socket = socket;\n        this.socket.addEventListener(\"error\", (e) => {\n            this.handler(\"ws-err\", { tag: \"ws\", message: (e as any).message ?? \"Unknown transport layer error\" });\n            this.handler(\"ws-exit\", {});\n            this.socket.close();\n        });\n        this.socket.addEventListener(\"message\", async (ev) => {\n            const blob: Blob = ev.data;\n            this.onMessage(new Uint8Array(await blob.arrayBuffer()));\n        });\n        this.sendMessageToSocket(\"wc-install\");\n        this.hardware = (null) as any;\n        this.onInit = onInit;\n    }\n\n    async sendMessageToServer(name: ClientMessage, props?: { [key: string]: any; }) {\n        if (props === undefined || props?.sessionId !== this.sessionId) {\n            return;\n        }\n\n        const messageId = clientMessageEnum[name];\n        switch (name) {\n            case \"wc-run\": {\n                const token = props.token ?? \"\";\n                this.sendMessageToSocket(messageId, textEncoder.encode(token));\n            } break;\n            case \"wc-send-data-chunk\": {\n                const chunk: DataChunk = props.chunk;\n                this.sendMessageToSocket(messageId,\n                    textEncoder.encode(chunk.type),\n                    textEncoder.encode(chunk.name),\n                    chunk.data ? new Uint8Array(chunk.data) : null);\n            } break;\n            case \"wc-asyncify-stats\": {\n                this.sendMessageToSocket(messageId);\n            } break;\n            case \"wc-add-key\": {\n                const payload = new Uint8Array(3 * 4);\n                let offset = 0;\n                offset = this.writeUint32(payload, props.key, offset);\n                offset = this.writeUint32(payload, props.pressed ? 1 : 0, offset);\n                this.writeUint32(payload, props.timeMs, offset);\n                this.sendMessageToSocket(messageId, payload);\n            } break;\n            case \"wc-mouse-move\": {\n                const payload = new Uint8Array(3 * 4 + 3);\n                let offset = 0;\n                offset = this.writeUint32(payload, Math.abs(props.x) * fMultiplier, offset);\n                offset = this.writeUint32(payload, Math.abs(props.y) * fMultiplier, offset);\n                offset = this.writeUint32(payload, props.timeMs, offset);\n                payload[offset] = props.relative ? 1 : 0;\n                payload[offset + 1] = props.x >= 0 ? 0 : 1;\n                payload[offset + 2] = props.y >= 0 ? 0 : 1;\n                this.sendMessageToSocket(messageId, payload);\n            } break;\n            case \"wc-mouse-button\": {\n                const payload = new Uint8Array(4 + 2);\n                payload[0] = props.button;\n                payload[1] = props.pressed ? 1 : 0;\n                this.writeUint32(payload, props.timeMs, 2);\n                this.sendMessageToSocket(messageId, payload);\n            } break;\n            case \"wc-mouse-sync\": {\n                const payload = new Uint8Array(4);\n                this.writeUint32(payload, props.timeMs, 0);\n                this.sendMessageToSocket(messageId, payload);\n            } break;\n            case \"wc-connect\": {\n                this.sendMessageToSocket(messageId, new Uint8Array([props.networkType]),\n                    textEncoder.encode(props.address));\n            } break;\n            case \"wc-fs-tree\": {\n                this.sendMessageToSocket(messageId);\n            } break;\n            case \"wc-pack-fs-to-bundle\": {\n                this.sendMessageToSocket(messageId, new Uint8Array([props.onlyChanges ? 1 : 0]));\n            } break;\n            case \"wc-net-connected\": {\n                const id = new Uint8Array(4);\n                this.writeUint32(id, props.networkId + 1, 0);\n                this.sendMessageToSocket(messageId, id);\n            } break;\n            case \"wc-net-received\": {\n                const id = new Uint8Array(4);\n                this.writeUint32(id, props.networkId, 0);\n                this.sendMessageToSocket(messageId, id, new Uint8Array(props.data));\n            } break;\n            default: {\n                console.log(\"Unhandled client message (wc):\", name, messageId, props);\n            } break;\n        }\n    }\n\n    initMessageHandler(handler: MessageHandler) {\n        this.handler = (message, props) => {\n            props.sessionId = this.sessionId;\n            handler(message, props);\n        };\n    }\n\n    exit() {\n        this.sendMessageToSocket(\"wc-exit\");\n    }\n\n    onSockdriveOpen(drive: string, read: boolean, write: boolean, imageSize: number, preloadQueue: number[]) {\n        this.handler(\"ws-log\", {\n            tag: \"worker\",\n            message: \"sockdrive: \" + drive + \", read=\" + read + \", write=\" + write +\n                \", imageSize=\" + Math.round(imageSize / 1024 / 1024) + \"Mb\" + \", preloadQueue=\" + preloadQueue.length,\n        });\n    }\n\n    onSockdriveError(e: Error) {\n        this.handler(\"ws-err\", {\n            tag: \"panic\",\n            message: e.message ?? \"unable to open sockdrive\",\n        });\n    }\n\n    onSockdrivePreloadProgress(drive: string, restBytes: number) {\n        this.handler(\"ws-log\", {\n            tag: \"worker\",\n            message: \"sockdrive: \" + drive + \", preload=\" + restBytes,\n        });\n    }\n}\n\nexport function createWsTransportLayer(url: string, onInit: (version: number) => void): Promise<TransportLayer> {\n    return new Promise<TransportLayer>((resolve) => {\n        let locked = false;\n        const inervalId = setInterval(() => {\n            if (locked) {\n                return;\n            }\n\n            locked = true;\n            const ws = new WebSocket(url);\n            const onSuccess = () => {\n                clearInterval(inervalId);\n                console.log(\"Connected to\", url);\n                resolve(new WsTransportLayer(ws, onInit));\n            };\n\n            ws.addEventListener(\"error\", (error) => {\n                console.error(\"Can't conect to \", url, error);\n                ws.removeEventListener(\"open\", onSuccess);\n                ws.close();\n                locked = false;\n            });\n\n            ws.addEventListener(\"open\", onSuccess);\n        }, 1000);\n    });\n}\n","import { Handle, Stats } from \"../sockdrive/js/src/sockdrive/types\";\nimport { Drive } from \"../sockdrive/js/src/sockdrive/drive\";\n\ninterface Template {\n    name: string,\n    size: number,\n    heads: number,\n    cylinders: number,\n    sectors: number,\n    sectorSize: number,\n}\n\nexport interface ReadResponse {\n    buffer?: Uint8Array,\n    code: number,\n}\n\nexport function createSockdrive(\n    onOpen: (drive: string, read: boolean, write: boolean, imageSize: number, preloadQueue: number[]) => void,\n    onError: (e: Error) => void,\n    onPreloadProgress: (drive: string, restBytes: number) => void,\n) {\n    let seq = 0;\n    const mapping: { [handle: Handle]: Drive } = {};\n    const templates: { [handle: number]: Template } = {};\n    const memory: { [handle: number]: Uint8Array } = {};\n    const stats: Stats = {\n        read: 0,\n        write: 0,\n        readTotalTime: 0,\n        cacheHit: 0,\n        cacheMiss: 0,\n        cacheUsed: 0,\n        io: [],\n    };\n    const sockdrive = {\n        stats,\n        open: async (url: string, owner: string, name: string, token: string): Promise<{\n            handle: Handle,\n            aheadRange: number,\n        }> => {\n            const response = await fetch(url.replace(\"wss://\", \"https://\")\n                .replace(\"ws://\", \"http://\") + \"/template/\" + owner + \"/\" + name);\n            const template = await response.json();\n            if (template.error) {\n                throw new Error(template.error);\n            }\n            seq++;\n            templates[seq] = {\n                name: template.name,\n                size: template.size ?? 0,\n                heads: template.heads ?? 1,\n                cylinders: template.cylinders ?? 520,\n                sectors: template.sectors ?? 63,\n                sectorSize: template.sector_size ?? 512,\n            };\n\n            const sectorSize = templates[seq].sectorSize;\n            const module = { HEAPU8: new Uint8Array(0) };\n            stats.io.push({ read: 0, write: 0 });\n            mapping[seq] = new Drive(url, owner, name, token, stats, module, true, true);\n            return new Promise<{ handle: Handle, aheadRange: number }>((resolve, reject) => {\n                const drive = owner + \"/\" + name;\n                mapping[seq].onOpen((read, write, imageSize, preloadQueue, aheadRange) => {\n                    memory[seq] = new Uint8Array(sectorSize /* write */ + sectorSize * aheadRange);\n                    module.HEAPU8 = memory[seq];\n                    onOpen(drive, read, write, imageSize, preloadQueue);\n                    resolve({\n                        handle: seq,\n                        aheadRange,\n                    });\n                });\n                mapping[seq].onPreloadProgress((restBytes) => {\n                    onPreloadProgress(drive, restBytes);\n                });\n                mapping[seq].onError((e) => {\n                    onError(e);\n                    reject(e);\n                });\n            });\n        },\n        read: async (handle: Handle, sector: number): Promise<ReadResponse> => {\n            if (mapping[handle]) {\n                stats.io[handle - 1].read++;\n                const ptr = templates[handle].sectorSize;\n                let code = mapping[handle].read(sector, ptr, true) as number;\n                if (code = 255) {\n                    code = await mapping[handle].read(sector, ptr, false);\n                }\n                return {\n                    code,\n                    buffer: memory[handle].slice(ptr),\n                };\n            }\n\n            console.error(\"ERROR! sockdrive handle\", handle, \"not found\");\n            return Promise.resolve({ code: 1 });\n        },\n        write: (handle: Handle, sector: number, buffer: Uint8Array): number => {\n            if (buffer.byteLength != templates[handle].sectorSize) {\n                onError(new Error(\"sockdrive write buffer size \" + buffer.byteLength +\n                    \" != sector size \" + templates[handle].sectorSize));\n                return 1;\n            }\n            if (mapping[handle]) {\n                stats.io[handle - 1].write++;\n                memory[handle].set(buffer, 0);\n                return mapping[handle].write(sector, 0);\n            }\n            console.error(\"ERROR! sockdrive handle\", handle, \"not found\");\n            return 1;\n        },\n        close: (handle: Handle) => {\n            if (mapping[handle]) {\n                mapping[handle].close();\n                delete memory[handle];\n                delete templates[handle];\n                delete mapping[handle];\n            }\n        },\n        template: (handle: Handle) => {\n            return templates[handle];\n        },\n    };\n\n    return sockdrive;\n}\n","import { CommandInterface } from \"emulators\";\nimport { State } from \"../store\";\nimport { useDispatch, useSelector } from \"react-redux\";\n/* eslint-disable camelcase */\nimport { domToKeyCode, KBD_0, KBD_9, KBD_backspace, KBD_capslock, KBD_comma, KBD_down, KBD_enter,\n    KBD_esc,\n    KBD_f1, KBD_f2, KBD_f3,\n    KBD_f4, KBD_f5, KBD_f6,\n    KBD_f7, KBD_f8, KBD_f9,\n    KBD_f10, KBD_f11, KBD_f12,\n    KBD_left, KBD_leftalt, KBD_leftbracket, KBD_leftctrl, KBD_leftshift,\n    KBD_period, KBD_quote, KBD_right, KBD_rightbracket, KBD_semicolon, KBD_space,\n    KBD_tab, KBD_up,\n    KBD_kp0,\n    KBD_kp2,\n    KBD_kp1,\n    KBD_kp3,\n    KBD_kp4,\n    KBD_kp5,\n    KBD_kp6,\n    KBD_kp7,\n    KBD_kp8,\n    KBD_kp9,\n    KBD_pagedown,\n    KBD_pageup,\n    KBD_delete,\n    KBD_end,\n    KBD_home,\n    KBD_minus,\n    KBD_equals } from \"./dos/controls/keys\";\nimport { dosSlice } from \"../store/dos\";\n/* eslint-enable camelcase */\n\nexport function SoftKeyboard(props: { ci: CommandInterface | null }) {\n    const { ci } = props;\n    const visible = useSelector((state: State) => state.dos.softKeyboard);\n    const layout = useSelector((state: State) => state.dos.softKeyboardLayout);\n    const symbols = useSelector((state: State) => state.dos.softKeyboardSymbols);\n    const activeSymbols = useSelector((state: State) => state.dos.softKeyboardActiveSymbols);\n    const activeLayout = useSelector((state: State) => state.dos.softKeyboardActiveLayout);\n    const dispatch = useDispatch();\n    const display = symbols[activeSymbols % symbols.length];\n    const keyboard = layout[activeLayout % layout.length];\n\n    if (!visible || ci === null) {\n        return null;\n    }\n\n\n    function onChange(key: string, pressed: boolean) {\n        if (ci !== null) {\n            if (key === \"{symbols}\") {\n                if (pressed) {\n                    const next = (activeSymbols + 1) % symbols.length;\n                    if (next !== activeSymbols) {\n                        dispatch(dosSlice.actions.softKeyboardActiveSymbols(next));\n                    }\n                }\n            } else if (key === \"{layout}\") {\n                if (pressed) {\n                    const next = (activeLayout + 1) % layout.length;\n                    if (next !== activeLayout) {\n                        dispatch(dosSlice.actions.softKeyboardActiveLayout(next));\n                    }\n                }\n            } else {\n                for (const next of buttonToCode(key)) {\n                    ci.sendKeyEvent(next, pressed);\n                }\n            }\n        }\n    }\n\n    function short(key: string) {\n        if (key.length > 2 && key.startsWith(\"{\") && key.endsWith(\"}\")) {\n            return key[1].toUpperCase() + key.substring(2, key.length - 1);\n        }\n        return key;\n    }\n\n    return <div class=\"soft-keyboard my-4 mx-2\">\n        <div class=\"flex flex-row gap-2 flex-wrap justify-evenly items-center\">\n            {keyboard.map((layout, i) => {\n                return <div class={ \"flex flex-col gap-2 flex-wrap\" +\n                        ((keyboard.length === 1 || i === 1) ? \" items-center\" :\n                            ( i === 0 ? \" items-start\" : \" items-end\" ))\n                }>\n                    {layout.map((keys) => {\n                        return <div class=\"flex flex-row gap-2 flex-wrap items-center\">\n                            {keys.length === 0 ? <div class=\"kbd-md\" /> : keys.split(\" \").map((key) => {\n                                return <kbd class=\"kbd kbd-md cursor-pointer hover:bg-accent-focus\"\n                                    onPointerDown={() => onChange(key, true)}\n                                    onPointerUp={() => onChange(key, false)}\n                                    onPointerCancel={() => onChange(key, false)}\n                                >{ display[key] ?? symbols[0][key] ?? short(key) }</kbd>;\n                            })}\n                        </div>;\n                    })}\n                </div>;\n            })}\n        </div>\n    </div>;\n}\n\n\n/* eslint-disable camelcase */\nfunction buttonToCode(button: string): number[] {\n    switch (button) {\n        case \"{enter}\":\n            return [KBD_enter];\n        case \"{shift}\":\n            return [KBD_leftshift];\n        case \"{bksp}\":\n            return [KBD_backspace];\n        case \"{lock}\":\n            return [KBD_capslock];\n        case \"{tab}\":\n            return [KBD_tab];\n        case \"{space}\":\n            return [KBD_space];\n        case \"{esc}\":\n            return [KBD_esc];\n        case \"{ctrl}\":\n            return [KBD_leftctrl];\n        case \"{alt}\":\n            return [KBD_leftalt];\n        case \"{up}\":\n            return [KBD_up];\n        case \"{down}\":\n            return [KBD_down];\n        case \"{left}\":\n            return [KBD_left];\n        case \"{right}\":\n            return [KBD_right];\n        case \",\":\n            return [KBD_comma];\n        case \".\":\n            return [KBD_period];\n        case \"'\":\n            return [KBD_quote];\n        case \":\":\n            return [KBD_leftshift, KBD_semicolon];\n        case \"{\":\n            return [KBD_leftshift, KBD_leftbracket];\n        case \"}\":\n            return [KBD_leftshift, KBD_rightbracket];\n        case \"(\":\n            return [KBD_leftshift, KBD_9];\n        case \")\":\n            return [KBD_leftshift, KBD_0];\n        case \"{f1}\":\n            return [KBD_f1];\n        case \"{f2}\":\n            return [KBD_f2];\n        case \"{f3}\":\n            return [KBD_f3];\n        case \"{f4}\":\n            return [KBD_f4];\n        case \"{f5}\":\n            return [KBD_f5];\n        case \"{f6}\":\n            return [KBD_f6];\n        case \"{f7}\":\n            return [KBD_f7];\n        case \"{f8}\":\n            return [KBD_f8];\n        case \"{f9}\":\n            return [KBD_f9];\n        case \"{f10}\":\n            return [KBD_f10];\n        case \"{f11}\":\n            return [KBD_f11];\n        case \"{f12}\":\n            return [KBD_f12];\n        case \"{kp1}\":\n            return [KBD_kp1];\n        case \"{kp2}\":\n            return [KBD_kp2];\n        case \"{kp3}\":\n            return [KBD_kp3];\n        case \"{kp4}\":\n            return [KBD_kp4];\n        case \"{kp5}\":\n            return [KBD_kp5];\n        case \"{kp6}\":\n            return [KBD_kp6];\n        case \"{kp7}\":\n            return [KBD_kp7];\n        case \"{kp8}\":\n            return [KBD_kp8];\n        case \"{kp9}\":\n            return [KBD_kp9];\n        case \"{kp0}\":\n            return [KBD_kp0];\n        case \"{pgup}\":\n            return [KBD_pageup];\n        case \"{pgdown}\":\n            return [KBD_pagedown];\n        case \"{del}\":\n            return [KBD_delete];\n        case \"{home}\":\n            return [KBD_home];\n        case \"{end}\":\n            return [KBD_end];\n        case \"-\":\n            return [KBD_minus];\n        case \"=\":\n            return [KBD_equals];\n        case \"+\":\n            return [KBD_leftshift, KBD_equals];\n        default: {\n            if (button.length > 1) {\n                console.warn(\"Unknown button\", button);\n                return [];\n            }\n        }\n    }\n\n    const keyCode = domToKeyCode(button.toUpperCase().charCodeAt(0));\n    if (keyCode === 0) {\n        return [];\n    }\n\n    return [keyCode];\n}\n\n/* eslint-enable camelcase */\n","import { Emulators, CommandInterface, InitFs } from \"emulators\";\nimport { useEffect, useRef, useState } from \"preact/hooks\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { dosSlice } from \"../../store/dos\";\nimport { State, useNonSerializableStore, postJsDosEvent } from \"../../store\";\nimport { useDosRuntime } from \"./dos-runtime\";\nimport { dhry2Bundle, Dhry2Results } from \"./dos-dhry2\";\nimport { createWsTransportLayer } from \"../../ws/ws-transport-layer\";\nimport { actualWsVersion } from \"../../v8/config\";\nimport { uiSlice } from \"../../store/ui\";\nimport { extractLayersConfig } from \"../../layers/controls/layers-config\";\nimport { pointer } from \"./controls/mouse/pointer\";\nimport { SoftKeyboard } from \"../soft-keyboard\";\n\ndeclare const emulators: Emulators;\n\nexport function DosWindow(props: {\n}) {\n    const canvasRef = useRef<HTMLCanvasElement>(null);\n    const [ci, setCi] = useState<CommandInterface | null>(null);\n    const sockdriveWrite = useSelector((state: State) => state.dos.sockdriveWrite);\n    const accessToken = useSelector((state: State) => state.auth.account?.token);\n    const token = sockdriveWrite ? accessToken : undefined;\n    const worker = useSelector((state: State) => state.dos.worker);\n    const backend = useSelector((state: State) => state.dos.backend);\n    const backendHardware = useSelector((state: State) => state.dos.backendHardware);\n    const noCursor = useSelector((state: State) => state.dos.noCursor);\n    const dispatch = useDispatch();\n    const nonSerializableStore = useNonSerializableStore();\n\n    useEffect(() => {\n        try {\n            const loadedBundle = nonSerializableStore.loadedBundle!;\n            let bundles: InitFs = (loadedBundle.bundleChanges !== null ?\n                [loadedBundle.bundle, loadedBundle.bundleChanges] :\n                loadedBundle.bundle) as any;\n\n            if (loadedBundle.initFs !== null) {\n                if (!Array.isArray(bundles)) {\n                    bundles = [bundles];\n                }\n\n                if (Array.isArray(loadedBundle.initFs)) {\n                    for (const next of loadedBundle.initFs) {\n                        bundles.push(next);\n                    }\n                } else {\n                    bundles.push(loadedBundle.initFs);\n                }\n            }\n\n            loadedBundle.bundle = null;\n            loadedBundle.bundleChanges = null;\n            loadedBundle.initFs = null;\n\n            const ci: Promise<CommandInterface> = (async () => {\n                if (backendHardware && nonSerializableStore.options.backendHardware) {\n                    const ws = await nonSerializableStore.options.backendHardware(backend);\n                    if (ws !== null) {\n                        return emulators.backend(bundles, await createWsTransportLayer(ws, (version) => {\n                            if (version < actualWsVersion) {\n                                dispatch(uiSlice.actions.updateWsWarning(true));\n                            }\n                            console.log(\"wsServer:\", version, \" expected:\", actualWsVersion);\n                        }), { token });\n                    }\n                };\n\n                return (emulators as any)[((backend !== \"dosbox\" && backend !== \"dosboxX\") ? \"dosbox\" : backend) +\n                    (worker ? \"Worker\" : \"Direct\")](bundles, {\n                    token,\n                });\n            })();\n\n            ci\n                .then((ci) => {\n                    setCi(ci);\n                    dispatch(dosSlice.actions.ci(true));\n                    if (pointer.mobile) {\n                        ci.config()\n                            .then((c) => {\n                                dispatch(dosSlice.actions.mobileControls(extractLayersConfig(c.jsdosConf) !== null));\n                            })\n                            .catch((e) => dispatch(dosSlice.actions.emuError(e.message)));\n                    }\n                    nonSerializableStore.ci = ci;\n                    postJsDosEvent(nonSerializableStore, \"ci-ready\", ci);\n                })\n                .catch((e) => dispatch(dosSlice.actions.emuError(e.message)));\n\n            return () => {\n                ci.then((ci) => {\n                    dispatch(dosSlice.actions.ci(false));\n                    nonSerializableStore.ci = null;\n                    ci.exit();\n                });\n            };\n        } catch (e) {\n            dispatch(dosSlice.actions.emuError((e as any).message));\n        }\n    }, [worker, backend, token ?? null]);\n\n    return <div class=\"flex flex-col flex-grow h-full overflow-hidden\">\n        <div class=\"bg-black h-full flex-grow overflow-hidden relative\">\n            <canvas class={ noCursor ? \"cursor-none\" : \"\" } ref={canvasRef} />\n            {canvasRef.current && ci && <DosRuntime canvas={canvasRef.current} ci={ci} />}\n        </div>\n        <SoftKeyboard ci={ci} />\n    </div>;\n}\n\nfunction DosRuntime(props: { canvas: HTMLCanvasElement, ci: CommandInterface }) {\n    const { canvas, ci } = props;\n    const bundle = useSelector((state: State) => state.dos.bundle);\n\n    useDosRuntime(canvas, ci);\n\n    return <>\n        {bundle?.endsWith(dhry2Bundle) && <Dhry2Results ci={ci} />}\n    </>;\n}\n","import { useT } from \"../i18n\";\n\nexport function Error(props: {\n    error?: string | null,\n    onSkip?: () => void,\n}) {\n    const t = useT();\n    const error = props.error ?? \"Unexpected error\";\n\n    return <div class=\"flex-grow flex flex-col items-center justify-center px-8 m-auto\">\n        <div class=\"text-2xl text-center\">{t(\"error\")}</div>\n        <div class=\"text-red-400 mt-8 text-2xl text-center\">\"{error}\"</div>\n        <div class=\"mt-8 text-sm text-center\">{t(\"consult_logs\")}</div>\n        { props.onSkip && <button class=\"mt-8 btn-primary\" onClick={props.onSkip}>{t(\"skip\")}</button> }\n    </div>;\n}\n","import { useSelector } from \"react-redux\";\nimport { Error } from \"../components/error\";\nimport { State } from \"../store\";\n\nexport function ErrorWindow() {\n    const error = useSelector((state: State) => state.dos.error);\n    return <Error error={error} />;\n}\n\n","export function Loading(props: {\n    head: string,\n    message: string,\n}) {\n    const { head, message } = props;\n\n    return <div class=\"flex flex-col items-center justify-center frame-color px-8\">\n        <div class=\"text-2xl text-center\">{head}</div>\n        <div class=\"mt-2 text-center\">{message}</div>\n    </div>;\n}\n\nexport function formatSize(size: number) {\n    if (size < 1024) {\n        return size + \"b\";\n    }\n\n    size /= 1024;\n\n    if (size < 1024) {\n        return Math.round(size) + \"kb\";\n    }\n\n    size /= 1024;\n    return Math.round(size * 10) / 10 + \"mb\";\n}\n","import { useSelector } from \"react-redux\";\nimport { formatSize, Loading } from \"../components/loading\";\nimport { useT } from \"../i18n\";\nimport { State } from \"../store\";\n\nexport function LoadingWindow() {\n    const t = useT();\n    const step = useSelector((state: State) => state.dos.step);\n    const received = useSelector((state: State) => state.storage.recived);\n    const total = useSelector((state: State) => state.storage.total);\n\n    let head = t(\"loading\");\n    let message = \"100%\";\n\n    switch (step) {\n        case \"bnd-load\": {\n            head = t(\"bundle_loading\");\n            if (received > 0) {\n                message = `${formatSize(received)} / ${formatSize(total)}`;\n\n                if (total > 0) {\n                    message += ` (${Math.round(received * 1000 / total) / 10}%)`;\n                }\n            }\n        } break;\n        case \"bnd-config\": {\n            head = t(\"bundle_config\");\n        }\n\n        default: {\n        }\n    }\n\n    return <div class=\"flex flex-col w-full h-full items-center justify-center\">\n        <Loading head={head} message={message} />\n    </div>;\n}\n","import { useDispatch, useStore } from \"react-redux\";\nimport { dosSlice } from \"../store/dos\";\nimport { useT } from \"../i18n\";\nimport { loadBundleFromFile, loadBundleFromUrl, loadEmptyBundle } from \"../player-api-load\";\nimport { useState } from \"preact/hooks\";\nimport { uiSlice } from \"../store/ui\";\nimport { Store } from \"../store\";\n\nconst fileInput = document.createElement(\"input\");\nfileInput.type = \"file\";\n\nexport function SelectWindow() {\n    const t = useT();\n    const store = useStore() as Store;\n    const [useUrl, setUseUrl] = useState<boolean>(false);\n\n    if (useUrl) {\n        return <div class=\"select-window overflow-hidden flex-grow flex flex-col items-center justify-center px-8 py-8\">\n            <Load />\n        </div>;\n    }\n\n    async function createEmpty() {\n        try {\n            await loadEmptyBundle(store).catch(console.error);\n        } catch (e: any) {\n            store.dispatch(dosSlice.actions.bndError(e.message ?? \"unexpected error\"));\n        }\n    }\n\n    return <div class=\"select-window overflow-hidden flex-grow flex flex-col items-center justify-center px-8\">\n        <div class=\"mb-4 text-center underline cursor-pointer hover:text-accent\"\n            onClick={() => setUseUrl(true)}>{t(\"load_by_url\")}</div>\n        <Upload />\n        <div class=\"mt-4 text-center\">{t(\"upload_file\")}</div>\n        <div class=\"mt-4 text-center underline cursor-pointer hover:text-accent\"\n            onClick={createEmpty}>{t(\"create_empty\")}</div>\n    </div>;\n}\n\nfunction Load() {\n    const t = useT();\n    const store = useStore();\n    const dispatch = useDispatch();\n    const [url, setUrl] = useState<string>(\"\");\n    const [error, setError] = useState<string | null>(null);\n\n    async function loadBundle(url: string) {\n        dispatch(uiSlice.actions.frameNone());\n\n        let validUrl;\n        try {\n            validUrl = new URL(url);\n        } catch (e: any) {\n            setError(e.message);\n            return;\n        }\n\n        try {\n            await loadBundleFromUrl(validUrl.toString(), store);\n        } catch (e: any) {\n            dispatch(dosSlice.actions.bndError(e.message ?? \"unexpected error\"));\n        }\n    }\n\n    return <>\n        <div class=\"form-control w-3/4 mb-4\">\n            <label class=\"label\">\n                <span class=\"label-text\">{t(\"enter_url\")}:</span>\n            </label>\n            <input type=\"text\"\n                class=\"input w-full input-sm input-bordered\"\n                onChange={(e) => setUrl(e.currentTarget.value ?? \"\")}\n                value={url}></input>\n        </div>\n        <div class=\"mt-4 text-center underline cursor-pointer hover:text-accent\"\n            onClick={() => loadBundle(url)}>{t(\"load\")}</div>\n        {error !== null &&\n            <div class=\"mt-8 text-center text-error\">\n                {error}\n            </div>\n        }\n    </>;\n}\n\nfunction Upload() {\n    const store = useStore() as Store;\n\n    async function onFileChange() {\n        fileInput.removeEventListener(\"change\", onFileChange);\n\n        if (fileInput.files === null || fileInput.files.length === 0) {\n            return;\n        }\n\n        const file = fileInput.files[0];\n        try {\n            await loadBundleFromFile(file, store).catch((e) => store.dispatch(dosSlice.actions.bndError(e.message)));\n        } catch (e: any) {\n            store.dispatch(dosSlice.actions.bndError(e.message ?? \"unexpected error\"));\n        }\n    }\n\n    function onUpload() {\n        fileInput.addEventListener(\"change\", onFileChange);\n        fileInput.click();\n    }\n\n    return <div class=\"cursor-pointer\" onClick={onUpload}>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n            viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-48 h-48 play-button\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9 13.5l3 3m0 0l3-3m-3\n                3v-6m1.06-4.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25\n                2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5\n                1.5 0 01-1.06-.44z\" />\n        </svg>\n    </div>;\n}\n","import { useSelector } from \"react-redux\";\nimport { State } from \"../store\";\nimport { DosWindow } from \"./dos/dos-window\";\nimport { ErrorWindow } from \"./error-window\";\nimport { LoadingWindow } from \"./loading-window\";\nimport { PreRunWindow } from \"./prerun-window\";\nimport { SelectWindow } from \"./select-window\";\n\nexport function Window(props: {}) {\n    const frameOpened = useSelector((state: State) => state.ui.frame) !== \"none\";\n    const frameXs = useSelector((state: State) => state.ui.frameXs);\n    const window = useSelector((state: State) => state.ui.window);\n    const background = useSelector((state: State) => state.ui.background);\n    const kiosk = useSelector((state: State) => state.ui.kiosk);\n\n    let windowComponent = <Loading />;\n    switch (window) {\n        case \"error\": {\n            windowComponent = <ErrorWindow />;\n        } break;\n        case \"loading\": {\n            windowComponent = <LoadingWindow />;\n        } break;\n        case \"prerun\": {\n            windowComponent = <PreRunWindow />;\n        } break;\n        case \"run\": {\n            windowComponent = <DosWindow />;\n        } break;\n        case \"select\": {\n            windowComponent = <SelectWindow />;\n        } break;\n        default: ;\n    };\n\n    return <div class=\"window absolute w-full h-full bg-base-100\">\n        <div class=\"background-image\"\n            style={{ backgroundImage: (background ? \"url(\" + background + \")\" : undefined ) }} />\n        <div class=\"relative flex flex-row h-full w-full items-start justify-start overflow-auto\">\n            { !kiosk && <div class={(frameOpened ? (frameXs ? \"w-24\" : \"w-96\") : \"w-12\") + \" flex-shrink-0\"}></div> }\n            {windowComponent}\n        </div>\n    </div>;\n}\n\nfunction Loading() {\n    return <div class=\"w-full h-full flex justify-center items-center\">\n        <div class=\"radial-progress animate-spin\" style=\"--value:70;\"></div>\n    </div>;\n}\n","import { useEffect, useRef } from \"preact/hooks\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Frame } from \"./frame/frame\";\nimport { SideBar } from \"./sidebar/sidebar\";\nimport { State } from \"./store\";\nimport { uiSlice } from \"./store/ui\";\nimport { Window } from \"./window/window\";\nimport { useT } from \"./i18n\";\n\nlet currentWideScreen = uiSlice.getInitialState().wideScreen;\nexport function Ui() {\n    const rootRef = useRef<HTMLDivElement>(null);\n    const hidden = useSelector((state: State) => state.ui.hidden);\n    const theme = useSelector((state: State) => state.ui.theme);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if (hidden || rootRef === null || rootRef.current === null) {\n            return;\n        }\n\n        const root = rootRef.current;\n        function onResize() {\n            const size = root.getBoundingClientRect().width;\n            const wide = size > 640;\n            if (wide !== currentWideScreen) {\n                currentWideScreen = wide;\n                dispatch(uiSlice.actions.setWideScreen(currentWideScreen));\n            }\n        }\n\n        const resizeObserver = new ResizeObserver(onResize);\n        resizeObserver.observe(root);\n        window.addEventListener(\"resize\", onResize);\n\n        return () => {\n            resizeObserver.disconnect();\n            window.removeEventListener(\"resize\", onResize);\n        };\n    }, [hidden, rootRef, dispatch]);\n\n    if (hidden) {\n        return null;\n    }\n\n    return <div\n        ref={rootRef}\n        class=\"w-full h-full relative\"\n        data-theme={theme}>\n        <Window />\n        <Frame />\n        <SideBar />\n        <Toast />\n        <UpdateWsWarning />\n    </div>;\n};\n\nfunction Toast() {\n    const toast = useSelector((state: State) => state.ui.toast);\n    const intent = useSelector((state: State) => state.ui.toastIntent);\n    const intentClass = intent === \"panic\" ? \"error\" : intent;\n\n    if (toast === null) {\n        return null;\n    }\n\n    let path = <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n        d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path>;\n\n    if (intent === \"warning\") {\n        path = <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374\n                    1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697\n                    16.126ZM12 15.75h.007v.008H12v-.008Z\" />;\n    }\n\n    if (intent === \"error\" || intent === \"panic\") {\n        path = <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n            d=\"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z\" />;\n    }\n\n    return <div class=\"absolute right-10 bottom-10\">\n        <div class={ \"alert alert-\" + intentClass + \" text-\" + intentClass + \"-content\" }>\n            <svg xmlns=\"http://www.w3.org/2000/svg\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n                class=\"shrink-0 w-6 h-6\">\n                {path}\n            </svg>\n            <span>{toast}</span>\n        </div>\n    </div>;\n}\n\nfunction UpdateWsWarning() {\n    const updateWsWarning = useSelector((state: State) => state.ui.updateWsWarning);\n    const t = useT();\n    const dispatch = useDispatch();\n\n    if (!updateWsWarning) {\n        return null;\n    }\n\n    function fix() {\n        window.open(\"https://dos.zone/download/\", \"_blank\");\n        dispatch(uiSlice.actions.updateWsWarning(false));\n    }\n\n    function close() {\n        dispatch(uiSlice.actions.updateWsWarning(false));\n    }\n\n    return <div class=\"absolute left-20 right-10 top-10 flex justify-center\">\n        <div class=\"alert w-auto\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                stroke-width=\"1.5\" stroke=\"currentColor\" class=\"size-6 text-error\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 9v3.75m-9.303 3.376c-.866 1.5.217\n                    3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898\n                    0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z\" />\n            </svg>\n            <span>{t(\"ws_outdated\")}</span>\n            <div>\n                <button class=\"btn btn-sm btn-primary mr-2\" onClick={fix}>{t(\"update\")}</button>\n                <button class=\"btn btn-sm\" onClick={close}>{t(\"close\")}</button>\n            </div>\n        </div>\n    </div>;\n}\n","import { render } from \"preact\";\nimport \"./index.css\";\n\nimport { Provider } from \"react-redux\";\nimport { Ui } from \"./ui\";\nimport { dosSlice, RenderAspect } from \"./store/dos\";\nimport { initEmulators } from \"./store/dos\";\n// eslint-disable-next-line\nimport { uiSlice } from \"./store/ui\";\nimport { i18nSlice } from \"./i18n\";\nimport { getCache } from \"./host/lcache\";\nimport { loadBundleFromConfg, loadBundleFromUrl } from \"./player-api-load\";\n\nimport { DosOptions, DosProps, DosFn, ImageRendering, RenderBackend } from \"./public/types\";\nimport { browserSetFullScreen } from \"./host/fullscreen\";\nimport { NonSerializableStore, State, Store, getNonSerializableStore,\n    getState,\n    makeNonSerializableStore, makeStore, postJsDosEvent } from \"./store\";\nimport { apiSave } from \"./player-api\";\nimport { authSlice, loadAccount } from \"./store/auth\";\n\nexport const Dos: DosFn = (element: HTMLDivElement,\n    options: Partial<DosOptions> = {}): DosProps => {\n    const nonSerializableStore = makeNonSerializableStore(options);\n    const store = makeStore(nonSerializableStore, options);\n    const cache = getCache(\"guest\");\n\n\n    if (getState(store).auth.account?.email === \"dz.caiiiycuk@gmail.com\") {\n        store.dispatch(dosSlice.actions.setSockdriveWrite(false));\n    }\n\n    setupRootElement(element, nonSerializableStore, store);\n\n    let pollStep = \"none\";\n    function pollEvents() {\n        (async () => {\n            const state = getState(store);\n            const step = state.dos.step;\n\n            if (step === pollStep) {\n                return;\n            }\n            pollStep = step;\n\n            switch (state.dos.step) {\n                case \"emu-ready\": {\n                    nonSerializableStore.cache = await cache;\n                    if (nonSerializableStore.options.url) {\n                        try {\n                            await loadBundleFromUrl(nonSerializableStore.options.url, store);\n                        } catch (e: any) {\n                            store.dispatch(dosSlice.actions.bndError(e.message));\n                        }\n                    } else if (nonSerializableStore.options.dosboxConf) {\n                        const jsdosConf = nonSerializableStore.options.jsdosConf ?? {\n                            version: \"8\",\n                        };\n                        if (!jsdosConf.version) {\n                            jsdosConf.version = \"8\";\n                        }\n                        loadBundleFromConfg({\n                            dosboxConf: nonSerializableStore.options.dosboxConf,\n                            jsdosConf,\n                        }, nonSerializableStore.options.initFs ?? null, store);\n                    } else {\n                        store.dispatch(uiSlice.actions.windowSelect());\n                    }\n\n                    postJsDosEvent(nonSerializableStore, \"emu-ready\");\n                } break;\n            };\n        })().catch(console.error);\n    }\n    store.subscribe(pollEvents);\n\n    initEmulators(store, options.pathPrefix ?? \"https://v8.js-dos.com/latest/emulators/\");\n\n    function setTheme(theme: DosOptions[\"theme\"]) {\n        store.dispatch(uiSlice.actions.theme(theme));\n    }\n\n    function setLang(lang: DosOptions[\"lang\"]) {\n        store.dispatch(i18nSlice.actions.setLang(lang));\n    }\n\n    function setBackend(backend: DosOptions[\"backend\"]) {\n        store.dispatch(dosSlice.actions.dosBackend(backend));\n    }\n\n    function setBackendLocked(locked: boolean) {\n        store.dispatch(dosSlice.actions.dosBackendLocked(locked));\n    }\n\n    function setWorkerThread(workerThread: DosOptions[\"workerThread\"]) {\n        store.dispatch(dosSlice.actions.dosWorker(workerThread));\n    }\n\n    function setMouseCapture(capture: DosOptions[\"mouseCapture\"]) {\n        store.dispatch(dosSlice.actions.mouseCapture(capture));\n    }\n\n    function setServer(server: DosOptions[\"server\"]) {\n        store.dispatch(dosSlice.actions.setServer(server));\n    }\n\n    function setRoom(room: DosOptions[\"room\"]) {\n        store.dispatch(dosSlice.actions.setRoom(room));\n    }\n\n    function setFrame(frame: \"network\") {\n        store.dispatch(uiSlice.actions.frameNetwork());\n    }\n\n    function setBackground(background: string) {\n        store.dispatch(uiSlice.actions.background(background));\n    }\n\n    function setFullScreen(fullScreen: boolean) {\n        browserSetFullScreen(fullScreen, store);\n    }\n\n    function setAutoStart(autoStart: boolean) {\n        store.dispatch(uiSlice.actions.autoStart(autoStart));\n    }\n\n    function setKiosk(kiosk: boolean) {\n        store.dispatch(uiSlice.actions.kiosk(kiosk));\n    }\n\n    function setImageRendering(imageRendering: ImageRendering) {\n        store.dispatch(dosSlice.actions.imageRendering(imageRendering));\n    }\n\n    function setRenderBackend(backend: RenderBackend) {\n        store.dispatch(dosSlice.actions.renderBackend(backend));\n    }\n\n    function setRenderAspect(aspect: RenderAspect) {\n        store.dispatch(dosSlice.actions.renderAspect(aspect));\n    }\n\n    function setNoNetworking(networking: boolean) {\n        store.dispatch(uiSlice.actions.noNetworking(networking));\n    }\n\n    function setNoCloud(cloud: boolean) {\n        store.dispatch(uiSlice.actions.noCloud(cloud));\n    }\n\n    function setPaused(paused: boolean) {\n        store.dispatch(dosSlice.actions.paused(paused));\n    }\n\n    function setScaleControls(scale: number) {\n        store.dispatch(dosSlice.actions.scaleControls(scale));\n    }\n\n    function setMouseSensitivity(sensitivity: number) {\n        store.dispatch(dosSlice.actions.mouseSensitivity(sensitivity));\n    }\n\n    function setNoCursor(noCursor: boolean) {\n        store.dispatch(dosSlice.actions.noCursor(noCursor));\n    }\n\n    function setSoftKeyboardLayout(layout: string[] | string[][][]) {\n        store.dispatch(dosSlice.actions.softKeyboardLayout(layout));\n    }\n\n    function setSoftKeyboardSymbols(symbols: {[key: string]: string}[]) {\n        store.dispatch(dosSlice.actions.softKeyboardSymbols(symbols));\n    }\n\n    function setVolume(volume: number) {\n        store.dispatch(dosSlice.actions.volume(volume));\n    }\n\n    function setKey(key: string | null) {\n        if (key === null || key.length !== 5) {\n            store.dispatch(authSlice.actions.setAccount(null));\n        } else {\n            loadAccount(key).then(({ account }) => {\n                store.dispatch(authSlice.actions.setAccount(account));\n            }).catch(console.error);\n        }\n    }\n\n    if (options.theme) {\n        setTheme(options.theme);\n    }\n\n    if (options.lang) {\n        setLang(options.lang);\n    }\n\n    if (options.backend) {\n        setBackend(options.backend);\n    }\n\n    if (options.backendLocked) {\n        setBackendLocked(options.backendLocked);\n    }\n\n    if (options.workerThread !== undefined) {\n        setWorkerThread(options.workerThread);\n    }\n\n    if (options.mouseCapture !== undefined) {\n        setMouseCapture(options.mouseCapture);\n    }\n\n    if (options.server) {\n        setServer(options.server);\n    }\n\n    if (options.room) {\n        setRoom(options.room);\n    }\n\n    if (options.background) {\n        setBackground(options.background);\n    }\n\n    if (options.fullScreen !== undefined) {\n        setFullScreen(options.fullScreen);\n    }\n\n    if (options.autoStart !== undefined) {\n        setAutoStart(options.autoStart);\n    }\n\n    if (options.kiosk !== undefined) {\n        setKiosk(options.kiosk);\n    }\n\n    if (options.imageRendering !== undefined) {\n        setImageRendering(options.imageRendering);\n    }\n\n    if (options.renderBackend !== undefined) {\n        setRenderBackend(options.renderBackend);\n    }\n\n    if (options.renderAspect !== undefined) {\n        setRenderAspect(options.renderAspect);\n    }\n\n    if (options.noNetworking !== undefined) {\n        setNoNetworking(options.noNetworking);\n    }\n\n    if (options.noCloud !== undefined) {\n        setNoCloud(options.noCloud);\n    }\n\n    if (options.scaleControls !== undefined) {\n        setScaleControls(options.scaleControls);\n    }\n\n    if (options.mouseSensitivity !== undefined) {\n        setMouseSensitivity(options.mouseSensitivity);\n    }\n\n    if (options.noCursor !== undefined) {\n        setNoCursor(options.noCursor);\n    }\n\n    if (options.softKeyboardLayout !== undefined) {\n        setSoftKeyboardLayout(options.softKeyboardLayout);\n    }\n\n    if (options.softKeyboardSymbols !== undefined) {\n        setSoftKeyboardSymbols(options.softKeyboardSymbols);\n    }\n\n    if (options.volume !== undefined) {\n        setVolume(options.volume);\n    }\n\n    if (options.key !== undefined) {\n        setKey(options.key);\n    }\n\n    render(\n        <Provider store={store}>\n            {<Ui /> as any}\n        </Provider>,\n        element,\n    );\n\n    return {\n        setTheme,\n        setLang,\n        setBackend,\n        setBackendLocked,\n        setWorkerThread,\n        setMouseCapture,\n        setServer,\n        setRoom,\n        setFrame,\n        setBackground,\n        setFullScreen,\n        setAutoStart,\n        setKiosk,\n        setImageRendering,\n        setRenderBackend,\n        setRenderAspect,\n        setNoNetworking,\n        setNoCloud,\n        setPaused,\n        setScaleControls,\n        setMouseSensitivity,\n        setNoCursor,\n        setSoftKeyboardLayout,\n        setSoftKeyboardSymbols,\n        setVolume,\n        setKey,\n\n        save: () => {\n            return apiSave(getState(store) as any as State, nonSerializableStore, store.dispatch);\n        },\n        stop: async () => {\n            store.dispatch(uiSlice.actions.hidden(true));\n            const nonSerializableStore = getNonSerializableStore(store);\n            if (nonSerializableStore.ci) {\n                return nonSerializableStore.ci.exit();\n            }\n        },\n    };\n};\n\nfunction setupRootElement(root: HTMLDivElement, nonSerializableStore: NonSerializableStore, store: Store) {\n    nonSerializableStore.root = root;\n    root.classList.add(\"jsdos-rso\");\n    root.addEventListener(\"contextmenu\", (e) => {\n        if (e.target !== null &&\n            (e.target as HTMLElement).classList?.contains(\"contextmenu\")) {\n            return;\n        }\n        e.stopPropagation();\n        e.preventDefault();\n        return false;\n    });\n    document.addEventListener(\"fullscreenchange\", () => {\n        const fullscreen = document.fullscreenElement === root;\n        store.dispatch(uiSlice.actions.setFullScreen(fullscreen));\n        if (!fullscreen) {\n            apiSave(getState(store) as any, nonSerializableStore, store.dispatch);\n        }\n    });\n    document.addEventListener(\"pointerlockchange\", () => {\n        if (document.pointerLockElement === null) {\n            apiSave(getState(store) as any, nonSerializableStore, store.dispatch);\n        }\n    });\n    function listen() {\n        store.dispatch(uiSlice.actions.documentHidden(document.hidden));\n    };\n    document.addEventListener(\"visibilitychange\", listen);\n}\n\n(window as any).Dos = Dos;\n"],"names":["n","l","u","i","o","r","f","e","c","s","a","h","Array","isArray","v","p","parentNode","removeChild","y","t","arguments","length","children","call","defaultProps","d","type","props","key","ref","__k","__","__b","__e","__d","__c","constructor","__v","__i","__u","vnode","_","current","g","b","this","context","m","k","base","w","push","x","__r","debounceRendering","sort","shift","__P","L","__n","ownerSVGElement","M","C","String","H","N","P","z","S","nextSibling","insertBefore","$","some","I","setProperty","test","T","style","cssText","replace","toLowerCase","slice","Date","now","addEventListener","D","A","removeEventListener","removeAttribute","setAttribute","event","contextType","value","__E","prototype","render","O","sub","state","__h","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","indexOf","localName","nodeType","document","createTextNode","createElementNS","createElement","is","data","childNodes","attributes","name","__html","innerHTML","j","diffed","l$5","unmount","componentWillUnmount","q","firstChild","B","E","F","Consumer","Provider","splice","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","then","bind","resolve","setTimeout","__H","__V","__N","filter","every","o$1","concat","useDebugValue","V","__m","r$4","requestAnimationFrame","clearTimeout","cancelAnimationFrame","displayName","isReactComponent","__f","isPureReactComponent","R","Symbol","for","$$typeof","map","count","only","toArray","appendChild","U","__a","default","__R","__O","pop","fallback","delete","revealOrder","size","W","q$7","containerInfo","get","Map","reverse","set","Z","Y","textContent","G","Object","defineProperty","configurable","writable","J","K","Q","cancelBubble","X","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","nn","tn","enumerable","class","en","multiple","selected","defaultValue","className","rn","un","on","ReactCurrentDispatcher","readContext","cn","fn","an","sn","apply","hn","vn","dn","pn","mn","yn","_n","bn","Sn","gn","Cn","En","wn","useState","useId","useReducer","useEffect","useLayoutEffect","useInsertionEffect","useTransition","useDeferredValue","useSyncExternalStore","startTransition","useRef","useImperativeHandle","useMemo","useCallback","useContext","version","Children","hydrate","unmountComponentAtNode","createPortal","createContext","createFactory","cloneElement","createRef","Fragment","isValidElement","isElement","isFragment","findDOMNode","Component","PureComponent","memo","forwardRef","flushSync","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","require$$0","getSnapshot","window","inst","useSyncExternalStoreShim_production_min","shimModule","exports","require$$1","withSelector_production_min","useSyncExternalStoreWithSelector","hasValue","withSelectorModule","batch","callback","getBatch","ContextKey","gT","globalThis","getContext","_gT$ContextKey","React.createContext","contextMap","realContext","ReactReduxContext","createReduxContextHook","useReduxContext","Error","refEquality","createSelectorHook","useDefaultReduxContext","selector","equalityFnOrOptions","equalityFn","stabilityCheck","noopCheck","store","subscription","getServerState","globalStabilityCheck","globalNoopCheck","wrappedSelector","selectedState","addNestedSub","getState","useSelector","reactIs_production_min","AsyncMode","ConcurrentMode","ContextProvider","Element","ForwardRef","Memo","Portal","Profiler","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isForwardRef","isLazy","isMemo","isProfiler","isStrictMode","isSuspense","isValidElementType","typeOf","reactIsModule","reactIs","TYPE_STATICS","propTypes","compare","ContextConsumer","Lazy","isPortal","isSuspenseList","getModuleId","nullListeners","notify","createSubscription","parentSub","unsubscribe","listeners","subscriptionsAmount","selfSubscribed","handleChangeWrapper","onStateChange","trySubscribe","subscribe","first","last","clear","listener","next","isSubscribed","prev","createListenerCollection","tryUnsubscribe","cleanupListener","removed","notifyNestedSubs","getListeners","useIsomorphicLayoutEffect","React.useLayoutEffect","React.useEffect","serverState","contextValue","React.useMemo","previousState","React.createElement","createStoreHook","useStore","createDispatchHook","useDefaultStore","dispatch","useDispatch","join","getPrototypeOf","hasOwnProperty","Function","toString","keys","t2","has","add","Set","create","freeze","isFrozen","n2","e2","getOwnPropertyDescriptor","Proxy","revocable","revoke","proxy","u2","e3","from","Reflect","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","getOwnPropertyDescriptors","Number","isNaN","deleteProperty","setPrototypeOf","produce","produceWithPatches","useProxies","setUseProxies","autoFreeze","setAutoFreeze","createDraft","finishDraft","applyPatches","path","op","_typeof","obj","iterator","_toPropertyKey","arg","input","hint","prim","toPrimitive","res","TypeError","_defineProperty","toPropertyKey","object","enumerableOnly","symbols","sym","_objectSpread2","target","source","defineProperties","formatProdErrorMessage","code","$$observable","observable","randomString","Math","random","substring","split","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","createStore","reducer","preloadedState","enhancer","_ref2","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","index","action","proto","isPlainObject","replaceReducer","nextReducer","_ref","outerSubscribe","observer","observeState","combineReducers","reducers","reducerKeys","finalReducers","shapeAssertionError","finalReducerKeys","assertReducerShape","hasChanged","nextState","_i","_key","previousStateForKey","nextStateForKey","compose","_len","funcs","reduce","applyMiddleware","middlewares","_dispatch","middlewareAPI","chain","middleware","_objectSpread","createThunkMiddleware","extraArgument","thunk","withExtraArgument","thunkMiddleware","__extends","extendStatics","__proto__","__generator","thisArg","body","label","sent","trys","ops","verb","throw","return","done","step","__spreadArray","to","il","__defProp","__defProps","__getOwnPropDescs","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","propertyIsEnumerable","__defNormalProp","__spreadValues","prop","_c","__spreadProps","composeWithDevTools","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","createAction","prepareAction","actionCreator","args","prepared","payload","meta","error","match","MiddlewareArray","_super","_this","species","MiddlewareArray2","arr","prepend","EnhancerArray","EnhancerArray2","freezeDraftable","val","isDraftable","createNextState","curryGetDefaultMiddleware","options","immutableCheck","serializableCheck","actionCreatorCheck","middlewareArray","getDefaultMiddleware","IS_PRODUCTION","configureStore","rootReducer","curriedGetDefaultMiddleware","_d","_e","_f","devTools","_g","_h","enhancers","baseProto","finalMiddleware","middlewareEnhancer","finalCompose","compose2","trace","defaultEnhancers","storeEnhancers","executeReducerBuilderCallback","builderCallback","defaultCaseReducer","actionsMap","actionMatchers","builder","addCase","typeOrActionCreator","addMatcher","matcher","addDefaultCase","createSlice","initialState","_reducer","reducerNames","sliceCaseReducersByName","sliceCaseReducersByType","actionCreators","buildReducer","extraReducers","finalCaseReducers","mapOrBuilderCallback","getInitialState","finalActionMatchers","finalDefaultCaseReducer","frozenInitialState_1","caseReducers","cr","caseReducer","result","isDraft2","isDraftable2","createNextState2","draft","createReducer","actionMatchers_1","reducerName","prepareCallback","maybeReducerWithPrepare","prepare","actions","commonProperties","RejectWithValue","FulfillWithMeta","miniSerializeError","simpleError","commonProperties_1","property","message","unwrapResult","rejectedWithValue","createAsyncThunk2","typePrefix","payloadCreator","fulfilled","requestId","requestStatus","pending","rejected","serializeError","aborted","condition","AC","AbortController","class_1","signal","dispatchEvent","onabort","reason","throwIfAborted","abort","assign","extra","abortReason","idGenerator","id","nanoid","abortController","promise2","__this","__arguments","generator","_a","_b","finalAction","conditionResult","abortedPromise","err_1","reject","getPendingMeta","race","rejectWithValue","fulfillWithValue","dispatchConditionRejection","unwrap","withTypes","alm","queueMicrotask","global","r3","min","enableES5","translations","ru","hello","hello_guest","mobile_controls","mirrored_controls","scale_controls","enter_name_of_drive","ws_outdated","update","preloading_sockdrive","logout","features","premium","buy","experimental_features","cloud_saves","writeable_fat32","net_no_limits","unlock_options","consult_logs","bundle_loading","bundle_config","try_free","upload_file","emulation_backend","render_backend","render_aspect","worker","mouse_sensitivity","mouse_lock","volume","pause","dosboxconf_template","preview","continue","skip","loading","extract_loading","extract_long_time","theme","create_empty","uploading_file","fs_restart","please_wait","making_bundle","room","server","load_by_url","enter_url","load","stored","editor","download","changes","loading_saves","success","success_save","warn_save","unable_to_save","not_premium","copy_net_link","copied","image_rendering","read_only_access","fix","close","cancle","manage","unable_to_cancle_subscription","subscription_cancelled","hardware","net_drives","fat_write","play","system_cursor","no_cloud_access","no_cloud_access2","initialLang","navigator","language","startsWith","i18nSlice","lang","setLang","useT","i18n","dosboxconf","backend","contents","editorSlice","configChanged","bundleConfig","errorMessage","fs","init","dosboxConf","jsdosConf","MemStorage","__publicField","storage","setItem","getItem","undefined","removeItem","lStorage","prefix","localStorage","testBackend","sync","testKey","readedValue","setLocalStoragePrefix","toRemove","writeStringToKey","offset","substr","NEXT_PART_SYMBOL","NEXT_PART_SYFFIX","readStringFromKey","ThemeValues","uiSlice","hidden","frame","frameXs","wideScreen","fullScreen","toast","toastIntent","toastTimeoutId","background","updateWsWarning","cloudSaves","autoStart","kiosk","documentHidden","noNetworking","noCloud","warnOnKey","warnOnPremium","frameNone","frameSettings","frameNetwork","frameStats","frameConf","frameFs","frameFatDrives","framePreRun","windowSelect","setEditor","setWideScreen","setFullScreen","showToast","clearInterval","intent","asyncStore","hideToast","long","dosSlice","bndPlay","endsWith","uploadsS3Bucket","uploadsS3Url","uploadNamspace","apiEndpoint","presignPut","tokenGet","brCdn","actualWsVersion","cachedAccount","authSlice","account","json","JSON","parse","email","token","setAccount","stringify","setSockdriveWrite","async","loadAccount","charCodeAt","fetch","storageSlice","recived","total","ready","reset","progress","CacheNoop","put","del","each","LCache","owner","onready","onerror","indexedDB","mozIndexedDB","webkitIndexedDB","msIndexedDB","openRequest","open","onsuccess","db","onupgradeneeded","createObjectStore","storeName","createIndex","unique","multiEntry","request","transaction","objectStore","buffer","rejectOrResolve","Uint8Array","getAllKeys","openCursor","cursor","sockdriveBackendNames","sockdriveBackend","sockdriveEndpoint","sockdriveWssEndpoint","localhost","storeUid","createInitSlice","uid","sockdriveBackendName","setSockdriveBackendName","initSlice","dosMiddleware","actionWithAsyncDispatch","nonSerializableStoreMap","getNonSerializableStore","storeOrState","useNonSerializableStore","postJsDosEvent","nonSerializableStore","ci","onEvent","alphabet","BackendValues","RenderBackendValues","RenderAspectValues","FitConstant","ImageRenderingValues","emuVersion","bundle","config","backendLocked","backendHardware","renderBackend","renderAspect","parseFloat","mobileControls","mirroredControls","scaleControls","mouseSensitivity","mouseCapture","paused","stats","cyclesPerMs","nonSkippableSleepPreSec","sleepPerSec","sleepTimePerSec","framePerSec","soundPerSec","msgSentPerSec","msgRecvPerSec","netRecv","netSent","driveSent","driveRecv","driveRecvTime","driveCacheHit","driveCacheMiss","driveCacheUsed","driveIo","network","randomSymbol","ipx","ciStartedAt","imageRendering","sockdriveWrite","sockdriveInfo","softKeyboard","softKeyboardLayout","softKeyboardSymbols","softKeyboardActiveSymbols","softKeyboardActiveLayout","noCursor","emuReady","emuError","bndLoad","bndError","bndConfig","bndReady","dosWorker","dosBackend","dosBackendLocked","dosBackendHardware","connectIpx","address","canonicalAddress","networkConnect","replaceAll","statusIpx","catch","console","disconnectIpx","networkDisconnect","setRoom","setServer","addSockdriveInfo","emulatorsReady","initEmulators","pathPrefix","querySelector","script","src","onload","emulators","err","head","initEmulatorsJs","round","__source","__self","imgmount","cleanup","EditorConf","auth","dos","myDrives","setMyDrives","parseSockDrives","conf","drives","re","RegExp","exec","num","drive","sockdrives","setSockdrives","setSockdrivesAndUpdateConf","parts","values","start","footer","trim","updateDosboxConf","changeConfig","newConf","_jsxs","_jsx","onClick","_Fragment","xmlns","fill","viewBox","stroke","onChange","newSockdrives","currentTarget","tabIndex","role","parentElement","blur","self","__data__","toStringTag","valueOf","byteLength","byteOffset","ArrayBuffer","IE_PROTO","hash","string","nmd","process","require","types","binding","Buffer","isBuffer","isTypedArray","cache","Cache","resetWarningCache","isRequired","array","bigint","bool","func","number","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","loaded","__esModule","paths","xe","expandNodesToLevel","me","crypto","getRandomValues","toUpperCase","construct","sham","Boolean","ReferenceError","title","ALL","PARENT","LEAF","stack","flatNodes","disabled","noCascade","nodeHasChildren","parent","isChild","isParent","isLeaf","showCheckbox","getDisabledState","treeDepth","flattenNodes","expanded","toggleNode","toggleChecked","toggleParentStatus","isEveryChildChecked","getNode","checked","updateDeterminateProperty","indeterminate","checkbox","check","uncheck","halfCheck","expandClose","expandOpen","expandAll","collapseAll","parentClose","parentOpen","leaf","toggle","onCheck","onCheckboxKeyPress","onCheckboxKeyUp","onExpand","getCheckState","which","preventDefault","keyCode","includes","expandOnClick","optimisticToggle","expandDisabled","renderCollapseIcon","icons","icon","onKeyPress","treeId","htmlFor","onKeyUp","renderCheckboxIcon","showNodeIcon","renderNodeIcon","renderCheckboxLabel","renderBareLabel","renderCollapseButton","renderLabel","renderChildren","ee","te","ne","oe","ie","ae","ce","se","le","ye","ue","pe","de","he","be","fe","nodes","deserializeLists","model","prevProps","onNodeClick","onExpandAll","onCollapseAll","combineMemorized","checkModel","clone","serializeList","expandAllNodes","isSomeChildChecked","checkState","onlyLeafCheckboxes","showNodeTitle","renderTreeNodes","determineShallowCheckState","showExpandAll","nameAsArray","renderArrayHiddenInput","renderJoinedHiddenInput","direction","iconsClass","nativeCheckboxes","renderExpandAll","renderHiddenInput","setProps","ve","ge","getChangesUrl","bundleUrl","personalBundleKey","lastIndexOf","basename","getPersonalBundleKey","apiSave","changesUrl","loadedBundle","bundleChangesUrl","ui","getT","canDoCloudSaves","putChanges","response","encodeURIComponent","post","formData","FormData","entries","fields","append","Blob","url","method","status","statusText","isSockdrivePremium","loadBundleFromFile","file","doLoadBundle","bundleFromFile","reader","FileReader","readAsArrayBuffer","loadBundleFromUrl","bundleFromUrl","lenHeader","headers","parseInt","getReader","received","chunks","read","bytes","complete","bundleFromChanges","arrayBuffer","changesProducer","bundleName","bundlePromise","bundleChangesPromise","bundleChanges","syncWithConfig","initFs","downloadArrayToFs","fileName","blob","targetBlank","href","display","click","remove","downloadUrlToFs","URL","createObjectURL","EditorFsFrame","haveCi","fsSize","setFsSize","fsTree","_setFsTree","setExpanded","setChecked","uploadingFile","setUploadingFile","makingBundle","setMakingBundle","setFsTree","calcFsSize","cancled","tree","toNodes","Actions","onRefresh","onUploadingFile","onMakingBundle","CheckboxTree","FolderOpened","FolderClosed","nodeSorter","toNode","fsNode","fullPath","nodeExt","uploadDirRef","uploadFileRef","onUploadClick","onUpload","files","webkitRelativePath","relPath","fsWriteFile","stream","confirm","loadBundle","openConfig","localeCompare","Select","multiline","selectClass","onSelect","BackendSelect","locked","OptionSelect","newValue","RenderSelect","RenderAspectSelect","ImageRenderingSelect","ThemeSelect","SockdriveBackend","LockBadge","FatDrivesFrame","setFilter","busy","setBusy","forkDialogRef","deleteDialogRef","forkName","setForkName","deleteConfirm","setDeleteConfirm","dialogError","setDialogError","dialogIndex","setDialogIndex","sockdrivePremium","setSockdrivePremium","reloadDrives","finally","fork_of","template","placeholder","showModal","newDrives","Checkbox","intermediate","toggleClass","NetworkFrame","ipxLink","location","searchSeparator","newServer","text","clipboard","writeText","Editor","MouseCapture","lock","SystemCursor","MobileControls","MirroredControls","PauseCheckbox","WorkerCheckbox","HardwareCheckbox","SockdriveWrite","visible","Slider","sliderRef","pointRef","sliderEl","pressed","updatePercent","boundingRect","getBoundingClientRect","percent","max","clientX","left","width","onPointerDown","onPointerMove","onPointerUp","MouseSensitiviySlider","sensitivity","ScaleControlsSlider","VolumeSlider","SettingsFrame","StatsFrame","startedAt","driveInfo","cycles","driveRecvMb","driveSpeedMb","JSDOS_VERSION","info","write","io","PreRunWindow","Play","SecretKey","knownToken","stateSetToken","setToken","fireOpenKey","dzMark","warnMark","maxLength","frameVisible","onPlay","isView","bundleUpdateConfig","button","stopPropagation","PreRunFrame","Frame","browserSetFullScreen","root","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","webkitEnterFullscreen","classList","contains","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","FullscreenButton","NetworkButton","hightlight","inactive","FatDrivesButton","SidebarButton","DosboxConfButton","FsButton","CyclesButton","HddLed","recv","enabled","delayLedTo","el","setInterval","newRecv","newEnabled","setOn","off","setOff","timeoutId","statsRecv","SettingsButton","SoftKeyboardButton","PreRunButton","DisketteIcon","SaveButtons","showLoad","setShowLoad","dosboxX","CloudSaveButton","SaveButton","bgcolor","textcolor","LoadButton","sendBackendEvent","SideBar","networking","KBD_NONE","KBD_0","KBD_9","KBD_f1","KBD_f2","KBD_f3","KBD_f4","KBD_f5","KBD_f6","KBD_f7","KBD_f8","KBD_f9","KBD_f10","KBD_f11","KBD_f12","KBD_kp0","KBD_kp1","KBD_kp2","KBD_kp3","KBD_kp4","KBD_kp5","KBD_kp6","KBD_kp7","KBD_kp8","KBD_kp9","KBD_esc","KBD_tab","KBD_backspace","KBD_enter","KBD_space","KBD_leftalt","KBD_leftctrl","KBD_leftshift","KBD_capslock","KBD_minus","KBD_equals","KBD_leftbracket","KBD_rightbracket","KBD_semicolon","KBD_quote","KBD_period","KBD_comma","KBD_home","KBD_pageup","KBD_delete","KBD_end","KBD_pagedown","KBD_left","KBD_up","KBD_down","KBD_right","domToKeyCodes","namedKeyCodes","KBD_1","KBD_2","KBD_3","KBD_4","KBD_5","KBD_6","KBD_7","KBD_8","KBD_a","KBD_b","KBD_c","KBD_d","KBD_e","KBD_f","KBD_g","KBD_h","KBD_i","KBD_j","KBD_k","KBD_l","KBD_m","KBD_n","KBD_o","KBD_p","KBD_q","KBD_r","KBD_s","KBD_t","KBD_u","KBD_v","KBD_w","KBD_x","KBD_y","KBD_z","KBD_kpperiod","KBD_kpdivide","KBD_kpmultiply","KBD_kpminus","KBD_kpplus","KBD_kpenter","KBD_rightalt","KBD_rightctrl","KBD_rightshift","KBD_scrolllock","KBD_numlock","KBD_grave","KBD_backslash","KBD_slash","KBD_printscreen","KBD_pause","KBD_insert","KBD_extra_lt_gt","domToKeyCode","domCode","resizeCanvas","canvas","frameWidth","frameHeight","forceAspect","rect","containerWidth","containerHeight","height","aspect","position","top","vsSource","fsSource","webGl","gl","shaderProgram","vertexShader","loadShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","initShaderProgram","vertexPosition","getAttribLocation","textureCoord","uSampler","getUniformLocation","positionBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","positions","bufferData","Float32Array","STATIC_DRAW","vertexAttribPointer","FLOAT","enableVertexAttribArray","textureCoordBuffer","textureCoordinates","texture","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","pixel","texImage2D","RGB","UNSIGNED_BYTE","useProgram","activeTexture","TEXTURE0","uniform1i","requestAnimationFrameId","frameFormat","updateTexture","drawArrays","TRIANGLES","onResize","onResizeFrame","viewport","events","onFrameSize","onFrame","rgb","rgba","RGBA","resizeObserver","ResizeObserver","observe","disconnect","shaderType","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","deleteShader","Uint8ClampedArray","frameRgb","frameRgba","frameOffset","rgbaOffset","putImageData","ImageData","SamplesQueue","samplesQueue","samples","writeTo","dst","bufferSize","writeIt","toRead","getPointerState","evt","targetTouches","clientY","mX","mY","offsetX","offsetY","movementX","movementY","pointer","isMobile","appVersion","userAgent","platform","maxTouchPoints","isTouch","isPointer","PointerEvent","isMSPointer","MSPointerEvent","canLock","starters","changers","enders","leavers","prevents","mobile","initBind","mount","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","onStart","onEnd","onLeave","onPrevent","capture","insensitivePadding","mouseDefault","pointerButton","mapXY","eX","eY","doMapXY","pointerLockElement","exitPointerLock","xy","sendMouseMotion","sendMouseButton","clickDelay","clickThreshold","mouseSwipe","acc","prevX","prevY","mouseButton","abs","sendMouseRelativeMotion","delay","noop","mouse","unlock","requestLock","requestPointerLock","mozRequestPointerLock","webkitRequestPointerLock","mousePointerLock","umount","createDiv","innerHtml","Layers","toggleKeyboard","mouseOverlay","onKeyDown","onKeysPress","offsetWidth","offsetHeight","contentRect","addOnResize","handler","removeOnResize","setOnKeyDown","fireKeyDown","setOnKeyUp","fireKeyUp","setOnKeyPress","fireKeyPress","setOnKeysPress","fireKeysPress","keyCodes","extractLayersConfig","layersConfig","layer","layers","control","controls","keyControl","mapTo","migrateV1ToV2","keyCodeToName","initKeyCodeToName","createButton","innerSize","innerTextSize","borderWidth","backgroundImage","symbolToUrl","innerButton","innerText","fontSize","widthPx","heightPx","onDown","onUp","mapToSymbol","deprecatedCreateHandler","down","right","enter","fullscreen","save","keyboard","up","do","dw","dwn","lft","ri","rght","rgh","enr","ent","entr","mouseNotLocked","pressedButton","pointerDisabled","autolock","mouseLocked","isNotLocked","distance","p1","p2","dx","dy","sqrt","radians","PI","degrees","timers","throttle","cb","bindEvt","attachEvent","unbindEvt","detachEvent","prepareEvent","changedTouches","getScroll","pageXOffset","documentElement","scrollLeft","pageYOffset","scrollTop","applyPosition","pos","bottom","getTransitionStyle","time","configStylePropertyObject","st","vendor","charAt","extend","objA","objB","ar","toBind","move","end","secondBind","Super","Nipple","collection","identifier","frontPosition","defaults","threshold","color","fadeTime","dataOnly","restJoystick","restOpacity","mode","zone","lockX","lockY","buildEl","stylize","instance","show","hide","addToDom","removeFromDom","destroy","setPosition","resetDirection","computeDirection","trigger","Collection","manager","nipples","idles","actives","ids","pressureIntervals","multitouch","maxNumberOfNipples","catchDistance","dynamicPage","follow","computedStyle","getComputedStyle","parentIsFlex","updateBox","prepareNipples","bindings","begin","Manager","collections","scroll","u.getScroll","prepareCollections","resizeHandler","nipple","u.throttle","scrollHandler","_handlers_","u.safeExtend","_domHandlers_","warn","u.bindEvt","u.unbindEvt","back","front","animTime","borderStyle","u.getVendorStyle","transitStyle","u.getTransitionStyle","styles","opacity","zIndex","marginLeft","marginTop","transform","applyStyles","removeTimeout","showTimeout","restTimeout","restCallback","rest","newPosition","angle","directionX","directionY","rAngle","radian","angle45","angle90","force","oldDirection","same","nips","processOnMove","processOnEnd","touchAction","msTouchAction","opts","createNipple","getIdentifier","toPutOn","box","dumb","dumbBox","u.applyPosition","bindNipple","onDestroyed","pressureFn","touch","previousPressure","pressure","webkitForce","onstart","origEvt","u.prepareEvent","u.map","processOnStart","touches","findIndex","bindDocument","indexInIdles","pageX","pageY","getOrCreate","removeIdentifier","nip","u.distance","buttons","u.isPressed","elBox","clamped_dist","clamped_pos","dist","atan2","u.angle","u.radians","raw","cos","sin","u.findCoord","nipplePos","u.clamp","delta_x","delta_y","xPosition","yPosition","toSend","degree","vector","removedIdentifier","unbindDocument","createCollection","bindCollection","binded","pointerId","latest","onmove","onAny","onend","oncancel","processFn","processColl","coll","_found_","factory","nipplejs","layersNames","onLayerChange","ident","controlsVisbile","updateVisibility","createSelectForLayers","toggleOptions","container","marginRight","marginBottom","select","option","onchange","onStop","mapperOpt","mapper","sendKeyEvent","simulateKeyPress","initLegacyLayersControl","dosInstance","unbind","gestures","changeControlLayer","layerName","mapping","press","release","releaseOnEnd","tapJoysticks","usedTimes","joystickId","startTimes","cssStyle","deprecatedButton","unbindOptions","optionControls","getGrid","gridType","SquareGrid","getConfiguration","scale","cols","getCols","rows","getRows","middleCol","floor","middleRow","columnsPadding","rowsPadding","columnWidth","rowHeight","cells","row","cellRow","col","centerX","centerY","getSquareGrid","cellCols","padding","getHoneyCombGrid","initLayersControl","mirrored","selectedLayer","layerConfig","unbindKeyboard","unbindMouse","unbindControls","rebuild","grid","gridConfig","sensors","ControlSensors","column","doOffsetColumnInRow","mirroredInfo","columnsCount","middleColumn","leftStart","leftEnd","rightStart","rightEnd","factoryMapping","copy","leftSide","initLayerConfig","activate","sensor","deactivate","register","Key","isHidden","Options","optionControl","createKeyboardControl","Keyboard","Switch","switchControl","setActiveConfig","getActiveConfig","ScreenMove","screenMoveControl","PointerButton","pointerButtonControl","PointerMove","pointerMoveControl","PointerReset","pointerResetControl","sendMouseSync","PointerToggle","pointerToggleControl","NippleActivator","nippleActivatorControl","nippleContainer","cellSize","activeColumn","activeRow","targetColumn","targetRow","half","started","keyboardControl","setHiddenAround","centralRow","centralColumn","setHiddenIfValid","rowCells","useDosRuntime","preloadProgress","onMessage","msgType","log","toFixed","useLog","rendering","useRenderImage","prevCycles","prevNonSkippableSleepCount","prevSleepCount","prevSleepTime","prevFrame","prevSound","prevMsgSent","prevMsgRecv","intervalStartedAt","intervalId","asyncifyStats","dtMs","dtSec","dStats","nonSkippableSleepCount","sleepCount","sleepTime","messageFrame","messageSound","messageSent","messageReceived","structuredClone","useStats","resume","usePause","useKeyboard","useMouse","nsStore","activeLayer","useLayers","canvasRender","webglRender","useRenderBackend","audioNode","bindVolumeFn","sampleRate","soundFrequency","audioContext","AudioContext","latencyHint","webkitAudioContext","onSoundPush","createScriptProcessor","onaudioprocess","numFrames","outputBuffer","numChannels","numberOfChannels","samplesCount","channel","channelData","getChannelData","gainNode","createGain","unbindVolumeFn","connect","destination","gain","resumeWebAudio","once","setVolume","updateVolumeIfNeeded","newVolume","useAudioBackend","dhry2Bundle","Dhry2Results","results","setResults","runs","vax","pc","setStats","onStdout","oldStdoutFn","dt","runsStr","deltaStr","vaxRatingStr","delta","vaxRating","getComparablePc","NEWER","OLDER","LRUMap","limit","oldest","newest","_keymap","_markEntryAsUsed","entry","MAX_VALUE","it","itv","Entry","BlockCache","sectorSize","aheadRange","memoryLimit","lru","sector","originReadMode","origin","getOrigin","cached","memUsed","MEMORY_LIMIT","preloadPriority","Drive","endpoint","module","preloadSectors","aheadSize","maxRead","readBuffer","readAheadBuffer","readAheadPos","readAheadCompressed","readStartedAt","decodeBuffer","openFn","preloadQueue","preloadProgressFn","restBytes","errorFn","readOnly","alive","pendingRequest","writeBuffer","reconnect","onError","onOpen","onPreloadProgress","progressFn","socket","WebSocket","binaryType","onInit","aheadRangeStr","sizeStr","decodeBufferSize","preloadLength","preloadPos","preload","onPreloadMessage","makePreloadRequest","send","executeRequest","makeReadRequest","sectors","cacheHit","HEAPU8","cacheMiss","bufferedAmount","readyState","CLOSED","CLOSING","restLength","expectedSize","decodeResult","output","sIdx","eIdx","literalsLength","matchLength","decodeLz4","aheadOffset","cacheUsed","readTotalTime","currentSocket","textDecoder","TextDecoder","textEncoder","TextEncoder","fMultiplier","clientMessageEnum","serverMessageEnum","WsTransportLayer","sockdrive","createSockdrive","seq","templates","memory","heads","cylinders","sector_size","imageSize","handle","ptr","onSockdriveOpen","onSockdriveError","onSockdrivePreloadProgress","tag","ev","sendMessageToSocket","writeUint32","readUint32","readUint64","encoded","readMessage","out","msg","decode","chunk","freq","lines","heapu8","networkType","lookupNode","dir","find","sizes","protocol","hostname","networkId","packet","sendMessageToServer","sessionId","messageId","encode","timeMs","relative","onlyChanges","initMessageHandler","exit","SoftKeyboard","layout","activeSymbols","activeLayout","buttonToCode","short","onPointerCancel","DosWindow","canvasRef","setCi","accessToken","bundles","ws","inervalId","onSuccess","createWsTransportLayer","DosRuntime","onSkip","ErrorWindow","Loading","formatSize","LoadingWindow","fileInput","SelectWindow","useUrl","setUseUrl","Load","Upload","toUint8Array","loadEmptyBundle","setUrl","setError","validUrl","onFileChange","Window","frameOpened","windowComponent","currentWideScreen","Ui","rootRef","wide","Toast","UpdateWsWarning","intentClass","Dos","makeNonSerializableStore","makeStore","getDefault","all","host","listen","fullscreenElement","pollStep","setTheme","setBackend","setBackendLocked","setWorkerThread","workerThread","setMouseCapture","setBackground","setAutoStart","setKiosk","setImageRendering","setRenderBackend","setRenderAspect","setNoNetworking","setNoCloud","cloud","setScaleControls","setMouseSensitivity","setNoCursor","setSoftKeyboardLayout","setSoftKeyboardSymbols","setKey","loadBundleFromConfg","setFrame","setPaused","stop"],"mappings":"i2BAAG,IAACA,EAAEC,EAAEC,EAAIC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAE,CAAA,EAAGC,EAAE,GAAGC,EAAE,oEAAoEC,EAAEC,MAAMC,QAAQ,SAASC,EAAEd,EAAEC,GAAG,IAAA,IAAQC,KAAKD,EAAED,EAAEE,GAAGD,EAAEC,GAAUF,OAAAA,CAAC,CAAC,SAASe,EAAEf,GAAG,IAAIC,EAAED,EAAEgB,WAAWf,GAAGA,EAAEgB,YAAYjB,EAAE,CAAC,SAASkB,EAAEjB,EAAEC,EAAEiB,GAAG,IAAIhB,EAAEC,EAAEC,EAAEC,EAAE,GAAG,IAAID,KAAKH,EAAE,OAAOG,EAAEF,EAAED,EAAEG,GAAG,OAAOA,EAAED,EAAEF,EAAEG,GAAGC,EAAED,GAAGH,EAAEG,GAAG,GAAGe,UAAUC,OAAO,IAAIf,EAAEgB,SAASF,UAAUC,OAAO,EAAErB,EAAEuB,KAAKH,UAAU,GAAGD,GAAG,mBAAmBlB,GAAG,MAAMA,EAAEuB,aAAa,IAAInB,KAAKJ,EAAEuB,kBAAsBlB,IAAAA,EAAED,KAAKC,EAAED,GAAGJ,EAAEuB,aAAanB,IAAI,OAAOoB,EAAExB,EAAEK,EAAEH,EAAEC,EAAE,KAAK,CAAC,SAASqB,EAAEzB,EAAEmB,EAAEhB,EAAEC,EAAEC,GAAG,IAAIC,EAAE,CAACoB,KAAK1B,EAAE2B,MAAMR,EAAES,IAAIzB,EAAE0B,IAAIzB,EAAE0B,IAAI,KAAKC,GAAG,KAAKC,IAAI,EAAEC,IAAI,KAAKC,SAAI,EAAOC,IAAI,KAAKC,iBAAY,EAAOC,IAAI,MAAMhC,IAAIH,EAAEG,EAAEiC,KAAI,EAAGC,IAAI,GAAU,OAAA,MAAMlC,GAAG,MAAMJ,EAAEuC,OAAOvC,EAAEuC,MAAMlC,GAAGA,CAAC,CAAC,SAASmC,IAAU,MAAA,CAACC,QAAQ,KAAK,CAAC,SAASC,EAAE3C,GAAG,OAAOA,EAAEsB,QAAQ,CAAC,SAASsB,EAAE5C,EAAEC,GAAQ4C,KAAAlB,MAAM3B,EAAE6C,KAAKC,QAAQ7C,CAAC,CAAC,SAAS8C,EAAE/C,EAAEC,GAAG,GAAG,MAAMA,EAASD,OAAAA,EAAE+B,GAAGgB,EAAE/C,EAAE+B,GAAG/B,EAAEsC,IAAI,GAAG,KAAK,IAAA,IAAQpC,EAAED,EAAED,EAAE8B,IAAIT,OAAOpB,IAAI,GAAG,OAAOC,EAAEF,EAAE8B,IAAI7B,KAAK,MAAMC,EAAE+B,IAAI,OAAO/B,EAAE+B,IAAI,MAAM,mBAAmBjC,EAAE0B,KAAKqB,EAAE/C,GAAG,IAAI,CAAC,SAASgD,EAAEhD,GAAG,IAAIC,EAAEC,EAAE,GAAG,OAAOF,EAAEA,EAAE+B,KAAK,MAAM/B,EAAEmC,IAAI,CAAKnC,IAAAA,EAAEiC,IAAIjC,EAAEmC,IAAIc,KAAK,KAAKhD,EAAE,EAAEA,EAAED,EAAE8B,IAAIT,OAAOpB,IAAO,GAAA,OAAOC,EAAEF,EAAE8B,IAAI7B,KAAK,MAAMC,EAAE+B,IAAI,CAACjC,EAAEiC,IAAIjC,EAAEmC,IAAIc,KAAK/C,EAAE+B,IAAI,KAAK,CAAC,OAAOe,EAAEhD,EAAE,CAAC,CAAC,SAASkD,EAAElD,KAAKA,EAAEkC,MAAMlC,EAAEkC,KAAI,IAAK/B,EAAEgD,KAAKnD,KAAKoD,EAAEC,OAAOjD,IAAIH,EAAEqD,sBAAsBlD,EAAEH,EAAEqD,oBAAoBjD,GAAG+C,EAAE,CAAC,SAASA,IAAI,IAAIpD,EAAEE,EAAEiB,EAAEf,EAAEC,EAAEE,EAAEC,EAAEC,EAAEC,EAAE,IAAIP,EAAEoD,KAAKjD,GAAGN,EAAEG,EAAEqD,SAASxD,EAAEkC,MAAMhC,EAAEC,EAAEkB,OAAOjB,OAAE,EAAOG,GAAGF,GAAGc,EAAEnB,GAAGqC,KAAKJ,IAAIxB,EAAE,GAAGC,EAAE,IAAIF,EAAEW,EAAEsC,QAAQrD,EAAEU,EAAE,CAAA,EAAGT,IAAIgC,IAAIhC,EAAEgC,IAAI,EAAEpC,EAAEuC,OAAOvC,EAAEuC,MAAMpC,GAAGsD,EAAElD,EAAEJ,EAAEC,EAAEc,EAAEwC,SAAI,IAASnD,EAAEoD,gBAAgB,GAAGvD,EAAEkC,IAAI,CAAChC,GAAG,KAAKE,EAAE,MAAMF,EAAEwC,EAAE1C,GAAGE,KAAK,GAAGF,EAAEkC,KAAK7B,GAAGN,EAAE2B,GAAGD,IAAI1B,EAAEkC,KAAKlC,EAAEyD,EAAEpD,EAAEL,EAAEM,GAAGN,EAAE6B,KAAK1B,GAAGyC,EAAE5C,IAAID,EAAEkB,OAAOnB,GAAGC,EAAEoD,KAAKjD,IAAI8C,EAAEC,IAAI,CAAC,CAAC,SAASS,EAAE9D,EAAEC,EAAEC,EAAEiB,EAAEhB,EAAEC,EAAEC,EAAEC,EAAEC,EAAEG,EAAEC,GAAOG,IAAAA,EAAEC,EAAEG,EAAEO,EAAEgB,EAAEE,EAAExB,GAAGA,EAAEW,KAAKrB,EAAEmC,EAAE3C,EAAEoB,OAAO,IAAInB,EAAEgC,IAAI3B,EAA0Z,SAAWP,EAAEC,EAAEC,GAAG,IAAIiB,EAAEhB,EAAEC,EAAEC,EAAEC,EAAEC,EAAEN,EAAEoB,OAAOb,EAAEN,EAAEmB,OAAOZ,EAAED,EAAEE,EAAE,EAAE,IAAIV,EAAE8B,IAAI,GAAGX,EAAE,EAAEA,EAAEZ,EAAEY,IAAI,OAAOhB,EAAEH,EAAE8B,IAAIX,GAAG,OAAOhB,EAAEF,EAAEkB,KAAK,kBAAkBhB,GAAG,mBAAmBA,EAAE,KAAK,iBAAiBA,GAAG,iBAAiBA,GAAG,iBAAiBA,GAAGA,EAAEiC,aAAa2B,OAAOtC,EAAE,KAAKtB,EAAE,KAAK,KAAKA,GAAGQ,EAAER,GAAGsB,EAAEkB,EAAE,CAACrB,SAASnB,GAAG,KAAK,KAAK,WAAM,IAASA,EAAEiC,aAAajC,EAAE6B,IAAI,EAAEP,EAAEtB,EAAEuB,KAAKvB,EAAEwB,MAAMxB,EAAEyB,IAAIzB,EAAE0B,IAAI1B,EAAE0B,IAAI,KAAK1B,EAAEkC,KAAKlC,IAAIA,EAAE4B,GAAG/B,EAAEG,EAAE6B,IAAIhC,EAAEgC,IAAI,EAAE1B,EAAE0D,EAAE7D,EAAED,EAAEG,EAAEc,EAAET,EAAED,GAAGN,EAAEmC,IAAIhC,EAAEF,EAAE,MAAUE,IAAAA,IAAIG,KAAKL,EAAEF,EAAEI,MAAMF,EAAEmC,KAAK,SAAS,MAAMnC,GAAG,OAAOA,EAAEiC,MAAK,GAAI/B,GAAGI,IAAI,mBAAmBP,EAAEuB,OAAOvB,EAAEoC,KAAK,QAAQjC,IAAID,IAAIC,IAAID,EAAE,EAAEK,IAAIJ,EAAED,EAAEI,EAAEF,EAAEF,EAAEK,GAAGJ,EAAED,EAAEK,IAAIA,EAAEJ,EAAED,GAAGC,GAAGD,EAAE,EAAEC,EAAED,EAAE,EAAEC,IAAIa,EAAET,IAAIP,EAAEoC,KAAK,UAAUnC,EAAEF,EAAEiB,KAAK,MAAMf,EAAEwB,KAAKxB,EAAE6B,MAAM7B,EAAE6B,KAAKjC,EAAEkC,MAAMlC,EAAEkC,IAAIa,EAAE3C,IAAI6D,EAAE7D,EAAEA,GAAE,GAAIF,EAAEiB,GAAG,KAAKV,KAAQA,GAAAA,EAAMU,IAAAA,EAAE,EAAEA,EAAEX,EAAEW,IAAI,OAAOf,EAAEF,EAAEiB,KAAK,IAAI,OAAOf,EAAEmC,OAAOnC,EAAE6B,KAAKjC,EAAEkC,MAAMlC,EAAEkC,IAAIa,EAAE3C,IAAI6D,EAAE7D,EAAEA,GAAG,CAAhtC8D,CAAEhE,EAAED,EAAE0C,GAAGpC,EAAEL,EAAEgC,IAAIpB,EAAE,EAAEA,EAAE8B,EAAE9B,IAAWI,OAAAA,EAAEhB,EAAE4B,IAAIhB,KAAK,kBAAkBI,GAAG,mBAAmBA,IAAIH,GAAE,IAAKG,EAAEoB,IAAI9B,EAAEmC,EAAEzB,EAAEoB,MAAM9B,EAAEU,EAAEoB,IAAIxB,EAAE4C,EAAE1D,EAAEkB,EAAEH,EAAEZ,EAAEC,EAAEC,EAAEC,EAAEC,EAAEG,EAAEC,GAAGc,EAAEP,EAAEe,IAAIf,EAAEW,KAAKd,EAAEc,KAAKX,EAAEW,MAAMd,EAAEc,KAAKsC,EAAEpD,EAAEc,IAAI,KAAKX,GAAGP,EAAEwC,KAAKjC,EAAEW,IAAIX,EAAEiB,KAAKV,EAAEP,IAAI,MAAMuB,GAAG,MAAMhB,IAAIgB,EAAEhB,GAAG,MAAMP,EAAEqB,KAAKxB,EAAEe,MAAMZ,EAAEY,IAAIvB,EAAE6D,EAAElD,EAAEX,EAAEP,GAAG,mBAAmBkB,EAAEQ,WAAM,IAASR,EAAEgB,IAAI3B,EAAEW,EAAEgB,IAAIT,IAAIlB,EAAEkB,EAAE4C,aAAanD,EAAEgB,SAAI,EAAOhB,EAAEqB,MAAK,QAASrC,EAAEgC,IAAI3B,EAAEL,EAAE+B,IAAIQ,CAAC,CAA0zB,SAAS2B,EAAEpE,EAAEC,EAAEC,GAAG,IAAIiB,EAAEhB,EAAK,GAAA,mBAAmBH,EAAE0B,KAAK,CAAKP,IAAAA,EAAEnB,EAAE8B,IAAI3B,EAAE,EAAEgB,GAAGhB,EAAEgB,EAAEE,OAAOlB,IAAIgB,EAAEhB,KAAKgB,EAAEhB,GAAG4B,GAAG/B,EAAEC,EAAEmE,EAAEjD,EAAEhB,GAAGF,EAAEC,IAAWD,OAAAA,CAAC,CAAC,OAAOD,EAAEiC,KAAKhC,IAAIC,EAAEoE,aAAatE,EAAEiC,IAAIhC,GAAG,MAAMA,EAAED,EAAEiC,KAAKhC,GAAGA,EAAEoE,WAAW,CAAC,SAASE,EAAEvE,EAAEC,GAAG,OAAOA,EAAEA,GAAG,GAAG,MAAMD,GAAG,kBAAkBA,IAAIW,EAAEX,GAAGA,EAAEwE,MAAK,SAASxE,GAAGuE,EAAEvE,EAAEC,EAAE,IAAGA,EAAEkD,KAAKnD,IAAIC,CAAC,CAAC,SAAS+D,EAAEhE,EAAEC,EAAEC,EAAEiB,GAAG,IAAIhB,EAAEH,EAAE4B,IAAIxB,EAAEJ,EAAE0B,KAAKrB,EAAEH,EAAE,EAAEI,EAAEJ,EAAE,EAAEK,EAAEN,EAAEC,GAAG,GAAG,OAAOK,GAAGA,GAAGJ,GAAGI,EAAEqB,KAAKxB,IAAIG,EAAEmB,KAAYxB,OAAAA,EAAE,GAAGiB,GAAG,MAAMZ,GAAG,IAAI,OAAOA,EAAEgC,KAAK,EAAE,GAAG,KAAKlC,GAAG,GAAGC,EAAEL,EAAEoB,QAAQ,CAAC,GAAGhB,GAAG,EAAE,CAAC,IAAIE,EAAEN,EAAEI,KAAK,IAAI,OAAOE,EAAEgC,MAAMpC,GAAGI,EAAEqB,KAAKxB,IAAIG,EAAEmB,KAAYrB,OAAAA,EAAEA,GAAG,CAAIC,GAAAA,EAAEL,EAAEoB,OAAO,CAAC,IAAId,EAAEN,EAAEK,KAAK,IAAI,OAAOC,EAAEgC,MAAMpC,GAAGI,EAAEqB,KAAKxB,IAAIG,EAAEmB,KAAYpB,OAAAA,EAAEA,GAAG,CAAC,CAAO,OAAA,CAAE,CAAC,SAASmE,EAAEzE,EAAEC,EAAEC,GAASD,MAAAA,EAAE,GAAGD,EAAE0E,YAAYzE,EAAE,MAAMC,EAAE,GAAGA,GAAGF,EAAEC,GAAG,MAAMC,EAAE,GAAG,iBAAiBA,GAAGQ,EAAEiE,KAAK1E,GAAGC,EAAEA,EAAE,IAAI,CAAC,SAAS0E,EAAE5E,EAAEC,EAAEC,EAAEiB,EAAEhB,GAAOC,IAAAA,EAAEJ,EAAE,GAAG,UAAUC,EAAE,GAAG,iBAAiBC,EAAEF,EAAE6E,MAAMC,QAAQ5E,MAAM,CAAC,GAAG,iBAAiBiB,IAAInB,EAAE6E,MAAMC,QAAQ3D,EAAE,IAAIA,EAAE,IAAIlB,KAAKkB,EAAEjB,GAAGD,KAAKC,GAAGuE,EAAEzE,EAAE6E,MAAM5E,EAAE,IAAOC,GAAAA,EAAE,IAAID,KAAKC,EAAEiB,GAAGjB,EAAED,KAAKkB,EAAElB,IAAIwE,EAAEzE,EAAE6E,MAAM5E,EAAEC,EAAED,GAAG,MAAA,GAAS,MAAMA,EAAE,IAAI,MAAMA,EAAE,GAAGG,EAAEH,KAAKA,EAAEA,EAAE8E,QAAQ,6BAA6B,OAAO9E,EAAEA,EAAE+E,gBAAgBhF,EAAEC,EAAE+E,cAAcC,MAAM,GAAGhF,EAAEgF,MAAM,GAAGjF,EAAEC,IAAID,EAAEC,EAAE,CAAA,GAAID,EAAEC,EAAEA,EAAEG,GAAGF,EAAEA,EAAEiB,EAAEjB,EAAEA,EAAEiB,EAAEjB,GAAGA,EAAEA,EAAEgF,KAAKC,MAAMnF,EAAEoF,iBAAiBnF,EAAEG,EAAEiF,EAAEC,EAAElF,IAAIJ,EAAEuF,oBAAoBtF,EAAEG,EAAEiF,EAAEC,EAAElF,OAAO,CAAID,GAAAA,EAAEF,EAAEA,EAAE8E,QAAQ,cAAc,KAAKA,QAAQ,SAAS,UAAa,GAAA,UAAU9E,GAAG,WAAWA,GAAG,SAASA,GAAG,SAASA,GAAG,SAASA,GAAG,aAAaA,GAAG,aAAaA,GAAG,YAAYA,GAAG,YAAYA,GAAG,SAASA,GAAGA,KAAKD,EAAK,IAACA,EAAEC,GAAG,MAAMC,EAAE,GAAGA,EAAQ,MAAAF,CAAC,OAAOA,GAAE,CAAE,mBAAmBE,IAAI,MAAMA,IAAG,IAAKA,GAAG,MAAMD,EAAE,GAAGD,EAAEwF,gBAAgBvF,GAAGD,EAAEyF,aAAaxF,EAAEC,GAAG,CAAC,CAAC,SAASoF,EAAEtF,GAAG,IAAIE,EAAE2C,KAAK5C,EAAED,EAAE0B,MAAK,GAAI,GAAG1B,EAAEmB,GAAMnB,GAAAA,EAAEmB,GAAGjB,EAAEA,EAAE,YAAYF,EAAEmB,EAAE+D,KAAKC,MAAM,OAAOjF,EAAED,EAAEyF,MAAMzF,EAAEyF,MAAM1F,GAAGA,EAAE,CAAC,SAASqF,EAAErF,GAAG,OAAO6C,KAAK5C,EAAED,EAAE0B,MAAK,GAAIzB,EAAEyF,MAAMzF,EAAEyF,MAAM1F,GAAGA,EAAE,CAAC,SAAS0D,EAAE1D,EAAEE,EAAEiB,EAAEhB,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,GAAG,IAAIC,EAAEK,EAAEG,EAAEO,EAAEgB,EAAEM,EAAEC,EAAEE,EAAEE,EAAEc,EAAEE,EAAEG,EAAEP,EAAES,EAAEG,EAAEU,EAAEpF,EAAEwB,KAAK,QAAG,IAASxB,EAAEkC,YAAmB,OAAA,KAASjB,IAAAA,EAAEoB,MAAM/B,KAAK,GAAGW,EAAEoB,KAAKlC,EAAE,CAACE,EAAEL,EAAE+B,IAAId,EAAEc,OAAOvB,EAAET,EAAE+B,MAAMtB,EAAER,GAAGF,EAAE,GAAG,mBAAmBsF,EAAK,IAAC,GAAGpC,EAAEhD,EAAEyB,MAAMyB,GAAG1C,EAAE4E,EAAEK,cAAcxF,EAAEO,EAAEyB,KAAK+B,EAAExD,EAAE0C,EAAEA,EAAEzB,MAAMiE,MAAMlF,EAAEqB,GAAG5B,EAAEgB,EAAEgB,IAAIa,GAAGjC,EAAEb,EAAEiC,IAAIhB,EAAEgB,KAAKJ,GAAGhB,EAAE8E,KAAK,cAAcP,GAAGA,EAAEQ,UAAUC,OAAO7F,EAAEiC,IAAIpB,EAAE,IAAIuE,EAAEpC,EAAEgB,IAAIhE,EAAEiC,IAAIpB,EAAE,IAAI6B,EAAEM,EAAEgB,GAAGnD,EAAEqB,YAAYkD,EAAEvE,EAAEgF,OAAOC,GAAG5C,GAAGA,EAAE6C,IAAIlF,GAAGA,EAAEY,MAAMuB,EAAEnC,EAAEmF,QAAQnF,EAAEmF,MAAM,CAAA,GAAInF,EAAE+B,QAAQoB,EAAEnD,EAAE4C,IAAIxD,EAAEe,EAAEH,EAAEmB,KAAI,EAAGnB,EAAEoF,IAAI,GAAGpF,EAAEqF,IAAI,IAAI,MAAMrF,EAAEsF,MAAMtF,EAAEsF,IAAItF,EAAEmF,OAAO,MAAMZ,EAAEgB,2BAA2BvF,EAAEsF,KAAKtF,EAAEmF,QAAQnF,EAAEsF,IAAIvF,EAAE,GAAGC,EAAEsF,MAAMvF,EAAEC,EAAEsF,IAAIf,EAAEgB,yBAAyBpD,EAAEnC,EAAEsF,OAAO5E,EAAEV,EAAEY,MAAMc,EAAE1B,EAAEmF,MAAMnF,EAAEsB,IAAInC,EAAEgB,EAAE,MAAMoE,EAAEgB,0BAA0B,MAAMvF,EAAEwF,oBAAoBxF,EAAEwF,qBAAqB,MAAMxF,EAAEyF,mBAAmBzF,EAAEoF,IAAIhD,KAAKpC,EAAEyF,uBAAuB,CAAC,GAAG,MAAMlB,EAAEgB,0BAA0BpD,IAAIzB,GAAG,MAAMV,EAAE0F,2BAA2B1F,EAAE0F,0BAA0BvD,EAAEgB,IAAInD,EAAEkB,MAAM,MAAMlB,EAAE2F,wBAAuB,IAAK3F,EAAE2F,sBAAsBxD,EAAEnC,EAAEsF,IAAInC,IAAIhE,EAAEmC,MAAMlB,EAAEkB,KAAK,CAAKnC,IAAAA,EAAEmC,MAAMlB,EAAEkB,MAAMtB,EAAEY,MAAMuB,EAAEnC,EAAEmF,MAAMnF,EAAEsF,IAAItF,EAAEmB,KAAI,GAAIhC,EAAE+B,IAAId,EAAEc,IAAI/B,EAAE4B,IAAIX,EAAEW,IAAI5B,EAAE4B,IAAI6E,SAAQ,SAAS3G,GAAGA,IAAIA,EAAE+B,GAAG7B,EAAE,IAAGkE,EAAE,EAAEA,EAAErD,EAAEqF,IAAI/E,OAAO+C,IAAIrD,EAAEoF,IAAIhD,KAAKpC,EAAEqF,IAAIhC,IAAIrD,EAAEqF,IAAI,GAAGrF,EAAEoF,IAAI9E,QAAQf,EAAE6C,KAAKpC,GAAS,MAAAf,CAAC,CAAC,MAAMe,EAAE6F,qBAAqB7F,EAAE6F,oBAAoB1D,EAAEnC,EAAEsF,IAAInC,GAAG,MAAMnD,EAAE8F,oBAAoB9F,EAAEoF,IAAIhD,MAAK,WAAWpC,EAAE8F,mBAAmBpF,EAAEgB,EAAEM,EAAE,GAAE,CAAIhC,GAAAA,EAAE+B,QAAQoB,EAAEnD,EAAEY,MAAMuB,EAAEnC,EAAE0C,IAAIzD,EAAEe,EAAEkB,KAAI,EAAGsC,EAAEtE,EAAEoD,IAAIW,EAAE,EAAE,cAAcsB,GAAGA,EAAEQ,UAAUC,OAAO,CAAKhF,IAAAA,EAAEmF,MAAMnF,EAAEsF,IAAItF,EAAEmB,KAAI,EAAGqC,GAAGA,EAAErE,GAAGQ,EAAEK,EAAEgF,OAAOhF,EAAEY,MAAMZ,EAAEmF,MAAMnF,EAAE+B,SAAS2B,EAAE,EAAEA,EAAE1D,EAAEqF,IAAI/E,OAAOoD,IAAI1D,EAAEoF,IAAIhD,KAAKpC,EAAEqF,IAAI3B,IAAI1D,EAAEqF,IAAI,EAAE,MAAQ,GAACrF,EAAEmB,KAAI,EAAGqC,GAAGA,EAAErE,GAAGQ,EAAEK,EAAEgF,OAAOhF,EAAEY,MAAMZ,EAAEmF,MAAMnF,EAAE+B,SAAS/B,EAAEmF,MAAMnF,EAAEsF,UAAUtF,EAAEmB,OAAO8B,EAAE,IAAIjD,EAAEmF,MAAMnF,EAAEsF,IAAI,MAAMtF,EAAE+F,kBAAkB3G,EAAEW,EAAEA,EAAE,GAAGX,GAAGY,EAAE+F,oBAAoB5F,GAAG,MAAMH,EAAEgG,0BAA0BhE,EAAEhC,EAAEgG,wBAAwBtF,EAAEgB,IAAIqB,EAAE9D,EAAEW,EAAEiE,EAAE,MAAMlE,GAAGA,EAAEgB,OAAOiB,GAAG,MAAMjC,EAAEkB,IAAIlB,EAAEiB,MAAML,SAASZ,GAAGkE,EAAE,CAACA,GAAG1E,EAAEiB,EAAEhB,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,GAAGM,EAAEkC,KAAK/C,EAAE+B,IAAI/B,EAAEqC,UAAUxB,EAAEoF,IAAI9E,QAAQf,EAAE6C,KAAKpC,GAAGiC,IAAIjC,EAAE8E,IAAI9E,EAAEgB,GAAG,KAAK,OAAO/B,GAAGE,EAAEmC,IAAI,KAAK7B,GAAG,MAAMH,GAAGH,EAAE+B,IAAI1B,EAAEL,EAAEqC,KAAK/B,EAAE,IAAI,GAAGH,EAAEA,EAAE2G,QAAQzG,IAAI,OAAOL,EAAE+B,IAAId,EAAEc,IAAI/B,EAAE4B,IAAIX,EAAEW,KAAK7B,EAAEgC,IAAIjC,EAAEE,EAAEiB,EAAE,MAAYd,MAAAA,GAAGH,EAAEmC,MAAMlB,EAAEkB,KAAKnC,EAAE4B,IAAIX,EAAEW,IAAI5B,EAAE+B,IAAId,EAAEc,KAAK/B,EAAE+B,IAAoP,SAAWhC,EAAEC,EAAEiB,EAAEhB,EAAEC,EAAEC,EAAEC,EAAEC,EAAEE,GAAG,IAAIC,EAAEI,EAAEI,EAAEO,EAAEgB,EAAEE,EAAEC,EAAEI,EAAE7B,EAAEQ,MAAMuB,EAAEhD,EAAEyB,MAAMyB,EAAElD,EAAEwB,KAAK,GAAG,QAAQ0B,IAAIhD,GAAE,GAAI,MAAMC,EAAE,IAAIK,EAAE,EAAEA,EAAEL,EAAEgB,OAAOX,IAAI,IAAI+B,EAAEpC,EAAEK,KAAK,iBAAiB+B,KAAKW,IAAIA,EAAEX,EAAEwE,YAAY7D,EAAE,IAAIX,EAAEyE,UAAU,CAACjH,EAAEwC,EAAEpC,EAAEK,GAAG,KAAK,KAAK,CAAC,GAAG,MAAMT,EAAE,CAAC,GAAG,OAAOmD,EAAS,OAAA+D,SAASC,eAAelE,GAAGjD,EAAEG,EAAE+G,SAASE,gBAAgB,6BAA6BjE,GAAG+D,SAASG,cAAclE,EAAEF,EAAEqE,IAAIrE,GAAG7C,EAAE,KAAKE,GAAE,CAAE,CAAC,GAAG,OAAO6C,EAAEJ,IAAIE,GAAG3C,GAAGN,EAAEuH,OAAOtE,IAAIjD,EAAEuH,KAAKtE,OAAO,CAAC,GAAG7C,EAAEA,GAAGL,EAAEuB,KAAKtB,EAAEwH,YAAYzE,EAAE7B,EAAEQ,OAAOnB,GAAGD,GAAG,MAAMF,EAAM2C,IAAAA,EAAE,GAAGtC,EAAE,EAAEA,EAAET,EAAEyH,WAAWrG,OAAOX,IAAIsC,GAAGP,EAAExC,EAAEyH,WAAWhH,IAAIiH,MAAMlF,EAAEmD,MAAM,IAAIlF,KAAKsC,EAAEP,EAAEO,EAAEtC,GAAG,YAAYA,IAAI,2BAA2BA,EAAEQ,EAAEuB,EAAE,QAAQ/B,GAAGA,KAAKwC,GAAG0B,EAAE3E,EAAES,EAAE,KAAK+B,EAAErC,IAAI,IAAIM,KAAKwC,EAAET,EAAES,EAAExC,GAAG,YAAYA,EAAEe,EAAEgB,EAAE,2BAA2B/B,EAAEI,EAAE2B,EAAE,SAAS/B,EAAEiC,EAAEF,EAAE,WAAW/B,EAAEkC,EAAEH,EAAE,QAAQ/B,GAAGH,GAAG,mBAAmBkC,GAAGO,EAAEtC,KAAK+B,GAAGmC,EAAE3E,EAAES,EAAE+B,EAAEO,EAAEtC,GAAGN,GAAMU,GAAAA,EAAEP,GAAGW,IAAIJ,EAAE8G,SAAS1G,EAAE0G,QAAQ9G,EAAE8G,SAAS3H,EAAE4H,aAAa5H,EAAE4H,UAAU/G,EAAE8G,QAAQ1H,EAAE4B,IAAI,QAAA,GAAWZ,IAAIjB,EAAE4H,UAAU,IAAI/D,EAAE7D,EAAEU,EAAEc,GAAGA,EAAE,CAACA,GAAGvB,EAAEiB,EAAEhB,EAAEC,GAAG,kBAAkBgD,EAAE/C,EAAEC,EAAED,EAAEA,EAAE,GAAGc,EAAEW,KAAKiB,EAAE5B,EAAE,GAAGZ,EAAEE,GAAG,MAAMJ,EAAMK,IAAAA,EAAEL,EAAEgB,OAAOX,KAAK,MAAML,EAAEK,IAAIK,EAAEV,EAAEK,IAAIH,IAAIG,EAAE,aAAQ,IAASiC,IAAIA,IAAI1C,EAAES,IAAI,aAAa0C,IAAIT,GAAG,WAAWS,GAAGT,IAAIK,EAAEtC,KAAKkE,EAAE3E,EAAES,EAAEiC,EAAEK,EAAEtC,IAAG,GAAIA,EAAE,eAAU,IAASkC,GAAGA,IAAI3C,EAAES,IAAIkE,EAAE3E,EAAES,EAAEkC,EAAEI,EAAEtC,IAAG,GAAI,CAAQT,OAAAA,CAAC,CAAh8C6H,CAAE3G,EAAEc,IAAI/B,EAAEiB,EAAEhB,EAAEC,EAAEC,EAAEC,EAAEE,EAAEC,IAAIC,EAAET,EAAE8H,SAASrH,EAAER,EAAE,CAAC,SAAS2D,EAAE7D,EAAEE,EAAEiB,GAAGjB,EAAEgC,SAAI,EAAO,IAAA,IAAQ/B,EAAE,EAAEA,EAAEgB,EAAEE,OAAOlB,IAAMgB,EAAAA,EAAEhB,GAAGgB,IAAIhB,GAAGgB,IAAIhB,IAAM6H,EAAA7F,KAAKlC,EAAEkC,IAAIjC,EAAEF,GAAGA,EAAEwE,MAAK,SAAStE,GAAM,IAACF,EAAEE,EAAEiG,IAAIjG,EAAEiG,IAAI,GAAGnG,EAAEwE,MAAK,SAASxE,GAAGA,EAAEuB,KAAKrB,EAAE,GAAE,OAAOF,GAAKgI,EAAA/F,IAAIjC,EAAEE,EAAEmC,IAAI,CAAC,GAAE,CAAktC,SAAS8B,EAAEnE,EAAEE,EAAEiB,GAAM,IAAC,mBAAmBnB,EAAEA,EAAEE,GAAGF,EAAE0C,QAAQxC,CAAC,OAAOF,GAAKgI,EAAA/F,IAAIjC,EAAEmB,EAAE,CAAC,CAAC,SAAS8C,EAAEjE,EAAEE,EAAEiB,GAAG,IAAIhB,EAAEC,EAAKH,GAAAA,EAAEgI,SAAShI,EAAEgI,QAAQjI,IAAIG,EAAEH,EAAE6B,OAAO1B,EAAEuC,SAASvC,EAAEuC,UAAU1C,EAAEiC,KAAKkC,EAAEhE,EAAE,KAAKD,IAAI,OAAOC,EAAEH,EAAEmC,KAAK,CAAC,GAAGhC,EAAE+H,qBAAwB,IAAC/H,EAAE+H,sBAAsB,OAAOlI,GAAKgI,EAAA/F,IAAIjC,EAAEE,EAAE,CAACC,EAAE8C,KAAK9C,EAAEsD,IAAI,KAAKzD,EAAEmC,SAAI,CAAM,CAAC,GAAGhC,EAAEH,EAAE8B,IAAI,IAAI1B,EAAE,EAAEA,EAAED,EAAEkB,OAAOjB,IAAID,EAAEC,IAAI6D,EAAE9D,EAAEC,GAAGF,EAAEiB,GAAG,mBAAmBnB,EAAE0B,MAAMP,GAAG,MAAMnB,EAAEiC,KAAKlB,EAAEf,EAAEiC,KAAKjC,EAAE+B,GAAG/B,EAAEiC,IAAIjC,EAAEkC,SAAI,CAAM,CAAC,SAAS8D,EAAEhG,EAAEC,EAAEC,GAAU,OAAA2C,KAAKT,YAAYpC,EAAEE,EAAE,CAAC,SAASiI,EAAEjI,EAAEiB,EAAEhB,GAAOC,IAAAA,EAAEC,EAAEC,EAAEC,EAAEN,EAAE8B,IAAI9B,EAAE8B,GAAG7B,EAAEiB,GAAGd,GAAGD,EAAE,mBAAmBD,GAAG,KAAKA,GAAGA,EAAE2B,KAAKX,EAAEW,IAAIxB,EAAE,GAAGC,EAAE,GAAGmD,EAAEvC,EAAEjB,IAAIE,GAAGD,GAAGgB,GAAGW,IAAIZ,EAAEyB,EAAE,KAAK,CAACzC,IAAIG,GAAGG,EAAEA,OAAE,IAASW,EAAEyC,iBAAiBxD,GAAGD,EAAE,CAACA,GAAGE,EAAE,KAAKc,EAAEiH,WAAWpI,EAAEuB,KAAKJ,EAAEsG,YAAY,KAAKnH,GAAGF,GAAGD,EAAEA,EAAEE,EAAEA,EAAE4B,IAAId,EAAEiH,WAAWhI,EAAEG,GAAGsD,EAAEvD,EAAEJ,EAAEK,EAAE,CAAC,SAAS8H,EAAErI,EAAEC,GAAKD,EAAAA,EAAEC,EAAEoI,EAAE,CAAC,SAASC,EAAErI,EAAEC,EAAEiB,GAAOhB,IAAAA,EAAEC,EAAEC,EAAEC,EAAEC,EAAEO,EAAE,CAAA,EAAGb,EAAE0B,OAAWtB,IAAAA,KAAKJ,EAAEyB,MAAMzB,EAAEyB,KAAKF,eAAelB,EAAEL,EAAEyB,KAAKF,cAActB,EAASG,OAAAA,EAAEF,EAAED,EAAEG,GAAG,OAAOA,EAAED,EAAEF,EAAEG,GAAGE,EAAEF,QAAG,IAASH,EAAEG,SAAI,IAASC,EAAEA,EAAED,GAAGH,EAAEG,GAAU,OAAAe,UAAUC,OAAO,IAAId,EAAEe,SAASF,UAAUC,OAAO,EAAErB,EAAEuB,KAAKH,UAAU,GAAGD,GAAGM,EAAExB,EAAEyB,KAAKnB,EAAEJ,GAAGF,EAAE2B,IAAIxB,GAAGH,EAAE4B,IAAI,KAAK,CAAC,SAAS0G,EAAEvI,EAAEC,GAAOC,IAAAA,EAAE,CAACiC,IAAIlC,EAAE,OAAOM,IAAIwB,GAAG/B,EAAEwI,SAAS,SAASxI,EAAEC,GAAUD,OAAAA,EAAEsB,SAASrB,EAAE,EAAEwI,SAAS,SAASzI,GAAG,IAAIE,EAAEiB,EAAE,OAAO0B,KAAKiE,kBAAkB5G,EAAE,IAAIiB,EAAE,CAAE,GAAElB,GAAG4C,KAAKA,KAAKiE,gBAAgB,WAAkB3F,OAAAA,CAAC,EAAE0B,KAAK6D,sBAAsB,SAAS1G,GAAG6C,KAAKlB,MAAMiE,QAAQ5F,EAAE4F,OAAO1F,EAAEsE,MAAK,SAASxE,GAAGA,EAAEiC,KAAI,EAAGiB,EAAElD,EAAE,GAAE,EAAE6C,KAAKoD,IAAI,SAASjG,GAAGE,EAAEiD,KAAKnD,GAAG,IAAIC,EAAED,EAAEkI,qBAAqBlI,EAAEkI,qBAAqB,WAAWhI,EAAEwI,OAAOxI,EAAE8G,QAAQhH,GAAG,GAAGC,GAAGA,EAAEsB,KAAKvB,EAAE,CAAC,GAAGA,EAAEsB,QAAQ,GAAG,OAAOpB,EAAEuI,SAAS1G,GAAG7B,EAAEsI,SAAS7C,YAAYzF,CAAC,uiBAACF,EAAES,EAAEwE,MAAMhF,EAAE,CAACgC,IAAI,SAASjC,EAAEC,EAAEC,EAAEiB,GAAG,IAAA,IAAQhB,EAAEC,EAAEC,EAAEJ,EAAEA,EAAE8B,IAAI,IAAI5B,EAAEF,EAAEkC,OAAOhC,EAAE4B,GAAM,IAAC,IAAI3B,EAAED,EAAEiC,cAAc,MAAMhC,EAAEuI,2BAA2BxI,EAAEyI,SAASxI,EAAEuI,yBAAyB3I,IAAIK,EAAEF,EAAE+B,KAAK,MAAM/B,EAAE0I,oBAAoB1I,EAAE0I,kBAAkB7I,EAAEmB,GAAG,CAAA,GAAId,EAAEF,EAAE+B,KAAK7B,EAAE,OAAOF,EAAE0F,IAAI1F,CAAC,OAAOF,GAAGD,EAAEC,CAAC,CAAOD,MAAAA,CAAC,GAAGE,EAAE,EAAqD0C,EAAEkD,UAAU8C,SAAS,SAAS5I,EAAEC,GAAOC,IAAAA,EAAEA,EAAE,MAAM2C,KAAKwD,KAAKxD,KAAKwD,MAAMxD,KAAKqD,MAAMrD,KAAKwD,IAAIxD,KAAKwD,IAAIvF,EAAE,GAAG+B,KAAKqD,OAAO,mBAAmBlG,IAAIA,EAAEA,EAAEc,EAAE,CAAA,EAAGZ,GAAG2C,KAAKlB,QAAQ3B,GAAGc,EAAEZ,EAAEF,GAAG,MAAMA,GAAG6C,KAAKR,MAAMpC,GAAG4C,KAAKuD,IAAIjD,KAAKlD,GAAGiD,EAAEL,MAAM,EAAED,EAAEkD,UAAUgD,YAAY,SAAS9I,GAAQ6C,KAAAR,MAAMQ,KAAKZ,KAAI,EAAGjC,GAAG6C,KAAKsD,IAAIhD,KAAKnD,GAAGkD,EAAEL,MAAM,EAAED,EAAEkD,UAAUC,OAAOpD,EAAExC,EAAE,GAAGE,EAAE,mBAAmB0I,QAAQA,QAAQjD,UAAUkD,KAAKC,KAAKF,QAAQG,WAAWC,WAAW7I,EAAE,SAASN,EAAEC,GAAG,OAAOD,EAAEqC,IAAIL,IAAI/B,EAAEoC,IAAIL,GAAG,EAAEoB,EAAEC,IAAI,EAAE9C,EAAE,MCAphVY,EAAEd,EAAEH,EAAEC,sBAAEC,EAAE,EAAEE,EAAE,GAAGE,EAAE,GAAGD,EAAEP,EAAEgC,IAAItB,GAAEV,EAAEqD,IAAIvC,GAAEd,EAAE+H,OAAO9H,GAAED,EAAEmC,IAAIY,GAAE/C,EAAEiI,QAAQ,SAASxG,GAAEN,EAAEjB,GAAK8H,EAAA7B,KAAKnG,EAAEmG,IAAI9F,EAAEc,EAAEf,GAAGF,GAAGE,EAAE,EAAMD,IAAAA,EAAEE,EAAE+I,MAAM/I,EAAE+I,IAAI,CAACrH,GAAG,GAAGoE,IAAI,KAAK,OAAOhF,GAAGhB,EAAE4B,GAAGV,QAAQlB,EAAE4B,GAAGoB,KAAK,CAACkG,IAAI7I,IAAIL,EAAE4B,GAAGZ,EAAE,CAAC,SAASR,GAAEX,GAAG,OAAOI,EAAE,EAAEK,GAAE4H,GAAErI,EAAE,CAAC,SAASS,GAAET,EAAEE,EAAEC,GAAOC,IAAAA,EAAEqB,GAAEN,IAAI,GAAG,GAAGf,EAAEe,EAAEnB,GAAGI,EAAE+B,MAAM/B,EAAE2B,GAAG,CAAC5B,EAAEA,EAAED,GAAGmI,QAAE,EAAOnI,GAAG,SAASF,GAAG,IAAImB,EAAEf,EAAEkJ,IAAIlJ,EAAEkJ,IAAI,GAAGlJ,EAAE2B,GAAG,GAAG1B,EAAED,EAAEe,EAAEA,EAAEnB,GAAGmB,IAAId,IAAID,EAAEkJ,IAAI,CAACjJ,EAAED,EAAE2B,GAAG,IAAI3B,EAAE+B,IAAIyG,SAAS,CAAA,GAAI,GAAGxI,EAAE+B,IAAI9B,GAAGA,EAAEH,GAAG,CAAC,IAAII,EAAE,SAASN,EAAEmB,EAAEd,GAAM,IAACD,EAAE+B,IAAIiH,IAAU,OAAA,EAAG,IAAIlJ,EAAEE,EAAE+B,IAAIiH,IAAIrH,GAAGwH,QAAO,SAASvJ,GAAG,OAAOA,EAAEmC,GAAG,IAAMjC,GAAAA,EAAEsJ,OAAM,SAASxJ,GAAG,OAAOA,EAAEsJ,GAAG,IAAG,OAAO9I,GAAGA,EAAEe,KAAKsB,KAAK7C,EAAEmB,EAAEd,GAAG,IAAIF,GAAE,EAAUD,OAAAA,EAAEyG,SAAQ,SAAS3G,GAAG,GAAGA,EAAEsJ,IAAI,CAAKnI,IAAAA,EAAEnB,EAAE+B,GAAG,GAAG/B,EAAE+B,GAAG/B,EAAEsJ,IAAItJ,EAAEsJ,SAAI,EAAOnI,IAAInB,EAAE+B,GAAG,KAAK5B,GAAE,EAAG,CAAC,OAAMA,GAAGC,EAAE+B,IAAIR,QAAQ3B,MAAMQ,GAAGA,EAAEe,KAAKsB,KAAK7C,EAAEmB,EAAEd,GAAG,EAAEA,EAAEH,GAAE,EAAG,IAAIM,EAAEH,EAAEqG,sBAAsBnG,EAAEF,EAAEuG,oBAAoBvG,EAAEuG,oBAAoB,SAAS5G,EAAEmB,EAAEd,GAAG,GAAGwC,KAAKZ,IAAI,CAAC,IAAI/B,EAAEM,EAAEA,OAAE,EAAOF,EAAEN,EAAEmB,EAAEd,GAAGG,EAAEN,CAAC,CAACK,GAAGA,EAAEgB,KAAKsB,KAAK7C,EAAEmB,EAAEd,EAAE,EAAEA,EAAEqG,sBAAsBpG,CAAC,CAAQF,OAAAA,EAAEkJ,KAAKlJ,EAAE2B,EAAE,CAAC,SAAShB,GAAEb,EAAEC,GAAOC,IAAAA,EAAEqB,GAAEN,IAAI,IAAInB,EAAEqG,KAAKlC,GAAE/D,EAAEgJ,IAAIjJ,KAAKC,EAAE2B,GAAG7B,EAAEE,EAAED,EAAEA,EAAEE,EAAE+I,IAAIjD,IAAIhD,KAAK/C,GAAG,CAAC,SAASc,GAAEhB,EAAEC,GAAOC,IAAAA,EAAEqB,GAAEN,IAAI,IAAInB,EAAEqG,KAAKlC,GAAE/D,EAAEgJ,IAAIjJ,KAAKC,EAAE2B,GAAG7B,EAAEE,EAAED,EAAEA,EAAEE,EAAE8F,IAAIhD,KAAK/C,GAAG,CAAC,SAASqC,GAAEzC,GAAUI,OAAAA,EAAE,EAAEmI,IAAE,WAAiB,MAAA,CAAC7F,QAAQ1C,EAAE,GAAE,GAAG,CAAC,SAASsF,GAAEtF,EAAEmB,EAAEd,GAAKoJ,EAAA,EAAEvI,IAAE,WAAW,MAAM,mBAAmBlB,GAAGA,EAAEmB,KAAK,WAAW,OAAOnB,EAAE,KAAK,GAAGA,GAAGA,EAAE0C,QAAQvB,IAAI,WAAW,OAAOnB,EAAE0C,QAAQ,IAAI,QAAG,CAAM,GAAE,MAAMrC,EAAEA,EAAEA,EAAEqJ,OAAO1J,GAAG,CAAC,SAASuI,GAAEvI,EAAEK,GAAOH,IAAAA,EAAEuB,GAAEN,IAAI,GAAG,OAAOgD,GAAEjE,EAAEkJ,IAAI/I,IAAIH,EAAEmJ,IAAIrJ,IAAIE,EAAEC,EAAEE,EAAEH,EAAEiG,IAAInG,EAAEE,EAAEmJ,KAAKnJ,EAAE6B,EAAE,CAAC,SAAS6C,GAAE5E,EAAEmB,GAAUf,OAAAA,EAAE,EAAEmI,IAAE,WAAkBvI,OAAAA,CAAC,GAAEmB,EAAE,CAAC,SAASgH,GAAEnI,GAAOE,IAAAA,EAAEG,EAAEyC,QAAQ9C,EAAEmC,KAAKhC,EAAEsB,GAAEN,IAAI,GAAG,OAAOhB,EAAEK,EAAER,EAAEE,GAAG,MAAMC,EAAE4B,KAAK5B,EAAE4B,IAAG,EAAG7B,EAAE+F,IAAI5F,IAAIH,EAAEyB,MAAMiE,OAAO5F,EAAE+B,EAAE,CAAC,SAASqB,GAAEjC,EAAEd,GAAGL,EAAE2J,eAAe3J,EAAE2J,cAActJ,EAAEA,EAAEc,GAAGA,EAAE,CAAqK,SAASyI,KAAQ5J,IAAAA,EAAEyB,GAAEN,IAAI,IAAO,IAACnB,EAAE+B,GAAG,CAAS7B,IAAAA,IAAAA,EAAEG,EAAEgC,IAAI,OAAOnC,IAAIA,EAAE2J,KAAK,OAAO3J,EAAE6B,IAAI7B,EAAEA,EAAE6B,GAAG,IAAI5B,EAAED,EAAE2J,MAAM3J,EAAE2J,IAAI,CAAC,EAAE,IAAI7J,EAAE+B,GAAG,IAAI5B,EAAE,GAAG,IAAIA,EAAE,IAAI,CAAC,OAAOH,EAAE+B,EAAE,CAAC,SAASa,KAAYzB,IAAAA,IAAAA,EAAEA,EAAEb,EAAEkD,SAAYrC,GAAAA,EAAEsC,KAAKtC,EAAEiI,IAAO,IAACjI,EAAEiI,IAAIjD,IAAIQ,QAAQ3D,IAAG7B,EAAEiI,IAAIjD,IAAIQ,QAAQzD,IAAG/B,EAAEiI,IAAIjD,IAAI,EAAE,OAAO9F,GAAGc,EAAEiI,IAAIjD,IAAI,GAAGnG,EAAEiC,IAAI5B,EAAEc,EAAEkB,IAAI,CAAC,CAACrC,EAAEgC,IAAI,SAAShC,GAAK8J,EAAA,KAAKvJ,GAAGA,EAAEP,EAAE,EAAEA,EAAEqD,IAAI,SAASrD,GAAMU,IAAAA,GAAEV,GAAGmB,EAAE,EAAMhB,IAAAA,GAAGE,EAAEL,EAAEmC,KAAKiH,IAAIjJ,IAAID,IAAIG,GAAGF,EAAEgG,IAAI,GAAG9F,EAAE8F,IAAI,GAAGhG,EAAE4B,GAAG4E,SAAQ,SAAS3G,GAAGA,EAAEsJ,MAAMtJ,EAAE+B,GAAG/B,EAAEsJ,KAAKtJ,EAAEqJ,IAAI7I,EAAER,EAAEsJ,IAAItJ,EAAEG,OAAE,CAAM,MAAKA,EAAEgG,IAAIQ,QAAQ3D,IAAG7C,EAAEgG,IAAIQ,QAAQzD,IAAG/C,EAAEgG,IAAI,GAAGhF,EAAE,IAAIjB,EAAEG,CAAC,EAAEL,EAAE+H,OAAO,SAAS5G,GAAGL,IAAGA,GAAEK,GAAG,IAAIf,EAAEe,EAAEgB,IAAI/B,GAAGA,EAAEgJ,MAAMhJ,EAAEgJ,IAAIjD,IAAI9E,SAAS,IAAIf,EAAE6C,KAAK/C,IAAID,IAAIH,EAAE+J,yBAAyB5J,EAAEH,EAAE+J,wBAAwBjC,IAAGlF,KAAIxC,EAAEgJ,IAAIrH,GAAG4E,SAAQ,SAAS3G,GAAGA,EAAEG,IAAIH,EAAEoJ,IAAIpJ,EAAEG,GAAGH,EAAEqJ,MAAM7I,IAAIR,EAAE+B,GAAG/B,EAAEqJ,KAAKrJ,EAAEG,OAAE,EAAOH,EAAEqJ,IAAI7I,CAAC,KAAIN,EAAEG,EAAE,IAAI,EAAEL,EAAEmC,IAAI,SAAShB,EAAEd,GAAGA,EAAEmE,MAAK,SAASrD,GAAM,IAACA,EAAEgF,IAAIQ,QAAQ3D,IAAG7B,EAAEgF,IAAIhF,EAAEgF,IAAIoD,QAAO,SAASvJ,GAAG,OAAOA,EAAE+B,IAAImB,GAAElD,EAAE,GAAE,OAAOE,GAAGG,EAAEmE,MAAK,SAASxE,GAAGA,EAAEmG,MAAMnG,EAAEmG,IAAI,GAAG,IAAG9F,EAAE,GAAGL,EAAEiC,IAAI/B,EAAEiB,EAAEkB,IAAI,CAAC,IAAGpC,IAAGA,GAAEkB,EAAEd,EAAE,EAAEL,EAAEiI,QAAQ,SAAS9G,GAAG4B,IAAGA,GAAE5B,GAAOd,IAAAA,EAAEH,EAAEiB,EAAEgB,IAAIjC,GAAGA,EAAEkJ,MAAMlJ,EAAEkJ,IAAIrH,GAAG4E,SAAQ,SAAS3G,GAAM,IAACgD,GAAEhD,EAAE,OAAOA,GAAGK,EAAEL,CAAC,CAAC,IAAGE,EAAEkJ,SAAI,EAAO/I,GAAGL,EAAEiC,IAAI5B,EAAEH,EAAEmC,KAAK,EAAE,IAAIM,GAAE,mBAAmBoH,sBAAsB,SAASjC,GAAE9H,GAAOmB,IAAAA,EAAEd,EAAE,WAAW2J,aAAa9J,GAAGyC,IAAGsH,qBAAqB9I,GAAGgI,WAAWnJ,EAAE,EAAEE,EAAEiJ,WAAW9I,EAAE,KAASc,KAAAA,EAAE4I,sBAAsB1J,GAAG,CAAC,SAAS2C,GAAEhD,GAAOmB,IAAAA,EAAEd,EAAEH,EAAEF,EAAEmC,IAAI,mBAAmBjC,IAAIF,EAAEmC,SAAI,EAAOjC,KAAKG,EAAEc,CAAC,CAAC,SAAS+B,GAAElD,GAAG,IAAImB,EAAEd,EAAEL,EAAEmC,IAAInC,EAAE+B,KAAK1B,EAAEc,CAAC,CAAC,SAASgD,GAAEnE,EAAEmB,GAAS,OAACnB,GAAGA,EAAEqB,SAASF,EAAEE,QAAQF,EAAEqD,MAAK,SAASrD,EAAEd,GAAUc,OAAAA,IAAInB,EAAEK,EAAE,GAAE,CAAC,SAASgI,GAAErI,EAAEmB,GAAG,MAAM,mBAAmBA,EAAEA,EAAEnB,GAAGmB,CAAC,CCAt5F,SAASwB,GAAE3C,EAAEmB,GAAG,IAAA,IAAQZ,KAAKY,EAAEnB,EAAEO,GAAGY,EAAEZ,GAAUP,OAAAA,CAAC,CAAC,SAAS8D,GAAE9D,EAAEmB,GAAG,IAAA,IAAQZ,KAAKP,EAAK,GAAA,aAAaO,KAAKA,KAAKY,GAAS,OAAA,EAAG,IAAA,IAAQd,KAAKc,EAAE,GAAG,aAAad,GAAGL,EAAEK,KAAKc,EAAEd,GAAS,OAAA,EAAS,OAAA,CAAE,CAAC,SAASiI,GAAEtI,GAAG6C,KAAKlB,MAAM3B,CAAC,CAAC,SAASkD,GAAElD,EAAEO,GAAG,SAASF,EAAEL,GAAG,IAAImB,EAAE0B,KAAKlB,MAAME,IAAIxB,EAAEc,GAAGnB,EAAE6B,IAAU,OAACxB,GAAGc,IAAIA,EAAEI,KAAKJ,EAAE,MAAMA,EAAEuB,QAAQ,MAAMnC,GAAGA,EAAEsC,KAAKlB,MAAM3B,KAAKK,EAAEyD,GAAEjB,KAAKlB,MAAM3B,EAAE,CAAC,SAASE,EAAEK,GAAG,OAAOsC,KAAK6D,sBAAsBrG,EAAEc,EAAEnB,EAAEO,EAAE,CAAC,OAAOL,EAAEgK,YAAY,SAASlK,EAAEkK,aAAalK,EAAE2H,MAAM,IAAIzH,EAAE4F,UAAUqE,kBAAiB,EAAGjK,EAAEkK,KAAI,EAAGlK,CAAC,EAAEoI,GAAExC,UAAU,IAAI9F,GAAGqK,sBAAqB,EAAG/B,GAAExC,UAAUY,sBAAsB,SAAS1G,EAAEmB,GAAU,OAAA2C,GAAEjB,KAAKlB,MAAM3B,IAAI8D,GAAEjB,KAAKqD,MAAM/E,EAAE,EAAE,IAAIiC,GAAE7C,EAAEyB,IAAIzB,EAAEyB,IAAI,SAAShC,GAAGA,EAAE0B,MAAM1B,EAAE0B,KAAK0I,KAAKpK,EAAE6B,MAAM7B,EAAE2B,MAAME,IAAI7B,EAAE6B,IAAI7B,EAAE6B,IAAI,MAAMuB,IAAGA,GAAEpD,EAAE,EAAE,IAAIsK,GAAE,oBAAoBC,QAAQA,OAAOC,KAAKD,OAAOC,IAAI,sBAAsB,KAAK,SAASvG,GAAEjE,GAAG,SAASmB,EAAEA,GAAG,IAAIZ,EAAEoC,GAAE,CAAA,EAAGxB,GAAG,cAAcZ,EAAEsB,IAAI7B,EAAEO,EAAEY,EAAEU,KAAK,KAAK,CAAC,OAAOV,EAAEsJ,SAASH,GAAEnJ,EAAE4E,OAAO5E,EAAEA,EAAE2E,UAAUqE,iBAAiBhJ,EAAEiJ,KAAI,EAAGjJ,EAAE+I,YAAY,eAAelK,EAAEkK,aAAalK,EAAE2H,MAAM,IAAIxG,CAAC,CAAC,IAAI6B,GAAE,SAAShD,EAAEmB,GAAU,OAAA,MAAMnB,EAAE,KAAKK,EAAEA,EAAEL,GAAG0K,IAAIvJ,GAAG,EAAEmE,GAAE,CAACoF,IAAI1H,GAAE2D,QAAQ3D,GAAE2H,MAAM,SAAS3K,GAAG,OAAOA,EAAEK,EAAEL,GAAGqB,OAAO,CAAC,EAAEuJ,KAAK,SAAS5K,GAAOmB,IAAAA,EAAEd,EAAEL,GAAG,GAAG,IAAImB,EAAEE,OAAY,KAAA,gBAAgB,OAAOF,EAAE,EAAE,EAAE0J,QAAQxK,GAAG2F,GAAEzF,EAAE0B,IAAI1B,EAAE0B,IAAI,SAASjC,EAAEmB,EAAEZ,EAAEF,GAAG,GAAGL,EAAEgJ,KAAK,IAAA,IAAQ9I,EAAEE,EAAEe,EAAEf,EAAEA,EAAE2B,IAAQ7B,IAAAA,EAAEE,EAAE+B,MAAMjC,EAAEiC,IAAI,OAAO,MAAMhB,EAAEc,MAAMd,EAAEc,IAAI1B,EAAE0B,IAAId,EAAEW,IAAIvB,EAAEuB,KAAK5B,EAAEiC,IAAInC,EAAEmB,GAAKnB,GAAAA,EAAEmB,EAAEZ,EAAEF,EAAE,EAAE,IAAIuE,GAAErE,EAAE0H,QAAQ,SAASM,GAAEvI,EAAEmB,EAAEZ,GAAG,OAAOP,IAAIA,EAAEmC,KAAKnC,EAAEmC,IAAIiH,MAAMpJ,EAAEmC,IAAIiH,IAAIrH,GAAG4E,SAAQ,SAAS3G,GAAG,mBAAmBA,EAAEmC,KAAKnC,EAAEmC,KAAK,IAAGnC,EAAEmC,IAAIiH,IAAI,MAAM,OAAOpJ,EAAE2C,GAAE,CAAE,EAAC3C,IAAImC,MAAMnC,EAAEmC,IAAIsB,MAAMlD,IAAIP,EAAEmC,IAAIsB,IAAItC,GAAGnB,EAAEmC,IAAI,MAAMnC,EAAE8B,IAAI9B,EAAE8B,KAAK9B,EAAE8B,IAAI4I,KAAI,SAAS1K,GAAUuI,OAAAA,GAAEvI,EAAEmB,EAAEZ,EAAE,KAAIP,CAAC,CAAC,SAASyE,GAAEzE,EAAEmB,EAAEZ,GAAG,OAAOP,GAAGO,IAAIP,EAAEqC,IAAI,KAAKrC,EAAE8B,IAAI9B,EAAE8B,KAAK9B,EAAE8B,IAAI4I,KAAI,SAAS1K,GAAUyE,OAAAA,GAAEzE,EAAEmB,EAAEZ,EAAE,IAAGP,EAAEmC,KAAKnC,EAAEmC,IAAIsB,MAAMtC,IAAInB,EAAEiC,KAAK1B,EAAEuK,YAAY9K,EAAEiC,KAAKjC,EAAEmC,IAAIF,KAAI,EAAGjC,EAAEmC,IAAIsB,IAAIlD,IAAIP,CAAC,CAAC,SAAS0D,KAAIb,KAAKN,IAAI,EAAEM,KAAK1B,EAAE,KAAK0B,KAAKb,IAAI,IAAI,CAAC,SAAS+I,GAAE/K,GAAOmB,IAAAA,EAAEnB,EAAE+B,GAAGI,IAAI,OAAOhB,GAAGA,EAAE6J,KAAK7J,EAAE6J,IAAIhL,EAAE,CAAC,SAASqF,GAAErF,GAAG,IAAIO,EAAEF,EAAEH,EAAE,SAASE,EAAEA,GAAG,GAAGG,IAAIA,EAAEP,KAAKgJ,MAAK,SAAShJ,GAAGK,EAAEL,EAAEiL,SAASjL,CAAC,IAAE,SAASA,GAAGE,EAAEF,CAAC,IAAGE,EAAQA,MAAAA,EAAE,IAAIG,EAAQE,MAAAA,EAASY,OAAAA,EAAEd,EAAED,EAAE,CAAC,OAAOA,EAAE8J,YAAY,OAAO9J,EAAEgK,KAAI,EAAGhK,CAAC,CAAC,SAASyD,KAAShB,KAAA3C,EAAE,KAAK2C,KAAKzC,EAAE,IAAI,CAACG,EAAE0H,QAAQ,SAASjI,GAAG,IAAImB,EAAEnB,EAAEmC,IAAIhB,GAAGA,EAAE+J,KAAK/J,EAAE+J,MAAM/J,GAAG,GAAGnB,EAAEuC,MAAMvC,EAAE0B,KAAK,MAAMkD,IAAGA,GAAE5E,EAAE,GAAG0D,GAAEoC,UAAU,IAAI9F,GAAGmC,IAAI,SAASnC,EAAEmB,GAAOZ,IAAAA,EAAEY,EAAEgB,IAAI9B,EAAEwC,KAAWxC,MAAAA,EAAEc,IAAId,EAAEc,EAAE,IAAId,EAAEc,EAAEgC,KAAK5C,GAAOL,IAAAA,EAAE6K,GAAE1K,EAAEgC,KAAKjC,GAAE,EAAGD,EAAE,WAAWC,IAAIA,GAAE,EAAGG,EAAE2K,IAAI,KAAKhL,EAAEA,EAAED,GAAGA,IAAI,EAAEM,EAAE2K,IAAI/K,EAAE,IAAIF,EAAE,WAAc,OAAGI,EAAEkC,IAAI,CAAIlC,GAAAA,EAAE6F,MAAM8E,IAAI,CAAKhL,IAAAA,EAAEK,EAAE6F,MAAM8E,IAAI3K,EAAEgC,IAAIP,IAAI,GAAG2C,GAAEzE,EAAEA,EAAEmC,IAAIsB,IAAIzD,EAAEmC,IAAIgJ,IAAI,CAAKhK,IAAAA,EAAE,IAAId,EAAEuI,SAAS,CAACoC,IAAI3K,EAAE2B,IAAI,OAAOb,EAAEd,EAAEc,EAAEiK,OAAOjK,EAAE2H,aAAa,CAAC,EAAEzI,EAAEkC,OAAO,GAAGpB,EAAEoB,KAAKlC,EAAEuI,SAAS,CAACoC,IAAI3K,EAAE2B,IAAI3B,EAAEgC,IAAIP,IAAI,KAAK9B,EAAEgJ,KAAK7I,EAAEA,EAAE,EAAEuD,GAAEoC,UAAUoC,qBAAqB,WAAWrF,KAAK1B,EAAE,EAAE,EAAEuC,GAAEoC,UAAUC,OAAO,SAAS/F,EAAEO,GAAG,GAAGsC,KAAKb,IAAI,CAAI,GAAAa,KAAKR,IAAIP,IAAI,CAAKzB,IAAAA,EAAE8G,SAASG,cAAc,OAAOlH,EAAEyC,KAAKR,IAAIP,IAAI,GAAGK,IAASU,KAAAR,IAAIP,IAAI,GAAGyG,GAAE1F,KAAKb,IAAI3B,EAAED,EAAE+K,IAAI/K,EAAEqD,IAAI,CAACZ,KAAKb,IAAI,IAAI,CAAC,IAAI7B,EAAEI,EAAEyK,KAAK7J,EAAEjB,EAAE,KAAKF,EAAEqL,UAAU,OAAOlL,IAAIA,EAAEoC,MAAK,IAAK,CAACpB,EAAEjB,EAAE,KAAKK,EAAEyK,IAAI,KAAKhL,EAAEsB,UAAUnB,EAAE,EAAE,IAAIyJ,GAAE,SAAS5J,EAAEmB,EAAEZ,GAAM,KAAEA,EAAE,KAAKA,EAAE,IAAIP,EAAEI,EAAEkL,OAAOnK,GAAGnB,EAAE2B,MAAM4J,cAAc,MAAMvL,EAAE2B,MAAM4J,YAAY,KAAKvL,EAAEI,EAAEoL,MAAUjL,IAAAA,EAAEP,EAAEE,EAAEK,GAAG,CAAC,KAAKA,EAAEc,OAAO,GAAGd,EAAE6K,KAAF7K,GAAU,GAAGA,EAAE,GAAGA,EAAE,GAAG,MAAMP,EAAEE,EAAEK,EAAEA,EAAE,EAAE,CAAC,EAAE,SAASkL,GAAEzL,GAAU,OAAA6C,KAAKiE,gBAAgB,WAAW,OAAO9G,EAAE8C,OAAO,EAAE9C,EAAEsB,QAAQ,CAAC,SAAS4C,GAAElE,GAAOO,IAAAA,EAAEsC,KAAKxC,EAAEL,EAAEG,EAAEI,EAAE2H,qBAAqB,WAAawD,EAAA,KAAKnL,EAAEN,GAAGM,EAAEN,EAAE,KAAKM,EAAEJ,EAAE,IAAI,EAAEI,EAAEJ,GAAGI,EAAEJ,IAAIE,GAAGE,EAAE2H,uBAAuB3H,EAAEN,IAAIM,EAAEJ,EAAEE,EAAEE,EAAEN,EAAE,CAACiH,SAAS,EAAElG,WAAWX,EAAEoH,WAAW,GAAGqD,YAAY,SAAS9K,GAAG6C,KAAK4E,WAAWtE,KAAKnD,GAAGO,EAAEJ,EAAE2K,YAAY9K,EAAE,EAAEsE,aAAa,SAAStE,EAAEmB,GAAG0B,KAAK4E,WAAWtE,KAAKnD,GAAGO,EAAEJ,EAAE2K,YAAY9K,EAAE,EAAEiB,YAAY,SAASjB,GAAG6C,KAAK4E,WAAWiB,OAAO7F,KAAK4E,WAAWT,QAAQhH,KAAK,EAAE,GAAGO,EAAEJ,EAAEc,YAAYjB,EAAE,IAAII,EAAEe,EAAEsK,GAAE,CAAC3I,QAAQvC,EAAEuC,SAAS9C,EAAEqC,KAAK9B,EAAEN,EAAE,CAAC,SAAS6H,GAAE9H,EAAEO,GAAOF,IAAAA,EAAEc,EAAE+C,GAAE,CAAC7B,IAAIrC,EAAEG,EAAEI,IAAWF,OAAAA,EAAEsL,cAAcpL,EAAEF,CAAC,EAAEwD,GAAEiC,UAAU,IAAI9F,GAAGgL,IAAI,SAAShL,GAAOmB,IAAAA,EAAE0B,KAAKtC,EAAEwK,GAAE5J,EAAEkB,KAAKhC,EAAEc,EAAEf,EAAEwL,IAAI5L,GAAG,OAAOK,EAAE,KAAK,SAASH,GAAG,IAAIE,EAAE,WAAWe,EAAEQ,MAAM4J,aAAalL,EAAE8C,KAAKjD,GAAG0J,GAAEzI,EAAEnB,EAAEK,IAAIH,GAAG,EAAEK,EAAEA,EAAEH,GAAGA,GAAG,CAAC,EAAEyD,GAAEiC,UAAUC,OAAO,SAAS/F,GAAG6C,KAAK3C,EAAE,KAAK2C,KAAKzC,EAAM,IAAAyL,IAAQ1K,IAAAA,EAAEd,EAAEL,EAAEsB,UAAUtB,EAAEuL,aAAa,MAAMvL,EAAEuL,YAAY,IAAIpK,EAAE2K,UAAkBvL,IAAAA,IAAAA,EAAEY,EAAEE,OAAOd,KAAKsC,KAAKzC,EAAE2L,IAAI5K,EAAEZ,GAAGsC,KAAK3C,EAAE,CAAC,EAAE,EAAE2C,KAAK3C,IAAI,OAAOF,EAAEsB,QAAQ,EAAEuC,GAAEiC,UAAUe,mBAAmBhD,GAAEiC,UAAUU,kBAAkB,WAAW,IAAIxG,EAAE6C,KAAKA,KAAKzC,EAAEuG,SAAQ,SAASxF,EAAEZ,GAAKP,GAAAA,EAAEO,EAAEY,EAAE,GAAE,EAAE,IAAIgD,GAAE,oBAAoBoG,QAAQA,OAAOC,KAAKD,OAAOC,IAAI,kBAAkB,MAAMnC,GAAE,8RAA8RrE,GAAE,mCAAmCgI,GAAE,YAAYC,GAAE,oBAAoB9E,SAAS5C,GAAE,SAASvE,GAAU,OAAA,oBAAoBuK,QAAQ,iBAAiBA,SAAS,cAAc,cAAc5F,KAAK3E,EAAE,EAAE,SAASmI,GAAEnI,EAAEmB,EAAEZ,GAAG,OAAO,MAAMY,EAAEW,MAAMX,EAAE+K,YAAY,IAAI9L,EAAEJ,EAAEmB,GAAG,mBAAmBZ,GAAGA,IAAIP,EAAEA,EAAEmC,IAAI,IAAI,CAAC,SAASgK,GAAEnM,EAAEmB,EAAEZ,GAAUJ,OAAAA,EAAEH,EAAEmB,GAAG,mBAAmBZ,GAAGA,IAAIP,EAAEA,EAAEmC,IAAI,IAAI,CAACnC,EAAE8F,UAAUqE,iBAAiB,CAAE,EAAC,CAAC,qBAAqB,4BAA4B,uBAAuBxD,SAAQ,SAASxF,GAAUiL,OAAAC,eAAerM,EAAE8F,UAAU3E,EAAE,CAACmL,cAAa,EAAGV,IAAI,WAAkB,OAAA/I,KAAK,UAAU1B,EAAE,EAAE4K,IAAI,SAAS/L,GAAUoM,OAAAC,eAAexJ,KAAK1B,EAAE,CAACmL,cAAa,EAAGC,UAAS,EAAG3G,MAAM5F,GAAG,GAAG,IAAG,IAAIwM,GAAEjM,EAAEmF,MAAM,SAAS+G,KAAG,CAAE,SAASC,KAAI,OAAO7J,KAAK8J,YAAY,CAAC,SAASC,KAAI,OAAO/J,KAAKgK,gBAAgB,CAACtM,EAAEmF,MAAM,SAAS1F,GAAG,OAAOwM,KAAIxM,EAAEwM,GAAExM,IAAIA,EAAE8M,QAAQL,GAAEzM,EAAE+M,qBAAqBL,GAAE1M,EAAEgN,mBAAmBJ,GAAE5M,EAAEiN,YAAYjN,CAAC,EAAE,IAAIkN,GAAGC,GAAG,CAACC,YAAW,EAAGd,cAAa,EAAGV,IAAI,WAAW,OAAO/I,KAAKwK,KAAK,GAAGC,GAAG/M,EAAEiC,MAAMjC,EAAEiC,MAAM,SAASxC,GAAG,iBAAiBA,EAAE0B,MAAM,SAAS1B,GAAG,IAAImB,EAAEnB,EAAE2B,MAAMpB,EAAEP,EAAE0B,KAAKxB,EAAE,CAAA,EAAG,IAAA,IAAQE,KAAKe,EAAE,CAAKhB,IAAAA,EAAEgB,EAAEf,GAAG,KAAK,UAAUA,GAAG,iBAAiBe,GAAG,MAAMhB,GAAG8L,IAAG,aAAa7L,GAAG,aAAaG,GAAG,UAAUH,GAAG,cAAcA,GAAG,CAAKH,IAAAA,EAAEG,EAAE4E,cAAc,iBAAiB5E,GAAG,UAAUe,GAAG,MAAMA,EAAEyE,MAAMxF,EAAE,QAAQ,aAAaA,IAAG,IAAKD,EAAEA,EAAE,GAAG,kBAAkBF,EAAEG,EAAE,aAAa,aAAaH,GAAG,UAAUM,GAAG,aAAaA,GAAGgE,GAAEpD,EAAEO,MAAM,YAAYzB,EAAEG,EAAE,YAAY,WAAWH,EAAEG,EAAE,aAAa4D,GAAEW,KAAKvE,GAAGA,EAAEH,GAAE,IAAKM,EAAEyG,QAAQ,MAAMqB,GAAE1D,KAAKvE,GAAGA,EAAEA,EAAE2E,QAAQiH,GAAE,OAAOhH,cAAc,OAAO7E,IAAIA,OAAE,GAAQF,EAAEG,EAAE,UAAU,YAAYH,GAAGC,EAAEE,EAAEH,KAAKG,EAAE,kBAAkBF,EAAEE,GAAGD,CAAC,CAAC,CAAC,UAAUI,GAAGL,EAAEqN,UAAU3M,MAAMC,QAAQX,EAAE0F,SAAS1F,EAAE0F,MAAMvF,EAAEc,EAAEG,UAAUqF,SAAQ,SAAS3G,GAAGA,EAAE2B,MAAM6L,UAAS,GAAItN,EAAE0F,MAAMoB,QAAQhH,EAAE2B,MAAMiE,MAAM,KAAI,UAAUrF,GAAG,MAAML,EAAEuN,eAAevN,EAAE0F,MAAMvF,EAAEc,EAAEG,UAAUqF,SAAQ,SAAS3G,GAAGA,EAAE2B,MAAM6L,SAAStN,EAAEqN,aAAarN,EAAEuN,aAAazG,QAAQhH,EAAE2B,MAAMiE,OAAO1F,EAAEuN,cAAczN,EAAE2B,MAAMiE,KAAK,KAAIzE,EAAEkM,QAAQlM,EAAEuM,WAAWxN,EAAEmN,MAAMlM,EAAEkM,MAAMjB,OAAOC,eAAenM,EAAE,YAAYiN,MAAMhM,EAAEuM,YAAYvM,EAAEkM,OAAOlM,EAAEkM,OAAOlM,EAAEuM,aAAaxN,EAAEmN,MAAMnN,EAAEwN,UAAUvM,EAAEuM,WAAW1N,EAAE2B,MAAMzB,CAAC,CAA1kC,CAA4kCF,GAAGA,EAAEyK,SAAStG,GAAEmJ,IAAIA,GAAGtN,EAAE,EAAE,IAAI2N,GAAGpN,EAAE8C,IAAI9C,EAAE8C,IAAI,SAASrD,GAAG2N,IAAIA,GAAG3N,GAAGkN,GAAGlN,EAAEmC,GAAG,EAAE,IAAIyL,GAAGrN,EAAEwH,OAAOxH,EAAEwH,OAAO,SAAS/H,GAAG4N,IAAIA,GAAG5N,GAAG,IAAImB,EAAEnB,EAAE2B,MAAMpB,EAAEP,EAAEiC,IAAI,MAAM1B,GAAG,aAAaP,EAAE0B,MAAM,UAAUP,GAAGA,EAAEyE,QAAQrF,EAAEqF,QAAQrF,EAAEqF,MAAM,MAAMzE,EAAEyE,MAAM,GAAGzE,EAAEyE,OAAOsH,GAAG,IAAI,EAAE,IAAIW,GAAG,CAACC,uBAAuB,CAACpL,QAAQ,CAACqL,YAAY,SAAS/N,GAAG,OAAOkN,GAAGvJ,IAAI3D,EAAEmC,KAAKR,MAAMiE,KAAK,KAAiB,SAASoI,GAAGhO,GAAUmB,OAAAA,EAAE8H,KAAK,KAAKjJ,EAAE,CAAC,SAASiO,GAAGjO,GAAG,QAAQA,GAAGA,EAAEyK,WAAWtG,EAAC,CAAC,SAAS+J,GAAGlO,GAAG,OAAOiO,GAAGjO,IAAIA,EAAE0B,OAAOxB,CAAC,CAAC,SAASiO,GAAGnO,GAAG,OAAOiO,GAAGjO,GAAGM,EAAE8N,MAAM,KAAKhN,WAAWpB,CAAC,CAAC,SAASqO,GAAGrO,GAAG,QAAQA,EAAE8B,MAAM1B,EAAE,KAAKJ,IAAG,EAAG,CAAC,SAASsO,GAAGtO,GAAG,OAAOA,IAAIA,EAAEiD,MAAM,IAAIjD,EAAEkH,UAAUlH,IAAI,IAAI,CAAC,IAAIuO,GAAG,SAASvO,EAAEmB,GAAG,OAAOnB,EAAEmB,EAAE,EAAEqN,GAAG,SAASxO,EAAEmB,GAAG,OAAOnB,EAAEmB,EAAE,EAAEsN,GAAGvO,EAAE,SAASwO,GAAG1O,GAAGA,GAAG,CAAC,SAAS2O,GAAG3O,GAAUA,OAAAA,CAAC,CAAC,SAAS4O,KAAW,MAAA,EAAC,EAAGF,GAAG,CAAC,IAAIG,GAAGpN,GAAEqN,GAAGb,GAAG,SAASc,GAAG/O,EAAEmB,GAAOZ,IAAAA,EAAEY,IAAId,EAAEK,GAAE,CAACC,EAAE,CAACoB,GAAGxB,EAAEO,EAAEK,KAAKjB,EAAEG,EAAE,GAAGM,EAAEP,EAAEC,EAAE,GAAG,OAAOoB,IAAE,WAAWvB,EAAE6B,GAAGxB,EAAEL,EAAEY,EAAEK,EAAE6N,GAAG9O,IAAIE,EAAE,CAACO,EAAET,GAAG,GAAE,CAACF,EAAEO,EAAEY,IAAIL,IAAE,WAAkB,OAAAkO,GAAG9O,IAAIE,EAAE,CAACO,EAAET,IAAIF,GAAE,WAAWgP,GAAG9O,IAAIE,EAAE,CAACO,EAAET,GAAG,GAAE,GAAE,CAACF,IAAIO,CAAC,CAAC,SAASyO,GAAGhP,GAAG,IAAImB,EAAEZ,EAAEF,EAAEL,EAAEc,EAAEZ,EAAEF,EAAE+B,GAAM,IAAC,IAAI3B,EAAEC,IAAI,SAASc,EAAEjB,MAAMK,EAAEH,KAAK,IAAIe,GAAG,EAAEA,GAAG,EAAEZ,IAAIY,GAAGA,GAAGZ,GAAGA,EAAE,OAAOP,GAAS,OAAA,CAAE,CAAC,CAAC,IAAIiP,GAAG,CAACC,SAASxO,GAAEyO,MAAM1O,GAAE2O,WAAWzO,GAAE0O,UAAUvO,GAAEwO,gBAAgB7N,GAAE8N,mBAAmBV,GAAGW,cAAcZ,GAAGa,iBAAiBd,GAAGe,qBAAqBX,GAAGY,gBAAgBjB,GAAGkB,OAAO7O,GAAE8O,oBAAoB9M,GAAE+M,QAAQ5O,GAAE6O,YAAYtN,GAAEuN,WAAWpN,GAAE+G,cAAcvF,GAAE6L,QAAQ,SAASC,SAAS5K,GAAES,OAAOoC,GAAEgI,QAAQhE,GAAEiE,uBAAuB/B,GAAGgC,aAAavI,GAAER,cAAcnG,EAAEmP,cAAcrQ,EAAEsQ,cAAcvC,GAAGwC,aAAarC,GAAGsC,UAAUjQ,EAAEkQ,SAASxQ,EAAEyQ,eAAe1C,GAAG2C,UAAU9B,GAAG+B,WAAW3C,GAAG4C,YAAYxC,GAAGyC,UAAU/Q,EAAEgR,cAAc1I,GAAE2I,KAAK/N,GAAEgO,WAAWjN,GAAEkN,UAAU3C,GAAG4C,wBAAwB7C,GAAG8C,WAAW5C,GAAG6C,SAAS5N,GAAE6N,aAAa1N,GAAE2N,KAAKnM,GAAEoM,mDAAmD5D,imBDAlsO,SAAW7N,GAAG,IAAIE,EAAEuB,GAAEN,IAAI,IAAIhB,EAAEQ,KAAWT,OAAAA,EAAE6B,GAAG/B,EAAEK,EAAEwI,oBAAoBxI,EAAEwI,kBAAkB,SAAS7I,EAAEmB,GAAGjB,EAAE6B,IAAI7B,EAAE6B,GAAG/B,EAAEmB,GAAGhB,EAAE,GAAGH,EAAE,GAAG,CAACG,EAAE,GAAG,WAAWA,EAAE,QAAG,EAAO,EAAE,2KCAioL;;;;;;;;;;ACSt8O,IAAII,GAAEmR,GAAgF,IAAI1O,GAAE,mBAAoBoJ,OAAO7E,GAAG6E,OAAO7E,GAA1G,SAAW7G,EAAEkC,GAAUlC,OAAAA,IAAIkC,IAAI,IAAIlC,GAAG,EAAEA,GAAI,EAAEkC,IAAIlC,GAAIA,GAAGkC,GAAIA,CAAC,EAAiD3C,GAAEM,GAAE2O,SAASnM,GAAExC,GAAE8O,UAAUrP,GAAEO,GAAE+O,gBAAgBvO,GAAER,GAAEoJ,cACtM,SAAStJ,GAAEK,GAAG,IAAIkC,EAAElC,EAAEiR,YAAYjR,EAAEA,EAAEkF,MAAS,IAAC,IAAInE,EAAEmB,IAAU,OAACI,GAAEtC,EAAEe,EAAE,OAAOnB,GAAS,OAAA,CAAE,CAAC,CAA4B,IAAIJ,GAAE,oBAAqB0R,aAAQ,IAAqBA,OAAOzK,eAAU,IAAqByK,OAAOzK,SAASG,cAAzI,SAAW5G,EAAEkC,GAAG,OAAOA,GAAG,EAD+F,SAAWlC,EAAEkC,GAAOnB,IAAAA,EAAEmB,IAAItC,EAAEL,GAAE,CAAC4R,KAAK,CAACjM,MAAMnE,EAAEkQ,YAAY/O,KAAKpC,EAAEF,EAAE,GAAGuR,KAAKlP,EAAErC,EAAE,GAA+JmB,OAA5JzB,IAAE,WAAWQ,EAAEoF,MAAMnE,EAAEjB,EAAEmR,YAAY/O,EAAEvC,GAAEG,IAAImC,EAAE,CAACkP,KAAKrR,GAAG,GAAE,CAACE,EAAEe,EAAEmB,IAAIG,IAAE,WAA6B,OAAlB1C,GAAEG,IAAImC,EAAE,CAACkP,KAAKrR,IAAWE,GAAE,WAAWL,GAAEG,IAAImC,EAAE,CAACkP,KAAKrR,GAAG,GAAE,GAAE,CAACE,IAAIK,GAAEU,GAAUA,CAAC,EAChLqQ,EAAApC,0BAAC,IAASnP,GAAEmP,qBAAqBnP,GAAEmP,qBAAqBxP,GCPjU6R,EAAAC,QAAUN,yCCMF/Q,GAAE+Q,GAAiB1R,GAAEiS,GAAuG,IAAI9J,GAAE,mBAAoBiE,OAAO7E,GAAG6E,OAAO7E,GAA1G,SAAW7G,EAAEkC,GAAUlC,OAAAA,IAAIkC,IAAI,IAAIlC,GAAG,EAAEA,GAAI,EAAEkC,IAAIlC,GAAIA,GAAGkC,GAAIA,CAAC,EAAiDvC,GAAEL,GAAE0P,qBAAqBvO,GAAER,GAAEiP,OAAO1P,GAAES,GAAE0O,UAAUvO,GAAEH,GAAEmP,QAAQ5M,GAAEvC,GAAEgJ,cAC/PuI,GAAAC,iCAAyC,SAASzR,EAAEkC,EAAErC,EAAEN,EAAE0C,GAAOnC,IAAAA,EAAEW,GAAE,MAAS,GAAA,OAAOX,EAAEkC,QAAQ,CAAC,IAAIpC,EAAE,CAAC8R,UAAS,EAAGxM,MAAM,MAAMpF,EAAEkC,QAAQpC,CAAC,MAAMA,EAAEE,EAAEkC,QAAQlC,EAAEM,IAAE,WAAW,SAASJ,EAAEA,GAAG,IAAIF,EAAE,CAAoB,GAAnBA,GAAE,EAAGiB,EAAEf,EAAEA,EAAET,EAAES,QAAM,IAASiC,GAAGrC,EAAE8R,SAAS,CAAC,IAAIxP,EAAEtC,EAAEsF,MAASjD,GAAAA,EAAEC,EAAElC,GAAG,OAAOsC,EAAEJ,CAAC,CAAC,OAAOI,EAAEtC,CAAC,CAAQyH,GAAPvF,EAAEI,EAAKmF,GAAE1G,EAAEf,GAAUkC,OAAAA,EAAMrC,IAAAA,EAAEN,EAAES,GAAG,YAAG,IAASiC,GAAGA,EAAEC,EAAErC,GAAUqC,GAAEnB,EAAEf,EAASsC,EAAEzC,EAAC,CAAC,IAASkB,EAAEuB,EAAPxC,GAAE,EAAOuC,OAAE,IAASxC,EAAE,KAAKA,EAAE,MAAM,CAAC,WAAkBG,OAAAA,EAAEkC,IAAI,EAAE,OAAOG,OAAE,EAAO,WAAkBrC,OAAAA,EAAEqC,IAAI,EAAE,GAAE,CAACH,EAAErC,EAAEN,EAAE0C,IAAQlB,IAAAA,EAAEpB,GAAEK,EAAEF,EAAE,GAAGA,EAAE,IAC5biB,OAAvDvB,IAAE,WAAWI,EAAE8R,UAAS,EAAG9R,EAAEsF,MAAMnE,CAAC,GAAE,CAACA,IAAIyB,GAAEzB,GAAUA,CAAC,ECR/C4Q,GAAAL,QAAUN,qBCEnB,IAAIY,GAJJ,SAA0BC,MAE1B,EAIO,MAEMC,GAAW,IAAMF,GCRxBG,GAAalI,OAAOC,IAAI,uBACxBkI,GAA2B,oBAAfC,WAA6BA,WAAA,CAE9C,EAED,SAASC,KACH,IAAAC,EAEJ,IAAKC,EAAqB,MAAO,GAC3B,MAAAC,EAAkD,OAApCF,EAAiBH,GAAGD,KAAuBI,EAAiBH,GAAGD,IAAc,IAAI5G,IACjG,IAAAmH,EAAcD,EAAWnH,IAAIkH,GAY1B,OAVFE,IACWA,EAAAF,EAAoB,MAMvBC,EAAAhH,IAAI+G,EAAqBE,IAG/BA,CACT,CAEO,MAAMC,GAA4CL,KChBzC,SAAAM,GAAuBpQ,EAAUmQ,IAC/C,OAAO,WAOE,OANcjD,GAAWlN,EAMzB,CAEX,CAkBO,MAAMqQ,GAAsDD,KClCnE,IAAIf,GCJ0B,KACtB,MAAA,IAAIiB,MAAM,wBAAuB,EDIlC,MAIDC,GAAc,CAAC3S,EAAGkC,IAAMlC,IAAMkC,EASpB,SAAA0Q,GAAmBxQ,EAAUmQ,IAC3C,MAAME,EAAkBrQ,IAAYmQ,GAAoBM,GAAyBL,GAAuBpQ,GACxG,OAAO,SAAqB0Q,EAAUC,EAAsB,CAAA,GACpD,MAAAC,WACJA,EAAaL,GAAAM,eACbA,EAAiBC,UACjBA,GACiC,mBAAxBH,EAAqC,CAC9CC,WAAYD,GACVA,GAgBEI,MACJA,EAAAC,aACAA,EAAAC,eACAA,EACAJ,eAAgBK,EAChBJ,UAAWK,GACTd,IACavD,IAAO,GACxB,MAAMsE,EAAkBnE,GAAY,CAClC,CAACyD,EAAS7L,MAAMzB,GACGsN,EAAStN,IAyD5BsN,EAAS7L,MAAO,CAAC6L,EAAUQ,EAAsBL,IAC7CQ,EAAgBhC,GAAiC2B,EAAaM,aAAcP,EAAMQ,SAAUN,GAAkBF,EAAMQ,SAAUH,EAAiBR,GAE9I,OADP/J,GAAcwK,GACPA,CAAA,CAEX,CAyBO,MAAMG,GAA8ChB,+BEnI1C1Q,GAAE,mBAAoB2H,QAAQA,OAAOC,IAAIhK,GAAEoC,GAAE2H,OAAOC,IAAI,iBAAiB,MAAM/I,GAAEmB,GAAE2H,OAAOC,IAAI,gBAAgB,MAAMjK,GAAEqC,GAAE2H,OAAOC,IAAI,kBAAkB,MAAMlK,GAAEsC,GAAE2H,OAAOC,IAAI,qBAAqB,MAAM7H,GAAEC,GAAE2H,OAAOC,IAAI,kBAAkB,MAAM7J,GAAEiC,GAAE2H,OAAOC,IAAI,kBAAkB,MAAMxH,GAAEJ,GAAE2H,OAAOC,IAAI,iBAAiB,MAAMvK,GAAE2C,GAAE2H,OAAOC,IAAI,oBAAoB,MAAMzH,GAAEH,GAAE2H,OAAOC,IAAI,yBAAyB,MAAMxK,GAAE4C,GAAE2H,OAAOC,IAAI,qBAAqB,MAAMzJ,GAAE6B,GAAE2H,OAAOC,IAAI,kBAAkB,MAAMrC,GAAEvF,GACpf2H,OAAOC,IAAI,uBAAuB,MAAMnK,GAAEuC,GAAE2H,OAAOC,IAAI,cAAc,MAAMrJ,GAAEyB,GAAE2H,OAAOC,IAAI,cAAc,MAAM1J,GAAE8B,GAAE2H,OAAOC,IAAI,eAAe,MAAMtH,GAAEN,GAAE2H,OAAOC,IAAI,qBAAqB,MAAMpH,GAAER,GAAE2H,OAAOC,IAAI,mBAAmB,MAAMtJ,GAAE0B,GAAE2H,OAAOC,IAAI,eAAe,MAClQ,SAASrG,GAAEzD,GAAG,GAAG,iBAAkBA,GAAG,OAAOA,EAAE,CAAC,IAAIR,EAAEQ,EAAE+J,SAAS,OAAOvK,GAAG,KAAKM,GAASE,OAAAA,EAAEA,EAAEgB,MAAQ,KAAKzB,GAAE,KAAK8C,GAAE,KAAKxC,GAAE,KAAKoC,GAAE,KAAKrC,GAAE,KAAKS,GAASL,OAAAA,EAAE,QAAQ,OAAOA,EAAEA,GAAGA,EAAE+J,UAAY,KAAKzH,GAAE,KAAKhD,GAAE,KAAKmB,GAAE,KAAKd,GAAE,KAAKM,GAASD,OAAAA,EAAE,QAAeR,OAAAA,GAAG,KAAKuB,GAASvB,OAAAA,EAAE,CAAC,CAAC,SAASoF,GAAE5E,GAAUyD,OAAAA,GAAEzD,KAAKqC,EAAC,CAACwR,GAAAC,UAAkBvU,GAAwBsU,GAAAE,eAAC1R,sBAA0BC,GAAEuR,GAAAG,gBAAwB/T,GAAiB4T,GAAAI,QAACnU,GAAE+T,GAAAK,WAAmB5U,GAAkBuU,GAAA7D,SAACnQ,WAAeY,GAAEoT,GAAAM,KAAaxU,GAAgBkU,GAAAO,OAACrT,GAChf8S,GAAAQ,SAAiBpS,GAAE4R,GAAAlD,WAAmB/Q,GAAEiU,GAAAjD,SAAiBvQ,GAAEwT,GAAAS,YAAoB,SAAStU,GAAG,OAAO4E,GAAE5E,IAAIyD,GAAEzD,KAAKT,EAAC,EAAEsU,GAAAU,iBAAyB3P,GAAEiP,GAAAW,kBAA0B,SAASxU,GAAUyD,OAAAA,GAAEzD,KAAKsC,EAAC,EAAEuR,GAAAY,kBAA0B,SAASzU,GAAUyD,OAAAA,GAAEzD,KAAKC,EAAC,EAAE4T,GAAA3D,UAAkB,SAASlQ,GAAG,MAAM,iBAAkBA,GAAG,OAAOA,GAAGA,EAAE+J,WAAWjK,EAAC,EAAE+T,GAAAa,aAAqB,SAAS1U,GAAUyD,OAAAA,GAAEzD,KAAKV,EAAC,EAAEuU,GAAA1D,WAAmB,SAASnQ,GAAUyD,OAAAA,GAAEzD,KAAKH,EAAC,EAAEgU,GAAAc,OAAe,SAAS3U,GAAUyD,OAAAA,GAAEzD,KAAKS,EAAC,EAC1doT,GAAAe,OAAe,SAAS5U,GAAUyD,OAAAA,GAAEzD,KAAKL,EAAC,cAAmB,SAASK,GAAUyD,OAAAA,GAAEzD,KAAKe,EAAC,EAAoB8S,GAAAgB,WAAC,SAAS7U,GAAUyD,OAAAA,GAAEzD,KAAKiC,EAAC,EAAE4R,GAAAiB,aAAqB,SAAS9U,GAAUyD,OAAAA,GAAEzD,KAAKJ,EAAC,EAAEiU,GAAAkB,WAAmB,SAAS/U,GAAUyD,OAAAA,GAAEzD,KAAKK,EAAC,EAChNwT,GAAAmB,mBAAC,SAAShV,GAAS,MAAA,iBAAkBA,GAAG,mBAAoBA,GAAGA,IAAIH,IAAGG,IAAIqC,IAAGrC,IAAIiC,IAAGjC,IAAIJ,IAAGI,IAAIK,IAAGL,IAAIyH,IAAG,iBAAkBzH,GAAG,OAAOA,IAAIA,EAAE+J,WAAWtJ,IAAGT,EAAE+J,WAAWpK,IAAGK,EAAE+J,WAAW9J,IAAGD,EAAE+J,WAAWzH,IAAGtC,EAAE+J,WAAWzK,IAAGU,EAAE+J,WAAWvH,IAAGxC,EAAE+J,WAAWrH,IAAG1C,EAAE+J,WAAWvJ,IAAGR,EAAE+J,WAAW3J,GAAE,EAAgByT,GAAAoB,OAACxR,GCX1TyR,GAAA5D,QAAUN,OCDfmE,cA2CAC,GAAe,CAAA,EACnBA,GAAaD,GAAQjB,YAhBK,CACxBnK,UAAY,EACZ1E,QAAQ,EACRvE,cAAc,EACd0I,aAAa,EACb6L,WAAW,GAYbD,GAAaD,GAAQhB,MAVF,CACjBpK,UAAY,EACZuL,SAAS,EACTxU,cAAc,EACd0I,aAAa,EACb6L,WAAW,EACXrU,MAAM,OClCicxB,SAAxb0C,GAAE2H,OAAOC,IAAI,iBAAiBhK,GAAE+J,OAAOC,IAAI,gBAAgB/I,GAAE8I,OAAOC,IAAI,kBAAkBjK,GAAEgK,OAAOC,IAAI,qBAAqBlK,GAAEiK,OAAOC,IAAI,kBAAkB7H,GAAE4H,OAAOC,IAAI,kBAAkB7J,GAAE4J,OAAOC,IAAI,iBAAiBxH,GAAEuH,OAAOC,IAAI,wBAAwBvK,GAAEsK,OAAOC,IAAI,qBAAqBzH,GAAEwH,OAAOC,IAAI,kBAAkBxK,GAAEuK,OAAOC,IAAI,uBAAuBzJ,GAAEwJ,OAAOC,IAAI,cAAcrC,GAAEoC,OAAOC,IAAI,cAAcrJ,GAAEoJ,OAAOC,IAAI;;;;;;;;;GACtb,SAAS1J,GAAEJ,GAAG,GAAG,iBAAkBA,GAAG,OAAOA,EAAE,CAAC,IAAIL,EAAEK,EAAE+J,SAAS,OAAOpK,GAAG,KAAKuC,GAASlC,OAAAA,EAAEA,EAAEgB,MAAQ,KAAKD,GAAE,KAAKnB,GAAE,KAAKC,GAAE,KAAKwC,GAAE,KAAK/C,GAASU,OAAAA,EAAE,QAAQ,OAAOA,EAAEA,GAAGA,EAAE+J,UAAY,KAAKzH,GAAE,KAAKrC,GAAE,KAAKV,GAAE,KAAKkI,GAAE,KAAKpH,GAAE,KAAK4B,GAASjC,OAAAA,EAAE,QAAeL,OAAAA,GAAG,KAAKG,GAASH,OAAAA,EAAE,CAAC,CADkMH,GAAEqK,OAAOC,IAAI,0BACvL+J,GAAA0B,gBAACtV,sBAA0BgC,GAAE4R,GAAAI,QAAgB/R,GAAE2R,GAAAK,WAAmB3U,GAAkBsU,GAAA7D,SAACjP,GAAE8S,GAAA2B,KAAa/N,GAAcoM,GAAAM,KAAC9T,GAAgBwT,GAAAO,OAACtU,eAAmBF,GAAEiU,GAAAlD,WAAmB9Q,GAAkBgU,GAAAjD,SAACvO,GAChewR,GAAAhD,aAAqBvR,GAAEuU,GAAAS,YAAoB,WAAiB,OAAA,CAAE,sBAA2B,WAAiB,OAAA,CAAE,EAA2BT,GAAAW,kBAAC,SAASxU,GAAUI,OAAAA,GAAEJ,KAAKC,EAAC,EAA2B4T,GAAAY,kBAAC,SAASzU,GAAUI,OAAAA,GAAEJ,KAAKiC,EAAC,EAAmB4R,GAAA3D,UAAC,SAASlQ,GAAG,MAAM,iBAAkBA,GAAG,OAAOA,GAAGA,EAAE+J,WAAW7H,EAAC,EAAsB2R,GAAAa,aAAC,SAAS1U,GAAUI,OAAAA,GAAEJ,KAAKT,EAAC,EAAoBsU,GAAA1D,WAAC,SAASnQ,GAAUI,OAAAA,GAAEJ,KAAKe,EAAC,EAAgB8S,GAAAc,OAAC,SAAS3U,GAAUI,OAAAA,GAAEJ,KAAKyH,EAAC,EAAgBoM,GAAAe,OAAC,SAAS5U,GAAUI,OAAAA,GAAEJ,KAAKK,EAAC,EACvewT,GAAA4B,SAAiB,SAASzV,GAAUI,OAAAA,GAAEJ,KAAKF,EAAC,gBAAqB,SAASE,GAAUI,OAAAA,GAAEJ,KAAKJ,EAAC,EAAsBiU,GAAAiB,aAAC,SAAS9U,GAAUI,OAAAA,GAAEJ,KAAKH,EAAC,EAAEgU,GAAAkB,WAAmB,SAAS/U,GAAUI,OAAAA,GAAEJ,KAAKqC,EAAC,EAAEwR,GAAA6B,eAAuB,SAAS1V,GAAUI,OAAAA,GAAEJ,KAAKV,EAAC,EACxNuU,GAAAmB,mBAAC,SAAShV,GAAS,MAAA,iBAAkBA,GAAG,mBAAoBA,GAAGA,IAAIe,IAAGf,IAAIJ,IAAGI,IAAIH,IAAGG,IAAIqC,IAAGrC,IAAIV,IAAGU,IAAIS,IAAG,iBAAkBT,GAAG,OAAOA,IAAIA,EAAE+J,WAAWtC,IAAGzH,EAAE+J,WAAW1J,IAAGL,EAAE+J,WAAW9H,IAAGjC,EAAE+J,WAAW9J,IAAGD,EAAE+J,WAAWxK,IAAGS,EAAE+J,WAAWvK,SAAG,IAASQ,EAAE2V,YAAkB,EAAgB9B,GAAAoB,OAAC7U,GC2DjT,MAAMwV,GAAgB,CACpB,MAAAC,GAAW,EAEX3K,IAAK,IAAM,IAEN,SAAS4K,GAAmB3C,EAAO4C,GACpC,IAAAC,EACAC,EAAYL,GAEZM,EAAsB,EAEtBC,GAAiB,EAoBrB,SAASC,IACHhD,EAAaiD,eACfjD,EAAaiD,eAEhB,CAMD,SAASC,IACPJ,IAEKF,IACHA,EAAcD,EAAYA,EAAUrC,aAAa0C,GAAuBjD,EAAMoD,UAAUH,GACxFH,EAlHN,WACE,MAAMrE,EAAQE,KACd,IAAI0E,EAAQ,KACRC,EAAO,KACJ,MAAA,CACL,KAAAC,GACUF,EAAA,KACDC,EAAA,IACR,EAED,MAAAZ,GACEjE,GAAM,KACJ,IAAI+E,EAAWH,EAEf,KAAOG,GACLA,EAAS9E,WACT8E,EAAWA,EAASC,IACrB,GAEJ,EAED,GAAA1L,GACE,IAAI+K,EAAY,GACZU,EAAWH,EAEf,KAAOG,GACLV,EAAUxT,KAAKkU,GACfA,EAAWA,EAASC,KAGf,OAAAX,CACR,EAED,SAAAM,CAAU1E,GACR,IAAIgF,GAAe,EACfF,EAAWF,EAAO,CACpB5E,WACA+E,KAAM,KACNE,KAAML,GASR,OANIE,EAASG,KACXH,EAASG,KAAKF,KAAOD,EAEbH,EAAAG,EAGH,WACAE,GAA0B,OAAVL,IACNK,GAAA,EAEXF,EAASC,KACFD,EAAAC,KAAKE,KAAOH,EAASG,KAE9BL,EAAOE,EAASG,KAGdH,EAASG,KACFH,EAAAG,KAAKF,KAAOD,EAASC,KAE9BJ,EAAQG,EAASC,KAE3B,CACK,EAGL,CAgDkBG,GAEf,CAED,SAASC,IACPd,IAEIF,GAAuC,IAAxBE,QAEHF,OAAA,EACdC,EAAUS,QACET,EAAAL,GAEf,CAgBD,MAAMxC,EAAe,CACnBM,aA/DF,SAAsBiD,OAEd,MAAAM,EAAkBhB,EAAUM,UAAUI,GAE5C,IAAIO,GAAU,EACd,MAAO,KACAA,IACOA,GAAA,UAGX,CAEJ,EAoDCC,iBAlDF,WACElB,EAAUJ,QACX,EAiDCO,sBACAS,aA1CF,WACS,OAAAV,CACR,EAyCCG,aAnBF,WACOH,IACcA,GAAA,MAGpB,EAeCa,eAbF,WACMb,IACeA,GAAA,MAGpB,EASCiB,aAAc,IAAMnB,GAEf,OAAA7C,CACT,CCnJO,MACMiE,KADiC,oBAAXnG,aAAqD,IAApBA,OAAOzK,eAAqE,IAAlCyK,OAAOzK,SAASG,eACzE0Q,GAAwBC,GCN7E,SAASxP,IAASoL,MAChBA,EAAA/Q,QACAA,EAAAxB,SACAA,EAAA4W,YACAA,EAAAvE,eACAA,EAAiB,OAAAC,UACjBA,EAAY,SAEN,MAAAuE,EAAeC,IAAc,KAC3B,MAAAtE,EAAe0C,GAAmB3C,GACjC,MAAA,CACLA,QACAC,eACAC,eAAgBmE,EAAc,IAAMA,OAAc,EAClDvE,iBACAC,YACN,GACK,CAACC,EAAOqE,EAAavE,EAAgBC,IAClCyE,EAAgBD,IAAc,IAAMvE,EAAMQ,YAAY,CAACR,IAC7DkE,IAA0B,KAClB,MAAAjE,aACJA,GACEqE,EAQJ,OAPArE,EAAaiD,cAAgBjD,EAAa+D,iBAC1C/D,EAAakD,eAETqB,IAAkBxE,EAAMQ,YAC1BP,EAAa+D,mBAGR,KACL/D,EAAa4D,iBACb5D,EAAaiD,mBAAgB,CAAA,CACnC,GACK,CAACoB,EAAcE,IAGEC,OAAAA,GAFJxV,GAAWmQ,IAEqBxK,SAAU,CACxD7C,MAAOuS,GACN7W,EACL,CCpCO,SAASiX,GAAgBzV,EAAUmQ,IAClCE,MAAAA,EACNrQ,IAAYmQ,GAAoBM,GAChCL,GAAuBpQ,GACvB,OAAO,WACC,MAAA+Q,MACJA,GACEV,IAEG,OAAAU,CACX,CACA,CAiBO,MAAM2E,GAAyCD,KC5B/C,SAASE,GAAmB3V,EAAUmQ,IACrCuF,MAAAA,EACN1V,IAAYmQ,GAAoByF,GAAkBH,GAAgBzV,GAClE,OAAO,WAGL,OAFc0V,IAEDG,QACjB,CACA,CAuBO,MAAMC,GAA+CH,KVnCvB,IAAMxK,GWL3C,SAASjO,GAAEA,GAAG,IAAA,IAAQK,EAAEe,UAAUC,OAAOF,EAAEP,MAAMP,EAAE,EAAEA,EAAE,EAAE,GAAGE,EAAE,EAAEA,EAAEF,EAAEE,IAAIY,EAAEZ,EAAE,GAAGa,UAAUb,GAAwJ,MAAA6S,MAAM,8BAA8BpT,GAAGmB,EAAEE,OAAO,IAAIF,EAAEuJ,KAAK,SAAS1K,GAAG,MAAM,IAAIA,EAAE,GAAA,IAAO6Y,KAAK,KAAK,IAAI,mDAAmD,CAAC,SAASxY,GAAEL,GAAG,QAAQA,KAAKA,EAAE0M,GAAE,CAAC,SAASvL,GAAEnB,GAAOK,IAAAA,EAAE,QAAQL,IAAI,SAASA,GAAM,IAACA,GAAG,iBAAiBA,EAAQ,OAAA,EAAOK,IAAAA,EAAE+L,OAAO0M,eAAe9Y,GAAG,GAAG,OAAOK,EAAQ,OAAA,EAAG,IAAIc,EAAEiL,OAAO2M,eAAexX,KAAKlB,EAAE,gBAAgBA,EAAE+B,YAAmBjB,OAAAA,IAAIiL,QAAQ,mBAAmBjL,GAAG6X,SAASC,SAAS1X,KAAKJ,KAAK6K,EAAGhM,CAA5O,CAA4OA,IAAIY,MAAMC,QAAQb,MAAMA,EAAE0D,QAAO,QAAQrD,EAAEL,EAAEoC,mBAAc,IAAS/B,OAAE,EAAOA,EAAEqD,MAAKjD,GAAET,IAAIc,GAAEd,GAAG,CAA2C,SAASG,GAAEH,EAAEK,EAAEc,QAAG,IAASA,IAAIA,GAAE,GAAI,IAAIf,GAAEJ,IAAImB,EAAEiL,OAAO8M,KAAKhM,IAAIlN,GAAG2G,SAAS,SAASpG,GAAM4Y,GAAA,iBAAiB5Y,GAAGF,EAAEE,EAAEP,EAAEO,GAAGP,EAAI,IAAEA,EAAE2G,SAAS,SAASxF,EAAEZ,GAAUF,OAAAA,EAAEE,EAAEY,EAAEnB,EAAC,GAAI,CAAC,SAASI,GAAEJ,GAAOK,IAAAA,EAAEL,EAAE0M,IAAUrM,OAAAA,EAAEA,EAAEF,EAAE,EAAEE,EAAEF,EAAE,EAAEE,EAAEF,EAAES,MAAMC,QAAQb,GAAG,EAAES,GAAET,GAAG,EAAEc,GAAEd,GAAG,EAAE,CAAC,CAAC,SAASE,GAAEF,EAAEK,GAAG,OAAO,IAAID,GAAEJ,GAAGA,EAAEoZ,IAAI/Y,GAAG+L,OAAOtG,UAAUiT,eAAexX,KAAKvB,EAAEK,EAAE,CAA+C,SAASC,GAAEN,EAAEK,EAAEc,GAAOZ,IAAAA,EAAEH,GAAEJ,GAAG,IAAIO,EAAEP,EAAE+L,IAAI1L,EAAEc,GAAG,IAAIZ,EAAEP,EAAEqZ,IAAIlY,GAAGnB,EAAEK,GAAGc,CAAC,CAAC,SAASX,GAAER,EAAEK,GAAUL,OAAAA,IAAIK,EAAE,IAAIL,GAAG,EAAEA,GAAG,EAAEK,EAAEL,GAAGA,GAAGK,GAAGA,CAAC,CAAC,SAASI,GAAET,GAAG,OAAO4M,IAAG5M,aAAa6L,GAAG,CAAC,SAAS/K,GAAEd,GAAG,OAAOmI,IAAGnI,aAAasZ,GAAG,CAAC,SAASvY,GAAEf,GAAUA,OAAAA,EAAEI,GAAGJ,EAAEmB,CAAC,CAAC,SAASlB,GAAED,GAAM,GAAAY,MAAMC,QAAQb,GAAG,OAAOY,MAAMkF,UAAUb,MAAM1D,KAAKvB,GAAOK,IAAAA,EAAEsN,GAAG3N,UAAUK,EAAEqM,IAAWvL,IAAAA,IAAAA,EAAE+L,GAAG7M,GAAGE,EAAE,EAAEA,EAAEY,EAAEE,OAAOd,IAAI,CAAC,IAAIJ,EAAEgB,EAAEZ,GAAGH,EAAEC,EAAEF,IAAQC,IAAAA,EAAEmM,WAAWnM,EAAEmM,UAAS,EAAGnM,EAAEkM,cAAa,IAAKlM,EAAEwL,KAAKxL,EAAE2L,OAAO1L,EAAEF,GAAG,CAACmM,cAAa,EAAGC,UAAS,EAAGa,WAAWhN,EAAEgN,WAAWxH,MAAM5F,EAAEG,IAAI,CAAC,OAAOiM,OAAOmN,OAAOnN,OAAO0M,eAAe9Y,GAAGK,EAAE,CAAC,SAASoB,GAAEzB,EAAEO,GAAG,YAAO,IAASA,IAAIA,GAAE,GAAIW,GAAElB,IAAIK,GAAEL,KAAKmB,GAAEnB,KAAKI,GAAEJ,GAAG,IAAIA,EAAE+L,IAAI/L,EAAEqZ,IAAIrZ,EAAEoX,MAAMpX,EAAEsL,OAAO3K,IAAGyL,OAAOoN,OAAOxZ,GAAGO,GAAGJ,GAAEH,GAAG,SAASA,EAAEK,GAAU,OAAAoB,GAAEpB,GAAE,EAAE,IAAI,IAAKL,CAAC,CAAC,SAASW,KAAIX,GAAE,EAAE,CAAC,SAASkB,GAAElB,GAAG,OAAO,MAAMA,GAAG,iBAAiBA,GAAGoM,OAAOqN,SAASzZ,EAAE,CAAC,SAAS4C,GAAEvC,GAAOc,IAAAA,EAAEgM,GAAG9M,GAAG,OAAOc,GAAGnB,GAAE,GAAGK,GAAGc,CAAC,CAAkC,SAASsB,KAAuD,OAAAsI,EAAC,CAAC,SAASjD,GAAE9H,EAAEK,GAAGA,IAAIuC,GAAE,WAAW5C,EAAEE,EAAE,GAAGF,EAAES,EAAE,GAAGT,EAAEc,EAAET,EAAE,CAAC,SAASsC,GAAE3C,GAAKA,GAAAA,GAAGA,EAAEe,EAAE4F,QAAQvC,IAAGpE,EAAEe,EAAE,IAAI,CAAC,SAASiF,GAAEhG,GAAO0Z,IAAA3O,KAAIA,GAAE/K,EAAEC,EAAE,CAAC,SAASiD,GAAElD,GAAG,OAAO+K,GAAE,CAAChK,EAAE,GAAGd,EAAE8K,GAAEpK,EAAEX,EAAE+C,GAAE,EAAGN,EAAE,EAAE,CAAC,SAAS2B,GAAEpE,GAAOK,IAAAA,EAAEL,EAAE0M,IAAOrM,IAAAA,EAAEF,GAAG,IAAIE,EAAEF,EAAEE,EAAEyH,IAAIzH,EAAEsC,GAAE,CAAE,CAAC,SAASuB,GAAE7D,EAAEE,GAAKoZ,EAAAlX,EAAElC,EAAEQ,EAAEM,OAAWlB,IAAAA,EAAEI,EAAEQ,EAAE,GAAGX,OAAE,IAASC,GAAGA,IAAIF,EAAE,OAAOI,EAAEI,EAAEqF,GAAGpD,GAAE,OAAOwB,EAAE7D,EAAEF,EAAED,GAAGA,GAAGD,EAAEuM,IAAGxI,IAAIvB,GAAEpC,GAAGP,GAAE,IAAImB,GAAEd,KAAKA,EAAEwD,GAAEtD,EAAEF,GAAGE,EAAEN,GAAGmD,GAAE7C,EAAEF,IAAIE,EAAEL,GAAG0C,GAAE,WAAWiB,EAAE1D,EAAEuM,IAAGvL,EAAEd,EAAEE,EAAEL,EAAEK,EAAEE,IAAIJ,EAAEwD,GAAEtD,EAAEJ,EAAE,IAAIwC,GAAEpC,GAAGA,EAAEL,GAAGK,EAAEO,EAAEP,EAAEL,EAAEK,EAAEE,GAAGJ,IAAI2D,GAAE3D,OAAE,CAAM,CAAC,SAASwD,GAAE7D,EAAEK,EAAEc,GAAG,GAAGD,GAAEb,GAAUA,OAAAA,EAAME,IAAAA,EAAEF,EAAEqM,IAAG,IAAInM,EAAE,OAAOJ,GAAEE,GAAG,SAASF,EAAEC,GAAG,OAAOkF,GAAEtF,EAAEO,EAAEF,EAAEF,EAAEC,EAAEe,EAAC,IAAI,GAAId,EAAE,GAAGE,EAAE+E,IAAItF,EAASK,OAAAA,EAAE,IAAIE,EAAE2D,EAAE,OAAOd,GAAEpD,EAAEO,EAAEY,GAAE,GAAIZ,EAAEY,EAAK,IAACZ,EAAEkE,EAAE,CAAGkV,EAAAlV,GAAE,EAAGlE,EAAE+E,EAAE7C,IAAI,IAAIrC,EAAE,IAAIG,EAAEJ,GAAG,IAAII,EAAEJ,EAAEI,EAAEH,EAAEH,GAAEM,EAAEyC,GAAGzC,EAAEH,EAAEF,EAAEE,EAAEM,GAAE,EAAG,IAAIH,EAAEJ,IAAID,EAAE,IAAIoZ,IAAIlZ,GAAGA,EAAEgX,QAAQ1W,GAAE,GAAIP,GAAED,GAAG,SAASG,EAAEF,GAAG,OAAOmF,GAAEtF,EAAEO,EAAEH,EAAEC,EAAEF,EAAEgB,EAAET,EAAC,IAAK0C,GAAEpD,EAAEI,GAAE,GAAIe,GAAGnB,EAAEE,GAAG0C,GAAE,WAAWqB,EAAE1D,EAAEY,EAAEnB,EAAEE,EAAEF,EAAES,EAAE,CAAC,OAAOF,EAAEH,CAAC,CAAC,SAASkF,GAAE/E,EAAEJ,EAAEC,EAAEM,EAAEF,EAAEC,EAAEK,GAAuD,GAAAT,GAAEG,GAAG,CAAC,IAAIO,EAAE8C,GAAEtD,EAAEC,EAAEC,GAAGN,GAAG,IAAIA,EAAEA,IAAID,GAAEC,EAAEmK,EAAE5J,GAAGD,EAAEiJ,OAAOhJ,QAAG,GAAQ,GAAGJ,GAAEF,EAAEM,EAAEK,IAAIV,GAAEU,GAAG,OAAOR,EAAEwC,GAAE,CAAE,MAAS3C,GAAAA,EAAEiZ,IAAI7Y,GAAG,GAAGW,GAAEX,KAAKU,GAAEV,GAAG,CAAC,IAAID,EAAEI,EAAE0E,GAAG9E,EAAEkC,EAAE,EAAE,OAASlC,GAAAA,EAAEC,GAAGL,GAAGA,EAAEmF,EAAErF,GAAGmD,GAAE7C,EAAEC,EAAE,CAAC,CAAC,SAAS4C,GAAEpD,EAAEK,EAAEc,QAAG,IAASA,IAAIA,GAAE,IAAKnB,EAAEC,GAAGD,EAAEW,EAAE0E,GAAGrF,EAAE+C,GAAGtB,GAAEpB,EAAEc,EAAE,CAAC,SAASgD,GAAEnE,EAAEK,GAAOc,IAAAA,EAAEnB,EAAE0M,IAAG,OAAOvL,EAAEJ,GAAEI,GAAGnB,GAAGK,EAAE,CAAC,SAASoE,GAAEzE,EAAEK,GAAG,GAAGA,KAAKL,EAAE,IAAA,IAAQmB,EAAEiL,OAAO0M,eAAe9Y,GAAGmB,GAAG,CAAC,IAAIZ,EAAE6L,OAAOwN,yBAAyBzY,EAAEd,GAAME,GAAAA,EAASA,OAAAA,EAAI4Y,EAAA/M,OAAO0M,eAAe3X,EAAE,CAAC,CAAC,SAAS6B,GAAEhD,GAAK0Z,EAAAxV,IAAIlE,EAAEkE,GAAE,EAAGlE,EAAEC,GAAG+C,GAAEhD,EAAEC,GAAG,CAAC,SAASqI,GAAEtI,GAAGA,EAAEI,IAAIJ,EAAEI,EAAEH,GAAED,EAAEmB,GAAG,CAAC,SAAS8C,GAAEjE,EAAEK,EAAEc,GAAOZ,IAAAA,EAAEE,GAAEJ,GAAGuC,GAAE,UAAU2F,EAAElI,EAAEc,GAAGL,GAAET,GAAGuC,GAAE,UAAUgC,EAAEvE,EAAEc,GAAGnB,EAAEgG,EAAE,SAAShG,EAAEK,GAAG,IAAIc,EAAEP,MAAMC,QAAQb,GAAGO,EAAE,CAACJ,EAAEgB,EAAE,EAAE,EAAEmE,EAAEjF,EAAEA,EAAEiF,EAAE7C,KAAIyB,GAAE,EAAGO,GAAE,EAAG6F,EAAE,CAAA,EAAGrK,EAAEI,EAAEc,EAAEnB,EAAEgD,EAAE,KAAK5C,EAAE,KAAK0H,EAAE,KAAKhE,GAAE,GAAI3D,EAAEI,EAAEH,EAAEkN,GAAGnM,IAAIhB,EAAE,CAACI,GAAGH,EAAEyN,IAAQ3N,IAAAA,EAAE2Z,MAAMC,UAAU3Z,EAAEC,GAAGM,EAAER,EAAE6Z,OAAOzZ,EAAEJ,EAAE8Z,MAAM,OAAOzZ,EAAEyC,EAAE1C,EAAEC,EAAEuH,EAAEpH,EAAEJ,CAAA,CAA1M,CAA6MD,EAAEc,GAAGyB,GAAE,OAAO4J,EAAEnM,EAAEc,GAAUA,OAAAA,EAAEA,EAAEmE,EAAE7C,MAAK1B,EAAEoC,KAAK5C,GAAGA,CAAC,CAAC,SAAS+J,GAAE/J,GAAU,OAAAF,GAAEE,IAAIP,GAAE,GAAGO,GAAG,SAASP,EAAEK,GAAM,IAACc,GAAEd,GAAUA,OAAAA,EAAE,IAAIE,EAAEL,EAAEG,EAAEqM,IAAGlM,EAAEJ,GAAEC,GAAG,GAAGH,EAAE,CAAI,IAACA,EAAEgE,IAAIhE,EAAEC,EAAE,IAAIyC,GAAE,OAAO6J,EAAEvM,IAAI,OAAOA,EAAEiB,EAAI8Y,EAAAxV,GAAE,EAAGlE,EAAE8E,GAAEhF,EAAEG,GAAGN,EAAEuE,GAAE,CAAE,MAAQyV,EAAA7U,GAAEhF,EAAEG,GAAG,OAAOL,GAAEI,GAAG,SAASF,EAAEc,GAAM8Y,GAA/5F,SAAWja,EAAEK,GAAU,OAAA,IAAID,GAAEJ,GAAGA,EAAE4L,IAAIvL,GAAGL,EAAEK,EAAE,CAAk3FK,CAAER,EAAEiB,EAAEd,KAAKc,GAAGb,GAAEC,EAAEF,EAAEL,EAAEmB,GAAE,IAAK,IAAIX,EAAE,IAAI8Y,IAAI/Y,GAAGA,EAAtN,CAAyNA,EAAE,CAAC,SAAS8E,GAAErF,EAAEK,GAAG,OAAOA,GAAG,KAAK,EAAS,OAAA,IAAIwL,IAAI7L,GAAG,KAAK,EAAS,OAAAY,MAAMuZ,KAAKna,GAAG,OAAOC,GAAED,EAAE,CXKxpIiO,GYIrBkE,GAAgCA,iCZHjBlE,GAAAA,GHCDqE,GeM3BA,GDbs5W,IAAInG,GAAEpB,GAAEU,GAAE,oBAAoBlB,QAAQ,iBAAiBA,OAAO,KAAKqC,GAAE,oBAAoBf,IAAI1D,GAAE,oBAAoBmR,IAAIjR,GAAE,oBAAoBwR,YAAO,IAASA,MAAMC,WAAW,oBAAoBM,QAAQpW,GAAEyH,GAAElB,OAAOC,IAAI,mBAAmB2B,GAAE,CAAA,GAAI,kBAAiB,EAAGA,IAAGzI,GAAE+H,GAAElB,OAAOC,IAAI,mBAAmB,qBAAqBkC,GAAEjB,GAAElB,OAAOC,IAAI,eAAe,iBAAy2DwB,GAAE,GAAGI,OAAOtG,UAAU1D,YAAY8K,GAAG,oBAAoBkN,SAASA,QAAQC,QAAQD,QAAQC,aAAQ,IAASjO,OAAOkO,sBAAsB,SAASta,GAAU,OAAAoM,OAAOmO,oBAAoBva,GAAG0J,OAAO0C,OAAOkO,sBAAsBta,GAAG,EAAEoM,OAAOmO,oBAAoB5M,GAAGvB,OAAOoO,2BAA2B,SAASxa,GAAG,IAAIK,EAAE,CAAA,EAAG,OAAO6M,GAAGlN,GAAG2G,SAAS,SAASxF,GAAGd,EAAEc,GAAGiL,OAAOwN,yBAAyB5Z,EAAEmB,EAAI,IAAEd,CAAC,EAAE8M,GAAG,CAAA,EAAGG,GAAG,CAAC1B,IAAI,SAAS5L,EAAEK,GAAG,GAAGA,IAAIqM,GAAS1M,OAAAA,EAAMO,IAAkCP,EAAWO,EAAEJ,EAA/CI,EAAEQ,GAAEf,GAAM,IAACE,GAAEK,EAAEF,GAAU,OAASL,EAA2GA,GAA9FG,EAAEsE,GAA8FlE,EAAEF,IAAhF,UAAUF,EAAEA,EAAEyF,MAAM,QAAQrF,EAAEJ,EAAEyL,WAAM,IAASrL,OAAE,EAAOA,EAAEgB,KAAKvB,EAAEgD,QAAG,EAAmB7C,IAAAA,EAAEI,EAAEF,GAAUL,OAAAA,EAAEyE,IAAItD,GAAEhB,GAAGA,EAAEA,IAAIgE,GAAEnE,EAAEmB,EAAEd,IAAIiI,GAAEtI,GAAGA,EAAEI,EAAEC,GAAG4D,GAAEjE,EAAEsF,EAAE3E,EAAER,EAAEH,IAAIG,CAAC,EAAEiZ,IAAI,SAASpZ,EAAEK,GAAUA,OAAAA,KAAKU,GAAEf,EAAE,EAAEqa,QAAQ,SAASra,GAAG,OAAOoa,QAAQC,QAAQtZ,GAAEf,GAAG,EAAE+L,IAAI,SAAS/L,EAAEK,EAAEc,GAAG,IAAIZ,EAAEkE,GAAE1D,GAAEf,GAAGK,GAAM,GAAA,MAAME,OAAE,EAAOA,EAAEwL,IAAI,OAAOxL,EAAEwL,IAAIxK,KAAKvB,EAAEgD,EAAE7B,IAAG,EAAM,IAACnB,EAAEkE,EAAE,CAAC,IAAI/D,EAAEgE,GAAEpD,GAAEf,GAAGK,GAAGD,EAAE,MAAMD,OAAE,EAAOA,EAAEuM,IAAMtM,GAAAA,GAAGA,EAAEe,IAAIA,EAASnB,OAAAA,EAAEI,EAAEC,GAAGc,EAAEnB,EAAEsK,EAAEjK,IAAG,GAAG,EAAM,GAAAG,GAAEW,EAAEhB,UAAK,IAASgB,GAAGjB,GAAEF,EAAEmB,EAAEd,IAAU,OAAA,EAAKL,GAAAA,GAAGgD,GAAEhD,EAAE,CAAC,OAAOA,EAAEI,EAAEC,KAAKc,SAAI,IAASA,GAAGd,KAAKL,EAAEI,IAAIqa,OAAOC,MAAMvZ,IAAIsZ,OAAOC,MAAM1a,EAAEI,EAAEC,MAAML,EAAEI,EAAEC,GAAGc,EAAEnB,EAAEsK,EAAEjK,IAAG,IAAI,CAAE,EAAEsa,eAAe,SAAS3a,EAAEK,GAAG,YAAO,IAAS8D,GAAEnE,EAAEmB,EAAEd,IAAIA,KAAKL,EAAEmB,GAAGnB,EAAEsK,EAAEjK,IAAG,EAAGiI,GAAEtI,GAAGgD,GAAEhD,WAAWA,EAAEsK,EAAEjK,GAAGL,EAAEI,UAAUJ,EAAEI,EAAEC,IAAG,CAAE,EAAEuZ,yBAAyB,SAAS5Z,EAAEK,GAAOc,IAAAA,EAAEJ,GAAEf,GAAGO,EAAE6Z,QAAQR,yBAAyBzY,EAAEd,GAAG,OAAOE,EAAE,CAACgM,UAAS,EAAGD,aAAa,IAAItM,EAAEG,GAAG,WAAWE,EAAE+M,WAAW7M,EAAE6M,WAAWxH,MAAMzE,EAAEd,IAAIE,CAAC,EAAE8L,eAAe,WAAWrM,GAAE,GAAG,EAAE8Y,eAAe,SAAS9Y,GAAU,OAAAoM,OAAO0M,eAAe9Y,EAAEmB,EAAE,EAAEyZ,eAAe,WAAW5a,GAAE,GAAG,GAAG6N,GAAG,CAAC,EAAE1N,GAAEmN,IAAI,SAAStN,EAAEK,GAAML,GAAAA,GAAG,WAAkB,OAAAoB,UAAU,GAAGA,UAAU,GAAG,GAAGf,EAAE+N,MAAMvL,KAAKzB,UAAS,CAAE,IAAIyM,GAAG8M,eAAe,SAASta,EAAEc,GAAG,OAAqE0M,GAAG9B,IAAIxK,KAAKsB,KAAKxC,EAAEc,OAAE,EAAO,EAAE0M,GAAG9B,IAAI,SAAS1L,EAAEc,EAAEZ,GAAsF,OAAA+M,GAAGvB,IAAIxK,KAAKsB,KAAKxC,EAAE,GAAGc,EAAEZ,EAAEF,EAAE,GAAG,EAAE,IAAIuN,GAAG,WAAW,SAASrN,EAAEF,GAAG,IAAIE,EAAEsC,KAAUA,KAAAmD,EAAEqC,GAAExF,KAAKwC,GAAE,EAAGxC,KAAKgY,QAAQ,SAASxa,EAAEF,EAAEC,GAAG,GAAG,mBAAmBC,GAAG,mBAAmBF,EAAE,CAAC,IAAID,EAAEC,EAAIE,EAAAA,EAAE,IAAIK,EAAEH,EAAE,OAAO,SAASP,GAAG,IAAIK,EAAEwC,UAAK,IAAS7C,IAAIA,EAAEE,GAAG,IAAA,IAAQiB,EAAEC,UAAUC,OAAOd,EAAEK,MAAMO,EAAE,EAAEA,EAAE,EAAE,GAAGf,EAAE,EAAEA,EAAEe,EAAEf,IAAIG,EAAEH,EAAE,GAAGgB,UAAUhB,GAAG,OAAOM,EAAEma,QAAQ7a,GAAG,SAASA,GAAOmB,IAAAA,EAASA,OAAAA,EAAEhB,GAAGoB,KAAK6M,MAAMjN,EAAE,CAACd,EAAEL,GAAG0J,OAAOnJ,GAAE,GAAG,CAAE,CAAKD,IAAAA,EAAE,GAAG,mBAAmBH,GAAGH,GAAE,QAAG,IAASI,GAAG,mBAAmBA,GAAGJ,GAAE,GAAGmB,GAAEd,GAAG,CAAKG,IAAAA,EAAE0C,GAAE3C,GAAGE,EAAEwD,GAAE1D,EAAEF,OAAE,GAAQS,GAAE,EAAM,IAAGX,EAAAA,EAAEM,GAAGK,GAAE,CAAA,CAAG,QAAQA,EAAE6B,GAAEnC,GAAGwF,GAAExF,EAAE,CAAO,MAAA,oBAAoBuI,SAASzI,aAAayI,QAAQzI,EAAE0I,MAAM,SAAShJ,GAAG,OAAO8H,GAAEtH,EAAEJ,GAAG8D,GAAElE,EAAEQ,EAAE,IAAI,SAASR,GAAS,MAAA2C,GAAEnC,GAAGR,CAAA,KAAM8H,GAAEtH,EAAEJ,GAAG8D,GAAE5D,EAAEE,GAAG,CAAC,IAAIH,GAAG,iBAAiBA,EAAE,CAAC,QAAG,KAAUC,EAAEH,EAAEE,MAAMC,EAAED,GAAGC,IAAI0D,KAAI1D,OAAE,GAAQC,EAAE8E,GAAG5D,GAAEnB,GAAE,GAAIF,EAAE,CAAC,IAAIW,EAAE,GAAGd,EAAE,GAAK2C,GAAA,WAAWiB,EAAExD,EAAEC,EAAES,EAAEd,GAAGG,EAAEW,EAAEd,EAAE,CAAQK,OAAAA,CAAC,CAACN,GAAE,GAAGK,EAAI,EAAAwC,KAAKiY,mBAAmB,SAAS9a,EAAEK,GAAG,GAAG,mBAAmBL,EAAE,OAAO,SAASK,GAAG,IAAA,IAAQc,EAAEC,UAAUC,OAAOlB,EAAES,MAAMO,EAAE,EAAEA,EAAE,EAAE,GAAGf,EAAE,EAAEA,EAAEe,EAAEf,IAAID,EAAEC,EAAE,GAAGgB,UAAUhB,GAAG,OAAOG,EAAEua,mBAAmBza,GAAG,SAASA,GAAUL,OAAAA,EAAEoO,WAAM,EAAO,CAAC/N,GAAGqJ,OAAOvJ,GAAE,GAAG,EAAOgB,IAAAA,EAAEhB,EAAEC,EAAEG,EAAEsa,QAAQ7a,EAAEK,GAAG,SAASL,EAAEK,GAAGc,EAAEnB,EAAEG,EAAEE,CAAA,IAAW,MAAA,oBAAoB0I,SAAS3I,aAAa2I,QAAQ3I,EAAE4I,MAAM,SAAShJ,GAAS,MAAA,CAACA,EAAEmB,EAAEhB,EAAI,IAAE,CAACC,EAAEe,EAAEhB,EAAE,EAAE,kBAAkB,MAAME,OAAE,EAAOA,EAAE0a,aAAalY,KAAKmY,cAAc3a,EAAE0a,YAAY,kBAAkB,MAAM1a,OAAE,EAAOA,EAAE4a,aAAapY,KAAKqY,cAAc7a,EAAE4a,WAAW,CAAC,IAAI9a,EAAEI,EAAEuF,UAAiB3F,OAAAA,EAAEgb,YAAY,SAAS5a,GAAKA,GAAAA,IAAIP,GAAE,GAAGK,GAAEE,KAAKA,EAAE+J,GAAE/J,IAAQJ,IAAAA,EAAE+C,GAAEL,MAAMzC,EAAE6D,GAAEpB,KAAKtC,OAAE,GAAQ,OAAOH,EAAEsM,IAAG5I,GAAE,EAAGkC,GAAE7F,GAAGC,CAAGD,EAAAA,EAAEib,YAAY,SAAS/a,EAAEc,GAAOZ,IAA6EJ,GAA3EE,GAAGA,EAAEqM,KAA0EpH,EAAE,OAAOwC,GAAE3H,EAAEgB,GAAG+C,QAAE,EAAO/D,EAAC,EAAGA,EAAE+a,cAAc,SAASlb,GAAG6C,KAAKwC,EAAErF,CAAA,EAAGG,EAAE6a,cAAc,SAAS3a,GAAGA,IAAIgI,IAAGrI,GAAE,IAAI6C,KAAKmD,EAAE3F,CAAGF,EAAAA,EAAEkb,aAAa,SAASrb,EAAEmB,GAAOZ,IAAAA,EAAE,IAAIA,EAAEY,EAAEE,OAAO,EAAEd,GAAG,EAAEA,IAAI,CAAKJ,IAAAA,EAAEgB,EAAEZ,GAAG,GAAG,IAAIJ,EAAEmb,KAAKja,QAAQ,YAAYlB,EAAEob,GAAG,CAACvb,EAAEG,EAAEyF,MAAM,KAAK,CAAC,CAACrF,GAAOY,IAAAA,EAAEA,EAAE8D,MAAM1E,EAAE,IAAQH,IAAAA,EAAEwC,GAAE,WAAW2B,EAAS,OAAAlE,GAAEL,GAAGI,EAAEJ,EAAEmB,GAAG0B,KAAKgY,QAAQ7a,GAAG,SAASA,GAAUI,OAAAA,EAAEJ,EAAEmB,EAAC,GAAMZ,EAAAA,CAAC,CAAj7D,GAAq7D2N,GAAG,IAAIN,GAAGK,GAAGC,GAAG2M,QEAn5iB,SAASW,GAAQC,GAGvB,OAAAD,GAAU,mBAAqBjR,QAAU,iBAAmBA,OAAOmR,SAAW,SAAUD,GAC7F,cAAcA,CACf,EAAG,SAAUA,GACLA,OAAAA,GAAO,mBAAqBlR,QAAUkR,EAAIrZ,cAAgBmI,QAAUkR,IAAQlR,OAAOzE,UAAY,gBAAkB2V,CAC5H,GAAaA,EACb,CCNe,SAASE,GAAeC,GACjC,IAAAha,ECFS,SAAsBia,EAAOC,GAC1C,GAAuB,WAAnBN,GAAQK,IAAiC,OAAVA,EAAuB,OAAAA,EACtD,IAAAE,EAAOF,EAAMtR,OAAOyR,aACxB,QAAa,IAATD,EAAoB,CACtB,IAAIE,EAAMF,EAAKxa,KAAKsa,EAAOC,GAAQ,WAC/B,GAAiB,WAAjBN,GAAQS,GAA0B,OAAAA,EAChC,MAAA,IAAIC,UAAU,+CACrB,CACD,OAAiB,WAATJ,EAAoB/X,OAAS0W,QAAQoB,EAC/C,CDPYG,CAAYJ,EAAK,UAC3B,MAAwB,WAAjBJ,GAAQ5Z,GAAoBA,EAAMmC,OAAOnC,EAClD,CEJe,SAASua,GAAgBV,EAAK7Z,EAAKgE,GAYzC,OAXPhE,EAAMwa,GAAcxa,MACT6Z,EACFrP,OAAAC,eAAeoP,EAAK7Z,EAAK,CAC9BgE,QACAwH,YAAY,EACZd,cAAc,EACdC,UAAU,IAGZkP,EAAI7Z,GAAOgE,EAEN6V,CACT,CCbA,SAASpB,GAAQgC,EAAQC,GACnB,IAAApD,EAAO9M,OAAO8M,KAAKmD,GACvB,GAAIjQ,OAAOkO,sBAAuB,CAC5B,IAAAiC,EAAUnQ,OAAOkO,sBAAsB+B,GAC3CC,IAAmBC,EAAUA,EAAQhT,QAAO,SAAUiT,GACpD,OAAOpQ,OAAOwN,yBAAyByC,EAAQG,GAAKpP,UAC1D,KAAS8L,EAAK/V,KAAKiL,MAAM8K,EAAMqD,EAC5B,CACM,OAAArD,CACT,CACe,SAASuD,GAAeC,GACrC,IAAA,IAASvc,EAAI,EAAGA,EAAIiB,UAAUC,OAAQlB,IAAK,CACrC,IAAAwc,EAAS,MAAQvb,UAAUjB,GAAKiB,UAAUjB,GAAK,GACnDA,EAAI,EAAIka,GAAQjO,OAAOuQ,IAAS,GAAIhW,SAAQ,SAAU/E,GACpDyK,GAAeqQ,EAAQ9a,EAAK+a,EAAO/a,GACzC,IAASwK,OAAOoO,0BAA4BpO,OAAOwQ,iBAAiBF,EAAQtQ,OAAOoO,0BAA0BmC,IAAWtC,GAAQjO,OAAOuQ,IAAShW,SAAQ,SAAU/E,GAC5JwK,OAAOC,eAAeqQ,EAAQ9a,EAAKwK,OAAOwN,yBAAyB+C,EAAQ/a,GACjF,GACG,CACM,OAAA8a,CACT,CCZA,SAASG,GAAuBC,GACvB,MAAA,yBAA2BA,EAAO,4CAA8CA,EAAO,iFAChG,CPX66iB5O,GAAG4M,mBAAmB7R,KAAKiF,IAAOA,GAAGgN,cAAcjS,KAAKiF,IAAOA,GAAG8M,cAAc/R,KAAKiF,IAAOA,GAAGmN,aAAapS,KAAKiF,IAAOA,GAAGiN,YAAYlS,KAAKiF,IAAOA,GAAGkN,YAAYnS,KAAKiF,IOcpljB,IAAI6O,GACuB,mBAAXxS,QAAyBA,OAAOyS,YAAc,eAS1DC,GAAe,WACjB,OAAOC,KAAKC,SAASlE,SAAS,IAAImE,UAAU,GAAGC,MAAM,IAAIxE,KAAK,IAChE,EAEIyE,GAAc,CAChBC,KAAM,eAAiBN,KACvBO,QAAS,kBAAoBP,KAC7BQ,qBAAsB,WACpB,MAAO,+BAAiCR,IAC1C,GAuGF,SAASS,GAAYC,EAASC,EAAgBC,GACxC,IAAAC,EAEJ,GAA8B,mBAAnBF,GAAqD,mBAAbC,GAA+C,mBAAbA,GAAmD,mBAAjBzc,UAAU,GAC/H,MAAM,IAAIgS,MAA8CyJ,GAAuB,IAQ7E,GAL0B,mBAAnBe,QAAqD,IAAbC,IACtCA,EAAAD,EACMA,OAAA,QAGK,IAAbC,EAA0B,CAC/B,GAAoB,mBAAbA,EACH,MAAA,IAAIzK,MAA8CyJ,GAAuB,IAGjF,OAAOgB,EAASH,GAATG,CAAsBF,EAASC,EACxC,CAEI,GAAmB,mBAAZD,EACH,MAAA,IAAIvK,MAA8CyJ,GAAuB,IAGjF,IAAIkB,EAAiBJ,EACjBK,EAAeJ,EACfK,EAAmB,GACnBC,EAAgBD,EAChBE,GAAgB,EASpB,SAASC,IACHF,IAAkBD,IACpBC,EAAgBD,EAAiBhZ,QAErC,CAQA,SAASoP,IACP,GAAI8J,EACF,MAAM,IAAI/K,MAA8CyJ,GAAuB,IAG1E,OAAAmB,CACT,CA0BA,SAAS/G,EAAUI,GACb,GAAoB,mBAAbA,EACH,MAAA,IAAIjE,MAA8CyJ,GAAuB,IAGjF,GAAIsB,EACF,MAAM,IAAI/K,MAA8CyJ,GAAuB,IAGjF,IAAItF,GAAe,EAGnB,WADA2G,EAAc/a,KAAKkU,GACZ,WACL,GAAKE,EAAL,CAIA,GAAI4G,EACF,MAAM,IAAI/K,MAA8CyJ,GAAuB,IAGlEtF,GAAA,MAEX,IAAA8G,EAAQH,EAAclX,QAAQqQ,GACpB6G,EAAAxV,OAAO2V,EAAO,GACTJ,EAAA,IAVnB,CAUmB,CAEvB,CA4BA,SAAStF,EAAS2F,GACZ,IAzOR,SAAuB7C,GACjB,GAAe,iBAARA,GAA4B,OAARA,EAAqB,OAAA,EAGpD,IAFA,IAAI8C,EAAQ9C,EAE4B,OAAjCrP,OAAO0M,eAAeyF,IACnBA,EAAAnS,OAAO0M,eAAeyF,GAGzB,OAAAnS,OAAO0M,eAAe2C,KAAS8C,CACxC,CAgOSC,CAAcF,GACX,MAAA,IAAIlL,MAA8CyJ,GAAuB,IAG7E,QAAuB,IAAhByB,EAAO5c,KAChB,MAAM,IAAI0R,MAA8CyJ,GAAuB,IAGjF,GAAIsB,EACF,MAAM,IAAI/K,MAA8CyJ,GAAuB,IAG7E,IACcsB,GAAA,EACDH,EAAAD,EAAeC,EAAcM,EAAM,CAClD,QACgBH,GAAA,CAClB,CAIA,IAFA,IAAIxH,EAAYsH,EAAmBC,EAE1B/d,EAAI,EAAGA,EAAIwW,EAAUtV,OAAQlB,IAAK,IAC1BwW,EAAUxW,KAE3B,CAEO,OAAAme,CACT,CA4EA,OAHS3F,EAAA,CACPjX,KAAM4b,GAAYC,QAEbO,EAAQ,CACbnF,WACA1B,YACA5C,SAAAA,EACAoK,eAnEF,SAAwBC,GAClB,GAAuB,mBAAhBA,EACH,MAAA,IAAItL,MAA8CyJ,GAAuB,KAGhEkB,EAAAW,EAKR/F,EAAA,CACPjX,KAAM4b,GAAYE,SAEtB,IAuDST,IA9CT,WACM,IAAA4B,EAEAC,EAAiB3H,EACrB,OAAO0H,EAAO,CASZ1H,UAAW,SAAmB4H,GAC5B,GAAwB,iBAAbA,GAAsC,OAAbA,EAC5B,MAAA,IAAIzL,MAA8CyJ,GAAuB,KAGjF,SAASiC,IACHD,EAASvH,MACFuH,EAAAvH,KAAKjD,IAElB,CAIO,WAAA,CACLqC,YAFgBkI,EAAeE,GAInC,IACM/B,IAAgB,WACf,OAAAla,IACN,EAAA8b,CACL,EAaqCb,CACvC,CAsHA,SAASiB,GAAgBC,GAIvB,IAHI,IAAAC,EAAc7S,OAAO8M,KAAK8F,GAC1BE,EAAgB,CAAA,EAEX/e,EAAI,EAAGA,EAAI8e,EAAY5d,OAAQlB,IAAK,CACvC,IAAAyB,EAAMqd,EAAY9e,GAQO,mBAAlB6e,EAASpd,KACJsd,EAAAtd,GAAOod,EAASpd,GAElC,CAEI,IASAud,EATAC,EAAmBhT,OAAO8M,KAAKgG,GAW/B,KAjEN,SAA4BF,GAC1B5S,OAAO8M,KAAK8F,GAAUrY,SAAQ,SAAU/E,GAClC,IAAA+b,EAAUqB,EAASpd,GAKnB,QAAwB,IAJT+b,OAAQ,EAAW,CACpCjc,KAAM4b,GAAYC,OAIZ,MAAA,IAAInK,MAA8CyJ,GAAuB,KAG7E,QAEG,IAFIc,OAAQ,EAAW,CAC5Bjc,KAAM4b,GAAYG,yBAElB,MAAM,IAAIrK,MAA8CyJ,GAAuB,IACjF,GAEJ,CAiDIwC,CAAmBH,SACZ3e,GACeA,EAAAA,CACxB,CAEO,OAAA,SAAqB2F,EAAOoY,GAKjC,QAJc,IAAVpY,IACFA,EAAQ,CAAA,GAGNiZ,EACI,MAAAA,EAcR,IAHA,IAAIG,GAAa,EACbC,EAAY,CAAA,EAEPC,EAAK,EAAGA,EAAKJ,EAAiB/d,OAAQme,IAAM,CAC/C,IAAAC,EAAOL,EAAiBI,GACxB7B,EAAUuB,EAAcO,GACxBC,EAAsBxZ,EAAMuZ,GAC5BE,EAAkBhC,EAAQ+B,EAAqBpB,GAE/C,QAA2B,IAApBqB,EAET,MADiBrB,GAAUA,EAAO5c,KAC5B,IAAI0R,MAA8CyJ,GAAuB,KAGjF0C,EAAUE,GAAQE,EAClBL,EAAaA,GAAcK,IAAoBD,CACjD,CAGA,OADAJ,EAAaA,GAAcF,EAAiB/d,SAAW+K,OAAO8M,KAAKhT,GAAO7E,QACtDke,EAAYrZ,CAAA,CAEpC,CA8DA,SAAS0Z,KACP,IAAA,IAASC,EAAOze,UAAUC,OAAQye,EAAQ,IAAIlf,MAAMif,GAAOJ,EAAO,EAAGA,EAAOI,EAAMJ,IAC1EK,EAAAL,GAAQre,UAAUqe,GAGtB,OAAiB,IAAjBK,EAAMze,OACD,SAAUua,GACR,OAAAA,CAAA,EAIU,IAAjBkE,EAAMze,OACDye,EAAM,GAGRA,EAAMC,QAAO,SAAUrf,EAAGkC,GAC/B,OAAO,WACL,OAAOlC,EAAEkC,EAAEwL,WAAM,EAAQhN,WAAU,CACrC,GAEJ,CAmBA,SAAS4e,KACP,IAAA,IAASH,EAAOze,UAAUC,OAAQ4e,EAAc,IAAIrf,MAAMif,GAAOJ,EAAO,EAAGA,EAAOI,EAAMJ,IAC1EQ,EAAAR,GAAQre,UAAUqe,GAGhC,OAAO,SAAU/B,GACf,OAAO,WACL,IAAI7J,EAAQ6J,EAAYtP,WAAM,EAAQhN,WAElC8e,EAAY,WACd,MAAM,IAAI9M,MAA8CyJ,GAAuB,IAAmI,EAGhNsD,EAAgB,CAClB9L,SAAUR,EAAMQ,SAChBsE,SAAU,WACD,OAAAuH,EAAU9R,WAAM,EAAQhN,UACjC,GAEEgf,EAAQH,EAAYvV,KAAI,SAAU2V,GACpC,OAAOA,EAAWF,EAAa,IAGjC,OADAD,EAAYN,GAAQxR,WAAM,EAAQgS,EAAtBR,CAA6B/L,EAAM8E,UACxC2H,GAAcA,GAAc,GAAIzM,GAAQ,CAAA,EAAI,CACjD8E,SAAUuH,GACX,CACH,CAEJ,CC3rBA,SAASK,GAAsBC,GAqBtB,OAlBU,SAAoB7B,GACnC,IAAIhG,EAAWgG,EAAKhG,SAChBtE,EAAWsK,EAAKtK,SACpB,OAAO,SAAUiD,GACf,OAAO,SAAUgH,GAGX,MAAkB,mBAAXA,EAEFA,EAAO3F,EAAUtE,EAAUmM,GAI7BlJ,EAAKgH,EACpB,CACA,CACA,CAGA,CAEA,IAAImC,GAAQF,KAGZE,GAAMC,kBAAoBH,GAC1B,MAAAI,GAAeF,GC/Bf,IAAIG,GAAqD,WACjD,IAAAC,EAAgB,SAAUpf,EAAGmB,GAItB,OAHSie,EAAAzU,OAAOwO,gBAClB,CAAEkG,UAAW,cAAgBlgB,OAAS,SAAUa,EAAGmB,GAAKnB,EAAEqf,UAAYle,CAAA,GACvE,SAAUnB,EAAGmB,GAAK,IAAA,IAAS7B,KAAK6B,EAAOwJ,OAAOtG,UAAUiT,eAAexX,KAAKqB,EAAG7B,KAAIU,EAAEV,GAAK6B,EAAE7B,GAAC,GAC5EU,EAAGmB,EAAC,EAEtB,OAAA,SAAUnB,EAAGmB,GACZ,GAAa,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIsZ,UAAU,uBAAyBnY,OAAOnB,GAAK,iCAE7D,SAASb,IAAOc,KAAKT,YAAcX,CAAG,CADtCof,EAAcpf,EAAGmB,GAEjBnB,EAAEqE,UAAkB,OAANlD,EAAawJ,OAAOmN,OAAO3W,IAAMb,EAAG+D,UAAYlD,EAAEkD,UAAW,IAAI/D,EAAG,CAE1F,CAdyD,GAerDgf,GAA4C,SAAUC,EAASC,GAC/D,IAAsG3gB,EAAGY,EAAGC,EAAGwB,EAA3GF,EAAI,CAAEye,MAAO,EAAGC,KAAM,WAAiBhgB,GAAO,EAAPA,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAC,EAAMigB,KAAM,GAAIC,IAAK,IACzF1e,OAAAA,EAAI,CAAE2U,KAAMgK,EAAK,GAAIC,MAASD,EAAK,GAAIE,OAAUF,EAAK,IAAwB,mBAAX/W,SAA0B5H,EAAE4H,OAAOmR,UAAY,WAAoB,OAAA7Y,IAAU,GAAAF,EACvJ,SAAS2e,EAAKthB,GAAK,OAAO,SAAUc,GAAK,OACzC,SAAcya,GACNjb,GAAAA,EAAS,MAAA,IAAI4b,UAAU,mCACpBzZ,KAAAA,OACH,GAAInC,EAAI,EAAGY,IAAMC,EAAY,EAARoa,EAAG,GAASra,EAAU,OAAIqa,EAAG,GAAKra,EAAS,SAAOC,EAAID,EAAU,SAAMC,EAAEI,KAAKL,GAAI,GAAKA,EAAEoW,SAAWnW,EAAIA,EAAEI,KAAKL,EAAGqa,EAAG,KAAKkG,KAAatgB,OAAAA,EAEnJ,OADJD,EAAI,EAAGC,IAAGoa,EAAK,CAAS,EAARA,EAAG,GAAQpa,EAAEyE,QACzB2V,EAAG,IACP,KAAK,EAAG,KAAK,EAAOpa,EAAAoa,EAAI,MACxB,KAAK,EAAc,OAAT9Y,EAAAye,QAAgB,CAAEtb,MAAO2V,EAAG,GAAIkG,MAAM,GAChD,KAAK,EAAKhf,EAAAye,QAAShgB,EAAIqa,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAQ9Y,EAAAA,EAAE4e,IAAIjW,MAAO3I,EAAE2e,KAAKhW,MAAO,SACxC,QACQ,KAAEjK,EAAIsB,EAAE2e,MAAMjgB,EAAIA,EAAEE,OAAS,GAAKF,EAAEA,EAAEE,OAAS,KAAkB,IAAVka,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAM9Y,EAAA,EAAG,QAAU,CAC3G,GAAc,IAAV8Y,EAAG,MAAcpa,GAAMoa,EAAG,GAAKpa,EAAE,IAAMoa,EAAG,GAAKpa,EAAE,IAAM,CAAIsB,EAAAye,MAAQ3F,EAAG,GAAI,KAAO,CACjF,GAAU,IAAVA,EAAG,IAAY9Y,EAAEye,MAAQ/f,EAAE,GAAI,CAAIsB,EAAAye,MAAQ/f,EAAE,GAAQA,EAAAoa,EAAI,KAAO,CACpE,GAAIpa,GAAKsB,EAAEye,MAAQ/f,EAAE,GAAI,CAAIsB,EAAAye,MAAQ/f,EAAE,GAAMsB,EAAA4e,IAAIle,KAAKoY,GAAK,KAAO,CAC9Dpa,EAAE,IAAIsB,EAAE4e,IAAIjW,MAChB3I,EAAE2e,KAAKhW,MAAO,SAEjBmQ,EAAA0F,EAAK1f,KAAKyf,EAASve,SACnBlC,GAAUgb,EAAA,CAAC,EAAGhb,GAAQW,EAAA,CAAA,CAAK,QAAUZ,EAAIa,EAAI,CAAG,CACrD,GAAQ,EAARoa,EAAG,GAAQ,MAAMA,EAAG,GAAW,MAAA,CAAE3V,MAAO2V,EAAG,GAAKA,EAAG,QAAK,EAAQkG,MAAM,EAC9E,CAtBgDC,CAAK,CAAC1hB,EAAGc,GAAE,CAAM,CAuBrE,EACI6gB,GAAgD,SAAUC,EAAIzH,GACrDha,IAAAA,IAAAA,EAAI,EAAG0hB,EAAK1H,EAAK9Y,OAAQyG,EAAI8Z,EAAGvgB,OAAQlB,EAAI0hB,EAAI1hB,IAAK2H,IACvDA,EAAAA,GAAKqS,EAAKha,GACV,OAAAyhB,CACX,EACIE,GAAY1V,OAAOC,eACnB0V,GAAa3V,OAAOwQ,iBACpBoF,GAAoB5V,OAAOoO,0BAC3ByH,GAAsB7V,OAAOkO,sBAC7B4H,GAAe9V,OAAOtG,UAAUiT,eAChCoJ,GAAe/V,OAAOtG,UAAUsc,qBAChCC,GAAkB,SAAU5G,EAAK7Z,EAAKgE,GAAS,OAAOhE,KAAO6Z,EAAMqG,GAAUrG,EAAK7Z,EAAK,CAAEwL,YAAY,EAAMd,cAAc,EAAMC,UAAU,EAAM3G,UAAkB6V,EAAI7Z,GAAOgE,CAAO,EACnL0c,GAAiB,SAAU5hB,EAAGkC,GACrB,IAAA,IAAA2f,KAAQ3f,IAAMA,EAAI,CAAA,GACnBsf,GAAa3gB,KAAKqB,EAAG2f,IACrBF,GAAgB3hB,EAAG6hB,EAAM3f,EAAE2f,IAC/B,GAAAN,GACS,IAAA,IAAAzC,EAAK,EAAGgD,EAAKP,GAAoBrf,GAAI4c,EAAKgD,EAAGnhB,OAAQme,IAAM,CAC5D+C,EAAOC,EAAGhD,GACV2C,GAAa5gB,KAAKqB,EAAG2f,IACrBF,GAAgB3hB,EAAG6hB,EAAM3f,EAAE2f,GACnC,CACG7hB,OAAAA,CACX,EACI+hB,GAAgB,SAAU/hB,EAAGkC,GAAK,OAAOmf,GAAWrhB,EAAGshB,GAAkBpf,GAAK,EAkD9E8f,GAAwC,oBAAX9Q,QAA0BA,OAAO+Q,qCAAuC/Q,OAAO+Q,qCAAuC,WACnJ,GAAyB,IAArBvhB,UAAUC,OAEV,MAAwB,iBAAjBD,UAAU,GACVwe,GACJA,GAAQxR,MAAM,KAAMhN,UAC/B,EA0BA,SAASwhB,GAAalhB,EAAMmhB,GACxB,SAASC,IAEL,IADA,IAAIC,EAAO,GACFvD,EAAK,EAAGA,EAAKpe,UAAUC,OAAQme,IAC/BuD,EAAAvD,GAAMpe,UAAUoe,GAEzB,GAAIqD,EAAe,CACf,IAAIG,EAAWH,EAAczU,WAAM,EAAQ2U,GAC3C,IAAKC,EACK,MAAA,IAAI5P,MAAM,0CAEpB,OAAOkP,GAAeA,GAAe,CACjC5gB,OACAuhB,QAASD,EAASC,SACnB,SAAUD,GAAY,CAAEE,KAAMF,EAASE,OAAS,UAAWF,GAAY,CAAEG,MAAOH,EAASG,OAChG,CACA,MAAO,CAAEzhB,OAAYuhB,QAASF,EAAK,GACvC,CAIO,OAHPD,EAAc7J,SAAW,WAAc,MAAO,GAAKvX,CAAA,EACnDohB,EAAcphB,KAAOA,EACPohB,EAAAM,MAAQ,SAAU9E,GAAU,OAAOA,EAAO5c,OAASA,CAAA,EAC1DohB,CACX,CAyDA,IAAIO,GAAiC,SAAUC,GAE3C,SAASD,IAEL,IADA,IAAIN,EAAO,GACFvD,EAAK,EAAGA,EAAKpe,UAAUC,OAAQme,IAC/BuD,EAAAvD,GAAMpe,UAAUoe,GAEzB,IAAI+D,EAAQD,EAAOlV,MAAMvL,KAAMkgB,IAASlgB,KAEjC,OADAuJ,OAAAwO,eAAe2I,EAAOF,EAAgBvd,WACtCyd,CACX,CAyBOF,OAlCPzC,GAAUyC,EAAiBC,GAUpBlX,OAAAC,eAAegX,EAAiB9Y,OAAOiZ,QAAS,CACnD5X,IAAK,WACMyX,OAAAA,CACX,EACAjW,YAAY,EACZd,cAAc,IAEFmX,EAAA3d,UAAU4D,OAAS,WAE/B,IADA,IAAIga,EAAM,GACDlE,EAAK,EAAGA,EAAKpe,UAAUC,OAAQme,IAChCkE,EAAAlE,GAAMpe,UAAUoe,GAExB,OAAO8D,EAAOxd,UAAU4D,OAAO0E,MAAMvL,KAAM6gB,EAAG,EAElCD,EAAA3d,UAAU6d,QAAU,WAEhC,IADA,IAAID,EAAM,GACDlE,EAAK,EAAGA,EAAKpe,UAAUC,OAAQme,IAChCkE,EAAAlE,GAAMpe,UAAUoe,GAEpB,OAAe,IAAfkE,EAAIriB,QAAgBT,MAAMC,QAAQ6iB,EAAI,IAC/B,IAAKL,EAAgBpa,KAAKmF,MAAMiV,EAAiB1B,GAAc,MAAC,GAAS+B,EAAI,GAAGha,OAAO7G,SAE3F,IAAKwgB,EAAgBpa,KAAKmF,MAAMiV,EAAiB1B,GAAc,MAAC,GAAS+B,EAAIha,OAAO7G,QAAS,EAEjGwgB,EAnCP,CAoCFziB,OACEgjB,GAA+B,SAAUN,GAEzC,SAASM,IAEL,IADA,IAAIb,EAAO,GACFvD,EAAK,EAAGA,EAAKpe,UAAUC,OAAQme,IAC/BuD,EAAAvD,GAAMpe,UAAUoe,GAEzB,IAAI+D,EAAQD,EAAOlV,MAAMvL,KAAMkgB,IAASlgB,KAEjC,OADAuJ,OAAAwO,eAAe2I,EAAOK,EAAc9d,WACpCyd,CACX,CAyBOK,OAlCPhD,GAAUgD,EAAeN,GAUlBlX,OAAAC,eAAeuX,EAAerZ,OAAOiZ,QAAS,CACjD5X,IAAK,WACMgY,OAAAA,CACX,EACAxW,YAAY,EACZd,cAAc,IAEJuX,EAAA/d,UAAU4D,OAAS,WAE7B,IADA,IAAIga,EAAM,GACDlE,EAAK,EAAGA,EAAKpe,UAAUC,OAAQme,IAChCkE,EAAAlE,GAAMpe,UAAUoe,GAExB,OAAO8D,EAAOxd,UAAU4D,OAAO0E,MAAMvL,KAAM6gB,EAAG,EAEpCG,EAAA/d,UAAU6d,QAAU,WAE9B,IADA,IAAID,EAAM,GACDlE,EAAK,EAAGA,EAAKpe,UAAUC,OAAQme,IAChCkE,EAAAlE,GAAMpe,UAAUoe,GAEpB,OAAe,IAAfkE,EAAIriB,QAAgBT,MAAMC,QAAQ6iB,EAAI,IAC/B,IAAKE,EAAc3a,KAAKmF,MAAMwV,EAAejC,GAAc,MAAC,GAAS+B,EAAI,GAAGha,OAAO7G,SAEvF,IAAK+gB,EAAc3a,KAAKmF,MAAMwV,EAAejC,GAAc,MAAC,GAAS+B,EAAIha,OAAO7G,QAAS,EAE7F+gB,EAnCP,CAoCFhjB,OACF,SAASkjB,GAAgBC,GACrB,OAAOC,GAAYD,GAAOE,GAAgBF,GAAK,WAC9C,IAAIA,CACT,CA4PA,SAASG,KACE,OAAA,SAAqCC,GACxC,OAGR,SAA8BA,QACV,IAAZA,IAAsBA,EAAU,CAAA,GACpC,IAAI3B,EAAK2B,EAAQ1D,MAAOA,OAAe,IAAP+B,GAAuBA,EAAS2B,EAAQC,eAAiED,EAAQE,kBAAuEF,EAAQG,mBAC5N,IAAAC,EAAkB,IAAIlB,GACtB5C,IAXgB,kBAYFA,EACV8D,EAAgBphB,KAAKwd,IAGrB4D,EAAgBphB,KAAKwd,GAAgBD,kBAAkBD,EAAMD,iBA0B9D,OAAA+D,CACX,CAvCeC,CAAqBL,EAAO,CAE3C,CAuCA,IAAIM,IAAgB,EACpB,SAASC,GAAeP,GACpB,IAEIQ,EAFAC,EAA8BV,KAC9B1B,EAAK2B,GAAW,GAAIU,EAAKrC,EAAG7E,QAASA,OAAiB,IAAPkH,OAAgB,EAASA,EAAIC,EAAKtC,EAAGnC,WAAYA,OAAoB,IAAPyE,EAAgBF,IAAgCE,EAAIC,EAAKvC,EAAGwC,SAAUA,OAAkB,IAAPD,GAAuBA,EAAIE,EAAKzC,EAAG5E,eAAgBA,OAAwB,IAAPqH,OAAgB,EAASA,EAAIC,EAAK1C,EAAG2C,UAAWA,OAAmB,IAAPD,OAAgB,EAASA,EAEvV,GAAmB,mBAAZvH,EACOgH,EAAAhH,MAAA,KA5dtB,SAAuB/X,GACf,GAAiB,iBAAVA,GAAgC,OAAVA,EACtB,OAAA,EACP,IAAA2Y,EAAQnS,OAAO0M,eAAelT,GAClC,GAAc,OAAV2Y,EACO,OAAA,EAEX,IADA,IAAI6G,EAAY7G,EAC4B,OAArCnS,OAAO0M,eAAesM,IACbA,EAAAhZ,OAAO0M,eAAesM,GAEtC,OAAO7G,IAAU6G,CACrB,CAmda5G,CAAcb,GAIb,MAAA,IAAIvK,MAAM,4HAHhBuR,EAAc5F,GAAgBpB,EAIlC,CACA,IAAI0H,EAAkBhF,EACS,mBAApBgF,IACPA,EAAkBA,EAAgBT,IAQtC,IAAIU,EAAqBtF,GAAgB5R,WAAM,EAAQiX,GACnDE,EAAeC,GACfR,IACAO,EAAe7C,GAAoBJ,GAAe,CAC9CmD,OAAQhB,IACW,iBAAbO,GAAyBA,KAEnC,IAAAU,EAAmB,IAAI9B,GAAc0B,GACrCK,EAAiBD,EAQd,OAPH9kB,MAAMC,QAAQskB,GACdQ,EAAiBhE,GAAc,CAAC2D,GAAqBH,GAE3B,mBAAdA,IACZQ,EAAiBR,EAAUO,IAGxBhI,GAAYiH,EAAa/G,EADT2H,EAAanX,WAAM,EAAQuX,GAEtD,CAIA,SAASC,GAA8BC,GACnC,IAEIC,EAFAC,EAAa,CAAA,EACbC,EAAiB,GAEjBC,EAAU,CACVC,QAAS,SAAUC,EAAqBxI,GASpC,IAAIjc,EAAsC,iBAAxBykB,EAAmCA,EAAsBA,EAAoBzkB,KAC/F,IAAKA,EACK,MAAA,IAAI0R,MAAM,gEAEpB,GAAI1R,KAAQqkB,EACF,MAAA,IAAI3S,MAAM,iFAGb,OADP2S,EAAWrkB,GAAQic,EACZsI,CACX,EACAG,WAAY,SAAUC,EAAS1I,GAOpB,OADPqI,EAAe7iB,KAAK,CAAEkjB,UAAkB1I,YACjCsI,CACX,EACAK,eAAgB,SAAU3I,GAOf,OADcmI,EAAAnI,EACdsI,CACX,GAGG,OADPJ,EAAgBI,GACT,CAACF,EAAYC,EAAgBF,EACxC,CA4EA,SAASS,GAAYpC,GACjB,IAAIxc,EAAOwc,EAAQxc,KACnB,IAAKA,EACK,MAAA,IAAIyL,MAAM,+CAOhBoT,IA8CAC,EA9CAD,EAA8C,mBAAxBrC,EAAQqC,aAA6BrC,EAAQqC,aAAe1C,GAAgBK,EAAQqC,cAC1GxH,EAAWmF,EAAQnF,UAAY,GAC/B0H,EAAeta,OAAO8M,KAAK8F,GAC3B2H,EAA0B,CAAA,EAC1BC,EAA0B,CAAA,EAC1BC,EAAiB,CAAA,EAiBrB,SAASC,IASL,IAAItE,EAAsC,mBAA1B2B,EAAQ4C,cAA+BnB,GAA8BzB,EAAQ4C,eAAiB,CAAC5C,EAAQ4C,eAAgBlC,EAAKrC,EAAG,GAAIuE,OAAuB,IAAPlC,EAAgB,CAAA,EAAKA,EAAIC,EAAKtC,EAAG,GAAIwD,OAAwB,IAAPlB,EAAgB,GAAKA,EAAIC,EAAKvC,EAAG,GAAIsD,OAA4B,IAAPf,OAAgB,EAASA,EACxSiC,EAAoB1E,GAAeA,GAAe,CAAI,EAAAyE,GAAgBH,GACnE,OAjHf,SAAuBJ,EAAcS,EAAsBjB,EAAgBF,QAChD,IAAnBE,IAA6BA,EAAiB,IAS9C,IACAkB,EADA1E,EAAqC,mBAAzByE,EAAsCrB,GAA8BqB,GAAwB,CAACA,EAAsBjB,EAAgBF,GAAqBC,EAAavD,EAAG,GAAI2E,EAAsB3E,EAAG,GAAI4E,EAA0B5E,EAAG,GAElP,GAfgB,mBAeAgE,EAChBU,EAAkB,WAAqB,OAAApD,GAAgB0C,IAAc,MAEpE,CACG,IAAAa,EAAuBvD,GAAgB0C,GAC3CU,EAAkB,WAAqB,OAAAG,CAAA,CAC3C,CACS,SAAA1J,EAAQzX,EAAOoY,QACN,IAAVpY,IAAoBA,EAAQghB,KAChC,IAAII,EAAe3F,GAAc,CAC7BoE,EAAWzH,EAAO5c,OACnBylB,EAAoB5d,QAAO,SAAUiZ,GAEpC,OAAO6D,EADO7D,EAAG6D,SACF/H,EAAM,IACtB5T,KAAI,SAAU8X,GAEN,OADQA,EAAG7E,OAErB,KAID,OAHmE,IAA/D2J,EAAa/d,QAAO,SAAUge,GAAM,QAASA,CAAA,IAAOlmB,SACpDimB,EAAe,CAACF,IAEbE,EAAavH,QAAO,SAAU1H,EAAemP,GAChD,GAAIA,EAAa,CAET,IAQIC,EATJC,GAAAA,GAASrP,GAGT,YAAe,KADXoP,EAASD,EADDnP,EACoBiG,IAErBjG,EAEJoP,EAEF,GAACE,GAAatP,GAWZuP,OAAAA,GAAiBvP,GAAe,SAAUwP,GACtC,OAAAL,EAAYK,EAAOvJ,EAAM,IAVpC,QAAe,KADXmJ,EAASD,EAAYnP,EAAeiG,IACjB,CACnB,GAAsB,OAAlBjG,EACO,OAAAA,EAEX,MAAMjF,MAAM,oEAChB,CACO,OAAAqU,CAOf,CACO,OAAApP,IACRnS,EACP,CAEO,OADPyX,EAAQuJ,gBAAkBA,EACnBvJ,CACX,CAiDemK,CAActB,GAAc,SAAUP,GACzC,IAAA,IAASrkB,KAAOolB,EACZf,EAAQC,QAAQtkB,EAAKolB,EAAkBplB,IAE3C,IAAA,IAAS4d,EAAK,EAAGuI,EAAmB/B,EAAgBxG,EAAKuI,EAAiB1mB,OAAQme,IAAM,CAChFzc,IAAAA,EAAIglB,EAAiBvI,GACzByG,EAAQG,WAAWrjB,EAAEsjB,QAAStjB,EAAE4a,QACpC,CACImI,GACAG,EAAQK,eAAeR,EAC3B,GAER,CAEO,OAzCMY,EAAA/f,SAAQ,SAAUqhB,GACvB,IAEAR,EACAS,EAHAC,EAA0BlJ,EAASgJ,GACnCtmB,EAAgBiG,EApBT,IAoBeqgB,EAGtB,YAAaE,GACbV,EAAcU,EAAwBvK,QACtCsK,EAAkBC,EAAwBC,SAG5BX,EAAAU,EAElBvB,EAAwBqB,GAAeR,EACvCZ,EAAwBllB,GAAQ8lB,EACjBX,EAAAmB,GAAeC,EAAkBrF,GAAalhB,EAAMumB,GAAmBrF,GAAalhB,EAAI,IA2BpG,CACHiG,OACAgW,QAAS,SAAUzX,EAAOoY,GAGf,OAFFmI,IACDA,EAAWK,KACRL,EAASvgB,EAAOoY,EAC3B,EACA8J,QAASvB,EACTS,aAAcX,EACdO,gBAAiB,WAGb,OAFKT,IACDA,EAAWK,KACRL,EAASS,iBACpB,EAER,CAiVA,IAWImB,GAAmB,CACnB,OACA,UACA,QACA,QAEAC,GAA6C,WAKtCA,OAJEA,SAAgBrF,EAASC,GAC9BrgB,KAAKogB,QAAUA,EACfpgB,KAAKqgB,KAAOA,CAChB,CACO,CALP,GAOAqF,GAA6C,WAKtCA,OAJEA,SAAgBtF,EAASC,GAC9BrgB,KAAKogB,QAAUA,EACfpgB,KAAKqgB,KAAOA,CAChB,CACO,CALP,GAOAsF,GAAqB,SAAU5iB,GAC/B,GAAqB,iBAAVA,GAAgC,OAAVA,EAAgB,CAE7C,IADA,IAAI6iB,EAAc,CAAA,EACTjJ,EAAK,EAAGkJ,EAAqBL,GAAkB7I,EAAKkJ,EAAmBrnB,OAAQme,IAAM,CACtF,IAAAmJ,EAAWD,EAAmBlJ,GACH,iBAApB5Z,EAAM+iB,KACDF,EAAAE,GAAY/iB,EAAM+iB,GAEtC,CACO,OAAAF,CACX,CACA,MAAO,CAAEG,QAAS7kB,OAAO6B,GAC7B,EA8JA,SAASijB,GAAavK,GAClB,GAAIA,EAAO4E,MAAQ5E,EAAO4E,KAAK4F,kBAC3B,MAAMxK,EAAO2E,QAEjB,GAAI3E,EAAO6E,MACP,MAAM7E,EAAO6E,MAEjB,OAAO7E,EAAO2E,OAClB,EAtKA,WAEa,SAAA8F,EAAkBC,EAAYC,EAAgB9E,GAC/C,IAAA+E,EAAYtG,GAAaoG,EAAa,cAAc,SAAU/F,EAASkG,EAAWvN,EAAKsH,GAAgB,MAAA,CACvGD,UACAC,KAAMT,GAAcH,GAAe,GAAIY,GAAQ,CAAE,GAAG,CAChDtH,MACAuN,YACAC,cAAe,cAEvB,IACIC,EAAUzG,GAAaoG,EAAa,YAAY,SAAUG,EAAWvN,EAAKsH,GAAgB,MAAA,CAC1FD,aAAS,EACTC,KAAMT,GAAcH,GAAe,GAAIY,GAAQ,CAAE,GAAG,CAChDtH,MACAuN,YACAC,cAAe,YAEvB,IACIE,EAAW1G,GAAaoG,EAAa,aAAa,SAAU7F,EAAOgG,EAAWvN,EAAKqH,EAASC,GAAgB,MAAA,CAC5GD,UACAE,OAAQgB,GAAWA,EAAQoF,gBAAkBf,IAAoBrF,GAAS,YAC1ED,KAAMT,GAAcH,GAAe,GAAIY,GAAQ,CAAE,GAAG,CAChDtH,MACAuN,YACAL,oBAAqB7F,EACrBmG,cAAe,WACfI,QAAmD,gBAAhC,MAATrG,OAAgB,EAASA,EAAMxb,MACzC8hB,UAAqD,oBAAhC,MAATtG,OAAgB,EAASA,EAAMxb,QAEnD,IAEI+hB,EAAgC,oBAApBC,gBAAkCA,gBAAiC,WAC/E,SAASC,IACL/mB,KAAKgnB,OAAS,CACVL,SAAS,EACTpkB,iBAAkB,WAClB,EACA0kB,cAAe,WACJ,OAAA,CACX,EACAC,QAAS,WACT,EACAxkB,oBAAqB,WACrB,EACAykB,YAAQ,EACRC,eAAgB,WAChB,EAER,CASO,OARCL,EAAA9jB,UAAUokB,MAAQ,WAMtB,EAEGN,CAAA,CA1BuC,GAoH3C,OAAAxd,OAAO+d,QAxFd,SAAuBvO,GACZ,OAAA,SAAUjD,EAAUtE,EAAU+V,GAC7B,IAEAC,EAFAlB,GAAwB,MAAXhF,OAAkB,EAASA,EAAQmG,aAAenG,EAAQmG,YAAY1O,GAxG1F,SAAUpQ,QACN,IAATA,IAA0BA,EAAA,IAG9B,IAFA,IAAI+e,EAAK,GACLpqB,EAAIqL,EACDrL,KACHoqB,GANU,mEAMwB,GAAhBrN,KAAKC,SAAgB,GAEpC,OAAAoN,CACX,CAgG8GC,GAC1FC,EAAkB,IAAIf,EAG1B,SAASQ,EAAMF,GACGK,EAAAL,EACdS,EAAgBP,OACpB,CACA,IAAIQ,EAAW,WACJ,OArsCHC,EAqsCW9nB,KArsCH+nB,EAqsCS,KArsCIC,EAqsCE,WACvB,IAAIC,EAAIC,EAAIC,EAAaC,EAAiBC,EAAgBC,EACnD,OAAApK,GAAYle,MAAM,SAAU2f,GAC/B,OAAQA,EAAGtB,OACP,KAAK,EAGG,OAFJsB,EAAGpB,KAAKje,KAAK,CAAC,EAAG,EAAG,CAAE,IACtB8nB,EAAyE,OAAtDH,EAAgB,MAAX3G,OAAkB,EAASA,EAAQsF,gBAAqB,EAASqB,EAAGvpB,KAAK4iB,EAASvI,EAAK,CAAEvH,SAAAA,EAAoB+V,UA2FpJ,QADDxkB,EAzFgCqlB,IA0FN,iBAAVrlB,GAA4C,mBAAfA,EAAMoD,KA1FM,CAAC,EAAa,GAChD,CAAC,EAAaiiB,GACzB,KAAK,EACDA,EAAkBzI,EAAGrB,OACrBqB,EAAGtB,MAAQ,EACf,KAAK,EACD,IAAwB,IAApB+J,GAA6BR,EAAgBZ,OAAOL,QAC9C,KAAA,CACF7hB,KAAM,iBACNihB,QAAS,sDASV,OALPsC,EAAiB,IAAIniB,SAAQ,SAAUtG,EAAG2oB,GAAU,OAAOX,EAAgBZ,OAAOzkB,iBAAiB,SAAS,WAAc,OAAOgmB,EAAO,CACpIzjB,KAAM,aACNihB,QAASyB,GAAe,WAC3B,GAAI,IACI1R,EAAA0Q,EAAQF,EAAWvN,EAAiE,OAA3DmP,EAAgB,MAAX5G,OAAkB,EAASA,EAAQkH,qBAA0B,EAASN,EAAGxpB,KAAK4iB,EAAS,CAAEgF,YAAsBvN,OAAY,CAAEvH,SAAAA,EAAoB+V,YACjL,CAAC,EAAarhB,QAAQuiB,KAAK,CAC1BJ,EACAniB,QAAQG,QAAQ+f,EAAerN,EAAK,CAChCjD,WACAtE,SAAAA,EACA+V,QACAjB,YACAU,OAAQY,EAAgBZ,OACxBK,QACAqB,gBAAiB,SAAU3lB,EAAOsd,GACvB,OAAA,IAAIoF,GAAgB1iB,EAAOsd,EACtC,EACAsI,iBAAkB,SAAU5lB,EAAOsd,GACxB,OAAA,IAAIqF,GAAgB3iB,EAAOsd,EACtC,KACAla,MAAK,SAAUye,GACf,GAAIA,aAAkBa,GACZ,MAAAb,EAEV,OAAIA,aAAkBc,GACXW,EAAUzB,EAAOxE,QAASkG,EAAWvN,EAAK6L,EAAOvE,MAErDgG,EAAUzB,EAAQ0B,EAAWvN,EAAG,OAGvD,KAAK,EAEM,OADPoP,EAAcxI,EAAGrB,OACV,CAAC,EAAa,GACzB,KAAK,EAGM,OAFPgK,EAAQ3I,EAAGrB,OACX6J,EAAcG,aAAiB7C,GAAkBgB,EAAS,KAAMH,EAAWvN,EAAKuP,EAAMlI,QAASkI,EAAMjI,MAAQoG,EAAS6B,EAAOhC,EAAWvN,GACjI,CAAC,EAAa,GACzB,KAAK,EAKM,OAJQuI,IAAYA,EAAQsH,4BAA8BnC,EAASlG,MAAM4H,IAAgBA,EAAY9H,KAAKuG,WAE7G9Q,EAASqS,GAEN,CAAC,EAAcA,GAkC1D,IAAoBplB,CAjCQ,GACH,EApwCd,IAAImD,SAAQ,SAAUG,EAASkiB,GAC9B,IAAAlC,EAAY,SAAUtjB,GAClB,IACK8b,EAAAmJ,EAAUvT,KAAK1R,UAEjBrF,GACH6qB,EAAO7qB,EACX,CAAA,EAEA+oB,EAAW,SAAU1jB,GACjB,IACK8b,EAAAmJ,EAAUtJ,MAAM3b,UAElBrF,GACH6qB,EAAO7qB,EACX,CAAA,EAEAmhB,EAAO,SAAUte,GAAK,OAAOA,EAAEqe,KAAOvY,EAAQ9F,EAAEwC,OAASmD,QAAQG,QAAQ9F,EAAEwC,OAAOoD,KAAKkgB,EAAWI,EAAQ,EAC9G5H,GAAMmJ,EAAYA,EAAUzc,MAAMuc,EAAQC,IAActT,OAAM,IAnBxD,IAAUqT,EAAQC,EAAaC,CAswCxB,CAlEU,GAoER,OAAAze,OAAO+d,OAAOO,EAAU,CAC3BR,QACAf,YACAvN,MACA8P,OAAQ,WACG,OAAAhB,EAAS1hB,KAAK6f,GACzB,GACH,CAET,GACoC,CAChCQ,UACAC,WACAJ,YACAF,cAER,CACAD,EAAkB4C,UAAY,WAAqB,OAAA5C,CAAA,CAEpD,CA7JH,GAiaA,IAAI6C,GAAM,qBA8IQhJ,GAAagJ,GAAM,QACbhJ,GAAagJ,GAAM,cACtBhJ,GAAagJ,GAAM,WAkLW,mBAAnBC,gBAAgCA,eAAe5iB,KAAuB,oBAAX2I,OAAyBA,OAA2B,oBAAXka,OAAyBA,OAASnZ,YTp6D8hI,WAAsBxR,SAAAA,EAAEnB,EAAEK,GAAOc,IAAAA,EAAEV,EAAET,GAAG,OAAOmB,EAAEA,EAAEiM,WAAW/M,EAAEI,EAAET,GAAGmB,EAAE,CAACmL,cAAa,EAAGc,WAAW/M,EAAEuL,IAAI,WAAevL,IAAAA,EAAEwC,KAAK6J,IAAmD,OAAAY,GAAG1B,IAAIvL,EAAEL,EAAC,EAAG+L,IAAI,SAAS1L,GAAOc,IAAAA,EAAE0B,KAAK6J,IAAgDY,GAAAvB,IAAI5K,EAAEnB,EAAEK,KAAKc,CAAC,CAAC,SAASZ,EAAEP,GAAG,IAAA,IAAQK,EAAEL,EAAEqB,OAAO,EAAEhB,GAAG,EAAEA,IAAI,CAAC,IAAIc,EAAEnB,EAAEK,GAAGqM,IAAG,IAAIvL,EAAE+C,EAAE,OAAO/C,EAAEhB,GAAG,KAAK,EAAIgB,EAAAA,IAAI6B,GAAE7B,GAAG,MAAM,KAAK,EAAIA,EAAAA,IAAI6B,GAAE7B,GAAG,CAAC,CAAC,SAASf,EAAEJ,GAAG,IAAA,IAAQK,EAAEL,EAAEmB,EAAEA,EAAEnB,EAAEgD,EAAEzC,EAAE2M,GAAG/L,GAAGhB,EAAEI,EAAEc,OAAO,EAAElB,GAAG,EAAEA,IAAI,CAAKC,IAAAA,EAAEG,EAAEJ,GAAG,GAAGC,IAAIsM,GAAE,CAAKhM,IAAAA,EAAEL,EAAED,GAAG,QAAG,IAASM,IAAIR,GAAEG,EAAED,GAAS,OAAA,EAAG,IAAIE,EAAEa,EAAEf,GAAGK,EAAEH,GAAGA,EAAEoM,IAAG,GAAGjM,EAAEA,EAAEU,IAAIT,GAAGF,GAAEF,EAAEI,GAAS,OAAA,CAAE,CAAC,CAAC,IAAII,IAAIT,EAAEqM,IAAG,OAAOnM,EAAEc,SAAS6L,GAAG7M,GAAGgB,QAAQP,EAAE,EAAE,EAAE,CAAC,SAASJ,EAAEV,GAAG,IAAIK,EAAEL,EAAEgD,EAAK3C,GAAAA,EAAEgB,SAASrB,EAAEmB,EAAEE,OAAa,OAAA,EAAG,IAAIF,EAAEiL,OAAOwN,yBAAyBvZ,EAAEA,EAAEgB,OAAO,GAAMF,GAAAA,IAAIA,EAAEyK,IAAU,OAAA,EAAG,IAAA,IAAQrL,EAAE,EAAEA,EAAEF,EAAEgB,OAAOd,IAAO,IAACF,EAAE0Y,eAAexY,GAAS,OAAA,EAAS,OAAA,CAAE,CAA8C,IAAhgGP,EAAEK,EAAkgGI,EAAE,CAAA,EAApgGJ,EAA+gG,CAACmM,EAAE,SAASxM,EAAEK,GAAOE,IAAAA,EAAEK,MAAMC,QAAQb,GAAGG,EAAE,SAASH,EAAEK,GAAG,GAAGL,EAAE,CAASO,IAAAA,IAAAA,EAAEK,MAAMP,EAAEgB,QAAQlB,EAAE,EAAEA,EAAEE,EAAEgB,OAAOlB,IAAIiM,OAAOC,eAAe9L,EAAE,GAAGJ,EAAEgB,EAAEhB,GAAE,IAAYI,OAAAA,CAAC,CAAKH,IAAAA,EAAEuN,GAAGtN,UAAUD,EAAEsM,IAAWxM,IAAAA,IAAAA,EAAEgN,GAAG9M,GAAGM,EAAE,EAAEA,EAAER,EAAEmB,OAAOX,IAAI,CAAKJ,IAAAA,EAAEJ,EAAEQ,GAAKJ,EAAAA,GAAGa,EAAEb,EAAEN,KAAKI,EAAEE,GAAG8M,WAAW,CAAC,OAAOhB,OAAOmN,OAAOnN,OAAO0M,eAAezY,GAAGD,EAAC,CAArQ,CAAwQG,EAAEP,GAAGI,EAAE,CAACD,EAAEI,EAAE,EAAE,EAAE+E,EAAEjF,EAAEA,EAAEiF,EAAE7C,KAAIyB,GAAE,EAAGO,GAAE,EAAG6F,EAAE,CAAC,EAAErK,EAAEI,EAAEc,EAAEnB,EAAEgD,EAAE7C,EAAEC,EAAE,KAAKuC,GAAE,EAAGmB,GAAE,GAAW,OAAAsI,OAAOC,eAAelM,EAAEuM,GAAE,CAAC9G,MAAMxF,EAAEmM,UAAS,IAAKpM,CAAG,EAAAiE,EAAE,SAASpE,EAAEmB,EAAEf,GAAGA,EAAEC,GAAEc,IAAIA,EAAEuL,IAAGpH,IAAItF,GAAGO,EAAEP,EAAEe,IAAIf,EAAEE,GAAG,SAASF,EAAEK,GAAMA,GAAAA,GAAG,iBAAiBA,EAAE,CAAKc,IAAAA,EAAEd,EAAEqM,IAAG,GAAGvL,EAAE,CAAKZ,IAAAA,EAAEY,EAAEA,EAAEf,EAAEe,EAAE6B,EAAE1C,EAAEa,EAAEmJ,EAAE9J,EAAEW,EAAEhB,EAAE,GAAG,IAAIK,EAAIJ,GAAAA,GAAG,SAASC,GAAO0rB,IAAArf,UAAI,IAASnM,EAAEF,IAAIH,GAAEK,EAAEF,GAAGC,EAAED,IAAIL,EAAEI,EAAEC,KAAKC,EAAED,IAAG,EAAG2C,GAAE7B,IAAM,IAAEhB,GAAEI,GAAG,SAASP,QAAG,IAASI,EAAEJ,IAAIE,GAAEE,EAAEJ,KAAKM,EAAEN,IAAG,EAAGgD,GAAE7B,GAAC,SAAI,GAAU,IAAIX,EAAE,CAAIE,GAAAA,EAAES,KAAK6B,GAAE7B,GAAGb,EAAEe,QAAO,GAAIjB,EAAEiB,OAAOd,EAAEc,OAAO,IAAA,IAAQZ,EAAEL,EAAEiB,OAAOZ,EAAEF,EAAEc,OAAOZ,IAAIH,EAAEG,IAAG,OAAQ,IAAA,IAAQK,EAAEP,EAAEc,OAAOP,EAAEV,EAAEiB,OAAOP,IAAIR,EAAEQ,IAAG,EAAWC,IAAAA,IAAAA,EAAEmc,KAAK8O,IAAI5rB,EAAEiB,OAAOd,EAAEc,QAAQpB,EAAE,EAAEA,EAAEc,EAAEd,IAAIG,EAAE2Y,eAAe9Y,KAAKK,EAAEL,IAAG,QAAI,IAASK,EAAEL,IAAID,EAAEI,EAAEH,GAAG,CAAC,CAAC,CAAA,CAAve,CAA0eD,EAAEe,EAAE,IAAIR,EAAEP,EAAEe,GAAC,EAAI0L,EAAE,SAASzM,GAAG,OAAO,IAAIA,EAAEG,EAAEC,EAAEJ,GAAGU,EAAEV,KAAphImN,GAALnN,EAA2gG,SAA9/FmN,GAAGnN,GAAGK,EAA2gI,CSg+DrlM4rB,GC59DA,MAAMC,GAA2D,CAC7DC,GAAI,CACAC,MAAO,SACPC,YAAa,iBACbC,gBAAiB,uBACjBC,kBAAmB,sBACnBC,eAAgB,qBAChBC,oBAAqB,yBACrBC,YAAa,kCACbC,OAAQ,WACRC,qBAAsB,WACtBrjB,OAAQ,SACR8P,IAAK,WACLwT,OAAQ,QACRC,SAAU,UACVC,QAAS,WACTC,IAAK,SACLC,sBAAuB,qCACvBC,YAAa,sBACbC,gBAAiB,cACjBC,cAAe,gCACfC,eAAgB,4BAChBlK,MAAO,gCACPmK,aAAc,0BACdC,eAAgB,kBAChBC,cAAe,sBACfC,SAAU,iBACVC,YAAa,4CACbC,kBAAmB,WACnBC,eAAgB,SAChBC,cAAe,qBACfC,OAAQ,gBACRC,kBAAmB,cACnBC,WAAY,cACZC,OAAQ,YACRC,MAAO,QACPC,oBAAqB,sBACrBC,QAAS,SACTC,SAAU,aACVC,KAAM,aACNC,QAAS,WACTC,gBAAiB,oBACjBC,kBAAmB,qDACnBC,MAAO,OACPC,aAAc,uBACdC,eAAgB,iBAChBC,WAAY,gDACZC,YAAa,uBACbC,cAAe,gBACfvjB,KAAM,SACNwjB,KAAM,UACNC,OAAQ,SACRC,YAAa,sBACbC,UAAW,iBACXC,KAAM,YACNC,OAAQ,cACR/jB,OAAQ,UACRgkB,OAAQ,WACRC,SAAU,UACVC,QAAS,aACTC,cAAe,sBACfC,QAAS,UACTC,aAAc,qBACdC,UAAW,qCACXC,eAAgB,gBAChBC,YAAa,sBACbC,cAAe,kCACfC,OAAQ,cACRC,gBAAiB,wBACjBC,iBAAkB,6CAClBC,IAAK,YACLC,MAAO,UACPC,OAAQ,aACRC,OAAQ,YACRC,8BAA+B,+BAC/BC,uBAAwB,oBACxBC,SAAU,uBACVC,WAAY,gBACZC,UAAW,aACXC,KAAM,YACNC,cAAe,mBACfC,gBAAiB,UACjBC,iBAAkB,yCAClBnvB,IAAK,YAET0L,GAAI,CACA8e,MAAO,QACPC,YAAa,gBACbuE,KAAM,QACNC,cAAe,gBACfvE,gBAAiB,kBACjBC,kBAAmB,kBACnBC,eAAgB,iBAChBC,oBAAqB,sBACrBC,YAAa,8BACbC,OAAQ,SACRC,qBAAsB,UACtBrjB,OAAQ,SACR8P,IAAK,MACLwT,OAAQ,SACRC,SAAU,WACVC,QAAS,eACTC,IAAK,MACLC,sBAAuB,sCACvBC,YAAa,cACbC,gBAAiB,iBACjBC,cAAe,4BACfC,eAAgB,mCAChBlK,MAAO,kCACPmK,aAAc,4BACdC,eAAgB,iBAChBC,cAAe,iBACfC,SAAU,gBACVC,YAAa,oCACbC,kBAAmB,YACnBC,eAAgB,SAChBC,cAAe,SACfC,OAAQ,gBACRC,kBAAmB,gBACnBC,WAAY,gBACZC,OAAQ,SACRC,MAAO,QACPC,oBAAqB,wBACrBC,QAAS,UACTC,SAAU,WACVC,KAAM,OACNC,QAAS,UACTC,gBAAiB,oBACjBC,kBAAmB,2CACnBC,MAAO,QACPC,aAAc,sBACdC,eAAgB,iBAChBC,WAAY,mDACZC,YAAa,cACbC,cAAe,kBACfvjB,KAAM,OACNwjB,KAAM,OACNC,OAAQ,SACRC,YAAa,cACbC,UAAW,YACXC,KAAM,OACNC,OAAQ,SACR/jB,OAAQ,SACRgkB,OAAQ,SACRC,SAAU,WACVC,QAAS,QACTC,cAAe,gBACfC,QAAS,UACTC,aAAc,iBACdC,UAAW,wCACXC,eAAgB,iBAChBC,YAAa,YACbC,cAAe,6BACfC,OAAQ,SACRC,gBAAiB,kBACjBC,iBAAkB,wCAClBC,IAAK,MACLC,MAAO,QACPC,OAAQ,SACRC,OAAQ,SACRC,8BAA+B,gCAC/BC,uBAAwB,yBACxBC,SAAU,wBACVC,WAAY,aACZC,UAAW,gBACXG,gBAAiB,eACjBC,iBAAkB,uBAClBnvB,IAAK,aAIPovB,GAAcC,UAAUC,SAASC,WAAW,MAAQ,KAAO,KAYpDC,GAAY7K,GAAY,CACjC5e,KAAM,OAAA6e,aARN,CACA6K,KAAML,GACN9X,KAAMgT,GAAa8E,KAQnBhS,SAAU,CACNsS,QAASA,CAACprB,EAAOoY,KACbpY,EAAMmrB,KAAO/S,EAAO2E,QACd/J,EAAAA,KAAOgT,GAAa5N,EAAO2E,QAAO,KAK7C,SAASsO,KACZ,MAAMrY,EAAO5E,IAAapO,GAAiBA,EAAMsrB,KAAKtY,OACtD,OAAQtX,GACGsX,EAAKtX,IAAQA,CAE5B,CC1MO,MAAM6vB,GAAa,CAAC,CACvB9pB,KAAM,OACN+pB,QAAS,SACTC,SAAW,iqOA8Mb5sB,QAAQ,MAAO,SACd,CACC4C,KAAM,UACN+pB,QAAS,UACTC,SAAW,8kCAoDb5sB,QAAQ,MAAO,SACd,CACC4C,KAAM,SACN+pB,QAAS,UACTC,SAAW,o5CAuEb5sB,QAAQ,MAAO,SACd,CACC4C,KAAM,SACN+pB,QAAS,UACTC,SAAW,o5CAuEb5sB,QAAQ,MAAO,UC3YJ6sB,GAAcrL,GAAY,CACnC5e,KAAM,SAAA6e,aAXN,CAEAqL,eAAe,EACfC,aAAc,KACdC,aAAc,KACdC,GAAI,IAQJhT,SAAU,CACNiT,KAAMA,CAACxxB,EAAGC,KACY,OAAdA,EAAEuiB,SACFxiB,EAAEoxB,eAAgB,EAClBpxB,EAAEqxB,aAAe,CACbI,WAAYT,GAAW,GAAGE,SAC1BQ,UAAW,CACPliB,QAAS,gBAIjBxP,EAAEoxB,eAAgB,EAClBpxB,EAAEqxB,aAAepxB,EAAEuiB,QACvB,EAEJiP,WAAYA,CAACzxB,EAAGC,KACZD,EAAEoxB,eAAgB,EAChBC,EAAAA,aAAcI,WAAaxxB,EAAEuiB,OAAAA,KCrC3C,MAAMmP,GAAN,WAAAhwB,GACaiwB,EAAAxvB,KAAA,SAAA,GAEDyvB,EAAAA,KAAAA,UAAmC,CAAA,EAAA,CAE3CC,OAAAA,CAAQ3wB,EAAagE,GACZ0sB,KAAAA,QAAQ1wB,GAAOgE,EACpB/C,KAAKxB,OAAS+K,OAAO8M,KAAKrW,KAAKyvB,SAASjxB,MAC5C,CAEAmxB,OAAAA,CAAQ5wB,GACEgE,MAAAA,EAAQ/C,KAAKyvB,QAAQ1wB,GACpBgE,YAAU6sB,IAAV7sB,EAAsB,KAAOA,CACxC,CAEA8sB,UAAAA,CAAW9wB,UACAiB,KAAKyvB,QAAQ1wB,GACpBiB,KAAKxB,OAAS+K,OAAO8M,KAAKrW,KAAKyvB,SAASjxB,MAC5C,CAEAO,GAAAA,CAAIyc,GACA,MAAMnF,EAAO9M,OAAO8M,KAAKrW,KAAKyvB,SAC9B,YAAuBG,IAAhBvZ,EAAKmF,GAAuB,KAAOnF,EAAKmF,EACnD,CAEAjH,KAAAA,GACIvU,KAAKxB,OAAS,EACdwB,KAAKyvB,QAAU,EACnB,EA2HG,MAAMK,GAAW,IAvHxB,MAKIvwB,WAAAA,CAAYsvB,EAA8BkB,GAJlClB,EAAAA,KAAAA,WACRrwB,EAAAA,KAAAA,UACAuxB,EAAAA,KAAAA,UAGI/vB,KAAK+vB,OAASA,EAEV,IACA/vB,KAAK6uB,QAAUA,GAAWmB,aAC1BhwB,KAAKiwB,oBACAvyB,GACAmxB,KAAAA,QAAU,IAAIU,EACvB,CAEK/wB,KAAAA,OAASwB,KAAK6uB,QAAQrwB,OAEM,mBAAtBwB,KAAK6uB,QAAQqB,OACNA,KAAAA,KAAQxgB,IACbmf,KAAAA,QAAQqB,KAAKxgB,EAAQ,EAGtC,CAEQugB,WAAAA,GACEE,MAAAA,EAAUnwB,KAAK+vB,OAAS,eAEzBlB,KAAAA,QAAQa,QAAQS,EADH,OAElB,MAAMC,EAAcpwB,KAAK6uB,QAAQc,QAAQQ,GACpCtB,KAAAA,QAAQgB,WAAWM,GAGxB,KANkB,QAIJC,GAA+D,OAAlCpwB,KAAK6uB,QAAQc,QAAQQ,IAGtD,MAAA,IAAI5f,MAAM,0CAExB,CAEA8f,qBAAAA,CAAsBN,GAClB/vB,KAAK+vB,OAASA,CAClB,CAEAxb,KAAAA,GACQ,IAACvU,KAAK6uB,QAAQrwB,OACd,OAGJ,MAAM8xB,EAAqB,GAC3B,IAAA,IAAShzB,EAAI,EAAGA,EAAI0C,KAAK6uB,QAAQrwB,SAAUlB,EAAG,CAC1C,MAAMmX,EAAOzU,KAAK6uB,QAAQ9vB,IAAIzB,GAC1BmX,GAAQA,EAAK6Z,WAAWtuB,KAAK+vB,SAC7BO,EAAShwB,KAAKmU,EAEtB,CAEA,IAAA,MAAWA,KAAQ6b,EACVzB,KAAAA,QAAQgB,WAAWpb,GAEvBjW,KAAAA,OAASwB,KAAK6uB,QAAQrwB,MAC/B,CAEAO,GAAAA,CAAIyc,GACO,OAAAxb,KAAK6uB,QAAQ9vB,IAAIyc,EAC5B,CAEAkU,OAAAA,CAAQ3wB,EAAagE,GACjB,IAAKA,QAA0B6sB,IAAjB7sB,EAAMvE,QAAyC,IAAjBuE,EAAMvE,OAE9C,YADK+xB,KAAAA,iBAAiBxxB,EAAK,IAI/B,IAAIyxB,EAAS,EACNA,KAAAA,EAASztB,EAAMvE,QAAQ,CAC1B,IAAIiyB,EAAS1tB,EAAM0tB,OAAOD,EA5Gf,MA6GXA,GAAUC,EAAOjyB,OAEbgyB,EAASztB,EAAMvE,SACLkyB,GA/GD,KAkHRH,KAAAA,iBAAiBxxB,EAAK0xB,GACpBE,GAlHM,GAmHjB,CACJ,CAEAhB,OAAAA,CAAQ5wB,GACAgE,IAAAA,EAAQ/C,KAAK4wB,kBAAkB7xB,GACnC,GAAc,OAAVgE,EACO,OAAA,KAGPA,GAAiB,IAAjBA,EAAMvE,OACCuE,OAAAA,EAGX,KAjIiB,MAiIVA,EAAMA,EAAMvE,OAAS,IAAyB,CACjDuE,EAAQA,EAAM0tB,OAAO,EAAG1tB,EAAMvE,OAAS,GAChCmyB,GAlIM,IAmIPlc,MAAAA,EAAOzU,KAAK4wB,kBAAkB7xB,GAC3B0V,GAAS,OAATA,EAAgB,GAAKA,CAClC,CAEO1R,OAAAA,CACX,CAEA8sB,UAAAA,CAAW9wB,GACPiB,KAAK6uB,QAAQgB,WAAW7vB,KAAK+vB,OAAShxB,GACjCP,KAAAA,OAASwB,KAAK6uB,QAAQrwB,MAC/B,CAEQ+xB,gBAAAA,CAAiBxxB,EAAagE,GAClC/C,KAAK6uB,QAAQa,QAAQ1vB,KAAK+vB,OAAShxB,EAAKgE,GACnCvE,KAAAA,OAASwB,KAAK6uB,QAAQrwB,MAC/B,CAEQoyB,iBAAAA,CAAkB7xB,GACtB,OAAOiB,KAAK6uB,QAAQc,QAAQ3vB,KAAK+vB,OAAShxB,EAC9C,QAGiC6wB,EAAW,YCtJnCiB,GAAqB,CAAC,QAAS,OAAQ,UAAW,YAAa,UAAW,YACnF,YAAa,QAAS,YAAa,YAAa,YAAa,SAAU,SAAU,OAAQ,OACzF,SAAU,UAAW,YAAa,QAAS,SAAU,UAAW,OAAQ,SAAU,WAClF,OAAQ,WAAY,QAAS,SAAU,UAwD9BC,GAAUpN,GAAY,CAC/B5e,KAAM,aAAA6e,aA3BN,CACAoN,QAAQ,EACRC,MAAO,OACPC,SAAS,EACTliB,OAAQ,OACR8c,MAAQiE,GAASH,QAAQ,UAAY,QACrClD,QAAQ,EACRyE,YAAY,EACZC,YAAY,EACZC,MAAO,KACPC,YAAa,OACbC,eAAgB,EAChBC,WAAY,KACZC,iBAAiB,EACjBC,YAAY,EACZC,WAAW,EACXC,OAAO,EACPC,eAAgBttB,SAASysB,SAAU,EACnCc,cAAc,EACdC,SAAS,EACTC,WAAW,EACXC,eAAe,GAQf7V,SAAU,CACN0P,MAAOA,CAACxoB,EAAOxF,KACF6xB,GAAAA,QAAQ,QAAS7xB,EAAEuiB,SAC5B/c,EAAMwoB,MAAQhuB,EAAEuiB,OAAAA,EAEpB6R,UAAsB5uB,IAClBA,EAAM2tB,MAAQ,OACd3tB,EAAM4tB,SAAU,CAAA,EAEpBiB,cAA0B7uB,IACtBA,EAAM2tB,MAAQ,WACd3tB,EAAM4tB,SAAU,CAAA,EAEpBkB,aAAyB9uB,IACrBA,EAAM2tB,MAAQ,UACd3tB,EAAM4tB,SAAU,CAAA,EAEpBmB,WAAuB/uB,IACnBA,EAAM2tB,MAAQ,QACd3tB,EAAM4tB,SAAU,CAAA,EAEpBoB,UAAsBhvB,IAClBA,EAAM2tB,MAAQ,cACd3tB,EAAM4tB,SAAU,CAAA,EAEpBqB,QAAoBjvB,IAChBA,EAAM2tB,MAAQ,YACd3tB,EAAM4tB,SAAU,CAAA,EAEpBsB,eAA2BlvB,IACvBA,EAAM2tB,MAAQ,aACd3tB,EAAM4tB,SAAU,CAAA,EAEpBuB,YAAwBnvB,IACpBA,EAAM2tB,MAAQ,SACd3tB,EAAM4tB,SAAU,CAAA,EAEpBwB,aAAyBpvB,IACrBA,EAAM0L,OAAS,QAAA,EAEnBwiB,WAAYA,CAACluB,EAAOxF,KAChBwF,EAAMkuB,WAAa1zB,EAAEuiB,OAAAA,EAEzBsS,UAAWA,CAACrvB,EAAOxF,KACfwF,EAAMopB,OAAS5uB,EAAEuiB,OAAAA,EAErBuS,cAAeA,CAACtvB,EAAOxF,KACnBwF,EAAM6tB,WAAarzB,EAAEuiB,OAAAA,EAEzBwS,cAAeA,CAACvvB,EAAOxF,KACnBwF,EAAM8tB,WAAatzB,EAAEuiB,OAAAA,EAEzByS,UAAWA,CAACxvB,EAAOxF,KAMc,IAAzBwF,EAAMiuB,gBACNwB,cAAczvB,EAAMiuB,gBAElBF,EAAAA,MAAQvzB,EAAEuiB,QAAQ2F,QAClBsL,EAAAA,YAAcxzB,EAAEuiB,QAAQ2S,QAAU,OACf,UAArBl1B,EAAEuiB,QAAQ2S,SACJzB,EAAAA,eAAiBhrB,YAAW,KAC7BzI,EAA2Bm1B,YAAsBhiB,GAAAA,EAAM8E,SAASgb,GAAQvL,QAAQ0N,cAAY,GAC9Fp1B,EAAEuiB,QAAQ8S,KAAO,IAAO,MAC/B,EAEJD,UAAsB5vB,IAClBA,EAAM+tB,MAAQ,KACd/tB,EAAMiuB,eAAiB,CAAA,EAE3BE,gBAAiBA,CAACnuB,EAAOxF,KACrBwF,EAAMmuB,gBAAkB3zB,EAAEuiB,OAAAA,EAE9BqR,WAAYA,CAACpuB,EAAOxF,KAChBwF,EAAMouB,WAAa5zB,EAAEuiB,OAAAA,EAEzBsR,UAAWA,CAACruB,EAAOxF,KACfwF,EAAMquB,UAAY7zB,EAAEuiB,OAAAA,EAExBuR,MAAOA,CAACtuB,EAAOxF,KACXwF,EAAMsuB,MAAQ9zB,EAAEuiB,OAAAA,EAEpBwR,eAAgBA,CAACh0B,EAAGC,KAChBD,EAAEg0B,eAAiB/zB,EAAEuiB,OAAAA,EAEzByR,aAAcA,CAACxuB,EAAOxF,KAClBwF,EAAMwuB,aAAeh0B,EAAEuiB,OAAAA,EAE3B0R,QAASA,CAACzuB,EAAOxF,KACbwF,EAAMyuB,QAAUj0B,EAAEuiB,OAAAA,EAEtB2Q,OAAQA,CAAC1tB,EAAOxF,KACZwF,EAAM0tB,OAASlzB,EAAEuiB,OAAAA,EAErB2R,UAAWA,CAAC1uB,EAAOxF,KACfwF,EAAM0uB,UAAYl0B,EAAEuiB,QACpB/c,EAAM2tB,MAAQ,MAAA,EAElBgB,cAAeA,CAAC3uB,EAAOxF,KACnBwF,EAAM0uB,UAAYl0B,EAAEuiB,QACpB/c,EAAM2tB,MAAQ,MAAA,GAGtB9M,cAA4Bd,IACxBA,EACKC,QAAQtD,GAAqB,gBAAgB,CAACniB,EAAGC,KAC9CD,EAAEmR,OAAS,SAAA,IAEdsU,QAAQtD,GAAqB,mBAAmB,CAACniB,EAAGC,KACjDD,EAAEmR,OAAS,SAAA,IAEdsU,QAAQtD,GAAqB,iBAAiB,CAACniB,EAAGC,KAC/CD,EAAEmR,OAAS,QAAA,IAEdsU,QAAQtD,GAAqB,iBAAiB,CAACniB,EAAGC,KAC3CD,EAAE8zB,UACD7zB,EAA2Bm1B,YAAsBhiB,IAC9CA,EAAM8E,SAASqd,GAAS5N,QAAQ6N,QAAQ,CAAE,GAAC,IAG/Cx1B,EAAEmR,OAAS,QACf,IAEHsU,QAAQtD,GAAqB,gBAAgB,CAACniB,EAAGC,KAC9CD,EAAEmR,OAAS,MACXnR,EAAEozB,MAAQ,MAAA,IAEbzN,YAAY9H,GACFA,EAAO5c,KAAKyvB,WAAW,SAC1B7S,EAAO5c,KAAKw0B,SAAS,WAC1B,CAACz1B,EAAGC,KACHD,EAAEmR,OAAS,OAAA,GACd,ICzMAukB,GAAkB,kBAClBC,GAAe,kCACfC,GAAiB,QAEjBC,GAAc,qDACdC,GAAaD,GAAc,eAC3BE,GAAWF,GAAc,aAEzBG,GAAQ,0BAORC,GAAkB,ECVzBC,GAAgB,uBA4BTC,GAAYrQ,GAAY,CACjC5e,KAAM,OAAA6e,aAPN,CACAqQ,cAbMC,MAAAA,EAAOnE,GAASH,QAAQmE,IAC9B,GAAIG,EAAM,CACAD,MAAAA,EAAUE,KAAKC,MAAMF,GACvBD,GAAAA,EAAQI,OAASJ,EAAQI,MAAM51B,OAAS,GAAKw1B,EAAQK,OAAkC,IAAzBL,EAAQK,MAAM71B,OACrEw1B,OAAAA,CAEf,CACO,OAAA,UAcP7X,SAAU,CACNmY,WAAYA,CAACjxB,EAAOoY,KAChB,MAAMuY,EAAUvY,EAAO2E,QACP,OAAZ4T,GACAlE,GAASJ,QAAQoE,GAAeI,KAAKK,UAAUP,IACdhB,EAAAA,YAAsBhiB,IAC7B,2BAAlBgjB,EAAQI,OACRpjB,EAAM8E,SAASqd,GAAS5N,QAAQiP,mBAAkB,GACtD,KAGJ1E,GAASD,WAAWiE,IAExBzwB,EAAM2wB,QAAUA,CAAAA,KAK5BS,eAAsBC,GAAYL,GAC9B,IAAKA,GAA0B,IAAjBA,EAAM71B,OACT,MAAA,CAAE61B,QAAOL,QAAS,MAG7B,IAAA,IAAS12B,EAAI,EAAGA,EAAI+2B,EAAM71B,SAAUlB,EAAG,CAC7B2c,MAAAA,EAAOoa,EAAMM,WAAWr3B,GAC9B,KAAM2c,EAAO,IAAMA,EAAO,KACf,MAAA,CAAEoa,QAAOL,QAAS,KAEjC,CAEMA,MAAAA,cAAuBY,MAAMjB,GAAW,OAASU,IAAQJ,OAGxD,cAFAD,EAAQnH,QAER,CAAEwH,QAAOL,QAASA,EAAQI,MAAQJ,EAAU,KACvD,CCrEA,MAYaa,GAAenR,GAAY,CACpC5e,KAAM,UAAA6e,aATN,CACAmR,QAAS,EACTC,MAAO,EACPC,OAAO,GAQP7Y,SAAU,CACN8Y,MAAcr3B,IACVA,EAAEk3B,SAAU,EACZl3B,EAAEm3B,MAAQ,EACVn3B,EAAEo3B,OAAQ,CAAA,EAEdE,SAAUA,CAACt3B,EAAGC,KACRi3B,EAAAA,QAAUj3B,EAAEuiB,QAAQ,GACpB2U,EAAAA,MAAQl3B,EAAEuiB,QAAQ,EAAC,EAEzB4U,MAAcp3B,IACVA,EAAEo3B,OAAQ,CAAA,KChBf,MAAMG,GAAN,WAAA51B,GACYiwB,EAAAxvB,KAAA,QAAA,GAAA,CAERutB,KAAAA,GACP,CAEO6H,GAAAA,CAAIr2B,EAAa4F,GACpB,OAAOuB,QAAQG,SACnB,CAEO0C,GAAAA,CAAIhK,EAAa6L,GACpB,YAAqBglB,IAAjBhlB,EACO1E,QAAQG,QAAQuE,GAEpB1E,QAAQqiB,OAAO,IAAIhY,MAAM,uCACpC,CAEO8kB,GAAAA,CAAIt2B,GACP,OAAOmH,QAAQG,SACnB,CAEOgQ,IAAAA,GACInQ,OAAAA,QAAQG,QAAQ,GAC3B,CAEOvC,OAAAA,CAAQwxB,GACX,OAAOpvB,QAAQG,SACnB,EAGJ,MAAMkvB,GAMFh2B,WAAAA,CAAYi2B,EACRC,EACAC,GAMI,GAbDF,EAAAA,KAAAA,SACahG,EAAAxvB,KAAA,YAAA,SACZ21B,EAAAA,KAAAA,aACyBnG,EAAAxvB,KAAA,KAAA,MAK7BA,KAAKw1B,MAAQA,EACRG,KAAAA,UAA+B,oBAAX5mB,YAAyB6gB,EAAY7gB,OAAO4mB,WAChE5mB,OAAe6mB,cACf7mB,OAAe8mB,iBAAoB9mB,OAAe+mB,YAElD91B,KAAK21B,UAKN,IACA,MAAMI,EAAc/1B,KAAK21B,UAAUK,KAAK,iBAAmBR,EAAQ,IAAK,GAC5DE,EAAAA,QAAqB7yB,UACrB6yB,EAAA,+BAAgCK,OAAAA,EAAAA,EAAYzV,YAAZyV,EAAAA,EAAmBhQ,SAAO,EAE1DkQ,EAAAA,UAAuBpzB,IAC/B7C,KAAKk2B,GAAKH,EAAYnR,OACtB6Q,EAAQz1B,KAAI,EAEJm2B,EAAAA,gBAA6BtzB,IACjC,IACA7C,KAAKk2B,GAAKH,EAAYnR,OACjBsR,KAAAA,GAAGR,QAAW7yB,IACf6yB,EAAQ,+BAA8B,EAGtB11B,KAAKk2B,GAAGE,kBAAkBp2B,KAAKq2B,WACvCC,YAAY,MAAO,GAAI,CAC/BC,QAAQ,EACRC,YAAY,UAEX94B,GACLg4B,EAAQ,+BACZ,SAECh4B,GACGg4B,EAAA,8BAAgCh4B,EAAEqoB,QAC9C,MA/BI2P,EAAQ,2CAgChB,CAEOnI,KAAAA,GACa,OAAZvtB,KAAKk2B,KACLl2B,KAAKk2B,GAAG3I,QACRvtB,KAAKk2B,GAAK,KAElB,CAEOd,GAAAA,CAAIr2B,EAAa4F,GACpB,OAAO,IAAIuB,SAAc,CAACG,EAASkiB,KAC3B,GAAY,OAAZvoB,KAAKk2B,GAEL,gBAGJ,MACMO,EADcz2B,KAAKk2B,GAAGQ,YAAY12B,KAAKq2B,UAAW,aAC5BM,YAAY32B,KAAKq2B,WAAWjB,IAAIzwB,EAAKiyB,OAAQ73B,GACzE03B,EAAQf,QAAU,IAAMnN,EAChB0N,EAAAA,UAAY,IAAM5vB,MAElC,CAEOgvB,GAAAA,CAAIt2B,GACP,OAAO,IAAImH,SAAc,CAACG,EAASkiB,KAC3B,GAAY,OAAZvoB,KAAKk2B,GAEL,gBAGJ,MACMO,EADcz2B,KAAKk2B,GAAGQ,YAAY12B,KAAKq2B,UAAW,aAC5BM,YAAY32B,KAAKq2B,WAAW5tB,OAAO1J,GAC/D03B,EAAQf,QAAU,IAAMnN,EAChB0N,EAAAA,UAAY,IAAM5vB,MAElC,CAEO0C,GAAAA,CAAIhK,EAAa6L,GACpB,OAAO,IAAI1E,SAAoB,CAACG,EAASkiB,KACrC,SAASsO,EAAgB9Q,QACA6J,IAAjBhlB,EACO2d,EAAA,IAAIhY,MAAMwV,IAEjB1f,EAAQuE,EAEhB,CAGI,GAAY,OAAZ5K,KAAKk2B,GAEL,YADAW,EAAgB,wBAIpB,MACMJ,EADcz2B,KAAKk2B,GAAGQ,YAAY12B,KAAKq2B,UAAW,YAC5BM,YAAY32B,KAAKq2B,WAAWttB,IAAIhK,GACpD22B,EAAAA,QAAU,IAAMnN,EAAO,IAAIhY,MAAM,6BAA+BxR,EAAM,MAC9E03B,EAAQR,UAAY,KACZQ,EAAQ7R,OACRve,EAAQ,IAAIywB,WAAWL,EAAQ7R,SAE/BiS,EAAgB,4BAA8B93B,EAAM,cAAgB03B,EAAQ7R,OAChF,CAAA,GAGZ,CAEOvO,IAAAA,GACH,OAAO,IAAInQ,SAAkB,CAACG,EAASkiB,KAC/B,GAAY,OAAZvoB,KAAKk2B,GAEL,YADA7vB,EAAQ,IAIZ,MACMowB,EADcz2B,KAAKk2B,GAAGQ,YAAY12B,KAAKq2B,UAAW,YAC5BM,YAAY32B,KAAKq2B,WAAW7a,MAAM,OAAOub,aACrEN,EAAQf,QAAU,IAAMnN,EAChB0N,EAAAA,UAAuBpzB,IACrBwT,MAAAA,EAAQxT,EAAMgX,OAAe+K,OACnCve,EAAQgQ,EAAI,CAAA,GAGxB,CAEOvS,OAAAA,CAAQwxB,GACX,OAAO,IAAIpvB,SAAc,CAACG,EAASkiB,KAC3B,GAAY,OAAZvoB,KAAKk2B,GAEL,gBAGJ,MACMO,EADcz2B,KAAKk2B,GAAGQ,YAAY12B,KAAKq2B,UAAW,YAC5BM,YAAY32B,KAAKq2B,WAAWW,aACxDP,EAAQf,QAAU,IAAMnN,EAChB0N,EAAAA,UAAuBpzB,IACrBo0B,MAAAA,EAAUp0B,EAAMgX,OAAe+K,OACjCqS,GACKA,EAAAA,EAAOl4B,IAAIqX,WAAY,IAAI0gB,WAAWG,EAAOl0B,QAClDk0B,EAAOzL,eAGX,CAAA,GAGZ,EC7LS0L,MAAAA,GAAwB,CAAC,YAAa,UAEtCC,GAKT,CACA,SAAU,CACNC,kBAAmB,oCACnBC,qBAAsB,mCAE1BC,UAAa,CACTF,kBAAmB,wBACnBC,qBAAsB,wBAS9B,IAAIE,IAAW,EACR,SAASC,KAEL,OADKD,IAAA,EACL,CACHA,YACAn1B,MAAOshB,GAAY,CACf5e,KAAM,OACN6e,aAAc,CACV8T,IAAKF,GACLG,qBAAsB5H,GAASH,QAAQ,2BAA6B,UAExExT,SAAU,CACNwb,wBAAyBA,CAACt0B,EAAOxF,KAC7BwF,EAAMq0B,qBAAuB75B,EAAEuiB,QACtBsP,GAAAA,QAAQ,yBAA0B7xB,EAAEuiB,QAAO,KAKxE,CAEawX,MAAAA,GAAYJ,KAAkBp1B,MCZrCy1B,GAAkDpjB,GAAAA,GAAqBgH,IAKzE,MAAMqc,EACFvuB,OAAO+d,OAAO,CAAA,EAAI7L,EAAQ,CAAEuX,WALhC,SAAoBtjB,GAChBpJ,YAAW,IAAMoJ,EAASsB,IAAQ,EACtC,IAKAyD,EAAKqjB,EAAuB,EAG1BC,GAAmE,CAAA,EAuDlE,SAASC,GAAwBC,GAChC,MAAiC,mBAA1BA,EAAazmB,SACbumB,GAAwBE,EAAazmB,WAAW4d,KAAKqI,KAErDM,GAAwBE,EAAa7I,KAAKqI,IAEzD,CAEO,SAASS,KACLF,OAAAA,GAAwBriB,KACnC,CAEgBwiB,SAAAA,GAAeC,EAA4Cv1B,EAAiBw1B,GACpFD,EAAqB9W,QAAQgX,SAC7BhyB,YAAW,aACcgb,OAAAA,GAAAA,EAAAA,EAAAA,SAAQgX,UAARhX,EAAAA,KAAAA,EAAkBze,EAAOw1B,EAAAA,GAC/C,EAEX,CAEO,SAAS7mB,GAASR,GACrB,OAAOA,EAAMQ,UACjB,CCtHA,MAAM+mB,GAAW,uCASJC,GAAuB,CAAC,SAAU,WAGlCC,GAA6B,CAAC,QAAS,UAGvCC,GAA4B,CAAC,OAAQ,MAAO,MAAO,MAAO,QAAS,OAAQ,OAE3EC,GAAc,MAEdC,GAA8B,CAAC,YAAa,UA0L5CzF,GAAWzP,GAAY,CAChC5e,KAAM,MACN6e,aA9HA,CACA9E,KAAM,WACNga,WAAY,IACZvY,MAAO,KACPwY,OAAQ,KACRC,OAAQ,CAAC,EACT9N,OAAuC,UAA/B6E,GAASH,QAAQ,UACzBd,QAAUiB,GAASH,QAAQ,YAAc,SACzCqJ,eAAe,EACfC,gBAA0D,UAAxCnJ,GAASH,QAAQ,mBACnCuJ,cAAgBpJ,GAASH,QAAQ,kBAAoB,QACrDwJ,aAAerJ,GAASH,QAAQ,iBAAmB,OACnDvE,OAASxT,OAAOwhB,WAAWtJ,GAASH,QAAQ,WAAa,OACzD0J,gBAAgB,EAChBC,iBAA2D,SAAzCxJ,GAASH,QAAQ,oBACnC4J,cAAgB3hB,OAAOwhB,WAAWtJ,GAASH,QAAQ,kBAAoB,OACvE6J,iBAAmB5hB,OAAOwhB,WAAWtJ,GAASH,QAAQ,sBAAwB,OAC9E8J,cAAc,EACdC,QAAQ,EACRC,MAAO,CACHC,YAAa,EACbC,wBAAyB,EACzBC,YAAa,EACbC,gBAAiB,EACjBC,YAAa,EACbC,YAAa,EACbC,cAAe,EACfC,cAAe,EACfC,QAAS,EACTC,QAAS,EACTC,UAAW,EACXC,UAAW,EACXC,cAAe,EACfC,cAAe,EACfC,eAAgB,EAChBC,eAAgB,EAChBC,QAAS,IAEbC,QAAS,CACLzO,OAAS0D,GAASH,QAAQ,eAAiB,cAC3CxD,KA6SG2O,KAAiBA,KAAiBA,KA5SrCC,IAAK,gBAET1C,IAAI,EACJ2C,YAAa,EACbC,eAAiBnL,GAASH,QAAQ,mBAAqB,YACvDuL,gBAAgB,EAChBC,cAAe,GACfC,cAAc,EACdC,mBAAoB,CAChB,CACI,CACI,4BACA,YACA,YACA,kBACA,iCAEJ,CACI,sBACA,yBACA,GACA,OACA,yBAEJ,CACI,yBACA,0BACA,0BACA,sBACA,sBAGR,CACI,CACI,qDACA,4CACA,0DACA,mEAIZC,oBAAqB,CACjB,CACI,QAAS,IACT,SAAU,IACV,UAAW,IACX,OAAQ,IACR,SAAU,IACV,SAAU,IACV,UAAW,IACX,UAAW,IACX,WAAY,IACZ,SAAU,OACV,WAAY,SACZ,QAAS,IACT,QAAS,IACT,QAAS,IACT,QAAS,IACT,QAAS,IACT,QAAS,IACT,QAAS,IACT,QAAS,IACT,QAAS,IACT,QAAS,IACT,YAAa,SAEjB,CACIh2B,EAAK,IAAKjF,EAAK,IAAK3C,EAAK,IAAKF,EAAK,IAAKc,EAAK,IAC7CD,EAAK,IAAKhB,EAAK,IAAKC,EAAK,IAAKC,EAAK,IAAKW,EAAK,IAC7C,IAAK,IAAK,IAAK,IAAKL,EAAK,IAAKD,EAAK,IAAKgB,EAAK,IAC7CnB,EAAK,IAAKqC,EAAK,IAAKhC,EAAK,IAAKmH,EAAK,IAAK9E,EAAK,IAC7C/C,EAAK,IAAK,IAAK,IAAK,IAAK,IAAKkE,EAAK,IAAKf,EAAK,IAC7C5C,EAAK,IAAKM,EAAK,IAAK8B,EAAK,IAAK5C,EAAK,IAAK+C,EAAK,IAC7C,IAAK,IAAK,IAAK,MAGvBq7B,0BAA2B,EAC3BC,yBAA0B,EAC1BC,UAAU,GAQVtf,SAAU,CACNuf,SAAUA,CAAC99B,EAAGC,KACVD,EAAEihB,KAAO,YACTjhB,EAAEi7B,WAAah7B,EAAEuiB,OAAAA,EAErBub,SAAUA,CAAC/9B,EAAGC,KACVD,EAAEihB,KAAO,YACPyB,EAAAA,MAAQziB,EAAEuiB,SAAW,mBAAA,EAE3Bwb,QAASA,CAACh+B,EAAGC,KACTD,EAAEihB,KAAO,WACTjhB,EAAEk7B,OAASj7B,EAAEuiB,OAAAA,EAEjByb,SAAUA,CAACj+B,EAAGC,KACVD,EAAEihB,KAAO,YACPyB,EAAAA,MAAQziB,EAAEuiB,SAAW,mBAAA,EAE3B0b,UAAkBl+B,IACdA,EAAEihB,KAAO,YAAA,EAEbkd,SAAUA,CAACn+B,EAAGC,KACVD,EAAEihB,KAAO,YACTjhB,EAAEm7B,OAASl7B,EAAEuiB,OAAAA,EAEjBgT,QAASA,CAACx1B,EAAGC,KACTD,EAAEihB,KAAO,WACRhhB,EAA2Bm1B,YAAsBhiB,IAC/BgnB,GAAAA,GAAwBhnB,GAAQ,WAAU,GAC5D,EAELgrB,UAAWA,CAACp+B,EAAGC,KACXD,EAAEqtB,OAASptB,EAAEuiB,QACb0P,GAASJ,QAAQ,SAAU9xB,EAAEqtB,OAAS,OAAS,QAAO,EAE1DgR,WAAYA,CAACr+B,EAAGC,KACZD,EAAEixB,QAAUhxB,EAAEuiB,OAAAA,EAElB8b,iBAAkBA,CAACt+B,EAAGC,KAClBD,EAAEo7B,cAAgBn7B,EAAEuiB,OAAAA,EAExB+b,mBAAoBA,CAACv+B,EAAGC,KACpBD,EAAEq7B,gBAAkBp7B,EAAEuiB,QACtB0P,GAASJ,QAAQ,kBAAmB9xB,EAAEq7B,gBAAkB,OAAS,QAAO,EAE5EC,cAAeA,CAACt7B,EAAGC,KACfD,EAAEs7B,cAAgBr7B,EAAEuiB,QACXsP,GAAAA,QAAQ,gBAAiB9xB,EAAEs7B,cAAa,EAErDC,aAAcA,CAACv7B,EAAGC,KACdD,EAAEu7B,aAAet7B,EAAEuiB,QACVsP,GAAAA,QAAQ,eAAgB9xB,EAAEu7B,aAAY,EAEnD8B,eAAgBA,CAACr9B,EAAGC,KAChBD,EAAEq9B,eAAiBp9B,EAAEuiB,QACZsP,GAAAA,QAAQ,iBAAkB9xB,EAAEq9B,eAAc,EAEvD7P,OAAQA,CAACxtB,EAAGC,KACRD,EAAEwtB,OAASvtB,EAAEuiB,QACb0P,GAASJ,QAAQ,SAAU9xB,EAAEwtB,OAAS,GAAE,EAE5CoO,iBAAkBA,CAAC57B,EAAGC,KAClBD,EAAE47B,iBAAmB37B,EAAEuiB,QACvB0P,GAASJ,QAAQ,oBAAqB9xB,EAAE47B,iBAAmB,GAAE,EAEjEC,aAAcA,CAAC77B,EAAGC,KACdD,EAAE67B,aAAe57B,EAAEuiB,OAAAA,EAEvBsZ,OAAQA,CAAC97B,EAAGC,KACRD,EAAE87B,OAAS77B,EAAEuiB,OAAAA,EAEjBuZ,MAAOA,CAAC/7B,EAAGC,KACPD,EAAE+7B,MAAQ97B,EAAEuiB,OAAAA,EAEhBiY,GAAIA,CAACz6B,EAAGC,KACJD,EAAEy6B,GAAKx6B,EAAEuiB,QACLviB,EAAEuiB,UACA4a,EAAAA,YAAc34B,KAAKC,MACzB,EAEJ85B,WAAYA,CAACx+B,EAAGC,KACRD,GAAkB,cAAlBA,EAAEi9B,QAAQE,IACJ,MAAA,IAAIxqB,MAAM,qBAGhB,IAAC3S,EAAEy6B,GACG,MAAA,IAAI9nB,MAAM,sBAGd,MAAA4b,KAAEA,EAAAA,QAAMkQ,GAAYx+B,EAAEuiB,QAC5BxiB,EAAEi9B,QAAQE,IAAM,aACfl9B,EAA2Bm1B,YAAsBhiB,IACxConB,MAAAA,EAAuBJ,GAAwBhnB,GACjD,IAAConB,EAAqBC,GAChB,MAAA,IAAI9nB,MAAM,sBAGd+rB,MAAAA,EAAmBD,EAAQhJ,SAAS,KACtCgJ,EAAQ9hB,UAAU,EAAG8hB,EAAQ79B,OAAS,GACtC69B,EAEJjE,EAAqBC,GAAGkE,eAAe,EACnCD,EAAmB,aAAenQ,EAAKqQ,WAAW,IAAK,MACtDr2B,MAAK,KACF6K,EAAM8E,SAASqd,GAAS5N,QAAQkX,UAAU,aAAY,IAEzDC,OAAah/B,IACVsT,EAAM8E,SAASqd,GAAS5N,QAAQkX,UAAU,UAC1CE,QAAQrc,MAAM5iB,EAAC,GAClB,GACR,EAEL++B,UAAWA,CAAC7+B,EAAGC,KACTg9B,EAAAA,QAAQE,IAAMl9B,EAAEuiB,OAAAA,EAEtBwc,cAAeA,CAACh/B,EAAGC,KACfD,EAAEi9B,QAAQE,IAAM,eACfl9B,EAA2Bm1B,YAAsBhiB,UACtBA,OAAAA,EAAAA,GAAAA,GAAOqnB,KAAIwE,EAAAA,kBAAkB,EAAA,GACxD,EAELC,QAASA,CAACl/B,EAAGC,KACPg9B,EAAAA,QAAQ1O,KAAOtuB,EAAEuiB,OAAAA,EAEvB2c,UAAWA,CAACn/B,EAAGC,KACTg9B,EAAAA,QAAQzO,OAASvuB,EAAEuiB,QACZsP,GAAAA,QAAQ,aAAc7xB,EAAEuiB,QAAO,EAE5CoU,kBAAmBA,CAAC52B,EAAGC,KACnBD,EAAEs9B,eAAiBr9B,EAAEuiB,OAAAA,EAEzB4c,iBAAkBA,CAACp/B,EAAGC,KAChBs9B,EAAAA,cAAc76B,KAAKzC,EAAEuiB,QAAO,EAElCiZ,eAAgBA,CAACz7B,EAAGC,KAChBD,EAAEy7B,eAAiBx7B,EAAEuiB,OAAAA,EAEzBkZ,iBAAkBA,CAAC17B,EAAGC,KAClBD,EAAE07B,iBAAmBz7B,EAAEuiB,QACvB0P,GAASJ,QAAQ,mBAAoB7xB,EAAEuiB,QAAU,OAAS,QAAO,EAErEmZ,cAAeA,CAAC37B,EAAGC,KACfD,EAAE27B,cAAgB17B,EAAEuiB,QACpB0P,GAASJ,QAAQ,gBAAiB9xB,EAAE27B,cAAgB,GAAE,EAE1D6B,aAAcA,CAACx9B,EAAGC,KACdD,EAAEw9B,aAAev9B,EAAEuiB,OAAAA,EAEvBib,mBAAoBA,CAACz9B,EAAGC,KAChBA,EAAEuiB,QAAQ5hB,OAAS,GAAKT,MAAMC,QAAQH,EAAEuiB,QAAQ,IAChDxiB,EAAEy9B,mBAAqBx9B,EAAEuiB,QAEzBxiB,EAAEy9B,mBAAqB,CAAC,CAACx9B,EAAEuiB,SAC/B,EAEJkb,oBAAqBA,CAAC19B,EAAGC,KACrBD,EAAE09B,oBAAsBz9B,EAAEuiB,OAAAA,EAE9Bmb,0BAA2BA,CAAC39B,EAAGC,KAC3BD,EAAE29B,0BAA4B19B,EAAEuiB,OAAAA,EAEpCob,yBAA0BA,CAAC59B,EAAGC,KAC1BD,EAAE49B,yBAA2B39B,EAAEuiB,OAAAA,EAEnCqb,SAAUA,CAAC79B,EAAGC,KACVD,EAAE69B,SAAW59B,EAAEuiB,OAAAA,KAK3B,IAAI6c,IAAiB,EACLC,SAAAA,GAAclsB,EAAqCmsB,GACzDrnB,EAAAA,UAAS2e,MAAO3e,IACd,IACKmnB,WAYjB,SAAyBE,GAErB,GAAW,OADA74B,SAAS84B,cAAc,iBAE9B,OAAOl3B,QAAQG,UAGnB,OAAO,IAAIH,SAAc,CAACG,EAASkiB,KACzB8U,MAAAA,EAAS/4B,SAASG,cAAc,UACtC44B,EAAO5I,OAAQ,EACf4I,EAAOx+B,KAAO,kBACdw+B,EAAOC,IAAMH,EAAa,eAC1BE,EAAOE,OAAS,KACZC,UAAUL,WAAaA,OAGpBzH,EAAAA,QAAmB+H,IACflV,EAAA,IAAIhY,MAAM,8GACwC,EAGpDmtB,SAAAA,KAAKz1B,YAAYo1B,EAAM,GAExC,CAjCsBM,CAAgBR,GACLF,IAAA,GAErBnnB,EAASqd,GAAS5N,QAAQmW,SAAS8B,UAAUpwB,gBACxC1P,GACG4iB,QAAAA,MAAM,8BAA+B5iB,GAC7CoY,EAASqd,GAAS5N,QAAQoW,SAAUj+B,EAAUqoB,SAClD,IAER,CA0BA,SAAS+U,KACEvC,OAAAA,GAASle,KAAKujB,MAAMvjB,KAAKC,UAAYie,GAAS/5B,OAAS,IAClE,CCxaqX,IAAuEf,GAAE,EAAkB,SAASJ,GAAEK,EAAEY,EAAEnB,EAAEI,EAAED,EAAED,GAAOQ,IAAAA,EAAEF,EAAEO,EAAE,CAAA,EAAG,IAAIP,KAAKW,EAASX,OAAAA,EAAEE,EAAES,EAAEX,GAAGO,EAAEP,GAAGW,EAAEX,GAAG,IAAIP,EAAE,CAACyB,KAAKnB,EAAEoB,MAAMZ,EAAEa,IAAI5B,EAAE6B,IAAInB,EAAEoB,IAAI,KAAKC,GAAG,KAAKC,IAAI,EAAEC,IAAI,KAAKC,SAAI,EAAOC,IAAI,KAAKC,iBAAY,EAAOC,MAAM/B,GAAEgC,OAAOC,IAAI,EAAEm+B,SAASvgC,EAAEwgC,OAAOzgC,GAAG,GAAG,mBAAmBK,IAAIG,EAAEH,EAAEiB,cAAc,IAAIhB,KAAKE,OAAE,IAASK,EAAEP,KAAKO,EAAEP,GAAGE,EAAEF,IAAI,OAAOH,EAAEmC,OAAOnC,EAAEmC,MAAMvC,GAAGA,CAAC,CCU3xB,MAAM2gC,GAAW,8EACXC,GAAU,yCAST,SAASC,KACZ,MAAM3/B,EAAIowB,KACJO,EAAexd,IAAapO,GAAiBA,EAAMopB,OAAOwC,eAC1D+E,EAAUviB,IAAapO,GAAiBA,EAAM66B,KAAKlK,UACnDnF,EAAUpd,IAAapO,GAAiBA,EAAM86B,IAAItP,WAClDuI,kBAAEA,EAAAA,qBAAmBC,GAAyB5lB,IAAapO,GAC7D8zB,GAAiB9zB,EAAM+rB,KAAKsI,uBAC5BP,GAAiB,YACfrhB,EAAWC,MACVqoB,EAAUC,GAAehyB,GAA4C,IAa5E,SAASiyB,EAAgBC,GACrB,MAAMC,EAAuC,CAAA,EACvCC,EAAK,IAAIC,OAAOX,GAAU,MAC5B79B,IAAAA,EACJ,KAAOA,EAAIu+B,EAAGE,KAAKJ,IAAO,CAEtB,MAAO3+B,EAAGg/B,EAAK/P,EAAS2G,EAAOqJ,GAAS3+B,EACxCs+B,EAAOI,GAAO,CACVA,MACA/P,QAAAA,EACA2G,QACAqJ,QAER,CACOL,OAAAA,CACX,CA1BAhyB,IAAU,KACDwnB,EAGDY,MAAMwC,EAAoB,gBAAkBpD,EAAQK,OAC/CluB,MAAY3I,GAAAA,EAAEy2B,SACd9tB,KAAKk4B,GACL3B,MAAMC,QAAQrc,OALnB+d,EAAY,GAMhB,GACD,CAAUhK,MAATL,OAASK,EAAAA,EAAAA,MAAO+C,IAmBd,MAAC0H,EAAYC,GAAiB1yB,GAChCiyB,GAAgBrP,MAAAA,OAAAA,EAAAA,EAAcI,aAAc,KAEhD,SAAS2P,EAA2BF,GAEhC,GADAC,EAAcD,GACV7P,EAAc,CACd,MAAMgQ,EAAkB,GACxB,IAAA,MAAWxqB,KAAQlL,OAAO21B,OAAOJ,GACzBrqB,EAAK+gB,MAAMh3B,OAAS,GAAKiW,EAAKoqB,MAAMrgC,OAAS,GAC7CygC,EAAM3+B,KAAM,YAAWmU,EAAKmqB,iBAAiBnqB,EAAKoa,WAAWpa,EAAK+gB,SAAS/gB,EAAKoqB,SAIxF,IAAI/P,EAAWG,EAAaI,WAExB4P,GADJnQ,EAAWA,EAAS0N,WAAW,IAAIkC,OAAOV,GAAS,MAAO,IACtDiB,EAAMzgC,OAAS,EAAG,CACd2gC,IAAAA,EAAQrQ,EAAS3qB,QAAQ,eACX,IAAdg7B,EACAA,EAAQrQ,EAAStwB,OAER2gC,GAAA,GAEPC,MAAAA,EAAStQ,EAASvU,UAAU4kB,GACvBrQ,EAAAA,EAASvU,UAAU,EAAG4kB,GACjCrQ,GAAY,KAAOmQ,EAAMjpB,KAAK,MAAQ,KAAOopB,EAAOC,MACxD,CACAC,EAAiBxQ,EACrB,CACJ,CAEA,SAASyQ,EAAazQ,GACJwP,EAAAA,EAAgBxP,IAC9BwQ,EAAiBxQ,EACrB,CAEA,SAASwQ,EAAiBE,GACbrM,EAAAA,GAAS5N,QAAQkU,aAAa+F,EAAQr7B,QAAQ,iBAAmB,IAC1E2R,EAASiZ,GAAYxJ,QAAQ8J,WAAWmQ,IAC/BrM,EAAAA,GAAS5N,QAAQ2W,iBAAiBsD,EAAQr7B,QAAQ,cAAgB,IAClEgvB,EAAAA,GAAS5N,QAAQkW,SAAS+D,EAAQr7B,QAAQ,cAAgB,GACvE,CAEA,OAAqB,OAAjB8qB,EACO,KAGJwQ,GAAA,MAAA,CAAKj1B,MAAM,yDAAwD/L,UACtEihC,GAAA,MAAA,CAAKl1B,MAAM,GAAE/L,SAAEH,EAAE,yBACjBohC,GAAA,MAAA,CAAKl1B,MAAM,6CAA4C/L,SAClDmwB,GACI/mB,KAAI,EAAG/C,OAAM+pB,QAAAA,EAASC,cACZ4Q,GAAA,SAAA,CAAQl1B,MAAM,aACjBm1B,QAASA,KACL7pB,EAASqd,GAAS5N,QAAQ0W,WAAuB,YAAZpN,EAAwB,UAAY,WACzE0Q,EAAazQ,EAAS0N,WAAW,eAAgBnF,GAAqB,EACxE54B,SACDqG,QAIJ,YAAZ+pB,GAAyB4Q,GAAAG,EAAA,CAAAnhC,UACtBghC,GAAA,SAAA,CAAQj1B,MAAM,kCAAkCqP,OAAO,SACnD8lB,QAASA,IAAM7pB,EAASgb,GAAQvL,QAAQgN,kBAAkB9zB,SAAA,CACzDH,EAAE,cAAc,IACjBohC,GAAA,MAAA,CAAKG,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,YACxD,eAAa,MAAMC,OAAO,eAAex1B,MAAM,UAAS/L,SACxDihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,6EAI9D,CAAC,IAAK,KAAKiJ,KAAa+2B,YACrB,OAAOa,GAAA,MAAA,CAAKj1B,MAAM,wDAAuD/L,UACrEihC,GAAA,IAAA,CAAAjhC,SAAY,MAARmgC,EAAc,KAAO,OACzBa,GAAA,MAAA,CAAKj1B,MAAM,sBAAqB/L,UAC5BghC,GAAA,MAAA,CAAKj1B,MAAM,mCAAkC/L,UACzCihC,GAAA,MAAA,CAAKG,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,YACxD,eAAa,MAAMC,OAAO,eAAex1B,MAAM,UAAS/L,SACxDihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,8MAK3D8gC,GAAA,QAAA,CAAOl1B,MAAM,iBAAiB3L,KAAK,OAAOkE,OAAO+7B,OAAAA,EAAAA,EAAWF,aAAMpJ,QAAS,GACvEyK,SAAiBviC,YACb,MAAMwiC,EAAgB,IAAKpB,GAC3BoB,EAActB,GAAO,CACjBA,MACA/P,SAASiQ,OAAAA,EAAAA,EAAWF,SAAXE,EAAAA,EAAiBjQ,UAAWwI,EACrC7B,MAAO93B,EAAEyiC,cAAcp9B,MACvB87B,OAAOC,OAAAA,EAAAA,EAAWF,SAAXE,EAAAA,EAAiBD,QAAS,IAErCG,EAA2BkB,EAAa,OAGpDT,GAAA,MAAA,CAAKj1B,MAAM,mCAAkC/L,UACzCihC,GAAA,MAAA,CAAKG,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,YACxD,eAAa,MAAMC,OAAO,eAAex1B,MAAM,UAAS/L,SACxDihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,4WAS3D8gC,GAAA,QAAA,CAAOl1B,MAAM,iBAAiB3L,KAAK,OAAOkE,OAAO+7B,OAAAA,EAAAA,EAAWF,aAAMC,QAAS,GACvEoB,SAAiBviC,YACb,MAAMwiC,EAAgB,IAAKpB,GAC3BoB,EAActB,GAAO,CACjBA,MACA/P,SAASiQ,OAAAA,EAAAA,EAAWF,SAAXE,EAAAA,EAAiBjQ,UAAWwI,EACrC7B,OAAOsJ,OAAAA,EAAAA,EAAWF,SAAXE,EAAAA,EAAiBtJ,QAAS,GACjCqJ,MAAOnhC,EAAEyiC,cAAcp9B,OAE3Bi8B,EAA2BkB,EAAa,UAIxDT,GAAA,MAAA,CAAKj1B,MAAM,wCAAuC/L,UAC9CihC,GAAA,SAAA,CAAQU,SAAU,EAAGC,KAAK,SAAS71B,MAAM,aAAY/L,SACjDihC,GAAA,MAAA,CAAKG,MAAM,6BAA6BC,KAAK,OACzCC,QAAQ,YAAY,eAAa,MAAMC,OAAO,eAAex1B,MAAM,UAAS/L,SAC5EihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QACzC9gC,EAAE,yVAOd8gC,GAAA,KAAA,CAAIU,SAAU,EAAG51B,MAAM,6FACqB/L,SACvC2/B,EAASv2B,KAAI,EAAG/C,OAAM0wB,WACZkK,GAAA,KAAA,CAAIC,QAAgBjiC,IACvB,MAAMwiC,EAAgB,IAAKpB,GAC3BoB,EAActB,GAAO,CACjBA,MACApJ,QACA3G,QAASwI,EACTwH,MAAO/5B,GAEXk6B,EAA2BkB,GACzBC,EAAAA,cAAcG,cAAeC,QACjC9hC,SAACihC,GAAA,IAAA,CAAAjhC,SAAIqG,aAInB46B,GAAA,SAAA,CAAQl1B,MAAM,aAAam1B,QAASA,KAChC,MAAMO,EAAgB,IAAKpB,UACpBoB,EAActB,GACrBI,EAA2BkB,EAAa,EAC1CzhC,SACEihC,GAAA,MAAA,CAAKG,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,YAAY,eAAa,MACjFC,OAAO,eAAex1B,MAAM,UAAS/L,SACrCihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QACzC9gC,EAAE,mQAMb,OAGb8gC,GAAA,WAAA,CAAUl1B,MAAM,YAAYzH,MAAOksB,EAAaI,WAC5C4Q,SAAiBV,UAAAA,OAAAA,GAAa7hC,OAAAA,EAAAA,EAAEyiC,oBAAFziC,EAAAA,EAAiBqF,QAAS,GAAE,MAEtE;0CCjOqQy9B,mBAApMrxB,QAA0M,CAAAzR,GAAAA,MAAS,IAAIY,EAAE,CAAC,KAAK,CAACZ,EAAEY,KAASd,IAAAA,GAAG,WAA4BL,IAAAA,EAAE,CAAE,EAAC+Y,eAAe,SAAS3Y,IAAYG,IAAAA,IAAAA,EAAE,GAAGY,EAAE,EAAEA,EAAEC,UAAUC,OAAOF,IAAI,CAAKd,IAAAA,EAAEe,UAAUD,GAAG,GAAGd,EAAE,CAAC,IAAIF,SAASE,EAAK,GAAA,WAAWF,GAAG,WAAWA,EAAEI,EAAE4C,KAAK9C,QAAW,GAAAO,MAAMC,QAAQR,IAAI,GAAGA,EAAEgB,OAAO,CAAC,IAAIX,EAAEN,EAAEgO,MAAM,KAAK/N,GAAGK,GAAGH,EAAE4C,KAAKzC,EAAE,UAAU,WAAWP,EAAKE,GAAAA,EAAE4Y,WAAW7M,OAAOtG,UAAUmT,SAAS,IAAA,IAAQzY,KAAKH,EAAEL,EAAEuB,KAAKlB,EAAEG,IAAIH,EAAEG,IAAID,EAAE4C,KAAK3C,QAAQD,EAAE4C,KAAK9C,EAAE4Y,WAAW,CAAC,CAAQ1Y,OAAAA,EAAEsY,KAAK,IAAI,CAACtY,EAAEyR,SAAS5R,EAAE6K,QAAQ7K,EAAEG,EAAEyR,QAAQ5R,QAAG,KAAUC,EAAAA,WAAoBD,OAAAA,GAAGgO,MAAMjN,EAAE,OAAOZ,EAAEyR,QAAQ3R,EAAE,CAA1f,EAA2f,EAAI,KAAK,CAACE,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,IAAFA,CAAOA,EAAE,MAAM,YAAYE,EAAEyR,QAAQhS,CAAAA,EAAG,KAAK,CAACO,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,MAAMD,EAAEC,EAAE,KAAKF,EAAEE,EAAE,MAAMK,EAAEL,EAAE,MAAMG,EAAEH,EAAE,MAAM,SAASI,EAAEF,GAAG,IAAIY,GAAKd,EAAAA,EAAE,MAAME,EAAE,EAAEA,EAAEc,OAAO,IAAIwB,KAAKuU,UAAUjW,EAAEd,GAAG,CAAKL,IAAAA,EAAEO,EAAEY,GAAG0B,KAAKkJ,IAAI/L,EAAE,GAAGA,EAAE,GAAG,CAAC,CAACS,EAAEqF,UAAUsR,MAAMpX,EAAES,EAAEqF,UAAUwF,OAAOlL,EAAEK,EAAEqF,UAAU8F,IAAIzL,EAAEM,EAAEqF,UAAUsT,IAAI1Y,EAAED,EAAEqF,UAAUiG,IAAIvL,EAAED,EAAEyR,QAAQvR,CAAAA,EAAG,KAAK,CAACF,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAMF,EAAEE,EAAE,MAAMK,EAAEL,EAAE,MAAMG,EAAEH,EAAE,MAAM,SAASI,EAAEF,GAAG,IAAIY,GAAKd,EAAAA,EAAE,MAAME,EAAE,EAAEA,EAAEc,OAAO,IAAIwB,KAAKuU,UAAUjW,EAAEd,GAAG,CAAKL,IAAAA,EAAEO,EAAEY,GAAG0B,KAAKkJ,IAAI/L,EAAE,GAAGA,EAAE,GAAG,CAAC,CAACS,EAAEqF,UAAUsR,MAAMpX,EAAES,EAAEqF,UAAUwF,OAAOlL,EAAEK,EAAEqF,UAAU8F,IAAIzL,EAAEM,EAAEqF,UAAUsT,IAAI1Y,EAAED,EAAEqF,UAAUiG,IAAIvL,EAAED,EAAEyR,QAAQvR,CAAAA,EAAG,KAAK,CAACF,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,IAAFA,CAAOA,EAAE,MAAM,OAAOE,EAAEyR,QAAQhS,CAAAA,EAAG,KAAK,CAACO,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAMF,EAAEE,EAAE,KAAKK,EAAEL,EAAE,MAAMG,EAAEH,EAAE,MAAM,SAASI,EAAEF,GAAG,IAAIY,GAAKd,EAAAA,EAAE,MAAME,EAAE,EAAEA,EAAEc,OAAO,IAAIwB,KAAKuU,UAAUjW,EAAEd,GAAG,CAAKL,IAAAA,EAAEO,EAAEY,GAAG0B,KAAKkJ,IAAI/L,EAAE,GAAGA,EAAE,GAAG,CAAC,CAACS,EAAEqF,UAAUsR,MAAMpX,EAAES,EAAEqF,UAAUwF,OAAOlL,EAAEK,EAAEqF,UAAU8F,IAAIzL,EAAEM,EAAEqF,UAAUsT,IAAI1Y,EAAED,EAAEqF,UAAUiG,IAAIvL,EAAED,EAAEyR,QAAQvR,CAAAA,EAAG,KAAK,CAACF,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,IAAFA,CAAOA,EAAE,MAAM,WAAWE,EAAEyR,QAAQhS,CAAAA,EAAG,KAAK,CAACO,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,IAAFA,CAAOA,EAAE,MAAM,OAAOE,EAAEyR,QAAQhS,CAAAA,EAAG,KAAK,CAACO,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAMD,EAAEC,EAAE,KAAKF,EAAEE,EAAE,MAAM,SAASK,EAAEH,GAAG,IAAIY,GAAKd,EAAAA,EAAE,MAAME,EAAE,EAAEA,EAAEc,OAAO,IAAIwB,KAAKygC,SAAS,IAAItjC,IAAImB,EAAEd,GAAQwC,KAAAwW,IAAI9Y,EAAEY,GAAG,CAACT,EAAEoF,UAAUuT,IAAI3Y,EAAEoF,UAAU3C,KAAK/C,EAAEM,EAAEoF,UAAUsT,IAAIjZ,EAAEI,EAAEyR,QAAQtR,CAAAA,EAAG,KAAK,CAACH,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAMF,EAAEE,EAAE,MAAMK,EAAEL,EAAE,MAAMG,EAAEH,EAAE,MAAMI,EAAEJ,EAAE,MAAM,SAASJ,EAAEM,GAAG,IAAIY,EAAE0B,KAAKygC,SAAS,IAAItjC,EAAEO,GAAGsC,KAAK2I,KAAKrK,EAAEqK,IAAI,CAACvL,EAAE6F,UAAUsR,MAAMhX,EAAEH,EAAE6F,UAAUwF,OAAOnL,EAAEF,EAAE6F,UAAU8F,IAAIlL,EAAET,EAAE6F,UAAUsT,IAAI5Y,EAAEP,EAAE6F,UAAUiG,IAAItL,EAAEF,EAAEyR,QAAQ/R,CAAAA,EAAG,KAAK,CAACM,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAMkK,OAAOhK,EAAEyR,QAAQhS,CAAAA,EAAG,KAAK,CAACO,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAMs5B,WAAWp5B,EAAEyR,QAAQhS,CAAAA,EAAG,IAAI,CAACO,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,IAAFA,CAAOA,EAAE,MAAM,WAAWE,EAAEyR,QAAQhS,CAAAA,EAAG,KAAKO,IAAIA,EAAEyR,QAAQ,SAASzR,EAAEY,GAAG,IAAA,IAAQd,GAAE,EAAGL,EAAE,MAAMO,EAAE,EAAEA,EAAEc,OAAOjB,EAAE,EAAED,EAAE,KAAKE,EAAEL,GAAG,CAAKU,IAAAA,EAAEH,EAAEF,GAAGc,EAAET,EAAEL,EAAEE,KAAKJ,EAAEC,KAAKM,EAAE,CAAQP,OAAAA,CAAC,CAAA,EAAG,KAAK,CAACI,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAMF,EAAEE,EAAE,MAAMK,EAAEL,EAAE,MAAMG,EAAEH,EAAE,MAAMI,EAAEJ,EAAE,MAAMJ,EAAEmM,OAAOtG,UAAUiT,eAAexY,EAAEyR,QAAQ,SAASzR,EAAEY,GAAG,IAAId,EAAEF,EAAEI,GAAGL,GAAGG,GAAGD,EAAEG,GAAGQ,GAAGV,IAAIH,GAAGQ,EAAEH,GAAGD,GAAGD,IAAIH,IAAIa,GAAGN,EAAEF,GAAGkB,EAAEpB,GAAGH,GAAGa,GAAGT,EAAEK,EAAEc,EAAEzB,EAAEO,EAAEc,OAAO0C,QAAQ,GAAG7C,EAAEP,EAAEU,OAAO,IAAA,IAAQuB,KAAKrC,GAAGY,IAAIlB,EAAEsB,KAAKhB,EAAEqC,IAAInB,IAAI,UAAUmB,GAAG7B,IAAI,UAAU6B,GAAG,UAAUA,IAAItC,IAAI,UAAUsC,GAAG,cAAcA,GAAG,cAAcA,IAAIpC,EAAEoC,EAAE1B,KAAKP,EAAEwC,KAAKP,GAAUjC,OAAAA,CAAC,CAAA,EAAG,KAAKJ,IAAIA,EAAEyR,QAAQ,SAASzR,EAAEY,GAAWd,IAAAA,IAAAA,KAAKL,EAAEmB,EAAEE,OAAOjB,EAAEG,EAAEc,SAAShB,EAAEL,GAAGO,EAAEH,EAAEC,GAAGc,EAAEd,GAAUE,OAAAA,CAAC,CAAA,EAAG,KAAKA,IAAIA,EAAEyR,QAAQ,SAASzR,EAAEY,GAAWd,IAAAA,IAAAA,KAAKL,EAAE,MAAMO,EAAE,EAAEA,EAAEc,SAAShB,EAAEL,GAAG,GAAGmB,EAAEZ,EAAEF,GAAGA,EAAEE,GAAS,OAAA,EAAS,OAAA,CAAE,CAAA,EAAG,KAAK,CAACA,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAME,EAAEyR,QAAQ,SAASzR,EAAEY,GAAWd,IAAAA,IAAAA,EAAEE,EAAEc,OAAOhB,KAAK,GAAGL,EAAEO,EAAEF,GAAG,GAAGc,GAAUd,OAAAA,EAAQ,OAAA,CAAE,CAAA,EAAG,KAAK,CAACE,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAME,EAAEyR,QAAQ,SAASzR,EAAEY,EAAEd,GAAOF,IAAAA,EAAEgB,EAAEZ,GAAUH,OAAAA,EAAEG,GAAGJ,EAAEH,EAAEG,EAAEE,EAAEE,GAAG,CAAA,EAAG,KAAK,CAACA,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAMF,EAAEE,EAAE,MAAMK,EAAEV,EAAEA,EAAEujC,iBAAY,EAAOhjC,EAAEyR,QAAQ,SAASzR,GAAG,OAAO,MAAMA,OAAE,IAASA,EAAE,qBAAqB,gBAAgBG,GAAGA,KAAK0L,OAAO7L,GAAGH,EAAEG,GAAGJ,EAAEI,EAAE,CAAA,EAAG,KAAK,CAACA,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAME,EAAEyR,QAAQ,SAASzR,GAAG,OAAOH,EAAEG,IAAI,sBAAsBP,EAAEO,EAAE,CAAA,EAAG,IAAI,CAACA,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAME,EAAEyR,QAAQ,SAASzR,EAAEY,EAAEd,EAAEF,EAAEO,EAAEF,GAAUW,OAAAA,IAAId,IAAI,MAAMc,GAAG,MAAMd,IAAID,EAAEe,KAAKf,EAAEC,GAAGc,GAAGA,GAAGd,GAAGA,EAAEL,EAAEmB,EAAEd,EAAEF,EAAEO,EAAEH,EAAEC,GAAG,CAAA,EAAG,KAAK,CAACD,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAMF,EAAEE,EAAE,MAAMK,EAAEL,EAAE,MAAMG,EAAEH,EAAE,MAAMI,EAAEJ,EAAE,MAAMJ,EAAEI,EAAE,MAAMH,EAAEG,EAAE,MAAMU,EAAE,qBAAqBT,EAAE,iBAAiBmB,EAAE,kBAAkBd,EAAEyL,OAAOtG,UAAUiT,eAAexY,EAAEyR,QAAQ,SAASzR,EAAEY,EAAEd,EAAEa,EAAE0B,EAAE9B,GAAG,IAAI6B,EAAElC,EAAEF,GAAGwC,EAAEtC,EAAEU,GAAGiC,EAAET,EAAErC,EAAEE,EAAED,GAAGyF,EAAEjD,EAAEzC,EAAEE,EAAEW,GAAG6B,GAAGI,EAAEA,GAAGrC,EAAEU,EAAE2B,IAAI3B,EAAEqG,GAAG9B,EAAEA,GAAGjF,EAAEU,EAAEuE,IAAIvE,EAAEgB,EAAEW,GAAG4C,EAAKvD,GAAAA,GAAGxC,EAAEM,GAAG,CAAI,IAACN,EAAEkB,GAAS,OAAA,EAAGwB,GAAE,EAAGK,GAAE,CAAE,CAAC,GAAGP,IAAIO,EAASlC,OAAAA,IAAIA,EAAE,IAAId,GAAG2C,GAAGzC,EAAEK,GAAGH,EAAEG,EAAEY,EAAEd,EAAEa,EAAE0B,EAAE9B,GAAGX,EAAEI,EAAEY,EAAEiC,EAAE/C,EAAEa,EAAE0B,EAAE9B,GAAM,KAAE,EAAET,GAAG,CAAC,IAAI6C,EAAEF,GAAGrC,EAAEY,KAAKhB,EAAE,eAAeuD,EAAEgE,GAAGnH,EAAEY,KAAKJ,EAAE,eAAe,GAAG+B,GAAGY,EAAE,CAAKI,IAAAA,EAAEhB,EAAE3C,EAAEqF,QAAQrF,EAAE+H,EAAExE,EAAE3C,EAAEyE,QAAQzE,EAASL,OAAAA,IAAIA,EAAE,IAAId,GAAG4C,EAAEsB,EAAEoE,EAAEjI,EAAEa,EAAEJ,EAAE,CAAC,CAAC,QAAQ2B,IAAI3B,IAAIA,EAAE,IAAId,GAAGU,EAAEH,EAAEY,EAAEd,EAAEa,EAAE0B,EAAE9B,GAAG,CAAA,EAAG,KAAK,CAACP,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAMF,EAAEE,EAAE,MAAMK,EAAEL,EAAE,KAAKG,EAAE,8BAA8BC,EAAEuY,SAASlT,UAAU7F,EAAEmM,OAAOtG,UAAU5F,EAAEO,EAAEwY,SAASlY,EAAEd,EAAE8Y,eAAezY,EAAEihC,OAAO,IAAIrhC,EAAEqB,KAAKR,GAAGgE,QAAQ,sBAAsB,QAAQA,QAAQ,yDAAyD,SAAS,KAAKxE,EAAEyR,QAAQ,SAASzR,GAAG,SAASJ,EAAEI,IAAIH,EAAEG,MAAMP,EAAEO,GAAGD,EAAEE,GAAGmE,KAAKjE,EAAEH,GAAG,CAAA,EAAG,KAAK,CAACA,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAMF,EAAEE,EAAE,MAAMK,EAAE,CAAA,EAAGA,EAAE,yBAAyBA,EAAE,yBAAyBA,EAAE,sBAAsBA,EAAE,uBAAuBA,EAAE,uBAAuBA,EAAE,uBAAuBA,EAAE,8BAA8BA,EAAE,wBAAwBA,EAAE,yBAAwB,EAAGA,EAAE,sBAAsBA,EAAE,kBAAkBA,EAAE,wBAAwBA,EAAE,oBAAoBA,EAAE,qBAAqBA,EAAE,iBAAiBA,EAAE,kBAAkBA,EAAE,qBAAqBA,EAAE,gBAAgBA,EAAE,mBAAmBA,EAAE,mBAAmBA,EAAE,mBAAmBA,EAAE,gBAAgBA,EAAE,mBAAmBA,EAAE,qBAAoB,EAAGH,EAAEyR,QAAQ,SAASzR,GAAG,OAAOJ,EAAEI,IAAIH,EAAEG,EAAEc,WAAWX,EAAEV,EAAEO,GAAG,CAAA,EAAG,IAAI,CAACA,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAMF,EAAEiM,OAAOtG,UAAUiT,eAAexY,EAAEyR,QAAQ,SAASzR,GAAM,IAACP,EAAEO,GAAG,OAAOH,EAAEG,GAAG,IAAIY,EAAE,GAAWd,IAAAA,IAAAA,KAAK+L,OAAO7L,GAAGJ,EAAEoB,KAAKhB,EAAEF,IAAI,eAAeA,GAAGc,EAAEgC,KAAK9C,GAAUc,OAAAA,CAAC,CAAA,EAAG,KAAKZ,IAAIA,EAAEyR,QAAQ,SAASzR,EAAEY,GAAG,IAAA,IAAQd,GAAKL,EAAAA,EAAEY,MAAML,KAAKF,EAAEE,GAAGP,EAAEK,GAAGc,EAAEd,GAAUL,OAAAA,CAAC,CAAA,EAAG,KAAKO,IAAIA,EAAEyR,QAAQ,SAASzR,GAAG,OAAO,SAASY,GAAG,OAAOZ,EAAEY,EAAE,CAAC,CAAA,EAAG,KAAKZ,IAAIA,EAAEyR,QAAQ,SAASzR,EAAEY,GAAUZ,OAAAA,EAAE6Y,IAAIjY,EAAE,CAAA,EAAG,KAAK,CAACZ,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,MAAM,sBAAsBE,EAAEyR,QAAQhS,CAAAA,EAAG,KAAK,CAACO,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAMF,EAAEE,EAAE,MAAME,EAAEyR,QAAQ,SAASzR,EAAEY,EAAEd,EAAEK,EAAEF,EAAEC,GAAG,IAAIR,EAAE,EAAEI,EAAEH,EAAEK,EAAEc,OAAON,EAAEI,EAAEE,OAAO,GAAGnB,GAAGa,KAAKd,GAAGc,EAAEb,GAAS,OAAA,EAAOI,IAAAA,EAAEG,EAAEmL,IAAIrL,GAAGkB,EAAEhB,EAAEmL,IAAIzK,GAAG,GAAGb,GAAGmB,EAASnB,OAAAA,GAAGa,GAAGM,GAAGlB,EAAMI,IAAAA,KAAKO,GAAE,EAAG0B,EAAE,EAAEvC,EAAE,IAAIL,OAAE,EAAO,IAAIS,EAAEsL,IAAIxL,EAAEY,GAAGV,EAAEsL,IAAI5K,EAAEZ,KAAKI,EAAET,GAAG,CAAC,IAAIY,EAAEP,EAAEI,GAAGgC,EAAExB,EAAER,GAAMD,GAAAA,EAAE,IAAIqC,EAAE9C,EAAES,EAAEiC,EAAE7B,EAAEH,EAAEQ,EAAEZ,EAAEE,GAAGC,EAAEI,EAAE6B,EAAEhC,EAAEJ,EAAEY,EAAEV,GAAG,QAAG,IAASsC,EAAE,CAAIA,GAAAA,EAAE,SAAS7B,GAAE,EAAG,KAAK,CAAC,GAAG0B,GAAG,IAAIxC,EAAEe,GAAG,SAASZ,EAAEY,GAAG,IAAIhB,EAAEyC,EAAEzB,KAAKL,IAAIP,GAAGC,EAAEM,EAAEP,EAAEF,EAAEK,EAAED,IAAWmC,OAAAA,EAAEO,KAAKhC,EAAE,IAAI,CAACD,GAAE,EAAG,KAAK,OAAC,GAASJ,IAAI6B,IAAInC,EAAEM,EAAE6B,EAAEtC,EAAEK,EAAED,GAAG,CAACS,GAAE,EAAG,KAAK,CAAC,CAAC,OAAOT,EAAE6K,OAAO/K,GAAGE,EAAE6K,OAAOnK,GAAGD,CAAC,CAAA,EAAG,KAAK,CAACX,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAMF,EAAEE,EAAE,MAAMK,EAAEL,EAAE,MAAMG,EAAEH,EAAE,MAAMI,EAAEJ,EAAE,MAAMJ,EAAED,EAAEA,EAAE8F,eAAU,EAAO5F,EAAED,EAAEA,EAAEujC,aAAQ,EAAOjjC,EAAEyR,QAAQ,SAASzR,EAAEY,EAAEd,EAAEL,EAAEC,EAAEc,EAAET,GAAG,OAAOD,GAAG,IAAI,oBAAoB,GAAGE,EAAEkjC,YAAYtiC,EAAEsiC,YAAYljC,EAAEmjC,YAAYviC,EAAEuiC,WAAiB,OAAA,EAAGnjC,EAAEA,EAAEk5B,OAAOt4B,EAAEA,EAAEs4B,OAAO,IAAI,uBAAuB,QAAQl5B,EAAEkjC,YAAYtiC,EAAEsiC,aAAa1iC,EAAE,IAAIX,EAAEG,GAAG,IAAIH,EAAEe,KAAK,IAAI,mBAAmB,IAAI,gBAAgB,IAAI,kBAAkB,OAAOhB,GAAGI,GAAGY,GAAG,IAAI,iBAAiB,OAAOZ,EAAEoH,MAAMxG,EAAEwG,MAAMpH,EAAEqoB,SAASznB,EAAEynB,QAAQ,IAAI,kBAAkB,IAAI,kBAAkB,OAAOroB,GAAGY,EAAE,GAAG,IAAI,eAAe,IAAIM,EAAEjB,EAAE,IAAI,eAAe,IAAIG,EAAE,EAAEX,EAAE,GAAGyB,IAAIA,EAAEhB,GAAGF,EAAEiL,MAAMrK,EAAEqK,OAAO7K,EAAQ,OAAA,EAAOO,IAAAA,EAAEZ,EAAEsL,IAAIrL,GAAMW,GAAAA,EAAE,OAAOA,GAAGC,EAAEnB,GAAG,EAAEM,EAAEyL,IAAIxL,EAAEY,GAAOyB,IAAAA,EAAElC,EAAEe,EAAElB,GAAGkB,EAAEN,GAAGnB,EAAEC,EAAEc,EAAET,GAAUA,OAAAA,EAAEgL,OAAO/K,GAAGqC,EAAE,IAAI,kBAAqB1C,GAAAA,EAAE,OAAOA,EAAEqB,KAAKhB,IAAIL,EAAEqB,KAAKJ,GAAS,OAAA,CAAE,CAAA,EAAG,KAAK,CAACZ,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,MAAMD,EAAEgM,OAAOtG,UAAUiT,eAAexY,EAAEyR,QAAQ,SAASzR,EAAEY,EAAEd,EAAEF,EAAEO,EAAEF,GAAOC,IAAAA,EAAE,EAAEJ,EAAEJ,EAAED,EAAEO,GAAGL,EAAED,EAAEoB,OAAO,GAAGnB,GAAGF,EAAEmB,GAAGE,SAASZ,EAAQ,OAAA,EAAWM,IAAAA,IAAAA,EAAEb,EAAEa,KAAK,CAAKT,IAAAA,EAAEL,EAAEc,GAAG,KAAKN,EAAEH,KAAKa,EAAEf,EAAEmB,KAAKJ,EAAEb,IAAU,OAAA,CAAE,CAAKmB,IAAAA,EAAEjB,EAAEoL,IAAIrL,GAAGI,EAAEH,EAAEoL,IAAIzK,GAAG,GAAGM,GAAGd,EAASc,OAAAA,GAAGN,GAAGR,GAAGJ,EAAE,IAAIW,GAAE,EAAGV,EAAEuL,IAAIxL,EAAEY,GAAGX,EAAEuL,IAAI5K,EAAEZ,GAAG,IAAA,IAAQqC,EAAEnC,IAAIM,EAAEb,GAAG,CAAKY,IAAAA,EAAEP,EAAED,EAAEL,EAAEc,IAAI4B,EAAExB,EAAEb,GAAMH,GAAAA,EAAE,IAAI4C,EAAEtC,EAAEN,EAAEwC,EAAE7B,EAAER,EAAEa,EAAEZ,EAAEC,GAAGL,EAAEW,EAAE6B,EAAErC,EAAEC,EAAEY,EAAEX,GAAG,UAAK,IAASuC,EAAEjC,IAAI6B,GAAGjC,EAAEI,EAAE6B,EAAEtC,EAAEF,EAAEK,GAAGuC,GAAG,CAAC7B,GAAE,EAAG,KAAK,CAAC0B,IAAIA,EAAE,eAAetC,EAAE,CAAIY,GAAAA,IAAI0B,EAAE,CAAC,IAAIQ,EAAE7C,EAAE6B,YAAY4D,EAAE7E,EAAEiB,YAAYgB,GAAG4C,KAAK,gBAAgBzF,MAAM,gBAAgBY,IAAI,mBAAmBiC,GAAGA,aAAaA,GAAG,mBAAmB4C,GAAGA,aAAaA,IAAI9E,GAAE,EAAG,CAAC,OAAOV,EAAE8K,OAAO/K,GAAGC,EAAE8K,OAAOnK,GAAGD,CAAC,CAAA,EAAG,KAAK,CAACX,EAAEY,EAAEd,KAASL,IAAAA,EAAE,iBAAiBK,EAAEsC,GAAGtC,EAAEsC,GAAGtC,EAAEsC,EAAEyJ,SAASA,QAAQ/L,EAAEsC,EAAEpC,EAAEyR,QAAQhS,CAAAA,EAAG,KAAK,CAACO,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAMF,EAAEE,EAAE,MAAME,EAAEyR,QAAQ,SAASzR,GAAUP,OAAAA,EAAEO,EAAEJ,EAAEC,EAAE,CAAA,EAAG,KAAK,CAACG,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAME,EAAEyR,QAAQ,SAASzR,EAAEY,GAAG,IAAId,EAAEE,EAAE+iC,SAAgBtjC,OAAAA,EAAEmB,GAAGd,EAAE,iBAAiBc,EAAE,SAAS,QAAQd,EAAEqK,GAAG,CAAA,EAAG,IAAI,CAACnK,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAME,EAAEyR,QAAQ,SAASzR,EAAEY,GAAOd,IAAAA,EAAED,EAAEG,EAAEY,GAAUnB,OAAAA,EAAEK,GAAGA,OAAE,CAAM,CAAA,EAAG,KAAK,CAACE,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,MAAMD,EAAEgM,OAAOtG,UAAU3F,EAAEC,EAAE2Y,eAAerY,EAAEN,EAAE6Y,SAASzY,EAAER,EAAEA,EAAEujC,iBAAY,EAAOhjC,EAAEyR,QAAQ,SAASzR,GAAOY,IAAAA,EAAEhB,EAAEoB,KAAKhB,EAAEC,GAAGH,EAAEE,EAAEC,GAAM,IAACD,EAAEC,QAAG,EAAO,IAAIR,GAAE,CAAE,OAAOO,GAAI,CAAIH,IAAAA,EAAEM,EAAEa,KAAKhB,GAAUP,OAAAA,IAAImB,EAAEZ,EAAEC,GAAGH,SAASE,EAAEC,IAAIJ,CAAC,CAAA,EAAG,KAAK,CAACG,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,MAAMD,EAAEC,EAAE,KAAKF,EAAEiM,OAAOtG,UAAUsc,qBAAqB1hB,EAAE0L,OAAOkO,sBAAsB9Z,EAAEE,EAAE,SAASH,GAAG,OAAO,MAAMA,EAAE,IAAIA,EAAE6L,OAAO7L,GAAGP,EAAEU,EAAEH,IAAI,SAASY,GAAUhB,OAAAA,EAAEoB,KAAKhB,EAAEY,EAAE,IAAI,EAAEf,EAAEG,EAAEyR,QAAQxR,CAAAA,EAAG,KAAK,CAACD,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAMF,EAAEE,EAAE,MAAMK,EAAEL,EAAE,MAAMG,EAAEH,EAAE,KAAKI,EAAEJ,EAAE,MAAMJ,EAAEI,EAAE,KAAKH,EAAE,eAAea,EAAE,mBAAmBT,EAAE,eAAemB,EAAE,mBAAmBd,EAAE,oBAAoBO,EAAEjB,EAAED,GAAG4C,EAAE3C,EAAEG,GAAGU,EAAEb,EAAEE,GAAGwC,EAAE1C,EAAES,GAAGqC,EAAE9C,EAAEO,GAAG4C,EAAE3C,GAAGT,GAAGoD,EAAE,IAAIpD,EAAE,IAAI2jC,YAAY,MAAMhjC,GAAGP,GAAGgD,EAAE,IAAIhD,IAAIF,GAAGC,GAAGiD,EAAEjD,EAAE+I,YAAYnI,GAAGL,GAAG0C,EAAE,IAAI1C,IAAIJ,GAAGE,GAAG4C,EAAE,IAAI5C,IAAIiB,KAAK2B,EAAE,SAAS7C,GAAG,IAAIY,EAAEV,EAAEF,GAAGF,EAAE,mBAAmBc,EAAEZ,EAAE6B,iBAAY,EAAOpC,EAAEK,EAAEJ,EAAEI,GAAG,GAAML,GAAAA,EAAE,OAAOA,GAAG,KAAKkB,EAASP,OAAAA,EAAE,KAAKiC,EAAS1C,OAAAA,EAAE,KAAKY,EAASC,OAAAA,EAAE,KAAK4B,EAASrC,OAAAA,EAAE,KAAKyC,EAAStB,OAAAA,EAASN,OAAAA,CAAC,GAAGZ,EAAEyR,QAAQ5O,CAAAA,EAAG,KAAK7C,IAAIA,EAAEyR,QAAQ,SAASzR,EAAEY,GAAG,OAAO,MAAMZ,OAAE,EAAOA,EAAEY,EAAE,CAAA,EAAG,KAAK,CAACZ,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAME,EAAEyR,QAAQ,WAAgBnP,KAAAygC,SAAStjC,EAAEA,EAAE,MAAM,CAAE,EAAC6C,KAAK2I,KAAK,CAAC,CAAA,EAAG,IAAIjL,IAAIA,EAAEyR,QAAQ,SAASzR,GAAOY,IAAAA,EAAE0B,KAAKuW,IAAI7Y,WAAWsC,KAAKygC,SAAS/iC,GAAG,OAAOsC,KAAK2I,MAAMrK,EAAE,EAAE,EAAEA,CAAC,CAAA,EAAG,KAAK,CAACZ,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,MAAMD,EAAEgM,OAAOtG,UAAUiT,eAAexY,EAAEyR,QAAQ,SAASzR,GAAG,IAAIY,EAAE0B,KAAKygC,SAAS,GAAGtjC,EAAE,CAAKK,IAAAA,EAAEc,EAAEZ,GAAS,MAAA,8BAA8BF,OAAE,EAAOA,CAAC,CAAC,OAAOD,EAAEmB,KAAKJ,EAAEZ,GAAGY,EAAEZ,QAAG,CAAM,CAAA,EAAG,KAAK,CAACA,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,MAAMD,EAAEgM,OAAOtG,UAAUiT,eAAexY,EAAEyR,QAAQ,SAASzR,GAAG,IAAIY,EAAE0B,KAAKygC,SAAgBtjC,OAAAA,OAAE,IAASmB,EAAEZ,GAAGH,EAAEmB,KAAKJ,EAAEZ,EAAE,CAAA,EAAG,KAAK,CAACA,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAME,EAAEyR,QAAQ,SAASzR,EAAEY,GAAG,IAAId,EAAEwC,KAAKygC,SAAS,OAAOzgC,KAAK2I,MAAM3I,KAAKuW,IAAI7Y,GAAG,EAAE,EAAEF,EAAEE,GAAGP,QAAG,IAASmB,EAAE,4BAA4BA,EAAE0B,IAAI,CAAA,EAAG,KAAKtC,IAAI,IAAIY,EAAE,mBAAmBZ,EAAEyR,QAAQ,SAASzR,EAAEF,GAAG,IAAIL,SAASO,EAAQ,SAAGF,EAAE,MAAMA,EAAE,iBAAiBA,KAAK,UAAUL,GAAG,UAAUA,GAAGmB,EAAEwD,KAAKpE,KAAKA,MAAMA,EAAE,GAAG,GAAGA,EAAEF,CAAC,CAAA,EAAG,KAAKE,IAAIA,EAAEyR,QAAQ,SAASzR,GAAG,IAAIY,SAASZ,EAAQ,MAAA,UAAUY,GAAG,UAAUA,GAAG,UAAUA,GAAG,WAAWA,EAAE,cAAcZ,EAAE,OAAOA,CAAC,CAAA,EAAG,KAAK,CAACA,EAAEY,EAAEd,KAAK,IAAIL,EAAEI,EAAEC,EAAE,MAAMF,GAAGH,EAAE,SAASwhC,KAAKphC,GAAGA,EAAE8Y,MAAM9Y,EAAE8Y,KAAK0qB,UAAU,KAAK,iBAAiB5jC,EAAE,GAAGO,EAAEyR,QAAQ,SAASzR,GAAS,QAAEJ,GAAGA,KAAKI,CAAC,CAAA,EAAG,KAAKA,IAAI,IAAIY,EAAEiL,OAAOtG,UAAUvF,EAAEyR,QAAQ,SAASzR,GAAOF,IAAAA,EAAEE,GAAGA,EAAE6B,YAAY,OAAO7B,KAAK,mBAAmBF,GAAGA,EAAEyF,WAAW3E,EAAE,CAAA,EAAG,KAAKZ,IAAIA,EAAEyR,QAAQ,WAAWnP,KAAKygC,SAAS,GAAGzgC,KAAK2I,KAAK,CAAC,CAAA,EAAG,KAAK,CAACjL,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,MAAMD,EAAEQ,MAAMkF,UAAU4C,OAAOnI,EAAEyR,QAAQ,SAASzR,GAAG,IAAIY,EAAE0B,KAAKygC,SAASjjC,EAAEL,EAAEmB,EAAEZ,GAAG,QAAQF,EAAE,IAAIA,GAAGc,EAAEE,OAAO,EAAEF,EAAEiK,MAAMhL,EAAEmB,KAAKJ,EAAEd,EAAE,KAAKwC,KAAK2I,KAAK,GAAG,CAAA,EAAG,KAAK,CAACjL,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAME,EAAEyR,QAAQ,SAASzR,GAAG,IAAIY,EAAE0B,KAAKygC,SAASjjC,EAAEL,EAAEmB,EAAEZ,GAAG,OAAOF,EAAE,OAAE,EAAOc,EAAEd,GAAG,EAAE,CAAA,EAAG,KAAK,CAACE,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAME,EAAEyR,QAAQ,SAASzR,GAAG,OAAOP,EAAE6C,KAAKygC,SAAS/iC,IAAG,CAAE,CAAA,EAAG,KAAK,CAACA,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAME,EAAEyR,QAAQ,SAASzR,EAAEY,GAAG,IAAId,EAAEwC,KAAKygC,SAASljC,EAAEJ,EAAEK,EAAEE,GAAG,OAAOH,EAAE,KAAKyC,KAAK2I,KAAKnL,EAAE8C,KAAK,CAAC5C,EAAEY,KAAKd,EAAED,GAAG,GAAGe,EAAE0B,IAAI,CAAA,EAAG,KAAK,CAACtC,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAMF,EAAEE,EAAE,MAAME,EAAEyR,QAAQ,WAAWnP,KAAK2I,KAAK,EAAE3I,KAAKygC,SAAS,CAACO,KAAK,IAAI7jC,EAAE0K,IAAI,IAAIvK,GAAGC,GAAG0jC,OAAO,IAAI9jC,EAAE,CAAA,EAAG,KAAK,CAACO,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAME,EAAEyR,QAAQ,SAASzR,GAAG,IAAIY,EAAEnB,EAAE6C,KAAKtC,GAAG+K,OAAO/K,GAAG,OAAOsC,KAAK2I,MAAMrK,EAAE,EAAE,EAAEA,CAAC,CAAA,EAAG,IAAI,CAACZ,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAME,EAAEyR,QAAQ,SAASzR,GAAG,OAAOP,EAAE6C,KAAKtC,GAAGqL,IAAIrL,EAAE,CAAA,EAAG,KAAK,CAACA,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAME,EAAEyR,QAAQ,SAASzR,GAAG,OAAOP,EAAE6C,KAAKtC,GAAG6Y,IAAI7Y,EAAE,CAAA,EAAG,KAAK,CAACA,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAME,EAAEyR,QAAQ,SAASzR,EAAEY,GAAG,IAAId,EAAEL,EAAE6C,KAAKtC,GAAGH,EAAEC,EAAEmL,KAAYnL,OAAAA,EAAE0L,IAAIxL,EAAEY,GAAG0B,KAAK2I,MAAMnL,EAAEmL,MAAMpL,EAAE,EAAE,EAAEyC,IAAI,CAAA,EAAG,KAAKtC,IAAIA,EAAEyR,QAAQ,SAASzR,GAAG,IAAIY,GAAE,EAAGd,EAAEO,MAAML,EAAEiL,MAAM,OAAOjL,EAAEoG,SAAS,SAASpG,EAAEP,GAAGK,IAAIc,GAAG,CAACnB,EAAEO,EAAE,IAAIF,CAAC,CAAA,EAAG,KAAK,CAACE,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,IAAFA,CAAO+L,OAAO,UAAU7L,EAAEyR,QAAQhS,CAAAA,EAAG,KAAK,CAACO,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,KAAFA,CAAQ+L,OAAO8M,KAAK9M,QAAQ7L,EAAEyR,QAAQhS,CAAAA,EAAG,KAAK,CAACO,EAAEY,EAAEd,KAAKE,EAAEF,EAAE0jC,IAAIxjC,GAAOP,IAAAA,EAAEK,EAAE,MAAMD,EAAEe,IAAIA,EAAE+F,UAAU/F,EAAEhB,EAAEC,GAAGG,IAAIA,EAAE2G,UAAU3G,EAAEG,EAAEP,GAAGA,EAAE6R,UAAU5R,GAAGJ,EAAEgkC,QAAQxjC,EAAE,WAAc,IAAC,OAAOL,GAAGA,EAAE8jC,SAAS9jC,EAAE8jC,QAAQ,QAAQC,OAAOxjC,GAAGA,EAAEyjC,SAASzjC,EAAEyjC,QAAQ,OAAO,OAAO5jC,GAAE,CAAE,CAAvG,GAA2GA,EAAEyR,QAAQxR,CAAAA,EAAG,KAAKD,IAAQY,IAAAA,EAAEiL,OAAOtG,UAAUmT,SAAS1Y,EAAEyR,QAAQ,SAASzR,GAAUY,OAAAA,EAAEI,KAAKhB,EAAE,CAAA,EAAG,KAAKA,IAAIA,EAAEyR,QAAQ,SAASzR,EAAEY,GAAG,OAAO,SAASd,GAAUE,OAAAA,EAAEY,EAAEd,GAAG,CAAC,CAAA,EAAG,KAAK,CAACE,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,MAAMD,EAAE,iBAAiBijC,MAAMA,MAAMA,KAAKj3B,SAASA,QAAQi3B,KAAKljC,EAAEH,GAAGI,GAAG4Y,SAAS,cAATA,GAA0BzY,EAAEyR,QAAQ7R,CAAAA,EAAG,IAAII,IAAIA,EAAEyR,QAAQ,SAASzR,GAAG,OAAOsC,KAAKygC,SAASv3B,IAAIxL,EAAE,6BAA6BsC,IAAI,CAAA,EAAG,KAAKtC,IAAIA,EAAEyR,QAAQ,SAASzR,GAAU,OAAAsC,KAAKygC,SAASlqB,IAAI7Y,EAAE,CAAA,EAAG,KAAKA,IAAIA,EAAEyR,QAAQ,SAASzR,GAAG,IAAIY,GAAE,EAAGd,EAAEO,MAAML,EAAEiL,MAAajL,OAAAA,EAAEoG,SAAS,SAASpG,GAAGF,IAAIc,GAAGZ,CAAC,IAAIF,CAAC,CAAA,EAAG,KAAK,CAACE,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAME,EAAEyR,QAAQ,WAAWnP,KAAKygC,SAAS,IAAItjC,EAAE6C,KAAK2I,KAAK,CAAC,CAAA,EAAG,KAAKjL,IAAIA,EAAEyR,QAAQ,SAASzR,GAAG,IAAIY,EAAE0B,KAAKygC,SAASjjC,EAAEc,EAAEmK,OAAO/K,GAAU,OAAAsC,KAAK2I,KAAKrK,EAAEqK,KAAKnL,CAAC,CAAA,EAAG,KAAKE,IAAIA,EAAEyR,QAAQ,SAASzR,GAAU,OAAAsC,KAAKygC,SAAS13B,IAAIrL,EAAE,CAAA,EAAG,KAAKA,IAAIA,EAAEyR,QAAQ,SAASzR,GAAU,OAAAsC,KAAKygC,SAASlqB,IAAI7Y,EAAE,CAAA,EAAG,KAAK,CAACA,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAMF,EAAEE,EAAE,MAAME,EAAEyR,QAAQ,SAASzR,EAAEY,GAAG,IAAId,EAAEwC,KAAKygC,SAAS,GAAGjjC,aAAaL,EAAE,CAAC,IAAIU,EAAEL,EAAEijC,SAAY,IAACljC,GAAGM,EAAEW,OAAO,IAAWX,OAAAA,EAAEyC,KAAK,CAAC5C,EAAEY,IAAI0B,KAAK2I,OAAOnL,EAAEmL,KAAK3I,KAAKxC,EAAEwC,KAAKygC,SAAS,IAAInjC,EAAEO,EAAE,CAAQL,OAAAA,EAAE0L,IAAIxL,EAAEY,GAAG0B,KAAK2I,KAAKnL,EAAEmL,KAAK3I,IAAI,CAAA,EAAG,IAAItC,IAAQY,IAAAA,EAAE6X,SAASlT,UAAUmT,SAAS1Y,EAAEyR,QAAQ,SAASzR,GAAG,GAAG,MAAMA,EAAE,CAAI,IAAQY,OAAAA,EAAEI,KAAKhB,EAAE,OAAOA,GAAI,CAAG,IAAC,OAAOA,EAAE,EAAE,OAAOA,GAAE,CAAE,CAAO,MAAA,EAAE,CAAA,EAAG,KAAKA,IAAIA,EAAEyR,QAAQ,SAASzR,EAAEY,GAAG,OAAOZ,IAAIY,GAAGZ,GAAGA,GAAGY,GAAGA,CAAC,CAAA,EAAG,KAAK,CAACZ,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAMF,EAAEiM,OAAOtG,UAAUpF,EAAEP,EAAE4Y,eAAevY,EAAEL,EAAEiiB,qBAAqB3hB,EAAET,EAAY,WAAQ,OAAAoB,SAAS,CAAjB,IAAsBpB,EAAE,SAASO,GAAG,OAAOH,EAAEG,IAAIG,EAAEa,KAAKhB,EAAE,YAAYC,EAAEe,KAAKhB,EAAE,SAAS,EAAEA,EAAEyR,QAAQvR,CAAAA,EAAG,KAAKF,IAAI,IAAIY,EAAEP,MAAMC,QAAQN,EAAEyR,QAAQ7Q,CAAAA,EAAG,KAAK,CAACZ,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAME,EAAEyR,QAAQ,SAASzR,GAAU,OAAA,MAAMA,GAAGH,EAAEG,EAAEc,UAAUrB,EAAEO,EAAE,CAAA,EAAG,KAAK,CAACA,EAAEY,EAAEd,KAAKE,EAAEF,EAAE0jC,IAAIxjC,GAAG,IAAIP,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAMF,EAAEgB,IAAIA,EAAE+F,UAAU/F,EAAET,EAAEP,GAAGI,IAAIA,EAAE2G,UAAU3G,EAAEC,EAAEE,GAAGA,EAAEsR,UAAU7R,EAAEH,EAAEokC,YAAO,EAAO3jC,GAAGD,EAAEA,EAAE6jC,cAAS,IAASjkC,EAAEG,EAAEyR,QAAQvR,CAAAA,EAAG,KAAK,CAACF,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,KAAKE,EAAEyR,QAAQ,SAASzR,EAAEY,GAAUnB,OAAAA,EAAEO,EAAEY,EAAE,CAAA,EAAG,KAAK,CAACZ,EAAEY,EAAEd,KAAK,IAAIL,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAME,EAAEyR,QAAQ,SAASzR,GAAM,IAACH,EAAEG,GAAS,OAAA,EAAOY,IAAAA,EAAEnB,EAAEO,GAAG,MAAM,qBAAqBY,GAAG,8BAA8BA,GAAG,0BAA0BA,GAAG,kBAAkBA,CAAC,CAAA,EAAG,KAAKZ,IAAIA,EAAEyR,QAAQ,SAASzR,GAAS,MAAA,iBAAiBA,GAAGA,MAAMA,EAAE,GAAG,GAAGA,GAAG,gBAAgB,CAAA,EAAG,KAAKA,IAAIA,EAAEyR,QAAQ,SAASzR,GAAG,IAAIY,SAASZ,EAAE,OAAO,MAAMA,IAAI,UAAUY,GAAG,YAAYA,EAAE,CAAA,EAAG,KAAKZ,IAAIA,EAAEyR,QAAQ,SAASzR,GAAU,OAAA,MAAMA,GAAG,iBAAiBA,CAAC,CAAA,EAAG,KAAK,CAACA,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAMD,EAAEC,EAAE,MAAMF,EAAEE,EAAE,MAAMK,EAAEP,GAAGA,EAAEmkC,aAAa9jC,EAAEE,EAAEN,EAAEM,GAAGV,EAAEO,EAAEyR,QAAQxR,CAAAA,EAAG,KAAK,CAACD,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAMD,EAAEC,EAAE,KAAKF,EAAEE,EAAE,MAAME,EAAEyR,QAAQ,SAASzR,GAAG,OAAOJ,EAAEI,GAAGP,EAAEO,GAAGH,EAAEG,EAAE,CAAA,EAAG,KAAK,CAACA,EAAEY,EAAEd,KAASL,IAAAA,EAAEK,EAAE,MAAeD,SAAAA,EAAEG,EAAEY,GAAG,GAAG,mBAAmBZ,GAAG,MAAMY,GAAG,mBAAmBA,EAAQ,MAAA,IAAI+a,UAAU,uBAAuB,IAAI7b,EAAE,WAAW,IAAIL,EAAEoB,UAAUhB,EAAEe,EAAEA,EAAEiN,MAAMvL,KAAK7C,GAAGA,EAAE,GAAGG,EAAEE,EAAEkkC,MAASpkC,GAAAA,EAAEiZ,IAAIhZ,GAAUD,OAAAA,EAAEyL,IAAIxL,GAAG,IAAIM,EAAEH,EAAE6N,MAAMvL,KAAK7C,GAAG,OAAOK,EAAEkkC,MAAMpkC,EAAE4L,IAAI3L,EAAEM,IAAIP,EAAEO,CAAC,EAAE,OAAOL,EAAEkkC,MAAM,IAAInkC,EAAEokC,OAAOxkC,GAAGK,CAAC,CAACD,EAAEokC,MAAMxkC,EAAEO,EAAEyR,QAAQ5R,CAAAA,EAAG,IAAIG,IAAIA,EAAEyR,QAAQ,WAAW,MAAM,EAAE,CAAA,EAAG,KAAKzR,IAAIA,EAAEyR,QAAQ,WAAiB,OAAA,CAAE,CAAA,EAAG,KAAK,CAACzR,EAAEY,EAAEd,KAAsBL,IAAAA,EAAEK,EAAE,KAAK,SAASD,IAAG,CAAE,SAASD,IAAG,CAAEA,EAAEskC,kBAAkBrkC,EAAEG,EAAEyR,QAAQ,WAAW,SAASzR,EAAEA,EAAEY,EAAEd,EAAED,EAAED,EAAEO,GAAG,GAAGA,IAAIV,EAAE,CAAKQ,IAAAA,EAAE,IAAI4S,MAAM,mLAAyL5S,MAAAA,EAAEmH,KAAK,sBAAsBnH,CAAC,CAAC,CAAC,SAASW,IAAWZ,OAAAA,CAAC,CAACA,EAAEmkC,WAAWnkC,EAAE,IAAIF,EAAE,CAACskC,MAAMpkC,EAAEqkC,OAAOrkC,EAAEskC,KAAKtkC,EAAEukC,KAAKvkC,EAAEwkC,OAAOxkC,EAAE8b,OAAO9b,EAAEujC,OAAOvjC,EAAEykC,OAAOzkC,EAAE0kC,IAAI1kC,EAAE2kC,QAAQ/jC,EAAEgkC,QAAQ5kC,EAAE6kC,YAAY7kC,EAAE8kC,WAAWlkC,EAAEmkC,KAAK/kC,EAAEglC,SAASpkC,EAAEqkC,MAAMrkC,EAAEskC,UAAUtkC,EAAEukC,MAAMvkC,EAAEwkC,MAAMxkC,EAAEykC,eAAezlC,EAAEskC,kBAAkBrkC,GAAUC,OAAAA,EAAEwlC,UAAUxlC,EAAEA,CAAC,CAAA,EAAG,KAAK,CAACE,EAAEY,EAAEd,KAAKE,EAAEyR,QAAQ3R,EAAE,KAAFA,EAAO,EAAI,IAAIE,IAAiBA,EAAEyR,QAAQ,8CAAA,EAAgD,KAAK7Q,IAAiBA,EAAE6Q,QAAQzR,CAAAA,GAAIF,EAAE,CAAE,EAAC,SAASL,EAAEO,GAAOH,IAAAA,EAAEC,EAAEE,GAAG,QAAG,IAASH,EAAE,OAAOA,EAAE4R,QAAY7R,IAAAA,EAAEE,EAAEE,GAAG,CAACgqB,GAAGhqB,EAAEulC,QAAO,EAAG9zB,QAAQ,CAAA,GAAW7Q,OAAAA,EAAEZ,GAAGJ,EAAEA,EAAE6R,QAAQhS,GAAGG,EAAE2lC,QAAO,EAAG3lC,EAAE6R,OAAO,CAAChS,EAAEA,EAAEO,IAAI,IAAIY,EAAEZ,GAAGA,EAAEwlC,WAAW,IAAIxlC,EAAE0K,QAAQ,IAAI1K,EAAE,OAAOP,EAAEyB,EAAEN,EAAE,CAACT,EAAES,IAAIA,CAAAA,EAAGnB,EAAEyB,EAAE,CAAClB,EAAEY,KAAK,IAAA,IAAQd,KAAKc,EAAEnB,EAAEI,EAAEe,EAAEd,KAAKL,EAAEI,EAAEG,EAAEF,IAAI+L,OAAOC,eAAe9L,EAAEF,EAAE,CAAC+M,YAAW,EAAGxB,IAAIzK,EAAEd,IAAG,EAAGL,EAAE2C,EAAE,WAAW,GAAG,iBAAiBgQ,WAAkB,OAAAA,WAAc,IAAC,OAAO9P,MAAM,IAAImW,SAAS,cAAb,EAA6B,OAAOzY,GAAG,GAAG,iBAAiBqR,OAAc,OAAAA,MAAM,CAAC,CAA7J,GAAiK5R,EAAEI,EAAE,CAACG,EAAEY,IAAIiL,OAAOtG,UAAUiT,eAAexX,KAAKhB,EAAEY,GAAGnB,EAAEK,EAAEE,IAAiB,oBAAOgK,QAAQA,OAAOg5B,aAAan3B,OAAOC,eAAe9L,EAAEgK,OAAOg5B,YAAY,CAAC39B,MAAM,WAAWwG,OAAOC,eAAe9L,EAAE,aAAa,CAACqF,OAAM,GAAG,EAAG5F,EAAE+jC,IAAIxjC,IAAIA,EAAEylC,MAAM,GAAGzlC,EAAEe,WAAWf,EAAEe,SAAS,IAAIf,GAAG,IAAIH,EAAE,CAAA,EAAG,MAAA,MAAyBJ,EAAEK,EAAED,GAAGJ,EAAEyB,EAAErB,EAAE,CAAC6K,QAAQ,IAAIg7B,GAAGC,mBAAmB,IAAIC,KAAS5lC,IAAAA,EAAEP,EAAE,MAAMmB,EAAEnB,EAAEA,EAAEO,GAAGF,EAAEL,EAAE,MAAMG,EAAEH,EAAEA,EAAEK,GAAGK,EAAEV,EAAE,MAAMQ,EAAER,EAAEA,EAAEU,GAAG,IAAID,EAAE,CAACF,EAAE,KAAK6lC,OAAOC,gBAAgB,IAAI1M,WAAWp5B,IAAIwf,QAAQ,CAACxf,EAAEY,IAAIZ,IAAIY,GAAG,IAAI,GAAGA,EAAE8X,SAAS,IAAI9X,EAAE,IAAIA,EAAE,IAAI8X,SAAS,IAAIqtB,cAAcnlC,EAAE,GAAG,IAAI,MAAM,IAAI,IAAIlB,EAAED,EAAE,MAAME,EAAEF,EAAEA,EAAEC,GAAGc,EAAEf,EAAE,MAAMM,EAAEN,EAAEA,EAAEe,GAAG,SAASU,EAAElB,GAAUkB,OAAAA,EAAE,mBAAmB8I,QAAQ,iBAAiBA,OAAOmR,SAAS,SAASnb,GAAG,cAAcA,CAAC,EAAE,SAASA,GAAUA,OAAAA,GAAG,mBAAmBgK,QAAQhK,EAAE6B,cAAcmI,QAAQhK,IAAIgK,OAAOzE,UAAU,gBAAgBvF,CAAC,GAAIA,EAAE,CAAKI,IAAAA,EAAE,CAAC,WAAW,SAAS,SAASO,IAAWA,OAAAA,EAAEkL,OAAO+d,OAAO/d,OAAO+d,OAAOlhB,OAAO,SAAS1I,GAAG,IAAA,IAAQY,EAAE,EAAEA,EAAEC,UAAUC,OAAOF,IAAI,CAAKd,IAAAA,EAAEe,UAAUD,GAAG,IAAA,IAAQnB,KAAKK,EAAS+L,OAAAtG,UAAUiT,eAAexX,KAAKlB,EAAEL,KAAKO,EAAEP,GAAGK,EAAEL,GAAG,CAAQO,OAAAA,CAAC,EAAEW,EAAEkN,MAAMvL,KAAKzB,UAAU,CAA8QuB,SAAAA,EAAEpC,EAAEY,GAAUwB,OAAAA,EAAEyJ,OAAOwO,eAAexO,OAAOwO,eAAe3R,OAAO,SAAS1I,EAAEY,GAAUZ,OAAAA,EAAEugB,UAAU3f,EAAEZ,CAAC,GAAIA,EAAEY,EAAE,CAA0S,SAASiC,EAAE7C,GAAU6C,OAAAA,EAAEgJ,OAAOwO,eAAexO,OAAO0M,eAAe7P,OAAO,SAAS1I,GAAG,OAAOA,EAAEugB,WAAW1U,OAAO0M,eAAevY,EAAE,GAAIA,EAAE,CAAUyF,SAAAA,EAAEzF,EAAEY,EAAEd,GAAUc,OAAAA,KAAKZ,EAAE6L,OAAOC,eAAe9L,EAAEY,EAAE,CAACyE,MAAMvF,EAAE+M,YAAW,EAAGd,cAAa,EAAGC,UAAS,IAAKhM,EAAEY,GAAGd,EAAEE,CAAC,CAAKyC,IAAAA,EAAE,SAASzC,IAAI,SAASA,EAAEY,GAAM,GAAA,mBAAmBA,GAAG,OAAOA,EAAQ,MAAA,IAAI+a,UAAU,sDAAsD3b,EAAEuF,UAAUsG,OAAOmN,OAAOpY,GAAGA,EAAE2E,UAAU,CAAC1D,YAAY,CAACwD,MAAMrF,EAAEgM,UAAS,EAAGD,cAAa,KAAMF,OAAOC,eAAe9L,EAAE,YAAY,CAACgM,UAAS,IAAKpL,GAAGwB,EAAEpC,EAAEY,EAAE,CAApR,CAAsRT,EAAEH,GAAOY,IAAAA,EAAEd,EAAEL,EAAEI,EAAED,GAAGH,EAAEU,EAAEN,EAAE,WAAW,GAAG,oBAAoBga,UAAUA,QAAQmsB,UAAgB,OAAA,EAAG,GAAGnsB,QAAQmsB,UAAUC,KAAW,OAAA,EAAG,GAAG,mBAAmB3sB,MAAY,OAAA,EAAM,IAAQ,OAAA4sB,QAAQ3gC,UAAU09B,QAAQjiC,KAAK6Y,QAAQmsB,UAAUE,QAAQ,IAAI,iBAAgB,CAAE,OAAOlmC,GAAS,OAAA,CAAE,CAAC,CAA5P,GAAgQ,WAAeA,IAAAA,EAAEY,EAAEiC,EAAEpD,GAAG,GAAGI,EAAE,CAAKC,IAAAA,EAAE+C,EAAEP,MAAMT,YAAY7B,EAAE6Z,QAAQmsB,UAAUplC,EAAEC,UAAUf,EAAE,MAAME,EAAEY,EAAEiN,MAAMvL,KAAKzB,WAAkB2B,OAAruCA,SAAExC,EAAEY,GAAG,GAAGA,IAAI,WAAWM,EAAEN,IAAI,mBAAmBA,GAAUA,OAAAA,EAAE,QAAG,IAASA,EAAQ,MAAA,IAAI+a,UAAU,4DAA4D,OAAO,SAAS3b,GAAG,QAAG,IAASA,EAAQ,MAAA,IAAImmC,eAAe,6DAAoEnmC,OAAAA,CAAC,CAAxH,CAA0HA,EAAE,CAAs8BwC,CAAEF,KAAKtC,EAAE,GAAG,SAASG,IAAI,OAA3nDkC,SAAErC,EAAEY,GAAG,KAAKZ,aAAaY,GAAS,MAAA,IAAI+a,UAAU,oCAAoC,CAA8iDtZ,CAAEC,KAAKnC,GAAGP,EAAEiO,MAAMvL,KAAKzB,UAAU,CAAQD,OAAAA,EAAET,GAAGL,EAAE,CAAC,CAACuB,IAAI,SAASgE,MAAM,WAAW,IAAIrF,EAAEsC,KAAKlB,MAAMR,EAAEZ,EAAEe,SAASjB,EAAEE,EAAEomC,MAAM3mC,EAAE,SAASO,EAAEY,GAAG,GAAG,MAAMZ,EAAE,MAAM,CAAE,EAAC,IAAIF,EAAEL,EAAEI,EAAE,SAASG,EAAEY,GAAG,GAAG,MAAMZ,EAAE,MAAM,CAAE,EAAKF,IAAAA,EAAEL,EAAEI,EAAE,CAAE,EAACD,EAAEiM,OAAO8M,KAAK3Y,GAAG,IAAIP,EAAE,EAAEA,EAAEG,EAAEkB,OAAOrB,IAAIK,EAAEF,EAAEH,GAAGmB,EAAE6F,QAAQ3G,IAAI,IAAID,EAAEC,GAAGE,EAAEF,IAAWD,OAAAA,CAAC,CAAnI,CAAqIG,EAAEY,GAAG,GAAGiL,OAAOkO,sBAAsB,CAAKna,IAAAA,EAAEiM,OAAOkO,sBAAsB/Z,GAAG,IAAIP,EAAE,EAAEA,EAAEG,EAAEkB,OAAOrB,IAAIK,EAAEF,EAAEH,GAAGmB,EAAE6F,QAAQ3G,IAAI,GAAG+L,OAAOtG,UAAUsc,qBAAqB7gB,KAAKhB,EAAEF,KAAKD,EAAEC,GAAGE,EAAEF,GAAG,CAAQD,OAAAA,CAAC,CAAjX,CAAmXG,EAAEI,GAAG,OAAOL,IAAIgH,cAAc,SAASpG,EAAE,CAAC,aAAab,EAAEsmC,MAAMtmC,EAAEqB,KAAK,UAAU1B,GAAGmB,EAAE,MAAtmEL,SAAEP,EAAEY,GAAG,IAAA,IAAQd,EAAE,EAAEA,EAAEc,EAAEE,OAAOhB,IAAI,CAAKL,IAAAA,EAAEmB,EAAEd,GAAGL,EAAEoN,WAAWpN,EAAEoN,aAAY,EAAGpN,EAAEsM,cAAa,EAAG,UAAUtM,IAAIA,EAAEuM,UAAS,GAAIH,OAAOC,eAAe9L,EAAEP,EAAE4B,IAAI5B,EAAE,CAAC,CAAg9Dc,CAAEK,EAAE2E,UAAUzF,GAAG+L,OAAOC,eAAelL,EAAE,YAAY,CAACoL,UAAS,IAAK7L,CAAC,CAA32C,CAA62CJ,IAAI0Q,eAAehL,EAAEhD,EAAE,YAAY,CAAC1B,SAASpB,IAAIolC,KAAKZ,WAAWiC,MAAMzmC,IAAI4jC,SAAS99B,EAAEhD,EAAE,eAAe,CAAC2jC,MAAM,OAAa7+B,MAAAA,EAAE9E,EAAEP,EAAE,CAACmkC,IAAI,MAAMC,OAAO,SAASC,KAAK,QAAQ,SAAS5jC,EAAE3C,GAAGsC,KAAK+lB,QAAQroB,EAAEsC,KAAKkkC,MAAM3zB,QAAQ2zB,KAAK,CAAC7jC,EAAE4C,UAAUsG,OAAOmN,OAAOnG,MAAMtN,WAAW5C,EAAE4C,UAAU6B,KAAK,oBAAoB,MAAM7D,EAAEZ,EAAWgB,SAAAA,EAAE3D,EAAEY,GAAOd,IAAAA,EAAE+L,OAAO8M,KAAK3Y,GAAG,GAAG6L,OAAOkO,sBAAsB,CAAKta,IAAAA,EAAEoM,OAAOkO,sBAAsB/Z,GAAGY,IAAInB,EAAEA,EAAEuJ,QAAQ,SAASpI,GAAG,OAAOiL,OAAOwN,yBAAyBrZ,EAAEY,GAAGiM,UAAU,KAAK/M,EAAE8C,KAAKiL,MAAM/N,EAAEL,EAAE,CAAQK,OAAAA,CAAC,CAAUiI,SAAAA,EAAE/H,EAAEY,EAAEd,GAAUc,OAAAA,KAAKZ,EAAE6L,OAAOC,eAAe9L,EAAEY,EAAE,CAACyE,MAAMvF,EAAE+M,YAAW,EAAGd,cAAa,EAAGC,UAAS,IAAKhM,EAAEY,GAAGd,EAAEE,CAAC,CAAqQ,IAAI6D,EAAE3B,EAAE,MAAMmC,EAAE,WAAW,SAASrE,EAAEY,GAAOd,IAAAA,EAAEe,UAAUC,OAAO,QAAG,IAASD,UAAU,GAAGA,UAAU,GAAG,CAAE,GAAnW6C,SAAE1D,EAAEY,GAAG,KAAKZ,aAAaY,GAAS,MAAA,IAAI+a,UAAU,oCAAoC,EAAgRjY,CAAEpB,KAAKtC,GAAGsC,KAAKlB,MAAMR,EAAE0B,KAAKmkC,UAAU3mC,CAAC,CAAC,IAAIc,EAAEd,EAASc,OAAAA,EAAEZ,EAAEF,EAAE,CAAC,CAACuB,IAAI,WAAWgE,MAAM,SAASrF,GAAGsC,KAAKlB,MAAMpB,CAAC,GAAG,CAACqB,IAAI,QAAQgE,MAAM,WAAezE,IAAAA,EAAE0B,KAAKxC,EAAE,CAAE,EAAC,OAAO+L,OAAO8M,KAAKrW,KAAKmkC,WAAWrgC,SAAS,SAASpG,GAAOP,IAAAA,EAAEmB,EAAE6lC,UAAUzmC,GAAGF,EAAEE,GAAG,SAASA,GAAG,IAAA,IAAQY,EAAE,EAAEA,EAAEC,UAAUC,OAAOF,IAAI,CAAKd,IAAAA,EAAE,MAAMe,UAAUD,GAAGC,UAAUD,GAAG,CAAE,EAACA,EAAE,EAAE+C,EAAEkI,OAAO/L,IAAG,GAAIsG,SAAS,SAASxF,GAAGmH,EAAE/H,EAAEY,EAAEd,EAAEc,GAAG,IAAIiL,OAAOoO,0BAA0BpO,OAAOwQ,iBAAiBrc,EAAE6L,OAAOoO,0BAA0Bna,IAAI6D,EAAEkI,OAAO/L,IAAIsG,SAAS,SAASxF,GAAGiL,OAAOC,eAAe9L,EAAEY,EAAEiL,OAAOwN,yBAAyBvZ,EAAEc,GAAG,GAAG,CAAQZ,OAAAA,CAAC,CAA9V,CAAgW,CAAA,EAAGP,EAAE,IAAI,IAAIO,EAAEsC,KAAKlB,MAAMtB,EAAE,GAAG,CAACuB,IAAI,UAAUgE,MAAM,SAASrF,GAAU,OAAAsC,KAAKmkC,UAAUzmC,EAAE,GAAG,CAACqB,IAAI,QAAQgE,MAAM,WAAW/C,KAAKmkC,UAAU,CAAE,CAAA,GAAG,CAACplC,IAAI,eAAegE,MAAM,SAASrF,GAAOY,IAAAA,EAAE0B,KAAKxC,EAAEe,UAAUC,OAAO,QAAG,IAASD,UAAU,GAAGA,UAAU,GAAG,CAAE,EAACpB,EAAEoB,UAAUC,OAAO,QAAG,IAASD,UAAU,GAAGA,UAAU,GAAG,EAAE,GAAGR,MAAMC,QAAQN,IAAI,IAAIA,EAAEc,OAAO,CAAC,IAAIjB,EAAEyC,KAAKlB,MAAMxB,EAAEC,EAAE6mC,SAASvmC,EAAEN,EAAE8mC,UAAU3mC,EAAEoG,SAAS,SAASpG,EAAEH,GAAOI,IAAAA,EAAEW,EAAEgmC,gBAAgB5mC,GAAG,QAAG,IAASY,EAAE6lC,UAAUzmC,EAAEqF,OAAO,MAAM,IAAI9B,EAAE,oBAAoB4F,OAAOnJ,EAAEqF,MAAM,gDAAgDzE,EAAE6lC,UAAUzmC,EAAEqF,OAAO,CAACsb,MAAM3gB,EAAE2gB,MAAMtb,MAAMrF,EAAEqF,MAAMtE,SAASf,EAAEe,SAAS8lC,OAAO/mC,EAAEgnC,aAAQ,IAAShnC,EAAEuF,MAAM0hC,SAAS9mC,EAAE+mC,QAAQ/mC,EAAEgnC,kBAAa,IAASjnC,EAAEinC,cAAcjnC,EAAEinC,aAAaP,SAAS9lC,EAAEsmC,iBAAiBlnC,EAAEF,EAAEF,EAAEO,GAAGgnC,UAAU1nC,EAAEqe,MAAMje,GAAGe,EAAEwmC,aAAapnC,EAAEe,SAASf,EAAEP,EAAE,EAAE,GAAG,CAAC,GAAG,CAAC4B,IAAI,kBAAkBgE,MAAM,SAASrF,GAAU,OAAAK,MAAMC,QAAQN,EAAEe,SAAS,GAAG,CAACM,IAAI,mBAAmBgE,MAAM,SAASrF,EAAEY,EAAEd,EAAEL,GAAS,QAAEK,KAAKL,IAAImB,EAAE8lC,WAAWR,QAAQlmC,EAAE0mC,SAAS,GAAG,CAACrlC,IAAI,mBAAmBgE,MAAM,SAASrF,GAAG,IAAIY,EAAE0B,KAAKxC,EAAE,CAAC,UAAU,YAAY+L,OAAO8M,KAAKrW,KAAKmkC,WAAWrgC,SAAS,SAASpG,GAAGF,EAAEsG,SAAS,SAAStG,GAAGc,EAAE6lC,UAAUzmC,GAAGF,IAAG,CAAE,GAAG,IAAIA,EAAEsG,SAAS,SAAStG,GAAGE,EAAEF,GAAGsG,SAAS,SAASpG,QAAYY,IAAAA,EAAE6lC,UAAUzmC,KAAKY,EAAE6lC,UAAUzmC,GAAGF,IAAG,EAAG,GAAG,GAAG,GAAG,CAACuB,IAAI,gBAAgBgE,MAAM,SAASrF,GAAOY,IAAAA,EAAE0B,KAAKxC,EAAE,GAAG,OAAO+L,OAAO8M,KAAKrW,KAAKmkC,WAAWrgC,SAAS,SAAS3G,GAAGmB,EAAE6lC,UAAUhnC,GAAGO,IAAIF,EAAE8C,KAAKnD,EAAE,IAAIK,CAAC,GAAG,CAACuB,IAAI,iBAAiBgE,MAAM,SAASrF,GAAG,IAAIY,EAAE0B,KAAK,OAAOuJ,OAAO8M,KAAKrW,KAAKmkC,WAAWrgC,SAAS,SAAStG,GAAGc,EAAE6lC,UAAU3mC,GAAGinC,WAAWnmC,EAAE6lC,UAAU3mC,GAAGunC,SAASrnC,EAAE,IAAIsC,IAAI,GAAG,CAACjB,IAAI,gBAAgBgE,MAAM,SAASrF,EAAEY,EAAEd,EAAEL,GAAG,IAAII,EAAEyC,KAAK1C,IAAIiB,UAAUC,OAAO,QAAG,IAASD,UAAU,KAAKA,UAAU,GAAGV,EAAEmC,KAAKmkC,UAAUzmC,EAAEqF,OAAOpF,EAAE,CAAC4D,EAAEyiC,OAAOziC,EAAEwiC,KAAK5/B,QAAQ3G,IAAG,EAAGI,EAAE,CAAC2D,EAAE0iC,KAAK1iC,EAAEwiC,KAAK5/B,QAAQ3G,IAAG,EAAMK,GAAAA,EAAE6mC,QAAQvnC,EAAE,CAAC,GAAGO,EAAE0mC,SAAgB,OAAApkC,KAAKA,KAAKglC,WAAWtnC,EAAEqF,MAAM,UAAUzE,EAAE,MAAMX,GAAG,IAAIE,EAAEY,SAASD,SAASwB,KAAKglC,WAAWtnC,EAAEqF,MAAM,UAAUzE,GAAGV,GAAGC,EAAEY,SAASqF,SAAS,SAASpG,GAAGH,EAAE0nC,cAAcvnC,EAAEY,EAAEd,EAAEL,GAAE,EAAG,IAAWG,OAAAA,IAAIH,GAAGU,EAAE2mC,SAAS7mC,GAAGqC,KAAKklC,mBAAmBrnC,EAAE0mC,OAAO/mC,GAAGwC,IAAI,GAAG,CAACjB,IAAI,qBAAqBgE,MAAM,SAASrF,EAAEY,GAAG,IAAId,EAAEwC,KAAKmkC,UAAUzmC,EAAEqF,OAAOvF,EAAEgnC,SAASlmC,IAAIiD,EAAEwiC,KAAK/jC,KAAKglC,WAAWtnC,EAAEqF,MAAM,UAAU/C,KAAKmlC,oBAAoB3nC,IAAIwC,KAAKklC,mBAAmB1nC,EAAE+mC,OAAOjmC,IAAI0B,KAAKglC,WAAWtnC,EAAEqF,MAAM,UAAU/C,KAAKmlC,oBAAoB3nC,GAAG,GAAG,CAACuB,IAAI,sBAAsBgE,MAAM,SAASrF,GAAG,IAAIY,EAAE0B,KAAK,OAAOtC,EAAEe,SAASkI,OAAO,SAASjJ,GAAG,OAAOY,EAAE8mC,QAAQ1nC,EAAEqF,OAAOsiC,OAAO,GAAG,GAAG,CAACtmC,IAAI,aAAagE,MAAM,SAASrF,EAAEY,EAAEd,GAAG,OAAOwC,KAAKmkC,UAAUzmC,GAAGY,GAAGd,EAAEwC,IAAI,IAAIxC,GAA52GiF,SAAE/E,EAAEY,GAAG,IAAA,IAAQd,EAAE,EAAEA,EAAEc,EAAEE,OAAOhB,IAAI,CAAKL,IAAAA,EAAEmB,EAAEd,GAAGL,EAAEoN,WAAWpN,EAAEoN,aAAY,EAAGpN,EAAEsM,cAAa,EAAG,UAAUtM,IAAIA,EAAEuM,UAAS,GAAIH,OAAOC,eAAe9L,EAAEP,EAAE4B,IAAI5B,EAAE,CAAC,CAAmtGsF,CAAEnE,EAAE2E,UAAUzF,GAAG+L,OAAOC,eAAelL,EAAE,YAAY,CAACoL,UAAS,IAAKhM,CAAC,CAAvwG,GAA2wG,SAAS+J,EAAE/J,GAAU+J,OAAAA,EAAE,mBAAmBC,QAAQ,iBAAiBA,OAAOmR,SAAS,SAASnb,GAAG,cAAcA,CAAC,EAAE,SAASA,GAAUA,OAAAA,GAAG,mBAAmBgK,QAAQhK,EAAE6B,cAAcmI,QAAQhK,IAAIgK,OAAOzE,UAAU,gBAAgBvF,CAAC,GAAIA,EAAE,CAAC,SAASmD,IAAWA,OAAAA,EAAE0I,OAAO+d,OAAO/d,OAAO+d,OAAOlhB,OAAO,SAAS1I,GAAG,IAAA,IAAQY,EAAE,EAAEA,EAAEC,UAAUC,OAAOF,IAAI,CAAKd,IAAAA,EAAEe,UAAUD,GAAG,IAAA,IAAQnB,KAAKK,EAAS+L,OAAAtG,UAAUiT,eAAexX,KAAKlB,EAAEL,KAAKO,EAAEP,GAAGK,EAAEL,GAAG,CAAQO,OAAAA,CAAC,EAAEmD,EAAE0K,MAAMvL,KAAKzB,UAAU,CAAUiE,SAAAA,EAAE9E,EAAEY,GAAOd,IAAAA,EAAE+L,OAAO8M,KAAK3Y,GAAG,GAAG6L,OAAOkO,sBAAsB,CAAKta,IAAAA,EAAEoM,OAAOkO,sBAAsB/Z,GAAGY,IAAInB,EAAEA,EAAEuJ,QAAQ,SAASpI,GAAG,OAAOiL,OAAOwN,yBAAyBrZ,EAAEY,GAAGiM,UAAU,KAAK/M,EAAE8C,KAAKiL,MAAM/N,EAAEL,EAAE,CAAQK,OAAAA,CAAC,CAA8Q8H,SAAAA,EAAE5H,EAAEY,GAAUgH,OAAAA,EAAEiE,OAAOwO,eAAexO,OAAOwO,eAAe3R,OAAO,SAAS1I,EAAEY,GAAUZ,OAAAA,EAAEugB,UAAU3f,EAAEZ,CAAC,GAAIA,EAAEY,EAAE,CAA0S,SAASoH,EAAEhI,GAAUgI,OAAAA,EAAE6D,OAAOwO,eAAexO,OAAO0M,eAAe7P,OAAO,SAAS1I,GAAG,OAAOA,EAAEugB,WAAW1U,OAAO0M,eAAevY,EAAE,GAAIA,EAAE,CAAUsD,SAAAA,EAAEtD,EAAEY,EAAEd,GAAUc,OAAAA,KAAKZ,EAAE6L,OAAOC,eAAe9L,EAAEY,EAAE,CAACyE,MAAMvF,EAAE+M,YAAW,EAAGd,cAAa,EAAGC,UAAS,IAAKhM,EAAEY,GAAGd,EAAEE,CAAC,CAAKwK,IAAAA,EAAE,SAASxK,IAAI,SAASA,EAAEY,GAAM,GAAA,mBAAmBA,GAAG,OAAOA,EAAQ,MAAA,IAAI+a,UAAU,sDAAsD3b,EAAEuF,UAAUsG,OAAOmN,OAAOpY,GAAGA,EAAE2E,UAAU,CAAC1D,YAAY,CAACwD,MAAMrF,EAAEgM,UAAS,EAAGD,cAAa,KAAMF,OAAOC,eAAe9L,EAAE,YAAY,CAACgM,UAAS,IAAKpL,GAAGgH,EAAE5H,EAAEY,EAAE,CAApR,CAAsRT,EAAEH,GAAOY,IAAAA,EAAEd,EAAEL,EAAEI,EAAED,GAAGH,EAAEU,EAAEN,EAAE,WAAW,GAAG,oBAAoBga,UAAUA,QAAQmsB,UAAgB,OAAA,EAAG,GAAGnsB,QAAQmsB,UAAUC,KAAW,OAAA,EAAG,GAAG,mBAAmB3sB,MAAY,OAAA,EAAM,IAAQ,OAAA4sB,QAAQ3gC,UAAU09B,QAAQjiC,KAAK6Y,QAAQmsB,UAAUE,QAAQ,IAAI,WAAY,MAAI,CAAE,OAAOlmC,GAAS,OAAA,CAAE,CAAC,CAA5P,GAAgQ,WAAeA,IAAAA,EAAEY,EAAEoH,EAAEvI,GAAG,GAAGI,EAAE,CAAKC,IAAAA,EAAEkI,EAAE1F,MAAMT,YAAY7B,EAAE6Z,QAAQmsB,UAAUplC,EAAEC,UAAUf,EAAE,MAAME,EAAEY,EAAEiN,MAAMvL,KAAKzB,WAAkBiH,OAAruCA,SAAE9H,EAAEY,GAAG,GAAGA,IAAI,WAAWmJ,EAAEnJ,IAAI,mBAAmBA,GAAUA,OAAAA,EAAE,QAAG,IAASA,EAAQ,MAAA,IAAI+a,UAAU,4DAA4D,OAAO,SAAS3b,GAAG,QAAG,IAASA,EAAQ,MAAA,IAAImmC,eAAe,6DAAoEnmC,OAAAA,CAAC,CAAxH,CAA0HA,EAAE,CAAs8B8H,CAAExF,KAAKtC,EAAE,GAAG,SAASG,IAAI,OAA3nD+D,SAAElE,EAAEY,GAAG,KAAKZ,aAAaY,GAAS,MAAA,IAAI+a,UAAU,oCAAoC,CAA8iDzX,CAAE5B,KAAKnC,GAAGP,EAAEiO,MAAMvL,KAAKzB,UAAU,CAAQD,OAAAA,EAAET,EAAEL,EAAE,CAAC,CAACuB,IAAI,oBAAoBgE,MAAM,WAAW/C,KAAKslC,2BAA2B,GAAG,CAACvmC,IAAI,qBAAqBgE,MAAM,WAAW/C,KAAKslC,2BAA2B,GAAG,CAACvmC,IAAI,4BAA4BgE,MAAM,WAAerF,IAAAA,EAAEsC,KAAKlB,MAAMymC,cAAcvlC,KAAKwlC,SAASD,cAAc7nC,CAAC,GAAG,CAACqB,IAAI,SAASgE,MAAM,WAAW,IAAIrF,EAAEsC,KAAK1B,EAAE,SAASZ,GAAG,IAAA,IAAQY,EAAE,EAAEA,EAAEC,UAAUC,OAAOF,IAAI,CAAKd,IAAAA,EAAE,MAAMe,UAAUD,GAAGC,UAAUD,GAAG,CAAE,EAACA,EAAE,EAAEkE,EAAE+G,OAAO/L,IAAG,GAAIsG,SAAS,SAASxF,GAAG0C,EAAEtD,EAAEY,EAAEd,EAAEc,GAAG,IAAIiL,OAAOoO,0BAA0BpO,OAAOwQ,iBAAiBrc,EAAE6L,OAAOoO,0BAA0Bna,IAAIgF,EAAE+G,OAAO/L,IAAIsG,SAAS,SAASxF,GAAGiL,OAAOC,eAAe9L,EAAEY,EAAEiL,OAAOwN,yBAAyBvZ,EAAEc,GAAG,GAAG,CAAQZ,OAAAA,CAAC,CAA9V,CAAgW,CAAA,EAAGsC,KAAKlB,OAAO,cAAcR,EAAEinC,cAAc9nC,IAAIgH,cAAc,QAAQ5D,EAAE,CAAA,EAAGvC,EAAE,CAACU,IAAI,SAASV,GAAGZ,EAAE8nC,SAASlnC,CAAC,EAAEO,KAAK,aAAa,IAAIrB,GAA/2E8D,SAAE5D,EAAEY,GAAG,IAAA,IAAQd,EAAE,EAAEA,EAAEc,EAAEE,OAAOhB,IAAI,CAAKL,IAAAA,EAAEmB,EAAEd,GAAGL,EAAEoN,WAAWpN,EAAEoN,aAAY,EAAGpN,EAAEsM,cAAa,EAAG,UAAUtM,IAAIA,EAAEuM,UAAS,GAAIH,OAAOC,eAAe9L,EAAEP,EAAE4B,IAAI5B,EAAE,CAAC,CAAstEmE,CAAEhD,EAAE2E,UAAUzF,GAAG+L,OAAOC,eAAelL,EAAE,YAAY,CAACoL,UAAS,IAAK7L,CAAC,CAAjnD,CAAmnDJ,IAAI0Q,eAAenN,EAAEkH,EAAE,YAAY,CAACq9B,cAAcloC,IAAI2kC,OAAOhhC,EAAEkH,EAAE,eAAe,CAACq9B,eAAc,IAAK,MAAM37B,EAAE1B,EAAE/G,EAAE9D,IAAIwlC,MAAM,CAAC4C,MAAMpoC,IAAIolC,KAAKiD,QAAQroC,IAAIolC,KAAKkD,UAAUtoC,IAAIolC,KAAKmD,YAAYvoC,IAAIolC,KAAKoD,WAAWxoC,IAAIolC,KAAKqD,UAAUzoC,IAAIolC,KAAKsD,YAAY1oC,IAAIolC,KAAKuD,YAAY3oC,IAAIolC,KAAKwD,WAAW5oC,IAAIolC,KAAKyD,KAAK7oC,IAAIolC,OAAO/gC,EAAErE,IAAIwlC,MAAM,CAACkD,YAAY1oC,IAAI4jC,OAAOY,WAAWiE,UAAUzoC,IAAI4jC,OAAOY,WAAWsE,OAAO9oC,IAAI4jC,OAAOY,aAAa,SAAS96B,EAAErJ,GAAUqJ,OAAAA,EAAE,mBAAmBW,QAAQ,iBAAiBA,OAAOmR,SAAS,SAASnb,GAAG,cAAcA,CAAC,EAAE,SAASA,GAAUA,OAAAA,GAAG,mBAAmBgK,QAAQhK,EAAE6B,cAAcmI,QAAQhK,IAAIgK,OAAOzE,UAAU,gBAAgBvF,CAAC,GAAIA,EAAE,CAAgLiM,SAAAA,EAAEjM,EAAEY,GAAUqL,OAAAA,EAAEJ,OAAOwO,eAAexO,OAAOwO,eAAe3R,OAAO,SAAS1I,EAAEY,GAAUZ,OAAAA,EAAEugB,UAAU3f,EAAEZ,CAAC,GAAIA,EAAEY,EAAE,CAAkL,SAAS8K,EAAE1L,GAAG,QAAG,IAASA,EAAQ,MAAA,IAAImmC,eAAe,6DAAoEnmC,OAAAA,CAAC,CAAC,SAASmM,EAAEnM,GAAUmM,OAAAA,EAAEN,OAAOwO,eAAexO,OAAO0M,eAAe7P,OAAO,SAAS1I,GAAG,OAAOA,EAAEugB,WAAW1U,OAAO0M,eAAevY,EAAE,GAAIA,EAAE,CAAUqM,SAAAA,EAAErM,EAAEY,EAAEd,GAAUc,OAAAA,KAAKZ,EAAE6L,OAAOC,eAAe9L,EAAEY,EAAE,CAACyE,MAAMvF,EAAE+M,YAAW,EAAGd,cAAa,EAAGC,UAAS,IAAKhM,EAAEY,GAAGd,EAAEE,CAAC,CAAKyL,IAAAA,EAAE,SAASzL,IAAI,SAASA,EAAEY,GAAM,GAAA,mBAAmBA,GAAG,OAAOA,EAAQ,MAAA,IAAI+a,UAAU,sDAAsD3b,EAAEuF,UAAUsG,OAAOmN,OAAOpY,GAAGA,EAAE2E,UAAU,CAAC1D,YAAY,CAACwD,MAAMrF,EAAEgM,UAAS,EAAGD,cAAa,KAAMF,OAAOC,eAAe9L,EAAE,YAAY,CAACgM,UAAS,IAAKpL,GAAGqL,EAAEjM,EAAEY,EAAE,CAApR,CAAsRX,EAAED,GAAOF,IAAAA,EAAEL,EAAEI,EAAED,EAAEO,GAAGN,EAAEI,EAAEL,EAAE,WAAW,GAAG,oBAAoBia,UAAUA,QAAQmsB,UAAgB,OAAA,EAAG,GAAGnsB,QAAQmsB,UAAUC,KAAW,OAAA,EAAG,GAAG,mBAAmB3sB,MAAY,OAAA,EAAM,IAAQ,OAAA4sB,QAAQ3gC,UAAU09B,QAAQjiC,KAAK6Y,QAAQmsB,UAAUE,QAAQ,IAAI,WAAY,MAAI,CAAE,OAAOlmC,GAAS,OAAA,CAAE,CAAC,CAA5P,GAAgQ,WAAeA,IAAAA,EAAEY,EAAEuL,EAAEtM,GAAG,GAAGD,EAAE,CAAKE,IAAAA,EAAEqM,EAAE7J,MAAMT,YAAY7B,EAAE6Z,QAAQmsB,UAAUplC,EAAEC,UAAUf,EAAE,MAAME,EAAEY,EAAEiN,MAAMvL,KAAKzB,WAAkB+K,OAAxuCA,SAAE5L,EAAEY,GAAG,GAAGA,IAAI,WAAWyI,EAAEzI,IAAI,mBAAmBA,GAAUA,OAAAA,EAAE,QAAG,IAASA,EAAQ,MAAA,IAAI+a,UAAU,4DAA4D,OAAOjQ,EAAE1L,EAAE,CAAikC4L,CAAEtJ,KAAKtC,EAAE,GAAG,SAASC,EAAED,GAAOY,IAAAA,EAAS,OAAA,SAASZ,EAAEY,GAAG,KAAKZ,aAAaY,GAAS,MAAA,IAAI+a,UAAU,oCAAoC,CAA3F,CAA6FrZ,KAAKrC,IAAIW,EAAET,EAAEa,KAAKsB,KAAKtC,IAAI0oC,QAAQ9nC,EAAE8nC,QAAQhgC,KAAKgD,EAAE9K,IAAIA,EAAE+nC,mBAAmB/nC,EAAE+nC,mBAAmBjgC,KAAKgD,EAAE9K,IAAIA,EAAEgoC,gBAAgBhoC,EAAEgoC,gBAAgBlgC,KAAKgD,EAAE9K,IAAIA,EAAEqhC,QAAQrhC,EAAEqhC,QAAQv5B,KAAKgD,EAAE9K,IAAIA,EAAEioC,SAASjoC,EAAEioC,SAASngC,KAAKgD,EAAE9K,IAAIA,CAAC,CAAQd,OAAAA,EAAEG,GAAGR,EAAE,CAAC,CAAC4B,IAAI,UAAUgE,MAAM,WAAW,IAAIrF,EAAEsC,KAAKlB,MAAMR,EAAEZ,EAAEqF,OAAM,EAAGrF,EAAE0oC,SAAS,CAACrjC,MAAMzE,EAAE+mC,QAAQrlC,KAAKwmC,cAAc,CAACL,QAAO,KAAM,GAAG,CAACpnC,IAAI,qBAAqBgE,MAAM,SAASrF,GAAQA,KAAAA,EAAE+oC,OAAO/oC,EAAEgpC,gBAAgB,GAAG,CAAC3nC,IAAI,kBAAkBgE,MAAM,SAASrF,GAAG,IAAIY,EAAEZ,EAAEipC,QAAQ,CAAC,GAAG,IAAIC,SAAStoC,IAAI0B,KAAKomC,SAAS,GAAG,CAACrnC,IAAI,UAAUgE,MAAM,WAAW,IAAIrF,EAAEsC,KAAKlB,MAAMR,EAAEZ,EAAEmpC,cAAcrpC,EAAEE,EAAE+mC,SAAStnC,EAAEO,EAAEqF,MAAMxF,EAAEG,EAAEiiC,QAAQniC,GAAGc,GAAG0B,KAAKumC,WAAWhpC,EAAE,CAACwF,MAAM5F,EAAEkoC,QAAQrlC,KAAKwmC,cAAc,CAACL,QAAO,KAAM,GAAG,CAACpnC,IAAI,WAAWgE,MAAM,WAAW,IAAIrF,EAAEsC,KAAKlB,MAAMR,EAAEZ,EAAEqnC,SAASvnC,EAAEE,EAAEqF,OAAM,EAAGrF,EAAE6oC,UAAU,CAACxjC,MAAMvF,EAAEunC,UAAUzmC,GAAG,GAAG,CAACS,IAAI,gBAAgBgE,MAAM,SAASrF,GAAOY,IAAAA,EAAEZ,EAAEyoC,OAAO3oC,EAAEwC,KAAKlB,MAAM3B,EAAEK,EAAE6nC,QAAQ9nC,EAAEC,EAAEspC,iBAAuB,QAAE,IAAI3pC,IAAImB,IAAI,IAAInB,IAAImB,GAAG,IAAInB,GAAGI,CAAC,GAAG,CAACwB,IAAI,uBAAuBgE,MAAM,WAAerF,IAAAA,EAAEsC,KAAKlB,MAAMR,EAAEZ,EAAEqpC,eAAevpC,EAAEE,EAAEgnC,OAAOvnC,EAAEO,EAAE8wB,KAAK,OAAOhxB,EAAEC,IAAIgH,cAAc,OAAO,CAACoG,UAAU,gBAAgBpN,IAAIgH,cAAc,OAAO,CAACoG,UAAU,cAAcpN,IAAIgH,cAAcQ,EAAE,CAAC4F,UAAU,gCAAgCu5B,SAAS9lC,EAAEwlC,MAAM3mC,EAAEgpC,OAAOxG,QAAQ3/B,KAAKumC,UAAUvmC,KAAKgnC,qBAAqB,GAAG,CAACjoC,IAAI,qBAAqBgE,MAAM,WAAW,IAAIrF,EAAEsC,KAAKlB,MAAMR,EAAEZ,EAAEqnC,SAASvnC,EAAEE,EAAEupC,MAAM9pC,EAAEK,EAAEooC,YAAYroC,EAAEC,EAAEqoC,WAAW,OAAOvnC,EAAEf,EAAEJ,CAAC,GAAG,CAAC4B,IAAI,qBAAqBgE,MAAM,WAAW,IAAIrF,EAAEsC,KAAKlB,MAAMR,EAAEZ,EAAE2nC,QAAQ7nC,EAAEE,EAAEupC,MAAM9pC,EAAEK,EAAEkoC,QAAQnoC,EAAEC,EAAEioC,MAAMnoC,EAAEE,EAAEmoC,UAAU,OAAO,IAAIrnC,EAAEnB,EAAE,IAAImB,EAAEf,EAAED,CAAC,GAAG,CAACyB,IAAI,iBAAiBgE,MAAM,WAAerF,IAAAA,EAAEsC,KAAKlB,MAAMR,EAAEZ,EAAEqnC,SAASvnC,EAAEE,EAAEwpC,KAAK/pC,EAAEO,EAAEupC,MAAM1pC,EAAEJ,EAAE+oC,KAAK5oC,EAAEH,EAAE6oC,YAAYnoC,EAAEV,EAAE8oC,WAAWtoC,EAAED,EAAEgnC,OAAO,OAAO,OAAOlnC,EAAEA,EAAEG,EAAEJ,EAAEe,EAAET,EAAEP,CAAC,GAAG,CAACyB,IAAI,kBAAkBgE,MAAM,SAASrF,GAAOY,IAAAA,EAAE0B,KAAKlB,MAAMtB,EAAEc,EAAEqhC,QAAQxiC,EAAEmB,EAAEwlC,MAAMvmC,EAAE,OAAOC,EAAE,OAAOC,IAAIgH,cAAc,OAAO,CAACoG,UAAU,iBAAiBi5B,MAAM3mC,GAAGI,EAAEE,IAAIgH,cAAc,OAAO,CAACoG,UAAU,qBAAqB80B,QAAQ3/B,KAAK2/B,QAAQwH,WAAWnnC,KAAK2/B,QAAQU,KAAK,SAASD,SAAS,GAAG1iC,GAAGA,EAAE,GAAG,CAACqB,IAAI,sBAAsBgE,MAAM,SAASrF,GAAG,IAAIY,EAAE0B,KAAKlB,MAAMtB,EAAEc,EAAE+mC,QAAQloC,EAAEmB,EAAE8lC,SAAS7mC,EAAEe,EAAEwlC,MAAMxmC,EAAEgB,EAAE8oC,OAAOvpC,EAAES,EAAEyE,MAAMpF,EAAE,OAAOW,EAAEqhC,QAAQ/hC,EAAE,GAAGiJ,OAAOvJ,EAAE,KAAKuJ,OAAO3F,OAAOrD,GAAG2c,MAAM,KAAKxE,KAAK,MAAM5Y,EAAE,CAACK,IAAIgH,cAAc,QAAQ,CAAC1F,IAAI,EAAEsoC,QAAQzpC,EAAEkmC,MAAMvmC,GAAGE,IAAIgH,cAAcmF,EAAE,CAACy7B,QAAQ,IAAI7nC,EAAE4mC,SAASjnC,EAAEuqB,GAAG9pB,EAAE2nC,cAAc,IAAI/nC,EAAEmiC,QAAQ3/B,KAAKomC,QAAQnG,SAAS,WAAU,IAAKxiC,IAAIgH,cAAc,OAAO,CAAC,eAAe,IAAIjH,EAAE,gBAAgBL,EAAE0N,UAAU,eAAew1B,KAAK,WAAWD,SAAS,EAAE+G,WAAWnnC,KAAKqmC,mBAAmBiB,QAAQtnC,KAAKsmC,iBAAiBtmC,KAAKunC,sBAAsB5pC,EAAE,KAAKD,IAAWC,OAAAA,GAAGP,EAAEkD,KAAK7C,IAAIgH,cAAc,OAAO,CAAC1F,IAAI,EAAE8L,UAAU,qBAAqB80B,QAAQ3/B,KAAK2/B,QAAQwH,WAAWnnC,KAAK2/B,QAAQU,KAAK,OAAOD,SAAS,GAAG1iC,IAAIN,CAAC,GAAG,CAAC2B,IAAI,cAAcgE,MAAM,WAAW,IAAIrF,EAAEsC,KAAKlB,MAAMR,EAAEZ,EAAE2gB,MAAM7gB,EAAEE,EAAEinC,aAAaxnC,EAAE,CAACO,EAAE8pC,aAAa/pC,IAAIgH,cAAc,OAAO,CAAC1F,IAAI,EAAE8L,UAAU,iBAAiB7K,KAAKynC,kBAAkB,KAAKhqC,IAAIgH,cAAc,OAAO,CAAC1F,IAAI,EAAE8L,UAAU,aAAavM,IAAI,OAAOd,EAAEwC,KAAK0nC,oBAAoBvqC,GAAG6C,KAAK2nC,gBAAgBxqC,EAAE,GAAG,CAAC4B,IAAI,iBAAiBgE,MAAM,WAAW,OAAO/C,KAAKlB,MAAMimC,SAAS/kC,KAAKlB,MAAML,SAAS,IAAI,GAAG,CAACM,IAAI,SAASgE,MAAM,WAAW,IAAIrF,EAAEsC,KAAKlB,MAAMtB,EAAEE,EAAEmN,UAAU1N,EAAEO,EAAE0mC,SAAS7mC,EAAEG,EAAEqnC,SAASznC,EAAEI,EAAEgnC,OAAO7mC,EAAES,IAAI,CAAC,YAAW,EAAG,gBAAgBhB,EAAE,mBAAmBA,EAAE,qBAAqBA,GAAGC,EAAE,sBAAsBD,IAAIC,EAAE,eAAeJ,GAAGK,GAAUC,OAAAA,IAAIgH,cAAc,KAAK,CAACoG,UAAUhN,GAAGJ,IAAIgH,cAAc,OAAO,CAACoG,UAAU,YAAY7K,KAAK4nC,uBAAuB5nC,KAAK6nC,eAAe7nC,KAAK8nC,iBAAiB,MAA/pKl/B,SAAElL,EAAEY,GAAG,IAAA,IAAQd,EAAE,EAAEA,EAAEc,EAAEE,OAAOhB,IAAI,CAAKL,IAAAA,EAAEmB,EAAEd,GAAGL,EAAEoN,WAAWpN,EAAEoN,aAAY,EAAGpN,EAAEsM,cAAa,EAAG,UAAUtM,IAAIA,EAAEuM,UAAS,GAAIH,OAAOC,eAAe9L,EAAEP,EAAE4B,IAAI5B,EAAE,CAAC,CAAygKyL,CAAEpL,EAAEyF,UAAU9F,GAAGoM,OAAOC,eAAehM,EAAE,YAAY,CAACkM,UAAS,IAAK/L,CAAC,CAAj6I,CAAm6IF,IAAI0Q,eAAepE,EAAEZ,EAAE,YAAY,CAACk8B,QAAQhoC,IAAI6kC,OAAOL,WAAWuC,SAAS/mC,IAAI2kC,KAAKH,WAAWkF,eAAe1pC,IAAI2kC,KAAKH,WAAWkD,SAAS1nC,IAAI2kC,KAAKH,WAAWoF,MAAM9lC,EAAE0gC,WAAW6C,OAAOrnC,IAAI2kC,KAAKH,WAAW4C,SAASpnC,IAAI2kC,KAAKH,WAAWxjB,MAAMhhB,IAAIolC,KAAKZ,WAAWrT,KAAK9sB,EAAEmgC,WAAWiF,iBAAiBzpC,IAAI2kC,KAAKH,WAAW2F,aAAanqC,IAAI2kC,KAAKH,WAAWuF,OAAO/pC,IAAI4jC,OAAOY,WAAW9+B,MAAM1F,IAAIulC,UAAU,CAACvlC,IAAI4jC,OAAO5jC,IAAI6kC,SAASL,WAAWuE,QAAQ/oC,IAAI4kC,KAAKJ,WAAW0E,SAASlpC,IAAI4kC,KAAKJ,WAAWpjC,SAASpB,IAAIolC,KAAK53B,UAAUxN,IAAI4jC,OAAO4F,cAAcxpC,IAAI2kC,KAAKkF,KAAK7pC,IAAIolC,KAAKkC,aAAatnC,IAAI2kC,KAAK8B,MAAMzmC,IAAI4jC,OAAOtB,QAAQtiC,IAAI4kC,OAAOl4B,EAAEZ,EAAE,eAAe,CAAC1K,SAAS,KAAKoM,UAAU,KAAKg8B,eAAc,EAAGK,KAAK,KAAKvC,cAAa,EAAGb,MAAM,KAAKnE,QAAQ,WAAY,IAAS,MAAAoI,EAAG5+B,EAAE6+B,EAAG3qC,IAAIulC,UAAU,CAACvlC,IAAIglC,QAAQhlC,IAAI4jC,QAAQ5jC,IAAIglC,QAAQhlC,IAAI6kC,UAAmB,SAAAzD,EAAG/gC,EAAEY,GAAOd,IAAAA,EAAE+L,OAAO8M,KAAK3Y,GAAG,GAAG6L,OAAOkO,sBAAsB,CAAKta,IAAAA,EAAEoM,OAAOkO,sBAAsB/Z,GAAGY,IAAInB,EAAEA,EAAEuJ,QAAQ,SAASpI,GAAG,OAAOiL,OAAOwN,yBAAyBrZ,EAAEY,GAAGiM,UAAU,KAAK/M,EAAE8C,KAAKiL,MAAM/N,EAAEL,EAAE,CAAQK,OAAAA,CAAC,CAAC,SAASyqC,EAAGvqC,GAAG,IAAA,IAAQY,EAAE,EAAEA,EAAEC,UAAUC,OAAOF,IAAI,CAAKd,IAAAA,EAAE,MAAMe,UAAUD,GAAGC,UAAUD,GAAG,CAAA,EAAGA,EAAE,EAAEmgC,EAAGl1B,OAAO/L,IAAG,GAAIsG,SAAS,SAASxF,GAAG4pC,EAAGxqC,EAAEY,EAAEd,EAAEc,GAAG,IAAIiL,OAAOoO,0BAA0BpO,OAAOwQ,iBAAiBrc,EAAE6L,OAAOoO,0BAA0Bna,IAAIihC,EAAGl1B,OAAO/L,IAAIsG,SAAS,SAASxF,GAAGiL,OAAOC,eAAe9L,EAAEY,EAAEiL,OAAOwN,yBAAyBvZ,EAAEc,GAAG,GAAG,CAAQZ,OAAAA,CAAC,CAAU,SAAAwqC,EAAGxqC,EAAEY,EAAEd,GAAUc,OAAAA,KAAKZ,EAAE6L,OAAOC,eAAe9L,EAAEY,EAAE,CAACyE,MAAMvF,EAAE+M,YAAW,EAAGd,cAAa,EAAGC,UAAS,IAAKhM,EAAEY,GAAGd,EAAEE,CAAC,CAAC,IAAIyqC,EAAG,CAAC9pB,MAAMhhB,IAAIolC,KAAKZ,WAAW9+B,MAAM1F,IAAIulC,UAAU,CAACvlC,IAAI4jC,OAAO5jC,IAAI6kC,SAASL,WAAWuC,SAAS/mC,IAAI2kC,KAAKkF,KAAK7pC,IAAIolC,KAAKkC,aAAatnC,IAAI2kC,KAAK8B,MAAMzmC,IAAI4jC,QAAQ,MAAMmH,EAAG/qC,IAAIulC,UAAU,CAACvlC,IAAIwlC,MAAMsF,GAAI9qC,IAAIwlC,MAAMoF,EAAGA,EAAG,CAAE,EAACE,GAAI,CAAA,EAAG,CAAC1pC,SAASpB,IAAIglC,QAAQ8F,GAAItG,gBAAgB,SAASwG,EAAG3qC,GAAU,OAAA2qC,EAAG,mBAAmB3gC,QAAQ,iBAAiBA,OAAOmR,SAAS,SAASnb,GAAG,cAAcA,CAAC,EAAE,SAASA,GAAUA,OAAAA,GAAG,mBAAmBgK,QAAQhK,EAAE6B,cAAcmI,QAAQhK,IAAIgK,OAAOzE,UAAU,gBAAgBvF,CAAC,GAAKA,EAAE,CAAU,SAAA4qC,EAAG5qC,EAAEY,GAAOd,IAAAA,EAAE+L,OAAO8M,KAAK3Y,GAAG,GAAG6L,OAAOkO,sBAAsB,CAAKta,IAAAA,EAAEoM,OAAOkO,sBAAsB/Z,GAAGY,IAAInB,EAAEA,EAAEuJ,QAAQ,SAASpI,GAAG,OAAOiL,OAAOwN,yBAAyBrZ,EAAEY,GAAGiM,UAAU,KAAK/M,EAAE8C,KAAKiL,MAAM/N,EAAEL,EAAE,CAAQK,OAAAA,CAAC,CAAC,SAAS+qC,EAAG7qC,GAAG,IAAA,IAAQY,EAAE,EAAEA,EAAEC,UAAUC,OAAOF,IAAI,CAAKd,IAAAA,EAAE,MAAMe,UAAUD,GAAGC,UAAUD,GAAG,CAAE,EAACA,EAAE,EAAEgqC,EAAG/+B,OAAO/L,IAAG,GAAIsG,SAAS,SAASxF,GAAGkqC,GAAG9qC,EAAEY,EAAEd,EAAEc,GAAG,IAAIiL,OAAOoO,0BAA0BpO,OAAOwQ,iBAAiBrc,EAAE6L,OAAOoO,0BAA0Bna,IAAI8qC,EAAG/+B,OAAO/L,IAAIsG,SAAS,SAASxF,GAAGiL,OAAOC,eAAe9L,EAAEY,EAAEiL,OAAOwN,yBAAyBvZ,EAAEc,GAAG,GAAG,CAAQZ,OAAAA,CAAC,CAAU,SAAA+qC,GAAG/qC,EAAEY,GAAG,IAAA,IAAQd,EAAE,EAAEA,EAAEc,EAAEE,OAAOhB,IAAI,CAAKL,IAAAA,EAAEmB,EAAEd,GAAGL,EAAEoN,WAAWpN,EAAEoN,aAAY,EAAGpN,EAAEsM,cAAa,EAAG,UAAUtM,IAAIA,EAAEuM,UAAS,GAAIH,OAAOC,eAAe9L,EAAEP,EAAE4B,IAAI5B,EAAE,CAAC,CAAU,SAAAurC,GAAGhrC,EAAEY,GAAU,OAAAoqC,GAAGn/B,OAAOwO,eAAexO,OAAOwO,eAAe3R,OAAO,SAAS1I,EAAEY,GAAUZ,OAAAA,EAAEugB,UAAU3f,EAAEZ,CAAC,GAAKA,EAAEY,EAAE,CAAqL,SAASqqC,GAAGjrC,GAAG,QAAG,IAASA,EAAQ,MAAA,IAAImmC,eAAe,6DAAoEnmC,OAAAA,CAAC,CAAC,SAASkrC,GAAGlrC,GAAU,OAAAkrC,GAAGr/B,OAAOwO,eAAexO,OAAO0M,eAAe7P,OAAO,SAAS1I,GAAG,OAAOA,EAAEugB,WAAW1U,OAAO0M,eAAevY,EAAE,GAAKA,EAAE,CAAU,SAAA8qC,GAAG9qC,EAAEY,EAAEd,GAAUc,OAAAA,KAAKZ,EAAE6L,OAAOC,eAAe9L,EAAEY,EAAE,CAACyE,MAAMvF,EAAE+M,YAAW,EAAGd,cAAa,EAAGC,UAAS,IAAKhM,EAAEY,GAAGd,EAAEE,CAAC,CAAK,IAAAmrC,GAAG,SAASnrC,IAAI,SAASA,EAAEY,GAAM,GAAA,mBAAmBA,GAAG,OAAOA,EAAQ,MAAA,IAAI+a,UAAU,sDAAsD3b,EAAEuF,UAAUsG,OAAOmN,OAAOpY,GAAGA,EAAE2E,UAAU,CAAC1D,YAAY,CAACwD,MAAMrF,EAAEgM,UAAS,EAAGD,cAAa,KAAMF,OAAOC,eAAe9L,EAAE,YAAY,CAACgM,UAAS,IAAKpL,GAAGoqC,GAAGhrC,EAAEY,EAAE,CAArR,CAAuRJ,EAAER,GAAOF,IAAAA,EAAEL,EAAEI,EAAEM,EAAET,EAAEC,GAAGQ,EAAEK,EAAEd,EAAE,WAAW,GAAG,oBAAoBma,UAAUA,QAAQmsB,UAAgB,OAAA,EAAG,GAAGnsB,QAAQmsB,UAAUC,KAAW,OAAA,EAAG,GAAG,mBAAmB3sB,MAAY,OAAA,EAAM,IAAQ,OAAA4sB,QAAQ3gC,UAAU09B,QAAQjiC,KAAK6Y,QAAQmsB,UAAUE,QAAQ,IAAI,WAAY,MAAI,CAAE,OAAOlmC,GAAS,OAAA,CAAE,CAAC,CAA5P,GAAgQ,WAAeA,IAAAA,EAAEY,EAAEsqC,GAAG/qC,GAAG,GAAGT,EAAE,CAAKI,IAAAA,EAAEorC,GAAG5oC,MAAMT,YAAY7B,EAAE6Z,QAAQmsB,UAAUplC,EAAEC,UAAUf,EAAE,MAAME,EAAEY,EAAEiN,MAAMvL,KAAKzB,WAAkB,OAAtvC,SAAGb,EAAEY,GAAG,GAAGA,IAAI,WAAW+pC,EAAG/pC,IAAI,mBAAmBA,GAAUA,OAAAA,EAAE,QAAG,IAASA,EAAQ,MAAA,IAAI+a,UAAU,4DAA4D,OAAOsvB,GAAGjrC,EAAE,CAA4kCorC,CAAG9oC,KAAKtC,EAAE,GAAG,SAASQ,EAAER,GAAOY,IAAAA,GAAG,SAASZ,EAAEY,GAAG,KAAKZ,aAAaY,GAAS,MAAA,IAAI+a,UAAU,oCAAoC,CAA3F,CAA6FrZ,KAAK9B,GAAGI,EAAEjB,EAAEqB,KAAKsB,KAAKtC,GAAOF,IAAAA,EAAE,IAAIuE,EAAErE,GAAG,OAAOF,EAAEsnC,aAAapnC,EAAEqrC,OAAOvrC,EAAEwrC,iBAAiB,CAAC3D,QAAQ3nC,EAAE2nC,QAAQN,SAASrnC,EAAEqnC,WAAWzmC,EAAE+E,MAAM,CAACqkB,GAAGhqB,EAAEgqB,IAAI,OAAO7gB,OAAOjJ,KAAKqrC,MAAMzrC,EAAE0rC,UAAUxrC,GAAGY,EAAE8nC,QAAQ9nC,EAAE8nC,QAAQhgC,KAAKuiC,GAAGrqC,IAAIA,EAAEioC,SAASjoC,EAAEioC,SAASngC,KAAKuiC,GAAGrqC,IAAIA,EAAE6qC,YAAY7qC,EAAE6qC,YAAY/iC,KAAKuiC,GAAGrqC,IAAIA,EAAE8qC,YAAY9qC,EAAE8qC,YAAYhjC,KAAKuiC,GAAGrqC,IAAIA,EAAE+qC,cAAc/qC,EAAE+qC,cAAcjjC,KAAKuiC,GAAGrqC,IAAIA,EAAEgrC,iBAAiB3rC,KAAK,SAASD,EAAEY,GAAG,OAAOiqC,EAAGA,EAAG,CAAA,EAAG7qC,GAAGY,EAAE,IAAI8H,KAAKuiC,GAAGrqC,IAAIA,CAAC,CAAQd,OAAAA,EAAEU,EAAEf,EAAE,CAAC,CAAC4B,IAAI,UAAUgE,MAAM,SAASrF,GAAOY,IAAAA,EAAE0B,KAAKlB,MAAMtB,EAAEc,EAAEirC,WAAWpsC,EAAEmB,EAAE+lC,UAAU9mC,EAAEe,EAAE8nC,QAAQ9oC,EAAE0C,KAAKqD,MAAM4lC,MAAMO,QAAQ3rC,EAAEP,EAAE8nC,QAAQ1nC,EAAEqF,OAAOzF,EAAE2nC,cAAcvnC,EAAEA,EAAE2nC,QAAQ7nC,EAAEL,GAAGI,EAAED,EAAEmsC,cAAc,WAAWlB,EAAGA,EAAG,CAAA,EAAG1qC,GAAGH,GAAG,GAAG,CAACqB,IAAI,WAAWgE,MAAM,SAASrF,GAAG,IAAIY,EAAE0B,KAAKlB,MAAMynC,SAAS/oC,EAAEwC,KAAKqD,MAAM4lC,MAAMO,QAAQrsC,EAAEK,EAAE4nC,QAAQ1nC,EAAEqF,OAAOvF,EAAEwnC,WAAWtnC,EAAEqF,MAAM,WAAWrF,EAAEqnC,UAAUzmC,EAAEd,EAAEisC,cAAc,YAAYlB,EAAGA,EAAG,CAAA,EAAGprC,GAAGO,GAAG,GAAG,CAACqB,IAAI,cAAcgE,MAAM,SAASrF,IAAG,EAAGsC,KAAKlB,MAAM6gC,SAAS4I,EAAGA,EAAG,CAAA,EAAGvoC,KAAKqD,MAAM4lC,MAAM7D,QAAQ1nC,EAAEqF,QAAQrF,GAAG,GAAG,CAACqB,IAAI,cAAcgE,MAAM,WAAW/C,KAAK0pC,gBAAgB,GAAG,CAAC3qC,IAAI,gBAAgBgE,MAAM,WAAW/C,KAAK0pC,gBAAe,EAAG,GAAG,CAAC3qC,IAAI,iBAAiBgE,MAAM,WAAW,IAAIrF,IAAIa,UAAUC,OAAO,QAAG,IAASD,UAAU,KAAKA,UAAU,IAAyBD,EAApB0B,KAAKlB,MAAMynC,UAAWvmC,KAAKqD,MAAM4lC,MAAMO,QAAQE,eAAehsC,GAAG+rC,cAAc,YAAY,GAAG,CAAC1qC,IAAI,6BAA6BgE,MAAM,SAASrF,EAAEY,GAAG,IAAId,EAAEwC,KAAKqD,MAAM4lC,MAAM7D,QAAQ1nC,EAAEqF,OAAcvF,OAAAA,EAAEknC,QAAQpmC,GAAG,IAAIZ,EAAEe,SAASD,OAAOhB,EAAE6nC,QAAQ,EAAE,EAAErlC,KAAKmlC,oBAAoBznC,GAAG,EAAEsC,KAAK2pC,mBAAmBjsC,GAAG,EAAE,CAAC,GAAG,CAACqB,IAAI,sBAAsBgE,MAAM,SAASrF,GAAG,IAAIY,EAAE0B,KAAK,OAAOtC,EAAEe,SAASkI,OAAO,SAASjJ,GAAG,OAAO,IAAIY,EAAE+E,MAAM4lC,MAAM7D,QAAQ1nC,EAAEqF,OAAO6mC,UAAU,GAAG,GAAG,CAAC7qC,IAAI,qBAAqBgE,MAAM,SAASrF,GAAG,IAAIY,EAAE0B,KAAK,OAAOtC,EAAEe,SAASkD,MAAM,SAASjE,GAAG,OAAOY,EAAE+E,MAAM4lC,MAAM7D,QAAQ1nC,EAAEqF,OAAO6mC,WAAW,CAAC,GAAG,GAAG,CAAC7qC,IAAI,kBAAkBgE,MAAM,SAASrF,GAAG,IAAIY,EAAE0B,KAAKxC,EAAEe,UAAUC,OAAO,QAAG,IAASD,UAAU,GAAGA,UAAU,GAAG,CAAA,EAAGpB,EAAE6C,KAAKlB,MAAMvB,EAAEJ,EAAE4pC,eAAezpC,EAAEH,EAAE0pC,cAAchpC,EAAEV,EAAE8pC,MAAMtpC,EAAER,EAAEqxB,KAAK5wB,EAAET,EAAEknC,UAAUjnC,EAAED,EAAEwiC,QAAQtiC,EAAEF,EAAE0sC,mBAAmBjrC,EAAEzB,EAAE2pC,iBAAiBhpC,EAAEX,EAAE2sC,cAAczrC,EAAElB,EAAEqqC,aAAaznC,EAAEC,KAAKqD,MAAMpF,EAAE8B,EAAE2nB,GAAG5nB,EAAEC,EAAEkpC,MAAM/oC,EAAEhC,EAAES,aAAasoC,MAAM1mC,EAAE7C,EAAEmK,KAAK,SAASnK,GAAG,IAAIP,EAAEO,EAAEqF,MAAM7E,EAAE4B,EAAEslC,QAAQ1nC,EAAEqF,OAAOhD,EAAE7B,EAAEumC,SAASnmC,EAAEyrC,gBAAgBrsC,EAAEe,SAASf,GAAG,KAAKQ,EAAE0rC,WAAWtrC,EAAE0rC,2BAA2BtsC,EAAEE,GAAG,IAAI2C,EAAElD,EAAEa,EAAEwmC,OAAOxmC,EAAEymC,aAAa,OAAOnnC,EAAEuF,OAAOjD,EAAEslC,QAAQ5nC,EAAEuF,OAAOgiC,SAAStnC,IAAIgH,cAAcsjC,EAAG,CAAChpC,IAAI5B,EAAEkoC,QAAQnnC,EAAE0rC,WAAW/+B,UAAUnN,EAAEmN,UAAUu5B,SAASlmC,EAAEkmC,SAAS2C,eAAexpC,EAAEspC,cAAcvpC,EAAEynC,SAAS7mC,EAAE6mC,SAASmC,KAAKxpC,EAAEwpC,KAAKD,MAAM3oC,EAAEgrC,iBAAiBppC,EAAErC,GAAGwgB,MAAM3gB,EAAE2gB,MAAMmQ,KAAK7wB,EAAEmpC,iBAAiBloC,EAAE8lC,OAAOxmC,EAAEwmC,OAAOD,SAASvmC,EAAEumC,SAASE,aAAapkC,EAAEinC,aAAanpC,EAAEylC,MAAMhmC,EAAEJ,EAAEomC,OAAOpmC,EAAE2gB,MAAM3gB,EAAEomC,MAAMsD,OAAOnpC,EAAE8E,MAAMrF,EAAEqF,MAAMqjC,QAAQ9nC,EAAE8nC,QAAQzG,QAAQviC,GAAGkB,EAAE6qC,YAAY5C,SAASjoC,EAAEioC,UAAUxmC,GAAG,IAAI,IAAI,OAAOtC,IAAIgH,cAAc,KAAK,KAAKlE,EAAE,GAAG,CAACxB,IAAI,kBAAkBgE,MAAM,WAAW,IAAIrF,EAAEsC,KAAKlB,MAAMR,EAAEZ,EAAEupC,MAAMzpC,EAAEc,EAAEwnC,UAAU3oC,EAAEmB,EAAEynC,YAAYxoC,EAAEG,EAAE8wB,KAAK,OAAO9wB,EAAEusC,cAAcxsC,IAAIgH,cAAc,MAAM,CAACoG,UAAU,eAAepN,IAAIgH,cAAcQ,EAAE,CAAC4F,UAAU,mCAAmCi5B,MAAMvmC,EAAEuoC,UAAUnG,QAAQ3/B,KAAKopC,aAAa5rC,GAAGC,IAAIgH,cAAcQ,EAAE,CAAC4F,UAAU,qCAAqCi5B,MAAMvmC,EAAEwoC,YAAYpG,QAAQ3/B,KAAKqpC,eAAelsC,IAAI,IAAI,GAAG,CAAC4B,IAAI,oBAAoBgE,MAAM,WAAW,IAAIrF,EAAEsC,KAAKlB,MAAMR,EAAEZ,EAAEoH,KAAKtH,EAAEE,EAAEwsC,YAAmB,YAAA,IAAS5rC,EAAE,KAAKd,EAAEwC,KAAKmqC,yBAAyBnqC,KAAKoqC,yBAAyB,GAAG,CAACrrC,IAAI,yBAAyBgE,MAAM,WAAW,IAAIrF,EAAEsC,KAAKlB,MAAMR,EAAEZ,EAAE2nC,QAAQ7nC,EAAEE,EAAEoH,KAAYxG,OAAAA,EAAEuJ,KAAK,SAASnK,GAAG,IAAIY,EAAE,GAAGuI,OAAOrJ,EAAE,MAAM,OAAOC,IAAIgH,cAAc,QAAQ,CAAC1F,IAAIrB,EAAEoH,KAAKxG,EAAEO,KAAK,SAASkE,MAAMrF,GAAG,GAAG,GAAG,CAACqB,IAAI,0BAA0BgE,MAAM,WAAW,IAAIrF,EAAEsC,KAAKlB,MAAMR,EAAEZ,EAAE2nC,QAAQ7nC,EAAEE,EAAEoH,KAAK3H,EAAEmB,EAAE0X,KAAK,KAAYvY,OAAAA,IAAIgH,cAAc,QAAQ,CAACK,KAAKtH,EAAEqB,KAAK,SAASkE,MAAM5F,GAAG,GAAG,CAAC4B,IAAI,SAASgE,MAAM,WAAerF,IAAAA,EAAEF,EAAEwC,KAAKlB,MAAM3B,EAAEK,EAAE6sC,UAAU9sC,EAAEC,EAAE4mC,SAAS9mC,EAAEE,EAAE8sC,WAAWzsC,EAAEL,EAAEurC,MAAMprC,EAAEH,EAAE+sC,iBAAiB3sC,EAAEoC,KAAKqD,MAAMqkB,GAAGtqB,EAAE4C,KAAK+pC,gBAAgBlsC,GAAGR,EAAEiB,KAAKkqC,GAAG9qC,EAAE,CAAC,uBAAsB,EAAG,eAAeH,GAAG,aAAasJ,OAAOvJ,IAAG,GAAIkrC,GAAG9qC,EAAE,qBAAqBC,GAAG6qC,GAAG9qC,EAAE,oBAAoB,QAAQP,GAAGO,IAAI,OAAOD,IAAIgH,cAAc,MAAM,CAACoG,UAAUxN,EAAEqqB,GAAG9pB,GAAGoC,KAAKwqC,kBAAkBxqC,KAAKyqC,oBAAoBrtC,EAAE,IAAIG,EAAE,CAAC,CAACwB,IAAI,2BAA2BgE,MAAM,SAASrF,EAAEY,GAAOd,IAAAA,EAAEc,EAAE2qC,MAAM9rC,EAAEmB,EAAE4qC,UAAU3rC,EAAEG,EAAE0mC,SAASvmC,EAAEH,EAAEgqB,GAAG/pB,EAAED,EAAEqrC,MAAMnrC,EAAE2qC,EAAGA,EAAG,CAAE,EAACjqC,GAAG,CAAE,EAAC,CAAC4qC,UAAUxrC,IAAWF,OAAAA,EAAEktC,SAAShtC,GAAGJ,IAAIH,EAAE4rC,MAAMprC,IAAIR,EAAEinC,WAAW7mC,IAAIC,EAAEy3B,QAAQz3B,EAAEsnC,aAAannC,IAAI,OAAOE,IAAID,EAAE2qC,EAAGA,EAAG,CAAE,EAAC3qC,GAAG,CAAE,EAAC,CAAC8pB,GAAG7pB,KAAKL,EAAEwrC,iBAAiB,CAAC3D,QAAQ3nC,EAAE2nC,QAAQN,SAASrnC,EAAEqnC,WAAWnnC,CAAC,IAAIT,GAAGsrC,GAAGjrC,EAAEyF,UAAU9F,GAAGI,GAAGkrC,GAAGjrC,EAAED,GAAGgM,OAAOC,eAAehM,EAAE,YAAY,CAACkM,UAAS,IAAKxL,CAAC,CAA/3K,CAAi4KT,IAAIyQ,WAAW,SAASy8B,GAAGjtC,GAAG,OAAO,SAASA,GAAM,GAAAK,MAAMC,QAAQN,GAAG,OAAOktC,GAAGltC,EAAE,CAA5C,CAA8CA,IAAI,SAASA,GAAM,GAAA,oBAAoBgK,QAAQ,MAAMhK,EAAEgK,OAAOmR,WAAW,MAAMnb,EAAE,cAAqB,OAAAK,MAAMuZ,KAAK5Z,EAAE,CAA/G,CAAiHA,IAAI,SAASA,EAAEY,GAAG,GAAGZ,EAAE,CAAC,GAAG,iBAAiBA,EAAS,OAAAktC,GAAGltC,EAAEY,GAAOd,IAAAA,EAAE+L,OAAOtG,UAAUmT,SAAS1X,KAAKhB,GAAG0E,MAAM,GAAI,GAAQ,MAAA,WAAW5E,GAAGE,EAAE6B,cAAc/B,EAAEE,EAAE6B,YAAYuF,MAAM,QAAQtH,GAAG,QAAQA,EAAEO,MAAMuZ,KAAK5Z,GAAG,cAAcF,GAAG,2CAA2CsE,KAAKtE,GAAGotC,GAAGltC,EAAEY,QAAG,CAAM,CAAC,CAA7R,CAA+RZ,IAAI,WAAiB,MAAA,IAAI2b,UAAU,uIAAuI,CAAtK,EAAyK,CAAU,SAAAuxB,GAAGltC,EAAEY,IAAI,MAAMA,GAAGA,EAAEZ,EAAEc,UAAUF,EAAEZ,EAAEc,QAAgBhB,IAAAA,IAAAA,EAAE,EAAEL,EAAE,IAAIY,MAAMO,GAAGd,EAAEc,EAAEd,IAAIL,EAAEK,GAAGE,EAAEF,GAAUL,OAAAA,CAAC,CAAU,SAAAmmC,GAAG5lC,EAAEY,GAAOd,IAAAA,EAAEe,UAAUC,OAAO,QAAG,IAASD,UAAU,GAAGA,UAAU,GAAG,EAAE,GAAGf,EAAEc,EAAE,MAAM,GAAG,IAAInB,EAAE,GAAUO,OAAAA,EAAEoG,SAAS,SAASpG,GAAGA,EAAEe,WAAWtB,EAAE,GAAG0J,OAAO8jC,GAAGxtC,GAAG,CAACO,EAAEqF,OAAO4nC,GAAGrH,GAAG5lC,EAAEe,SAASH,EAAEd,EAAE,KAAK,IAAIL,CAAC,CAACqrC,GAAGK,GAAG,YAAY,CAACE,MAAM1rC,IAAIglC,QAAQ+F,GAAIvG,WAAW0H,WAAWlsC,IAAIslC,MAAM,CAAC/iC,EAAEqkC,KAAKrkC,EAAEmkC,MAAMsB,QAAQ2C,EAAGqC,UAAUhtC,IAAI4jC,OAAOmD,SAAS/mC,IAAI2kC,KAAK+E,eAAe1pC,IAAI2kC,KAAK6E,cAAcxpC,IAAI2kC,KAAK+C,SAASiD,EAAGf,MAAM9lC,EAAEmpC,WAAWjtC,IAAI4jC,OAAOvZ,GAAGrqB,IAAI4jC,OAAOzS,KAAK9sB,EAAEoD,KAAKzH,IAAI4jC,OAAOiJ,YAAY7sC,IAAI2kC,KAAKuI,iBAAiBltC,IAAI2kC,KAAKqC,UAAUhnC,IAAI2kC,KAAK6H,mBAAmBxsC,IAAI2kC,KAAK8E,iBAAiBzpC,IAAI2kC,KAAKiI,cAAc5sC,IAAI2kC,KAAKwF,aAAanqC,IAAI2kC,KAAK8H,cAAczsC,IAAI2kC,KAAKoE,QAAQ/oC,IAAI4kC,KAAKtC,QAAQtiC,IAAI4kC,KAAKsE,SAASlpC,IAAI4kC,OAAOuG,GAAGK,GAAG,eAAe,CAACU,WAAW3pC,EAAEqkC,KAAKoB,QAAQ,GAAGgF,UAAU,MAAMjG,UAAS,EAAG2C,gBAAe,EAAGF,eAAc,EAAG9B,SAAS,GAAGkC,MAAM,CAACxB,MAAMhoC,IAAIgH,cAAc,OAAO,CAACoG,UAAU,4BAA4B66B,QAAQjoC,IAAIgH,cAAc,OAAO,CAACoG,UAAU,8BAA8B86B,UAAUloC,IAAIgH,cAAc,OAAO,CAACoG,UAAU,iCAAiC+6B,YAAYnoC,IAAIgH,cAAc,OAAO,CAACoG,UAAU,mCAAmCg7B,WAAWpoC,IAAIgH,cAAc,OAAO,CAACoG,UAAU,kCAAkCi7B,UAAUroC,IAAIgH,cAAc,OAAO,CAACoG,UAAU,iCAAiCk7B,YAAYtoC,IAAIgH,cAAc,OAAO,CAACoG,UAAU,mCAAmCm7B,YAAYvoC,IAAIgH,cAAc,OAAO,CAACoG,UAAU,mCAAmCo7B,WAAWxoC,IAAIgH,cAAc,OAAO,CAACoG,UAAU,kCAAkCq7B,KAAKzoC,IAAIgH,cAAc,OAAO,CAACoG,UAAU,4BAA4By/B,WAAW,MAAM5iB,GAAG,KAAK8G,KAAK,CAACuX,YAAY,eAAeD,UAAU,aAAaK,OAAO,UAAUrhC,UAAK,EAAOolC,aAAY,EAAGK,kBAAiB,EAAGlG,WAAU,EAAGwF,oBAAmB,EAAG/C,kBAAiB,EAAGmD,eAAc,EAAGzC,cAAa,EAAGsC,eAAc,EAAG1D,QAAQ,WAAU,EAAGzG,QAAQ,KAAK4G,SAAS,WAAU,IAAK,MAAMnD,GAAGyF,IAA/v3B,GAAsw3BtrC,GAA7+3CG,GAA3LY,CAAEuQ,KCWlEg8B,SAAAA,GAAcnjB,EAAYojB,GAChCC,MAAAA,EAZV,SAA8BrjB,EACAojB,GACpBtvB,MAAAA,EAAQsvB,EAAUE,YAAY,KAC9BC,EAAWH,EAAUvwB,UAAUiB,EAAQ,GAC7C,MAAO,eAAiBgY,GAAiB,IAAM9L,EAAK,IAAMujB,CAC9D,CAO8BC,CAAqBxjB,EAAIojB,GAC5CvX,OAAAA,GAAe,IAAMD,GAAkB,IAAMyX,CACxD,CCTsBI,eAAAA,GAAQ9nC,EACA+0B,EACAtiB,SAC1B,MAAMuiB,EAAKD,EAAqBC,GAC1B+S,EAAahT,OAAAA,EAAqBiT,EAAAA,mBAAcC,EAAAA,EAAAA,iBACtD,GAAW,OAAPjT,IAAgB+S,IAAe/nC,EAAMkoC,GAAG9Z,WACjC,OAAA,EAGLnzB,MAAAA,EhB6LH,SAAc+E,GACjB,OAAQtE,GACGsE,EAAMsrB,KAAKtY,KAAKtX,IAAQA,CAEvC,CgBjMcysC,CAAKnoC,GACT2wB,EAAU3wB,EAAM66B,KAAKlK,QACvB,IACA,MAAMrH,QAAgB0L,EAAGpuB,SAAQ,GAqB1B,OApBS,OAAZ0iB,IACI8e,GAAgBzX,SDHV0X,eAAWZ,EACAnmC,GAC7B,IAAIgnC,QAAiB/W,MAAMlB,GAAa,cAAgBkY,mBAAmBd,IACrElmB,MAAAA,QAAe+mB,EAAS1X,OAE1B,IAACrP,EAAOiI,QACF,MAAA,IAAItc,MAAM,iCAGpB,MAAMs7B,EAAOjnB,EAAOinB,KAadC,EAAW,IAAIC,SAYrB,GAXOC,OAAAA,QAAQH,EAAKI,QAAQnoC,SAAQ,EAAE3D,EAAGlC,MAC5BiuC,EAAAA,OAAO/rC,EAAGlC,EAAC,IAEfiuC,EAAAA,OAAO,MAAO,eACvBJ,EAASI,OAAO,OAAQ,IAAIC,KAAK,CAACxnC,KAEvBgnC,QAAM/W,MAAMiX,EAAKO,IAAK,CAC7BC,OAAQ,OACRjuB,KAAM0tB,IAGc,MAApBH,EAASW,QAAsC,MAApBX,EAASW,OACpC,MAAM,IAAI/7B,MAAM,0BAA4Bo7B,EAASY,WAE7D,CCjCsBb,CAAWN,EAAYze,SAEvByL,EAAqBsJ,MAAMtM,IAAIgW,EAAYze,IAIzC,OAAZqH,GAAsC,OAAlBA,EAAQI,MACnBtD,EAAAA,GAAQvL,QAAQsN,UAAU,CAC/B9M,QAASznB,EAAE,aACXy0B,OAAQ,aAGHjC,EAAAA,GAAQvL,QAAQsN,UAAU,CAC/B9M,QAASznB,EAAE,gBACXy0B,OAAQ,cAIT,QACFr1B,GAOE,OANEozB,EAAAA,GAAQvL,QAAQsN,UAAU,CAC/B9M,QAASznB,EAAE,kBACXy0B,OAAQ,WAEZ4J,QAAQrc,MAAM5iB,IAEP,CACX,CACJ,CAEgB8uC,SAAAA,GAAmBpV,EAA2BpD,GAC1D,OAAIA,EACOY,MAAMwC,EAAoB,YAAcpD,EAAQI,OAClDjuB,MAAM3I,GAAMA,EAAEy2B,SACd9tB,MAAMia,GAAkCA,EAAQ8J,UAE9ChkB,QAAQG,SAAQ,EAE/B,CAEO,SAASolC,GAAgBzX,GAC5B,YAA0BpE,WAAnBoE,WAASI,MACpB,CCjCgBqY,SAAAA,GAAmBC,EAAY17B,GACpC27B,OAAAA,GAAaD,EAAK5nC,KC1Bb8nC,SAAeF,EAAY17B,GAChC,OAAA,IAAI9K,SAAiCG,IACxC2K,EAAM8E,SAAS+e,GAAatP,QAAQ0P,SAC9B4X,MAAAA,EAAS,IAAIC,WACZvqC,EAAAA,iBAAiB,QAAQkyB,MAAO/2B,IACnC2I,EAAQ,IAAIywB,WAAW+V,EAAOjoB,QAAsB,IAEjDriB,EAAAA,iBAAiB,YAAmB7E,IACjCoY,EAAAA,SAAS+e,GAAatP,QAAQ2P,SAAS,CAACx3B,EAAEulC,OAAQvlC,EAAEq3B,QAAO,IAErE8X,EAAOE,kBAAkBL,EAAI,GAErC,CDeQE,CAAeF,EAAM17B,GACrB,KAAM,KAAMA,EACpB,CAoBsBg8B,eAAAA,GAAkBZ,EAAap7B,GAC1C27B,OAAAA,GAAaP,ECdFa,eAAcb,EAAap7B,GACzC,IACA,aAAagnB,GAAwBhnB,GAAO0wB,MAAM34B,IAAIqjC,SACjD1uC,GACL,CAGJsT,EAAM8E,SAAS+e,GAAatP,QAAQ0P,SAC9B0W,MAAAA,QAAiB/W,MAAMwX,EAAK,CAC9B1K,MAAO,aAGPiK,GAAoB,MAApBA,EAASW,OACT,MAAM,IAAI/7B,MAAM,0BAA4Bo7B,EAASW,OAAS,MAAQX,EAASY,YAGnF,MAAMW,EAAYvB,EAASwB,QAAQpkC,IAAI,kBACjCvK,EAAuB,OAAd0uC,EAAqB,EAChCt1B,OAAOw1B,SAASF,GACdL,EAASlB,EAASvtB,KAAMivB,YAE9B,IAAIC,EAAW,EACf,MAAMC,EAAuB,GAC7B,OAAa,CACH,MAAA3uB,KAAEA,EAAAA,MAAM7b,SAAgB8pC,EAAOW,OAErC,GAAI5uB,EACA,MAGJ2uB,EAAOjtC,KAAKyC,GACZuqC,GAAYvqC,EAAMvE,OAEZivC,MAAAA,EAAQpzB,KAAK8O,IAAIijB,EAAI9d,WAAWsF,IAAS0Z,EAAW,EAAIA,EAAU9uC,GAClEsX,EAAAA,SAAS+e,GAAatP,QAAQ2P,SAAS,CAACuY,EAAOjvC,IACzD,CAEA,IAAIgyB,EAAS,EACPkd,MAAAA,EAAW,IAAI5W,WAAWwW,GAChC,IAAA,MAAW74B,KAAQ84B,EACNrkC,EAAAA,IAAIuL,EAAM+b,GACnBA,GAAU/b,EAAKjW,OAOZkvC,OAJiB18B,GAAAA,GAAO0wB,MAC1BtM,IAAIgX,EAAKsB,GACThR,MAAMC,QAAQrc,OAEZotB,CACX,CDlCQT,CAAcb,EAAKp7B,GAyC3ByjB,eAA+BqW,EAAmB95B,GAI9C,MAAMgjB,EAAUxiB,GAASR,GAAOktB,KAAKlK,QAE/BoY,EAAMvB,UADE7W,WAASI,QAAS,QACC0W,GAC3BhS,QCpFY6U,eAAkBvB,EAAapY,EACbhjB,GAChC,IAACy6B,GAAgBzX,GACV,aAAMgE,GAAwBhnB,GAAO0wB,MAAM34B,IAAIqjC,GAAK1P,OAAM,IAAM,OAGvE,IACMiP,MAAAA,QAAiB/W,MAAMwX,EAAK,CAC9B1K,MAAO,aAGPiK,GAAoB,MAApBA,EAASW,OACT,MAAM,IAAI/7B,MAAM,0BAA4Bo7B,EAASW,OAAS,MAAQX,EAASY,YAG5EZ,OAAAA,EAASiC,cAAcznC,SAAY,IAAI2wB,WAAW/2B,WACpDrC,GACE,aAAMs6B,GAAwBhnB,GAAO0wB,MAAM34B,IAAIqjC,GAAK1P,OAAM,IAAM,MAC3E,CACJ,CDiEyBiR,CAAkBvB,EAAKpY,EAAShjB,GAC9C,MAAA,CACHo7B,MACAtT,SAER,CApDQ+U,CAAgBzB,EAAKp7B,GACrBo7B,EACAp7B,EACR,CAEAyjB,eAAekY,GAAamB,EACAC,EACAC,EACAlD,EACA95B,GAClBonB,MAAAA,EAAuBJ,GAAwBhnB,GAC/C8E,EAAW9E,EAAM8E,SACvBsiB,EAAqBiT,aAAe,KAGpCv1B,EAASqd,GAAS5N,QAAQqW,QAAQkS,IAElC,MAAMhV,QAAeiV,EACZlZ,EAAAA,GAAatP,QAAQyP,SAC9B,MAAMiZ,QAAsBD,EACnB7a,EAAAA,GAAS5N,QAAQuW,aAE1B,MAAM/C,QAAeyE,UAAUvO,aAAa6J,GAC5ChjB,EAASiZ,GAAYxJ,QAAQ6J,KAAK2J,IACnB,OAAXA,EACSjI,EAAAA,GAAQvL,QAAQ8M,aAEzB6b,GAAenV,EAAQjjB,GAG3BsiB,EAAqBiT,aAAe,CAChCP,YACAQ,wBAAkB2C,WAAe7B,MAAO,KACxCtT,SACAmV,qBAAeA,WAAenV,SAAU,KACxCqV,OAAQ,MAEZr4B,EAASqd,GAAS5N,QAAQwW,SAAS,CAAA,GACvC,CAgBA,SAASmS,GAAenV,EAAmBjjB,GACnCijB,EAAO1J,WAAWlrB,QAAQ,cAAgB,IAC1C2R,EAASqd,GAAS5N,QAAQ2W,kBAAiB,IAC3CpmB,EAASqd,GAAS5N,QAAQ0W,WAAW,YACrCnmB,EAASqd,GAAS5N,QAAQkW,UAAS,KAE9BtI,EAAAA,GAAS5N,QAAQkU,aAAaV,EAAO1J,WAAWlrB,QAAQ,kBAAoB,GACzF,CE3GgBiqC,SAAAA,GAAkBC,EAAkB1pC,GAChD,MAAM2pC,EAAO,IAAInC,KAAK,CAACxnC,GAAO,CAC1B9F,KAAM,qBAdP,SAAyBwvC,EAAkBjC,EAAamC,GAAc,GACnE1wC,MAAAA,EAAIyG,SAASG,cAAc,KACjC5G,EAAE2wC,KAAOpC,EACPvyB,EAAAA,OAAS00B,EAAc,SAAW,QACpC1wC,EAAE6uB,SAAW2hB,EACbxwC,EAAEmE,MAAMysC,QAAU,OACTrwB,SAAAA,KAAKnW,YAAYpK,GAE1BA,EAAE6wC,QACF7wC,EAAE8wC,QACN,CAMIC,CAAgBP,EAAUQ,IAAIC,gBAAgBR,GAClD,CCJO,SAASS,KACZ,MAAMzwC,EAAIowB,KACJsgB,EAASv9B,IAAapO,GAAiBA,EAAM86B,IAAI9F,KACjDD,EAAuBF,MACtB+W,EAAQC,GAAa7iC,GAAiB,IACtC8iC,EAAQC,GAAc/iC,GAA2B,OACjD04B,EAAUsK,GAAehjC,GAAmB,KAC5Cg5B,EAASiK,GAAcjjC,GAAmB,KAC1CkjC,EAAeC,GAAoBnjC,GAAwB,OAC3DojC,EAAcC,GAAmBrjC,IAAkB,GAE1D,SAASsjC,EAAUR,GACfC,EAAWD,GACD90B,EAAAA,KAAKujB,MAAMgS,GAAWT,GAAU,KAAO,KAAO,KAAO,IACnE,CA6CA,OA3CA3iC,IAAU,KACN,GAAgC,OAA5B4rB,EAAqBC,KAAgB2W,EACrC,OAGJ,IAAIa,GAAU,EAcd,OAbAzX,EAAqBC,GAAG8W,SACnBhpC,MAAe2pC,IACPD,GACSE,EAAAA,GAAQD,GACtB,IAEHpT,OAAah/B,IACVi/B,QAAQrc,MAAM5iB,GACTmyC,GACDF,EAAU,KACd,IAGD,KACOE,GAAA,CAAA,CAAA,GAEf,CAACb,IAqBGvP,GAAA,MAAA,CAAKj1B,MAAM,8CAA6C/L,SAAA,EACzDgxC,GAAkC,OAAlBF,IAClB7P,GAAA,MAAA,CAAKl1B,MAAM,kDAAiD/L,SACxDghC,GAAA,MAAA,CAAKj1B,MAAM,YAAW/L,UAClBihC,GAAA,MAAA,CAAKl1B,MAAM,aAAY/L,SAClBH,EAAEmxC,EAAe,cAAgB,oBAEtC/P,GAAA,OAAA,CAAMl1B,MAAM,cAAa/L,SACpBgxC,EAAenxC,EAAE,iBAAmBixC,UAI/CE,GAAkC,OAAlBF,GAA0BJ,GAC5C1P,GAAA,MAAA,CAAK50B,UAAU,eAAcpM,SAAA,CACzBihC,GAACsQ,GAAO,CACJC,UAzBZxb,iBAEI,GADAkb,EAAU,MACsB,OAA5BvX,EAAqBC,KAAgB2W,EACrC,OAGMe,EAAAA,SADS3X,EAAqBC,GAAG8W,UAE/C,EAmBYe,gBAAiBV,EACjBW,eAAgBT,IACpBjQ,GAAA,MAAA,CAAKj1B,MAAM,mCAAkC/L,SAAA,CACxCH,EAAE,QAAQ,KAAG2wC,EAAO,SAEzBvP,GAAA,MAAA,CAAKl1B,MAAM,UAAS/L,SAChBihC,GAAC0Q,GAAY,CACTnJ,MAAO,CACHpB,WAAYnG,GAAC2Q,GAAc,IAC3BzK,YAAalG,GAAC4Q,GAAc,KAKhChG,WAAW,OACXC,kBAAkB,EAClBV,oBAAoB,EACpBd,MAAOoG,EACP9J,UACAe,QAjDPA,SAAQf,EAAwB5C,GACrC6M,EAAWjK,EACf,EAgDgBN,WACAwB,SAvDPA,SAASxB,EAAyBtC,GACvC4M,EAAYtK,EAChB,WAyDJ,CAEA,SAASgL,GAAQZ,SACb,MAAMhgB,EAAgB,GACtB,IAAA,MAAW1a,KAAS06B,OAAAA,EAAOpG,EAAAA,gBAAOroC,KAAK6vC,MAAe,GAClDphB,EAAG7uB,KAAKkwC,GAAO/7B,EAAM,MAElB0a,OAAAA,CACX,CAEA,SAASqhB,GAAOC,EAAgBh4B,GACtBi4B,MAAAA,EAAWj4B,EAAO,IAAMg4B,EAAO3rC,KAC/B6rC,EAAmB,CACrBtyB,MAAOoyB,EAAO3rC,KACd/B,MAAO2tC,EACPD,UAGAA,GAAiB,OAAjBA,EAAO1H,MAAgB,CACjBtqC,MAAAA,EAAWgyC,EAAO1H,MAAMroC,KAAK6vC,IAC9B1oC,KAAc2oC,GAAAA,GAAO/7B,EAAMi8B,KAChCC,EAAQlyC,SAAWA,CACvB,CAEOkyC,OAAAA,CACX,CAEA,SAASX,GAAQlxC,GAKb,MAAMR,EAAIowB,KACJkiB,EAAe7jC,GAAyB,MACxC8jC,EAAgB9jC,GAAyB,MACzCiE,EAAQ2E,KACRyiB,EAAuBF,MACvB+X,UAAEA,EAAAA,gBAAWC,EAAAA,eAAiBC,GAAmBrxC,EASvD,SAASgyC,EAAcpE,GACb1zB,MAAAA,GAAS0zB,EAAOmE,EAAgBD,GAAc/wC,QACtC,OAAVmZ,GAIJA,EAAM01B,OACV,CAEAja,eAAesc,EAASluC,GACpB,MAAMw1B,EAAKD,EAAqBC,GAC1B2Y,EAAkBnuC,EAAMgX,OAAOm3B,MACjC3Y,GAAO,OAAPA,GAAyB,OAAV2Y,EAAf3Y,CAIA,IACA,IAAA,MAAWqU,KAAQsE,EAAO,CACtBd,EAAgBxD,EAAK5nC,MACrB,MAAMm6B,GAASyN,EAAKuE,oBAAsB,IAAIz2B,MAAM,KACpDykB,EAAMt+B,QACAuwC,MAAAA,EAAUjS,EAAMjpB,KAAK,WACrBqiB,EAAG8Y,YAA8B,GAAlBD,EAAQ1yC,OAAckuC,EAAK5nC,KAAOosC,EAASxE,EAAK0E,SACzE,CAAA,CACM,QACNlB,EAAgB,KACpB,OAEMD,GAdN,CAeJ,CAoCA,OAxEAzjC,IAAU,KACuB,OAAzBokC,EAAa/wC,UACAA,EAAAA,QAAQ+C,aAAa,YAAa,IAClC/C,EAAAA,QAAQ+C,aAAa,kBAAmB,IACzD,GACD,CAACguC,IAmEGnR,GAAA,MAAA,CAAKj1B,MAAM,oBAAmB/L,UACjCihC,GAAA,QAAA,CAAOl1B,MAAM,SAAS3L,KAAK,OAAO6L,UAAQ,EAAC1L,IAAK4xC,EAAc3Q,SAAU8Q,IACxErR,GAAA,QAAA,CAAOl1B,MAAM,SAAS3L,KAAK,OAAO6L,UAAQ,EAAC1L,IAAK6xC,EAAe5Q,SAAU8Q,IACzErR,GAAA,SAAA,CAAQl1B,MAAM,8BAA8Bm1B,QAASsQ,EAAUxxC,SAC3DihC,GAAA,MAAA,CAAKG,MAAM,6BAA6BC,KAAK,OACzCC,QAAQ,YAAY,eAAa,MAAMC,OAAO,eAAex1B,MAAM,UAAS/L,SAC5EihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QACzC9gC,EAAE,4KAKd8gC,GAAA,SAAA,CAAQl1B,MAAM,+BAA+Bm1B,QAASA,IAAMmR,GAAc,GAAMryC,SAC5EihC,GAAA,MAAA,CAAKG,MAAM,6BAA6BC,KAAK,OACzCC,QAAQ,YAAY,eAAa,MAAMC,OAAO,eAAex1B,MAAM,UAAS/L,SAC5EihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,oRAO/D8gC,GAAA,SAAA,CAAQl1B,MAAM,8BAA8Bm1B,QAASA,IAAMmR,GAAc,GAAOryC,SAC5EihC,GAAA,MAAA,CAAKG,MAAM,6BAA6BC,KAAK,OACzCC,QAAQ,YAAY,eAAa,MAAMC,OAAO,eAAex1B,MAAM,UAAS/L,SAC5EihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QACzC9gC,EAAE,4MAKd8gC,GAAA,MAAA,CAAKl1B,MAAM,cACXk1B,GAAA,SAAA,CAAQl1B,MAAM,+BAA+Bm1B,QAjDjDlL,iBACI,MAAM4D,EAAKD,EAAqBC,GAChC,GAAW,OAAPA,EAAJ,CAIA8X,GAAe,GACX,IACA,MAAMrX,QAAeT,EAAGpuB,SAAQ,GAC5B6uB,GACAsV,GAAkB,eAAgBtV,EACtC,CACM,QACNqX,GAAe,EACnB,CAVA,CAWJ,EAkCqE1xC,SAC7DihC,GAAA,MAAA,CAAKG,MAAM,6BAA6BC,KAAK,OACzCC,QAAQ,YAAY,eAAa,MAAMC,OAAO,eAAex1B,MAAM,UAAS/L,SAC5EihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,uNAM/D8gC,GAAA,SAAA,CAAQl1B,MAAM,8BAA8Bm1B,QA3EhDlL,iBACI,MAAM4D,EAAKD,EAAqBC,GAC5BA,GAAO,OAAPA,GAAgBtpB,OAAOsiC,QAAQ/yC,EAAE,eAAjC+5B,CAIJ8X,GAAe,GACX,IACA,MAAMrX,QAAeT,EAAGpuB,SAAQ,GAC5B6uB,GHhLMwY,eAAWxY,EAAoByY,EAAqBvgC,SAChE27B,GAAa,eAAgBzmC,QAAQG,QAAQyyB,GAC/C,KAAM,KAAM9nB,GACZugC,GACAvgC,EAAM8E,SAASgb,GAAQvL,QAAQ8M,YAEvC,CG2K2ByG,CAAAA,GAAQ,EAAM9nB,EAC7B,CACM,QACNm/B,GAAe,EACnB,CAVA,CAWJ,EA4DmE1xC,SAC3DihC,GAAA,MAAA,CAAKG,MAAM,6BAA6BC,KAAK,OACzCC,QAAQ,YAAY,eAAa,MAAMC,OAAO,eAAex1B,MAAM,UAAS/L,SAC5EihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,oJAMvE,CAEA,SAAS2xC,GAAW1yC,EAAWkC,GAC3B,OAAgB,OAAZlC,EAAEkrC,OAA8B,OAAZhpC,EAAEgpC,MACfhpC,EAAE+E,KAAK0sC,cAAc3zC,EAAEiH,MAGf,OAAZjH,EAAEkrC,MAAiB,GAAI,CAClC,CAEA,SAASsH,KACL,OAAO3Q,GAAA,MAAA,CAAKG,MAAM,6BAA6BC,KAAK,OAChDC,QAAQ,YAAY,eAAa,MAAMC,OAAO,eAAex1B,MAAM,eAAc/L,SACjFihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,iCAE/D,CAEA,SAAS0xC,KACL,OAAO5Q,GAAA,MAAA,CAAKG,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,YAC/D,eAAa,MAAMC,OAAO,eAAex1B,MAAM,eAAc/L,SAC7DihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,+BAE/D,CAEA,SAASgxC,GAAWT,GAChB,IAAKA,EACM,OAAA,EAGX,IAAIxmC,EAAO,EACX,IAAA,MAAW8L,KAAQ06B,EACU,OAArB16B,EAAKg8B,OAAO9nC,KACZA,GAAQ8L,EAAKg8B,OAAO9nC,KAEZinC,GAAAA,GAAWn7B,EAAKhW,UAIzBkK,OAAAA,CACX,CCvTO,SAAS8oC,GAAO3yC,GAUnB,MAAMR,EAAIowB,KACJgjB,GAAgC,IAApB5yC,EAAM4yC,UAMxB,OAAOjS,GAAA,MAAA,CAAKj1B,MAAO1L,EAAM0L,MAAQ,iBAC5BknC,EAAY,WAAa,yBAAyBjzC,UACnDihC,GAAA,MAAA,CAAKl1B,MAAQknC,EAAY,OAAS,OAAQjzC,SAAEK,EAAMuf,QAClDqhB,GAAA,MAAA,CAAKl1B,MAAM,YAAW/L,SAClBihC,GAAA,SAAA,CAAQl1B,MAAQ1L,EAAM6yC,YAAc7yC,EAAM6yC,YACrCD,EAAY,SAAW,OAC5BzR,SAXR,SAAkBviC,QACSkyB,IAAnB9wB,EAAM8yC,UACAA,EAAAA,SAASl0C,EAAEyiC,cAAcp9B,MAEvC,EAO4BqhC,UAA6B,IAAnBtlC,EAAMslC,SAAkB3lC,SACjDK,EAAMogC,OAAOr3B,KAAW5J,GACdyhC,GAAA,SAAA,CAAQ/0B,SAAU1M,IAAMa,EAAM6L,SAAU5H,MAAO9E,EAAEQ,SAAEH,EAAEL,aAKhF,CCnBO,SAAS4zC,GAAc/yC,GAC1B,MAAMgzC,EAASrgC,IAAapO,GAAiBA,EAAM86B,IAAInF,gBACvD,OAAO0G,GAACqS,GAAY,CAChBL,UAAW5yC,EAAM4yC,UACjBrzB,MAAM,oBACN6gB,OAAQ,IAAI1G,IACZ4L,SAAU0N,EACVnhC,SAAWtN,GAAiBA,EAAM86B,IAAItP,QACtC/Y,SAAWk8B,IACEtiB,GAAAA,QAAQ,UAAWsiB,GACrB7e,GAAS5N,QAAQ0W,WAAW+V,KAG/C,CAEO,SAASC,GAAanzC,GACzB,MAAMslC,EAA8D,QAAnD3yB,IAAapO,GAAiBA,EAAMkoC,GAAGx8B,SACxD,OAAO2wB,GAACqS,GAAY,CAChBL,UAAW5yC,EAAM4yC,UACjBrzB,MAAM,iBACN6gB,OAAQ,IAAIzG,IACZ2L,WACAzzB,SAAWtN,GAAiBA,EAAM86B,IAAIjF,cACtCpjB,SAAWk8B,GAA4B7e,GAAS5N,QAAQ2T,cAAc8Y,IAE9E,CAEO,SAASE,GAAmBpzC,GAC/B,OAAO4gC,GAACqS,GAAY,CAChB1zB,MAAM,gBACNqzB,UAAW5yC,EAAM4yC,UACjBxS,OAAQ,IAAIxG,IACZ/nB,SAAWtN,GAAiBA,EAAM86B,IAAIhF,aACtCrjB,SAAWk8B,GAA2B7e,GAAS5N,QAAQ4T,aAAa6Y,IAE5E,CAEO,SAASG,GAAqBrzC,GACjC,OAAO4gC,GAACqS,GAAY,CAChB1zB,MAAM,kBACNqzB,UAAW5yC,EAAM4yC,UACjBxS,OAAQ,IAAItG,IACZjoB,SAAWtN,GAAiBA,EAAM86B,IAAIlD,eACtCnlB,SAAWk8B,GAA6B7e,GAAS5N,QAAQ0V,eAAe+W,IAEhF,CAEO,SAASI,GAAYtzC,GACxB,OAAO4gC,GAACqS,GAAY,CAChBvnC,MAAO1L,EAAM0L,MACb6T,MAAM,QACN6gB,OAAQ,IAAIrO,IACZlgB,SAAWtN,GAAiBA,EAAMkoC,GAAG1f,MACrC/V,SAAWk8B,GAAoBlhB,GAAQvL,QAAQsG,MAAMmmB,GACrDN,UAAW5yC,EAAM4yC,WAEzB,CAEO,SAASW,GAAiBvzC,GAC7B,OAAO4gC,GAACqS,GAAY,CAChBvnC,MAAO1L,EAAM0L,MACb6T,MAAM,mBACN6gB,OAAQhI,GACRvmB,SAAWtN,GAAiBA,EAAM+rB,KAAKsI,qBACvC5hB,SAAWk8B,GAAapa,GAAUrS,QAAQoS,wBAAwBqa,GAClEN,UAAW5yC,EAAM4yC,WAEzB,CAEA,SAASK,GAAgBjzC,GAUrB,MAAMR,EAAIowB,KACJ3rB,EAAQ0O,GAAY3S,EAAM6R,UAC1BmF,EAAWC,KAKjB,OAAO2pB,GAAC+R,GAAM,CACVjnC,MAAO,QAAU1L,EAAM0L,MACvBmnC,YAAa7yC,EAAM6yC,YACnBvN,SAAUtlC,EAAMslC,SAChBsN,UAAW5yC,EAAM4yC,UACjBrzB,MAAO/f,EAAEQ,EAAMuf,OACf1T,SAAU5H,EACVm8B,OAAQpgC,EAAMogC,OACd0S,SAXJ,SAAmBI,GACNlzC,EAAAA,EAAMgX,SAASk8B,GAC5B,GAUJ,CC5GO,SAASM,GAAUxzC,GAGtB,OAAO4gC,GAAA,MAAA,CAAKG,MAAM,6BAA6BE,QAAQ,YAAYD,KAAK,eACpEt1B,MAAQ1L,EAAM0L,OAAS,uDAAwD/L,SAC/EihC,GAAA,OAAA,CAAM,YAAU,UAAU9gC,EAAE,8KAEqB,YAAU,aAEnE,CCQO,SAAS2zC,KACZ,MAAMj0C,EAAIowB,KACJsF,EAAUviB,IAAapO,GAAiBA,EAAM66B,KAAKlK,WACnDoD,kBAAEA,GAAsB3lB,IAAapO,GACvC8zB,GAAiB9zB,EAAM+rB,KAAKsI,uBAC5BP,GAAiB,aACdiH,EAAUC,GAAehyB,GAAkB,IAC5CyJ,EAAWC,KACXutB,SAAKtP,WAASI,QAAS,IACtB1tB,EAAQ8rC,GAAanmC,GAAiB,KACtComC,EAAMC,GAAWrmC,IAAkB,GACpCsmC,EAAgB5lC,GAA0B,MAC1C6lC,EAAkB7lC,GAA0B,OAC3C8lC,EAAUC,GAAezmC,GAAiB,KAC1C0mC,EAAeC,GAAoB3mC,GAAiB,KACpD4mC,EAAaC,GAAkB7mC,GAAwB,OACvD8mC,EAAaC,GAAkB/mC,IAAmB,IAClDgnC,EAAkBC,GAAuBjnC,IAAkB,GAC5D6d,IAAoBA,MAAT8J,OAAS9J,EAAAA,EAAAA,WAAW,IAAUmpB,EAG/C,SAASE,IACAvf,GAAYA,EAAQK,OAiDrBqe,GAAQ,GACR9d,MAAMwC,EAAoB,gBAAkBpD,EAAQK,OAC/CluB,MAAY3I,GAAAA,EAAEy2B,SACd9tB,MAAMq4B,IACSA,EAAAA,EAAO99B,MAAK,CAAC7C,EAAGkC,IAAMlC,EAAEiH,KAAK0sC,cAAczxC,EAAE+E,QAAM,IAElE43B,MAAMC,QAAQrc,OACdkzB,SAAQ,IAAMd,GAAQ,KAERtb,GAAAA,EAAmBpD,GACjC7tB,KAAKmtC,GACL5W,MAAMC,QAAQrc,SA3DnB+d,EAAY,CACR,CACIoV,QAAW,GACX3uC,KAAQ,YACR0wB,MAAS,SACTke,SAAY,aAEhB,CACID,QAAW,GACX3uC,KAAQ,aACR0wB,MAAS,SACTke,SAAY,cAEhB,CACID,QAAW,CACP,qBAEJ3uC,KAAQ,WACR0wB,MAAS,SACTke,SAAY,cAEhB,CACID,QAAW,CACP,qBAEJ3uC,KAAQ,YACR0wB,MAAS,SACTke,SAAY,cAEhB,CACID,QAAW,CACP,oBAEJ3uC,KAAQ,WACR0wB,MAAS,SACTke,SAAY,aAEhB,CACID,QAAW,CACP,oBAEJ3uC,KAAQ,WACR0wB,MAAS,SACTke,SAAY,eAGpBhB,GAAQ,GAehB,CAMA,OAJAlmC,IAAU,WAEP,CAAU6nB,MAATL,OAASK,EAAAA,EAAAA,MAAO+C,IAEbqI,GAAA,MAAA,CAAKj1B,MAAM,oCAAmC/L,SAAA,CACjDihC,GAAC2S,GAAgB,CAACX,WAAW,EAAMlnC,MAAM,YACzCk1B,GAAA,QAAA,CAAOl1B,MAAM,uCAAuCmpC,YAAar1C,EAAE,UAC/DyE,MAAO2D,EAAQu5B,SAAiBuS,GAAAA,EAAU90C,EAAEyiC,cAAcp9B,OAAS,MACvE08B,GAAA,MAAA,CAAKj1B,MAAM,SAAQ/L,SACd,EAACg0C,GAAQhT,GAAA,QAAA,CAAOj1B,MAAM,eAAc/L,UACjCihC,GAAA,QAAA,CAAAjhC,SACIghC,GAAA,KAAA,CAAAhhC,UACIihC,GAAA,KAAA,CAAAjhC,SAAKH,EAAE,gBACPohC,GAAA,KAAA,CAAA,QAGRA,GAAA,QAAA,CAAAjhC,SAGQ2/B,EAASv2B,KAAI,EAAG/C,OAAM0wB,QAAOie,WAAWj4B,IAChC9U,EAAOlI,OAAS,IACU,IAA1Bg3B,EAAMrxB,QAAQuC,KAA+C,IAA7B5B,EAAKX,QAAQuC,GACtC,KAEJg5B,GAAAE,EAAA,CAAAnhC,SACHghC,GAAA,KAAA,CAAAhhC,UACIghC,GAAA,KAAA,CAAIE,QAASA,OAAUlhC,UACnBihC,GAAA,IAAA,CAAGl1B,MAAM,YAAW/L,SAAEqG,IAGlB2uC,EAAQ5rC,KAAc4Q,GACXgnB,GAAA,IAAA,CAAGj1B,MAAM,UAAS/L,SAAA,CAAC,OAAyBga,OAE1D+c,KAAUxB,MAAAA,OAAAA,EAAAA,EAASI,QAChBsL,GAAA,IAAA,CAAGl1B,MAAM,UAAS/L,SAAE+2B,OAE3BtL,GAAWuV,GAAA,KAAA,CAAAhhC,SACPu1B,EAASK,MAATL,OAASK,EAAAA,EAAAA,QAASqL,GAAA,MAAA,CAAKl1B,MAAM,uBAC1Bm1B,QAASA,WACLyT,EAAe53B,GACfm3B,OAAAA,EAAAA,EAAc9yC,UAAS+zC,EAAAA,WAAAA,EACzBn1C,SAAC,UACNu1B,MAAAA,OAAAA,EAAAA,EAASK,QAASmB,IAAU8N,GAAM5D,GAAA,MAAA,CAAKl1B,MAAM,uBAC1Cm1B,QAASA,WACLyT,EAAe53B,GACfo3B,OAAAA,EAAAA,EAAgB/yC,UAAS+zC,EAAAA,WAAAA,EAC3Bn1C,SAAEH,EAAE,gBAEZ4rB,GAAWwV,GAAA,KAAA,CAAAjhC,SACTihC,GAAA,MAAA,CAAKl1B,MAAM,iBACPm1B,QAASA,IAAM7pB,EAASgb,GAAQvL,QAAQyM,eAAc,IAAOvzB,SAC7DihC,GAAC4S,GAAS,CAAC9nC,MAAM,+BAShDioC,GAAQ/S,GAAA,OAAA,CAAMl1B,MAAM,0CAEzBk1B,GAAA,SAAA,CAAQ1gC,IAAK2zC,EAAenoC,MAAM,QAAO/L,UACnCg0C,GAAQU,GAAe,GAAiB,OAAZnf,GAAoByL,GAAA,MAAA,CAAKj1B,MAAM,YAAW/L,UACpEghC,GAAA,KAAA,CAAIj1B,MAAM,oBAAmB/L,UAAEH,EAAE,uBAAuB,OACxDmhC,GAAA,IAAA,CAAGj1B,MAAM,oCAAmC/L,UAAC,YAC/B2/B,EAAS+U,GAAa3d,MAAM,IAAE4I,EAAS+U,GAAaruC,QAElE46B,GAAA,QAAA,CAAO7gC,KAAK,OAAO80C,YAAY,OAAO5wC,MAAO8vC,EACzCroC,MAAM,iDAAiDy1B,SAAWviC,GAC9Do1C,EAAYp1C,EAAEyiC,cAAcp9B,SACnB,OAAhBkwC,GACGxT,GAAA,IAAA,CAAGj1B,MAAM,kBAAiB/L,SAAA,CAAEH,EAAE,SAAS,KAAG20C,KAC9CxT,GAAA,MAAA,CAAKj1B,MAAM,eAAc/L,UACpBo0C,EAASr0C,OAAS,GAAKkhC,GAAA,SAAA,CAAQl1B,MAAM,uBAAuBm1B,QAASA,KAClEyT,GAAiB,GACjBV,GAAQ,GAER9d,MAAO,GAAEwC,gBAAgCgH,EAAS+U,GAAa3d,SAAS4I,EAAS+U,GAAaruC,QAAQ+tC,KAAY7e,EAAQK,QAAS,CAC/HgY,OAAQ,SAEPlmC,MAAM3I,GAAMA,EAAEy2B,SACd9tB,MAAmBwlC,UAChB,GAAIA,EAASrrB,MACH,MAAA,IAAI/P,MAAMo7B,EAASrrB,OAEzB+d,EAAY,QAGhBsU,OAAAA,EAAAA,EAAc9yC,UAAS0tB,EAAAA,OAAAA,IAE1BmP,OAAah/B,IACF4iB,QAAAA,MAAM5iB,EAAEqoB,SACP+K,EAAAA,GAAQvL,QACZsN,UAAU,CAAE9M,QAASroB,EAAEqoB,QAASgN,OAAQ,UAAU,IAE1DygB,SAAQ,KACLd,GAAQ,EAAK,GAChB,EACPj0C,SAAEH,EAAE,UACNohC,GAAA,SAAA,CAAQl1B,MAAM,MAAMm1B,QAASA,WAAMgT,OAAAA,OAAAA,EAAAA,EAAc9yC,cAAS0tB,EAAAA,EAAAA,OAAAA,EAAQ9uB,SAAEH,EAAE,mBAIlFohC,GAAA,SAAA,CAAQ1gC,IAAK4zC,EAAiBpoC,MAAM,QAAO/L,UACrCg0C,GAAQU,GAAe,GAAiB,OAAZnf,GAAoByL,GAAA,MAAA,CAAKj1B,MAAM,YAAW/L,UACpEghC,GAAA,KAAA,CAAIj1B,MAAM,oBAAmB/L,UAAEH,EAAE,uBAAuB,OACxDmhC,GAAA,IAAA,CAAGj1B,MAAM,4BAA2B/L,SAAE2/B,CAAAA,EAAS+U,GAAa3d,MAAM,IAAE4I,EAAS+U,GAAaruC,QAC1F46B,GAAA,QAAA,CAAO7gC,KAAK,OAAO80C,YAAY,OAAO5wC,MAAOgwC,EACzCvoC,MAAM,iDACNy1B,SAAWviC,GAAMs1C,EAAiBt1C,EAAEyiC,cAAcp9B,SACrC,OAAhBkwC,GACGxT,GAAA,IAAA,CAAGj1B,MAAM,kBAAiB/L,SAAA,CAAEH,EAAE,SAAS,KAAG40C,KAC9CzT,GAAA,MAAA,CAAKj1B,MAAM,eAAc/L,UACpBs0C,IAAkB3U,EAAS+U,GAAa3d,MAAQ,IAAM4I,EAAS+U,GAAaruC,MACzE46B,GAAA,SAAA,CAAQl1B,MAAM,uBAAuBm1B,QAASA,KAC1CyT,GAAiB,GACjBV,GAAQ,GAER9d,MAAO,GAAEwC,iBAAiCgH,EAAS+U,GAAa3d,SAAS4I,EAAS+U,GAAaruC,QAAQkvB,EAAQK,QAAS,CAAEgY,OAAQ,SAC7HlmC,MAAM3I,GAAMA,EAAEy2B,SACd9tB,MAAmBwlC,UAChB,GAAIA,EAASrrB,MACH,MAAA,IAAI/P,MAAMo7B,EAASrrB,OACtB,CACGuzB,MAAAA,EAAY,IAAIzV,GACZv4B,EAAAA,OAAOstC,EAAa,GAC9B9U,EAAYwV,EAChB,CACAjB,OAAAA,EAAAA,EAAgB/yC,UAAS0tB,EAAAA,OAAAA,IAE5BmP,OAAah/B,IACF4iB,QAAAA,MAAM5iB,EAAEqoB,SAChBmtB,EAAex1C,EAAEqoB,SACR+K,EAAAA,GAAQvL,QACZsN,UAAU,CAAE9M,QAASroB,EAAEqoB,QAASgN,OAAQ,UAAU,IAE1DygB,SAAQ,KACLd,GAAQ,EAAK,GAChB,EACPj0C,SAAEH,EAAE,YACVohC,GAAA,SAAA,CAAQl1B,MAAM,MAAMm1B,QAASA,WAAMiT,OAAAA,OAAAA,EAAAA,EAAgB/yC,cAAS0tB,EAAAA,EAAAA,OAAAA,EAAQ9uB,SAAEH,EAAE,qBAM5F,CCxPO,SAASw1C,GAASh1C,GASfE,MAAAA,EAAM+N,GAAyB,MAgBrC,OAdAP,IAAU,KACM,OAARxN,GAAgC,OAAhBA,EAAIa,UAInBA,EAAAA,QAAgB0lC,cAAgBzmC,EAAMi1C,aAAAA,GAC5C,CAAC/0C,EAAKF,EAAMi1C,eAQRrU,GAAA,MAAA,CAAK70B,UAAW/L,EAAM0L,MAAQ,uBACjCm1B,QAPJ,WACQ7gC,EAAMmhC,UACNnhC,EAAMmhC,YAA6B,IAAlBnhC,EAAMumC,SAE/B,EAGsB5mC,SAClBghC,GAAA,QAAA,CAAO50B,UAAU,uBAAsBpM,UACnCihC,GAAA,OAAA,CAAM70B,UAAU,kBAAiBpM,SAAEK,EAAMuf,QACzCqhB,GAAA,QAAA,CACI1gC,MACAqmC,SAA2B,IAAlBvmC,EAAMumC,QACfxmC,KAAK,WACLgM,UAAY,WAAa/L,EAAMumC,QAAU,mBAAqB,IAC1DvmC,EAAMk1C,YACV5P,UAA6B,IAAnBtlC,EAAMslC,eAGhC,CC/BO,SAAS6P,KACZ,MAAMpZ,EAAUppB,IAAapO,GAAiBA,EAAM86B,IAAItD,UAClD1O,EAAO0O,EAAQ1O,KACfC,EAASyO,EAAQzO,OACjBgY,EAA2B,iBAAhBvJ,EAAQE,IACnBz8B,EAAIowB,KACJ5Y,EAAWC,KACXm+B,EACc,cAAhBrZ,EAAQE,IACJoZ,SAAS3F,KA0FrB,WACQ2F,GAAAA,SAAS3F,KAAKnb,SAAS,MAAQ8gB,SAAS3F,KAAKnb,SAAS,KAC/C,MAAA,GAEX,OAAO8gB,SAAS3F,KAAKrqC,QAAQ,KAAO,EAAI,IAAM,GAClD,CA/F4BiwC,GAChB,gBAAkBvZ,EAAQzO,OAAS,SAAWD,EAC9C,KAgCR,OAAOsT,GAAA,MAAA,CAAKj1B,MAAM,qDAAoD/L,UAClEihC,GAAA,MAAA,CAAKl1B,MAAM,8CAA6C/L,SACpDihC,GAAC+R,GAAM,CACHjnC,MAAM,UACNmnC,YAAY,SACZtzB,MAAO/f,EAAE,UAAY,IACrBqM,SAAUyhB,EACV8S,OAAQ,CAAC,cAAe,UAAW,aACnCkF,WACAwN,SAbZ,SAAkByC,GAtBlB,IAAmBjoB,IAuBLioB,EAtBVv+B,EAASqd,GAAS5N,QAAQwX,UAAU3Q,GAuBxC,MAcIqT,GAAA,MAAA,CAAKj1B,MAAM,sBAAqB/L,UAC5BihC,GAAA,QAAA,CAAOl1B,MAAM,QAAO/L,SAChBghC,GAAA,OAAA,CAAMj1B,MAAM,aAAY/L,UAAEH,EAAE,QAAQ,SAExCohC,GAAA,QAAA,CAAO7gC,KAAK,OACR2L,MAAM,uCACN45B,WACAnE,SAAWviC,IAAMo/B,OAjDZ3Q,EAiDoBzuB,EAAEyiC,cAAcp9B,WAhDjD+S,EAASqd,GAAS5N,QAAQuX,QAAQ3Q,IADtC,IAAiBA,CAiDyC,EAC9CppB,MAAOopB,OAEfuT,GAACoU,GAAQ,CACLtpC,MAAO,SAA2B,UAAhBqwB,EAAQE,IAAkB,QAAU,IACtDkF,SA9CR,WACwB,cAAhBpF,EAAQE,IACRjlB,EAASqd,GAAS5N,QAAQqX,cAAc,CAAA,IAE/BzJ,EAAAA,GAAS5N,QAAQ6W,WAAW,CACjCjQ,OACAkQ,QAAS,SAAWjQ,EAAS,cAGzC,EAsCQ/N,MAAM,MACNgnB,QAAyB,cAAhBxK,EAAQE,IACjBqJ,SAA0B,eAAhBvJ,EAAQE,IAClBgZ,aAA8B,eAAhBlZ,EAAQE,MAGb,OAAZmZ,GAAoBzU,GAAA,MAAA,CAAKj1B,MAAM,2DAA0D/L,UACtFghC,GAAA,MAAA,CAAAhhC,UAAMH,EAAE,iBAAiB,OACzBmhC,GAAA,MAAA,CAAKj1B,MAAM,gBAAe/L,UACtBihC,GAAA,MAAA,CAAKG,MAAM,6BACPr1B,MAAM,oEACNs1B,KAAK,OAAOH,QA/C5B,WACQuU,KAyEZzf,eAA+B6f,EACAh2C,EACAwX,GACvB,IAACsY,UAAUmmB,UACX,OAGA,UACMnmB,UAAUmmB,UAAUC,UAAUF,GAC3BxjB,EAAAA,GAAQvL,QAAQsN,UAAU,CAC/B9M,QAASznB,EAAE,UACXy0B,OAAQ,mBAEPr1B,GACIozB,EAAAA,GAAQvL,QAAQsN,UAAU,CAC/B9M,QAASznB,EAAE,SACXy0B,OAAQ,UAEhB,CACJ,CA3F4BmhB,CAAAA,EAAS51C,EAAGwX,GACnBgb,EAAAA,GAAQvL,QAAQ0M,aAEjC,EA2CgB8N,QAAQ,YAAY,eAAa,MAAMC,OAAO,eAAcvhC,SAC5DihC,GAAA,OAAA,CAAM,iBAAe,QACjB,kBAAgB,QAChB9gC,EAAE,odASV8gC,GAAA,MAAA,CAAKl1B,MAAM,kCACPqP,OAAO,SAAQpb,SAAEy1C,YAIrC,CCnGO,SAASO,KACZ,MAAMn2C,EAAIowB,KACJ5Y,EAAWC,KACX0W,EAAShb,IAAapO,GAAiBA,EAAMkoC,GAAG9e,SACtD,OAAOiT,GAACoU,GAAQ,CACZtpC,MAAM,OACN6T,MAAO/f,EAAE,UACT+mC,QAAS5Y,EACTwT,SAAiBnqB,GAAAA,EAASgb,GAAQvL,QAAQmN,UAAUh1B,KAE5D,CAEO,SAASg3C,KACZ,MAAMp2C,EAAIowB,KACJ5Y,EAAWC,KACX4+B,EAAOljC,IAAapO,GAAiBA,EAAM86B,IAAI1E,eACrD,OAAOiG,GAACoU,GAAQ,CACZtpC,MAAM,OACN6T,MAAO/f,EAAE,cACT+mC,QAASsP,EACT1U,SAAiBnqB,GAAAA,EAASqd,GAAS5N,QAAQkU,aAAar8B,KAEhE,CAEO,SAASw3C,KACZ,MAAMt2C,EAAIowB,KACJ5Y,EAAWC,KACX4+B,EAAOljC,IAAapO,IAAkBA,EAAM86B,IAAI1C,WACtD,OAAOiE,GAACoU,GAAQ,CACZtpC,MAAM,OACN6T,MAAO/f,EAAE,iBACT+mC,QAASsP,EACT1U,YAAiBnqB,EAASqd,GAAS5N,QAAQkW,UAAUr+B,KAE7D,CAEO,SAASy3C,KACZ,MAAMv2C,EAAIowB,KACJ5Y,EAAWC,KACX4+B,EAAOljC,IAAapO,GAAiBA,EAAM86B,IAAI9E,iBACrD,OAAOqG,GAACoU,GAAQ,CACZtpC,MAAM,OACN6T,MAAO/f,EAAE,mBACT+mC,QAASsP,EACT1U,SAAiBnqB,GAAAA,EAASqd,GAAS5N,QAAQ8T,eAAej8B,KAElE,CAEO,SAAS03C,KACZ,MAAMx2C,EAAIowB,KACJ5Y,EAAWC,KACX4+B,EAAOljC,IAAapO,GAAiBA,EAAM86B,IAAI7E,mBACrD,OAAOoG,GAACoU,GAAQ,CACZtpC,MAAM,OACN6T,MAAO/f,EAAE,qBACT+mC,QAASsP,EACT1U,SAAiBnqB,GAAAA,EAASqd,GAAS5N,QAAQ+T,iBAAiBl8B,KAEpE,CAEO,SAAS23C,KACZ,MAAMz2C,EAAIowB,KACJ5Y,EAAWC,KACX2jB,EAASjoB,IAAapO,GAAiBA,EAAM86B,IAAIzE,SACjD0K,EAA8D,QAAnD3yB,IAAapO,GAAiBA,EAAMkoC,GAAGx8B,SACxD,OAAO2wB,GAACoU,GAAQ,CACZtpC,MAAM,OACN6T,MAAO/f,EAAE,SACT+mC,QAAS3L,EACT0K,WACAnE,SAAiBnqB,GAAAA,EAASqd,GAAS5N,QAAQmU,OAAOx7B,KAE1D,CAEO,SAAS82C,KACZ,MAAM12C,EAAIowB,KACJ5Y,EAAWC,KACXkV,EAASxZ,IAAapO,GAAiBA,EAAM86B,IAAIlT,SACjD2C,EAAWnc,IAAapO,GAAiBA,EAAM86B,IAAIlF,kBACnDmL,EAA8D,QAAnD3yB,IAAapO,GAAiBA,EAAMkoC,GAAGx8B,SAClDqpB,EAAuBF,KAC7B,OAAOtK,GAAYwK,EAAqB9W,QAAQ2X,gBAAkB,KAAOyG,GAACoU,GAAQ,CAC9EtpC,MAAM,OACN6T,MAAO/f,EAAE,UACT+mC,QAASpa,EACTmZ,WACAnE,SAAiBnqB,GAAAA,EAASqd,GAAS5N,QAAQyW,UAAU37B,KAE7D,CAEO,SAAS40C,KACZ,MAAM32C,EAAIowB,KACJ5Y,EAAWC,KACX6X,EAAWnc,IAAapO,GAAiBA,EAAM86B,IAAIlF,kBAEzD,OAD6Bf,KACD5W,QAAQ2X,gBAAkByG,GAACoU,GAAQ,CAC3DtpC,MAAM,OACN6T,MAAO/f,EAAE,YACT+mC,QAASzX,EACTqS,SAAiBnqB,GAAAA,EAASqd,GAAS5N,QAAQ4W,mBAAmBr+B,MAC7D,IACT,CAEO,SAASo3C,KACZ,MAAM52C,EAAIowB,KACJ5Y,EAAWC,KACXie,EAAUviB,IAAapO,GAAiBA,EAAM66B,KAAKlK,UACnDmhB,EAAU1jC,IAAapO,GAAuC,YAAtBA,EAAM86B,IAAItP,UAClDwW,EAAU5zB,IAAapO,GAAiBA,EAAM86B,IAAIjD,kBAA+B,OAAZlH,EACpEmhB,OAAAA,EAAUzV,GAACoU,GAAQ,CACtBtpC,MAAM,OACN6T,MAAO/f,EAAE,aACT+mC,UACApF,SAAiBtiC,IACRq2B,EAEOA,EAAQ9J,SAChBpU,EAASgb,GAAQvL,QAAQyM,eAAc,IAFvClc,EAASgb,GAAQvL,QAAQwM,WAAU,IAKvCjc,EAASqd,GAAS5N,QAAQiP,kBAAkB72B,GAAE,IAEjD,IACT,CChIO,SAASy3C,GAAOt2C,GAMbu2C,MAAAA,EAAYtoC,GAAuB,MACnCuoC,EAAWvoC,GAAuB,MAExCP,IAAU,KACF6oC,GAAuB,QAAvBA,MAAAA,OAAAA,EAAAA,EAAWx1C,SACX,OAGJ,MAAM01C,EAAWF,EAAUx1C,QAE3B,IAAI21C,GAAU,EACd,SAASC,EAAc/3C,GACbg4C,MAAAA,EAAeH,EAASI,wBACxBC,EAAUv7B,KAAK8O,IAAI,EAAG9O,KAAKw7B,IAAI,GAChCn4C,EAAEo4C,QAAUJ,EAAaK,MAAQL,EAAaM,QACnDl3C,EAAMmhC,SAAS2V,EACnB,CAEA,SAASK,EAAcv4C,GACT83C,GAAA,EACVC,EAAc/3C,EAClB,CACA,SAASw4C,EAAcx4C,GACd83C,GAILC,EAAc/3C,EAClB,CAEA,SAASy4C,EAAYz4C,GACP83C,GAAA,CACd,CASA,OANSjzC,EAAAA,iBAAiB,cAAe0zC,GAChC1zC,EAAAA,iBAAiB,cAAe2zC,GAChC3zC,EAAAA,iBAAiB,YAAa4zC,GAC9B5zC,EAAAA,iBAAiB,gBAAiB4zC,GAClC5zC,EAAAA,iBAAiB,eAAgB4zC,GAEnC,KACMzzC,EAAAA,oBAAoB,cAAeuzC,GACnCvzC,EAAAA,oBAAoB,cAAewzC,GACnCxzC,EAAAA,oBAAoB,YAAayzC,GACjCzzC,EAAAA,oBAAoB,gBAAiByzC,GACrCzzC,EAAAA,oBAAoB,eAAgByzC,EAAW,CAAA,GAE7D,CAACd,IAEEO,MAAAA,EAAUv7B,KAAK8O,IAAI9O,KAAKw7B,IAAI,EAAiB,IAAd/2C,EAAMiE,OAAc,KAEzD,OAAO08B,GAAA,MAAA,CAAKj1B,MAAO1L,EAAM0L,MAAQ,iBAAiB/L,UAC9CihC,GAAA,MAAA,CAAKl1B,MAAM,QAAO/L,SAAEK,EAAMuf,QAC1BohB,GAAA,MAAA,CAAKj1B,MAAM,QAAQxL,IAAKq2C,EAAU52C,UAC9BihC,GAAA,MAAA,CAAKl1B,MAAM,OACXk1B,GAAA,MAAA,CAAKl1B,MAAM,QAAQxL,IAAKs2C,EACpBtzC,MAAO,CAAE+zC,KAAM,QAAUH,EAAU,oBAGnD,CC9DO,SAASQ,GAAsBt3C,GAGlC,MAAMR,EAAIowB,KACJ2nB,EAAc5kC,IAAapO,GAAiBA,EAAM86B,IAAI3E,mBACtD1jB,EAAWC,KAEjB,OAAO2pB,GAAC0V,GAAM,CACV5qC,MAAO1L,EAAM0L,MACb6T,MAAO/f,EAAE,qBACTyE,MAAOszC,EACPpW,SAAqBnqB,GAAAA,EAASqd,GAAS5N,QAAQiU,iBAAiBz2B,KAExE,CAEO,SAASuzC,GAAoBx3C,GAGhC,MAAMR,EAAIowB,KACJ2nB,EAAc5kC,IAAapO,GAAiBA,EAAM86B,IAAI5E,gBACtDzjB,EAAWC,KAEjB,OAAO2pB,GAAC0V,GAAM,CACV5qC,MAAO1L,EAAM0L,MACb6T,MAAO/f,EAAE,kBACTyE,MAAOszC,EACPpW,SAAqBnqB,GAAAA,EAASqd,GAAS5N,QAAQgU,cAAcx2B,KAErE,CAEO,SAASwzC,GAAaz3C,GAGzB,MAAMR,EAAIowB,KACJtD,EAAS3Z,IAAapO,GAAiBA,EAAM86B,IAAI/S,SACjDtV,EAAWC,KAEjB,OAAO2pB,GAAC0V,GAAM,CACV5qC,MAAO1L,EAAM0L,MACb6T,MAAO/f,EAAE,UACTyE,MAAOqoB,EACP6U,SAAqBnqB,GAAAA,EAASqd,GAAS5N,QAAQ6F,OAAOroB,KAE9D,CC5CO,SAASyzC,GAAc13C,GAC1B,OAAO2gC,GAAA,MAAA,CAAKj1B,MAAM,6CAA4C/L,SAC1DihC,CAAAA,GAACqV,IAAe,GAChBrV,GAACkV,GAAY,IACblV,GAACgV,GAAc,CAAA,GACfhV,GAACmV,OACDnV,GAACoV,GAAkB,CAAA,GACnBpV,GAAC4W,GAAmB,CAAC9rC,MAAM,SAC3Bk1B,GAAC0W,OACD1W,GAAC6W,GAAc,CAAA,GACf7W,GAACwS,GAAkB,CAACR,WAAW,IAC/BhS,GAACyS,GAAoB,CAACT,WAAW,IACjChS,GAAC0S,GAAW,CAACV,WAAW,MAEhC,CChBO,SAAS+E,KACZ,MAAMre,EAAuBF,KACvBrJ,EAAUpd,IAAapO,GAAiBA,EAAM86B,IAAItP,UAClDjB,EAAWnc,IAAapO,GAAiBA,EAAM86B,IAAIlF,mBACrDb,EAAqB9W,QAAQ2X,gBAC3BJ,EAAapnB,IAAapO,GAAiBA,EAAM86B,IAAItF,aACrD6d,EAAYjlC,IAAapO,GAAiBA,EAAM86B,IAAInD,cACpDrB,EAAQloB,IAAapO,GAAiBA,EAAM86B,IAAIxE,QAChDgd,EAAYllC,IAAapO,GAAiBA,EAAM86B,IAAIhD,gBACpDyb,EAASv8B,KAAKujB,MAAMnsB,IAAapO,GAAiBA,EAAM86B,IAAIxE,MAAMC,cAAe,KACjFid,EAAcx8B,KAAKujB,MAAMjE,EAAMY,UAAY,KAAO,KAAO,KAAO,IAChEuc,EAAgBnd,EAAMa,cAAgB,IAAQ,EAChDngB,KAAKujB,MAAMiZ,EAAcld,EAAMa,cAAgB,IAAO,KAAO,IAAM,EACvE,OAAOiF,GAAA,MAAA,CAAKj1B,MAAM,0CAAyC/L,UACvDghC,GAAA,MAAA,CAAKj1B,MAAM,2BAA0B/L,UAAC,eACrBs4C,QAAc,IAAEle,KAEjC6G,GAAA,MAAA,CAAKl1B,MAAM,yBAAwB/L,SAC/BghC,GAAA,QAAA,CAAOj1B,MAAM,6BAA4B/L,UACrCihC,GAAA,QAAA,CAAAjhC,SACIghC,GAAA,KAAA,CAAAhhC,UACIihC,GAAA,KAAA,CAAAjhC,SAAI,WACJihC,GAAA,KAAA,CAAAjhC,SAAI,eAGZghC,GAAA,QAAA,CAAAhhC,UACIghC,GAAA,KAAA,CAAAhhC,UACIihC,GAAA,KAAA,CAAAjhC,SAAI,cACJihC,GAAA,KAAA,CAAAjhC,SAAKowB,EAAU,KAAOjB,EAAW,OAAS,aAE9C6R,GAAA,KAAA,CAAAhhC,UACIihC,GAAA,KAAA,CAAAjhC,SAAI,WACJghC,GAAA,KAAA,CAAAhhC,UAAK4b,KAAKujB,OAAOv7B,KAAKC,MAAQo0C,GAAa,KAAO,GAAG,WAEzDjX,GAAA,KAAA,CAAAhhC,UACIihC,GAAA,KAAA,CAAAjhC,SAAI,cACFm4C,GAAU,GAAKlX,GAAA,KAAA,CAAAjhC,SAAI,QACnBm4C,EAAS,GAAKA,GAAU,KAAQnX,GAAA,KAAA,CAAAhhC,SAAA,CAAKm4C,EAAO,QAC5CA,EAAS,KAAQnX,GAAA,KAAA,CAAAhhC,SAAA,CAAK4b,KAAKujB,MAAMgZ,EAAS,KAAM,YAEtDnX,GAAA,KAAA,CAAAhhC,UACIihC,GAAA,KAAA,CAAAjhC,SAAI,yBACJihC,GAAA,KAAA,CAAAjhC,SAAKk7B,EAAME,6BAEf4F,GAAA,KAAA,CAAAhhC,UACIihC,GAAA,KAAA,CAAAjhC,SAAI,kBACJihC,GAAA,KAAA,CAAAjhC,SAAKk7B,EAAMG,iBAEf2F,GAAA,KAAA,CAAAhhC,UACIihC,GAAA,KAAA,CAAAjhC,SAAI,iBACJihC,GAAA,KAAA,CAAAjhC,SAAKk7B,EAAMI,qBAEf0F,GAAA,KAAA,CAAAhhC,UACIihC,GAAA,KAAA,CAAAjhC,SAAI,gBACJihC,GAAA,KAAA,CAAAjhC,SAAKk7B,EAAMK,iBAEfyF,GAAA,KAAA,CAAAhhC,UACIihC,GAAA,KAAA,CAAAjhC,SAAI,gBACJihC,GAAA,KAAA,CAAAjhC,SAAKk7B,EAAMM,iBAEfwF,GAAA,KAAA,CAAAhhC,UACIihC,GAAA,KAAA,CAAAjhC,SAAI,eACJihC,GAAA,KAAA,CAAAjhC,SAAKk7B,EAAMO,mBAEfuF,GAAA,KAAA,CAAAhhC,UACIihC,GAAA,KAAA,CAAAjhC,SAAI,eACJihC,GAAA,KAAA,CAAAjhC,SAAKk7B,EAAMQ,mBAEfsF,GAAA,KAAA,CAAAhhC,UACIihC,GAAA,KAAA,CAAAjhC,SAAI,eACJghC,GAAA,KAAA,CAAAhhC,UAAK4b,KAAKujB,MAAMjE,EAAMU,QAAU,KAAO,KAAO,IAAI,WAEtDoF,GAAA,KAAA,CAAAhhC,UACIihC,GAAA,KAAA,CAAAjhC,SAAI,eACJghC,GAAA,KAAA,CAAAhhC,UAAK4b,KAAKujB,MAAMjE,EAAMS,QAAU,KAAO,KAAO,IAAI,WAErDuc,EAAU9uC,KAAI,CAACmvC,EAAM15C,IACXmiC,GAAA,KAAA,CAAAhhC,UACHghC,GAAA,KAAA,CAAAhhC,SAAA,CAAI,OAAW,GAALnB,EAAS,KAAO,QAC1BmiC,GAAA,KAAA,CAAAhhC,SAAKu4C,CAAAA,EAAKnY,MAAM,IAAEmY,EAAKC,MAAQ,MAAQ,cAG/CxX,GAAA,KAAA,CAAAhhC,UACIihC,GAAA,KAAA,CAAAjhC,SAAI,eACJghC,GAAA,KAAA,CAAAhhC,UAAKo4C,EAAY,QAAMC,EAAa,cAExCrX,GAAA,KAAA,CAAAhhC,UACIihC,GAAA,KAAA,CAAAjhC,SAAI,eACJghC,GAAA,KAAA,CAAAhhC,UAAK4b,KAAKujB,MAAMjE,EAAMW,UAAY,KAAO,KAAO,KAAO,IAAI,WAE/DmF,GAAA,KAAA,CAAAhhC,UACIihC,GAAA,KAAA,CAAAjhC,SAAI,cACJghC,GAAA,KAAA,CAAAhhC,UAAK4b,KAAKujB,MAAMjE,EAAMgB,eAAiB,KAAO,KAAO,KAAO,IAAI,WAEpE8E,GAAA,KAAA,CAAAhhC,UACIihC,GAAA,KAAA,CAAAjhC,SAAI,uBACJghC,GAAA,KAAA,CAAAhhC,SAAA,CAAKk7B,EAAMc,cAAc,MAAId,EAAMe,qBAEvC+E,GAAA,KAAA,CAAAhhC,UACIihC,GAAA,KAAA,CAAAjhC,SAAI,WACJihC,GAAA,KAAA,CAAAjhC,SAAKk7B,EAAMiB,QAAQ/yB,KAAYqvC,GACpBA,EAAG1J,OACXx3B,KAAK,WAEZypB,GAAA,KAAA,CAAAhhC,UACIihC,GAAA,KAAA,CAAAjhC,SAAI,WACJihC,GAAA,KAAA,CAAAjhC,SAAKk7B,EAAMiB,QAAQ/yB,KAAYqvC,GACpBA,EAAGD,QACXjhC,KAAK,qBAMhC,CCvGO,SAASmhC,KACZ,MAAMte,EAAapnB,IAAapO,GAAiBA,EAAM86B,IAAItF,aAE3D,OAAO4G,GAAA,MAAA,CAAKj1B,MAAM,iBAAgB/L,SAC9BihC,CAAAA,GAAC0X,GAAM,IACP1X,GAAC2X,GAAW,CAAA,GACZ3X,GAAA,MAAA,CAAKl1B,MAAM,kCAAiC/L,SACxCghC,GAAA,OAAA,CAAMj1B,MAAM,gCAA+B/L,UAAC,MACpCs4C,QAAc,QAAMle,EAAWte,UAAU,EAAGse,EAAW10B,QAAQ,aAInF,CAEA,IAAImzC,GAAa,QAEjB,SAASD,KACL,MAAM/4C,EAAIowB,KACJsF,EAAUviB,IAAapO,GAAiBA,EAAM66B,KAAKlK,UACnDrC,EAAQlgB,IAAapO,GAAiBA,EAAMkoC,GAAG5Z,QAC/CG,EAAUrgB,IAAapO,GAAiBA,EAAMkoC,GAAGzZ,WAChDuC,EAAOkjB,GAAiBlrC,IAAiB2nB,MAAAA,OAAAA,EAAAA,EAASK,QAAS,KAC5D+C,kBAAEA,GAAsB3lB,IAAapO,GACvC8zB,GAAiB9zB,EAAM+rB,KAAKsI,uBAC5BP,GAAiB,aACdkc,EAAkBC,GAAuBjnC,IAAkB,GAC5D6d,IAAoBA,MAAT8J,OAAS9J,EAAAA,EAAAA,WAAW,IAAUmpB,EACzCjb,EAAuBF,KACvBnG,EAAYtgB,IAAapO,GAAiBA,EAAMkoC,GAAGxZ,YACnDC,EAAgBvgB,IAAapO,GAAiBA,EAAMkoC,GAAGvZ,gBACvDlc,EAAWC,KACX/E,EAAQ2E,KAOd,GALAnJ,IAAU,KACNggC,GAAmBpV,EAAmBpD,GACjC7tB,KAAKmtC,EAAmB,GAC9B,CAAUjf,MAATL,OAASK,EAAAA,EAAAA,MAAO+C,IAEhBzF,GAASG,EACF,OAAA,KAGX,SAAS0lB,EAASnjB,GACVA,IAAUijB,KAIdxhC,EAASgb,GAAQvL,QAAQwM,WAAU,IACnCjc,EAASgb,GAAQvL,QAAQyM,eAAc,IAE1BqC,GAAAA,EACbkjB,EAAcljB,GACFA,GAAAA,GACPluB,MAAK,EAAGkuB,MAAAA,EAAOL,QAAAA,MACRK,IAAUijB,KACVxhC,EAASie,GAAUxO,QAAQ+O,WAAWN,IAClCoE,EAAqB9W,QAAQ8qB,KAC7BY,GAAkB5U,EAAqB9W,QAAQ8qB,IAAKp7B,GAAO0rB,OAAah/B,IACpEsT,EAAM8E,SAASqd,GAAS5N,QAAQsW,SAASn+B,EAAEqoB,SAAQ,IAG/D,IACD2W,MAAMC,QAAQrc,OACzB,CAQA,SAASm3B,IACLtf,GAAeC,EAAsB,WACzC,CARA5rB,IAAU,KACM6nB,GAAAA,GAAOluB,MAAK,EAAGkuB,MAAAA,EAAOL,QAAAA,MAC9Ble,EAASie,GAAUxO,QAAQ+O,WAAWN,GAAQ,GACjD,GACF,IAMG0jB,MAAAA,EAA4B,kCAAnB1jB,WAASI,OAClBujB,EAAWjY,GAAA,MAAA,CAAKG,MAAM,6BAA6BC,KAAK,OAC1DC,QAAQ,YAAY,eAAa,MAAMC,OAAO,eAAex1B,MAAM,6CAA4C/L,SAC/GihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QACzC9gC,EAAE,uLAKV,OAAO6gC,GAAA,MAAA,CAAKj1B,MAAM,kCAAiC/L,SAC9Cu1B,CAAY,OAAZA,GAAoB11B,EAAE,eACV,OAAZ01B,GAAoByL,GAAA,MAAA,CAAKj1B,MAAOktC,EAAS,kBAAoB,GAAGj5C,SAAA,CAC5DH,EAAE,SAAW,MAAQo5C,EAAS,WAAc1jB,EAAQlvB,MAAQkvB,EAAQI,OAAU,IAC/EqL,GAAA,OAAA,CAAMj1B,MAAM,0CACRm1B,QAASA,IAAM6X,EAAS,IAAI/4C,SAAA,CAAC,IAAEH,EAAE,UAAU,UAEnDmhC,GAAA,MAAA,CAAKj1B,MAAM,OAAM/L,UACA,OAAZu1B,GAAoByL,GAAAG,EAAA,CAAAnhC,UAChBH,EAAE,mBACHohC,GAAA,IAAA,CAAG8O,KAAK,4BACJ7O,QAAS8X,EACT59B,OAAO,SAASrP,MAAM,yBAAwB/L,SAAEH,EAAE,aAC/CA,EAAE,oBAAoB,OAEpB,OAAZ01B,IAAgC,IAAZ9J,GAAqBuV,GAAAG,EAAA,CAAAnhC,SAAA,CACrCk5C,EACDlY,GAAA,OAAA,CAAMj1B,MAAQwnB,EAAgB,yBAA2B,GAAIvzB,UACxDH,EAAE,oBACHmhC,GAAA,IAAA,CAAG+O,KAAK,4BACJ7O,QAAS8X,EACT59B,OAAO,SAASrP,MAAO,wBAClBwnB,EAAgB,GAAK,gBAAgBvzB,SAAA,CAAE,IAAEH,EAAE,OAAO,gBAI1D,OAAZ01B,GACGyL,GAAA,MAAA,CAAKj1B,MAAM,QAAO/L,SAAA,CACbk5C,EACDjY,GAAA,QAAA,CAAOkY,UAAW,EAAG70C,MAAOsxB,EAAO4L,SAAWviC,GAAM85C,EAAS95C,EAAEyiC,cAAcp9B,OACzE4wC,YAAY,QACZnpC,MAAO,4FACFunB,EAAY,+BAAiC,WAGtE,CAEO,SAASqlB,GAAKt4C,GACjB,MAAMkwB,EAAgBvd,IAAapO,GAAiBA,EAAMopB,OAAOuC,gBAC3DC,EAAexd,IAAapO,GAAiBA,EAAMopB,OAAOwC,eAC1D4oB,EAAepmC,IAAapO,GAAoC,SAAnBA,EAAMkoC,GAAGva,QACtDoH,EAAuBF,KACvBpiB,EAAWC,KACXzX,EAAIowB,KAEV+F,eAAeqjB,UACX,GAAI9oB,EAAe,CACf,MAAM+J,EAAS9J,EACT6J,EAASV,OAAAA,EAAqBiT,EAAAA,mBAAcvS,EAAAA,EAAAA,OAC9CA,GAAW,OAAXA,GAA8B,OAAXC,IAAoB+H,YAAYiX,OAAOjf,GACpD,MAAA,IAAIvoB,MAAM,mEAGhB,IACA6nB,EAAqBiT,aAAcvS,aACzB0E,UAAUwa,mBAAmBlf,EAAQC,GAC/CjjB,EAASqd,GAAS5N,QAAQ6N,QAAQ,CAAA,UAC7B11B,GACLoY,EAASqd,GAAS5N,QAAQsW,SAAUn+B,EAAYqoB,SAAW,oBAC/D,CAAA,MAEAjQ,EAASqd,GAAS5N,QAAQ6N,QAAQ,CAAA,GAE1C,CAEIt0B,OAAiB,IAAjBA,EAAMm5C,OACCxY,GAAA,MAAA,CAAKj1B,MAAM,kCAAkCm1B,QAASmY,EAAOr5C,UAChEghC,GAAA,MAAA,CAAKI,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,YACxD,eAAa,MAAMC,OAAO,eAAex1B,MAAM,UAAS/L,UACxDihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,uCACvD8gC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,0HAI1DN,EAAE,WAGAmhC,GAAA,MAAA,CAAKj1B,MAAO1L,EAAM0L,MAAQ,2EACCm1B,QAASmY,EAAOr5C,UAC9CghC,GAAA,MAAA,CAAKI,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,YACxD,eAAa,MAAMC,OAAO,eAAex1B,MAAM,4BAA2B/L,UAC1EihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,uCACvD8gC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,0HAI3D6gC,GAAA,MAAA,CAAKI,MAAM,6BAA6BC,KAAK,OACzCC,QAAQ,YAAY,eAAa,MACjCC,OAAO,eAAex1B,MAAO,sDACxBqtC,EAAe,qBAAuB,IAC3ClY,QAAgBjiC,IAECozB,EADT+mB,EACS/mB,GAAQvL,QAAQ0M,YAEhBnB,GAAQvL,QAAQiN,eAE7B90B,EAAEw6C,iBAAgB,EACpBz5C,UACFihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,29BAavD8gC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,0CAIvE,CC5MO,SAASu5C,GAAYr5C,GACxB,OAAO2gC,GAAA,MAAA,CAAKj1B,MAAM,2CAA0C/L,SAAA,CACxDihC,GAAC0X,GAAI,CAACa,QAAQ,IACdvY,GAACkV,GAAY,CAAA,GACblV,GAACgV,GAAY,IACbhV,GAACmV,GAAc,CAAE,GACjBnV,GAACoV,GAAgB,IACjBpV,GAAC4W,GAAmB,CAAC9rC,MAAM,SAC3Bk1B,GAAC0W,OACD1W,GAAC6W,GAAc,CAAA,GACf7W,GAACmS,GAAa,CAACH,WAAW,IAC1BhS,GAACsV,IAAgB,GACjBtV,GAACuS,GAAY,CAACP,WAAW,IACzBhS,GAACwS,GAAkB,CAACR,WAAW,IAC/BhS,GAACuV,GAAkB,CAAA,GACnBvV,GAACwV,OACDxV,GAAC+U,IAAQ,GACT/U,GAAC0S,GAAW,CAACV,WAAW,MAEhC,CClBO,SAAS0G,GAAMt5C,GAClB,MAAMkyB,EAAQvf,IAAapO,GAAiBA,EAAMkoC,GAAGva,QAC/CC,EAAUxf,IAAapO,GAAiBA,EAAMkoC,GAAGta,UACjDC,EAAazf,IAAapO,GAAiBA,EAAMkoC,GAAGra,aAC1D,MAAc,SAAVF,EACO,KAIJyO,GAAA,MAAA,CAAKj1B,MAAO,UAAYymB,EAAU,aAAe,KACnDA,GAAWC,EAAa,GAAK,aAAazyB,SACzCuyB,CAAU,aAAVA,GAAwB0O,GAAC8W,GAAa,CAAE,GAC9B,gBAAVxlB,GAA2B0O,GAACzB,GAAY,CAAA,GAC9B,cAAVjN,GAAyB0O,GAACqP,GAAa,IAC7B,YAAV/d,GAAuB0O,GAACuU,GAAc,CAAA,GAC5B,UAAVjjB,GAAqB0O,GAAC+W,GAAU,CAAE,GACxB,eAAVzlB,GAA0B0O,GAAC6S,OACjB,WAAVvhB,GAAsB0O,GAACyY,SAEjC,CC1BgBE,SAAAA,GAAqBlnB,EAAqBngB,GAChDsnC,MAAAA,EAAOtgB,GAAwBhnB,GAAOsnC,KACxCnnB,EACImnB,EAAKC,kBACLD,EAAKC,oBACED,EAAKE,wBACZF,EAAKE,0BACEF,EAAKG,qBACZH,EAAKG,uBACEH,EAAKI,oBACZJ,EAAKI,sBACEJ,EAAKK,sBACZL,EAAKK,wBAEAC,EAAAA,UAAUpiC,IAAI,+BAGnB8hC,EAAKM,UAAUC,SAAS,+BACnBD,EAAAA,UAAUjK,OAAO,+BACfrqC,SAASw0C,eAChBx0C,SAASw0C,iBACDx0C,SAAiBy0C,qBACxBz0C,SAAiBy0C,uBACVz0C,SAAiB00C,oBACxB10C,SAAiB00C,sBACV10C,SAAiB20C,kBACxB30C,SAAiB20C,mBAI1BjoC,EAAM8E,SAASgb,GAAQvL,QAAQqN,cAAczB,GACjD,CC9BO,SAAS+nB,GAAiBp6C,GAG7B,MAAMqyB,EAAa1f,IAAapO,GAAiBA,EAAMkoC,GAAGpa,aACpDngB,EAAQ2E,KAMd,OAAO+pB,GAAA,MAAA,CAAKl1B,MAAO,oCAAsC1L,EAAM0L,MAAOm1B,QAJtE,WACyB0Y,IAAClnB,EAAYngB,EACtC,EAEuFvS,SACnFghC,GAAA,MAAA,CAAKj1B,MAAO,wCAAwC/L,SAC/C,EAAC0yB,GACEuO,GAAA,MAAA,CAAKtyB,QAAQ,MAAMsa,GAAG,UAAUmY,MAAM,6BAA6Bt/B,EAAE,MAAMlC,EAAE,MACzE0hC,QAAQ,YAAYD,KAAK,eAAeE,OAAO,OAAO,oBAAkB,gBAAevhC,SACvFihC,GAAA,IAAA,CAAAjhC,SACIihC,GAAA,OAAA,CAAM,YAAU,UAAU,YAAU,UAAU9gC,EAAE,wbAQ3DuyB,GACGuO,GAAA,MAAA,CAAKtyB,QAAQ,MAAMsa,GAAG,UAAUmY,MAAM,6BAA6Bt/B,EAAE,MAAMlC,EAAE,MACzE0hC,QAAQ,YAAYD,KAAK,eAAeE,OAAO,OAAO,oBAAkB,gBAAevhC,SACvFihC,GAAA,IAAA,CAAAjhC,SACIihC,GAAA,OAAA,CAAM,YAAU,UAAU,YAAU,UAAU9gC,EAAE,kbAWxE,CCvCO,SAASu6C,GAAcr6C,GAG1B,MAAMs6C,EAA+D,YAAlD3nC,IAAapO,GAAiBA,EAAMkoC,GAAGva,QACpDqoB,EAAW5nC,IAAapO,GAA2C,cAA1BA,EAAM86B,IAAItD,QAAQE,MAC3DjlB,EAAWC,KAUjB,OAAO2pB,GAAA,MAAA,CAAKl1B,MAAO,kCACd4uC,EAAa,sBAAwB,KACrCC,EAAW,aAAe,IAC3Bv6C,EAAM0L,MAAOm1B,QAXjB,WAEiB7O,EADTsoB,EACStoB,GAAQvL,QAAQ0M,YAEhBnB,GAAQvL,QAAQ4M,eAEjC,EAKkC1zB,SAC9BghC,GAAA,MAAA,CAAKj1B,MAAM,gBAAe/L,UACtBihC,GAAA,MAAA,CAAKG,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,YACxD,eAAa,MAAMC,OAAO,eAAex1B,MAAM,gBAAe/L,SAC9DihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,oLAIzDy6C,GAAY3Z,GAAA,MAAA,CAAKG,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,YAAY,eAAa,MAC/FC,OAAO,eAAex1B,MAAM,iDAAgD/L,SAC5EihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,qBAMvE,CC/BO,SAAS06C,GAAgBx6C,GAG5B,OAAO4gC,GAAC6Z,GAAa,CACjB/uC,MAAO1L,EAAM0L,MACbwmB,MAAM,aACNvV,OAAQqV,GAAQvL,QAAQgN,iBAAiB9zB,SAEzCihC,GAAA,MAAA,CAAKG,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,YACxD,eAAa,MAAMC,OAAO,eAAex1B,MAAM,gBAAe/L,SAC9DihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,4WAQnE,CAEO,SAAS46C,GAAiB16C,GAC7B,OAAO4gC,GAAC6Z,GAAa,CACjB/uC,MAAO1L,EAAM0L,MACbwmB,MAAM,cACNvV,OAAQqV,GAAQvL,QAAQ8M,YAAY5zB,SAEpCihC,GAAA,MAAA,CAAKG,MAAM,6BACPC,KAAK,OAAOC,QAAQ,YACpB,eAAa,MACbC,OAAO,eACPx1B,MAAM,gBAAe/L,SACrBihC,GAAA,OAAA,CAAM,iBAAe,QACjB,kBAAgB,QAChB9gC,EAAE,6RAMlB,CAEO,SAAS66C,GAAS36C,GAGrB,OAAO4gC,GAAC6Z,GAAa,CACjB/uC,MAAO1L,EAAM0L,MACbwmB,MAAM,YACNvV,OAAQqV,GAAQvL,QAAQ+M,UAAU7zB,SAElCihC,GAAA,MAAA,CAAKG,MAAM,6BAA6BC,KAAK,OACzCC,QAAQ,YAAY,eAAa,MAAMC,OAAO,eAAex1B,MAAM,gBAAe/L,SAClFihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,ySAOnE,CAEO,SAAS86C,KACN9C,MAAAA,EAASv8B,KAAKujB,MAAMnsB,IAAapO,GAAiBA,EAAM86B,IAAIxE,MAAMC,cAAe,KACvF,OAAO6F,GAAC8Z,GAAa,CACjB/uC,MAAM,SACNwmB,MAAM,QACNvV,OAAQqV,GAAQvL,QAAQ6M,aAAa3zB,UACpCm4C,GAAU,GAAKnX,GAAAG,EAAA,CAAAnhC,UAAEihC,GAAA,OAAA,CAAAjhC,SAAM,MAAQihC,GAAA,MAAA,CAAAjhC,SAAK,UACpCm4C,EAAS,GAAKA,GAAU,KAAQnX,GAAAG,EAAA,CAAAnhC,UAAEihC,GAAA,OAAA,CAAAjhC,SAAOm4C,IAAclX,GAAA,MAAA,CAAAjhC,SAAK,UAC5Dm4C,EAAS,GAAKA,EAAS,KAAQnX,GAAAG,EAAA,CAAAnhC,UAAEihC,GAAA,OAAA,CAAAjhC,SAAO4b,KAAKujB,MAAMgZ,EAAS,OAAanX,GAAA,MAAA,CAAAhhC,UAAKihC,GAAA,SAAA,CAAAjhC,SAAQ,MAAY,aAE3G,CAEO,SAASk7C,GAAO76C,GACnB,MAAMkS,EAAe2E,KACf3W,EAAM+N,GAAuB,OAC5B1J,GAASgJ,GAEb,CAAEutC,KAAM,EAAGC,SAAS,EAAOC,WAAY,IAE1CttC,IAAU,KACN,GAAIxN,EAAIa,QAAS,CACb,MAAMk6C,EAAK/6C,EAAIa,QACZ+4C,EAAAA,UAAUpiC,IAAI,eAEXkR,MAAAA,EAAKsyB,aAAY,KACnB,GAAI32C,EAAMy2C,YAAcz3C,KAAKC,MAAO,CAChC,MAAM23C,EAAUzoC,GAASR,GAAOmtB,IAAIxE,MAAMY,UACpC2f,EAAa72C,EAAMu2C,OAASK,EAC9BC,IAAe72C,EAAMw2C,UACrBE,EAAGnB,UAAUjK,OAAO,cAAe,eAAgB,eAC/CuL,EACGtB,EAAAA,UAAUpiC,IAAI,eAAgB,eAE9BoiC,EAAAA,UAAUpiC,IAAI,eAErBnT,EAAMw2C,QAAUK,GAIhB72C,EAAMy2C,WADNI,EACmB73C,KAAKC,MAAQ,IAAsB,KAAhB+X,KAAKC,SAExB,EAGvBjX,EAAMu2C,KAAOK,CACjB,IACD,KAEH,MAAO,KACHF,EAAGnB,UAAUjK,OAAO,cAAe,eAAgB,eACnD7b,cAAcpL,EAAE,CAExB,IACD,CAAC1oB,EAAKqE,IACT,MAAO2H,EAAImvC,GAAS9tC,IAAkB,IAC/B+tC,EAAKC,GAAUhuC,GAAqD,CACvEutC,KAAM,EACNU,UAAW,OAETC,EAAY9oC,IAAapO,GAAiBA,EAAM86B,IAAIxE,MAAMY,YAC5D6f,GAAAA,EAAIR,OAASW,EAAW,CACnBvvC,GACDmvC,GAAM,GAGNC,EAAIE,WACJnzC,aAAaizC,EAAIE,WAGf5yB,MAAAA,EAAKphB,YAAW,KAClB6zC,GAAM,GACCE,EAAA,CACHT,KAAMW,EACND,UAAW,MACd,GACF,KAEID,EAAA,CACHT,KAAMW,EACND,UAAW5yB,GAEnB,CACA,OAAOgY,GAAA,MAAA,CAAK1gC,MAAUwL,MAAM,+BAChC,CAEO,SAASgwC,GAAe17C,GAG3B,OAAO4gC,GAAC6Z,GAAa,CACjB/uC,MAAO1L,EAAM0L,MACbiR,OAAQqV,GAAQvL,QAAQ2M,gBACxBlB,MAAM,WAAUvyB,SAEhBghC,GAAA,MAAA,CAAKI,MAAM,6BAA6BC,KAAK,OACzCC,QAAQ,YAAY,eAAa,MACjCC,OAAO,eAAex1B,MAAM,gBAAe/L,UAC3CihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,29BAavD8gC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,yCAInE,CAEO,SAAS26C,GAAcz6C,GAMpBs6C,MAAAA,EAAa3nC,IAAapO,GAAiBA,EAAMkoC,GAAGva,UAAWlyB,EAAMkyB,MACrElb,EAAWC,KAUjB,OAAO2pB,GAAA,MAAA,CAAKl1B,MAAO,mBAAqB4uC,EAAa,qBAAuB,IACxEt6C,EAAM0L,MAAOm1B,QATjB,WAEiB7O,EADTsoB,EACStoB,GAAQvL,QAAQ0M,YAEhBnzB,EAAM2c,OAEvB,EAGkChd,SAC7BK,EAAML,UAEf,CAEO,SAASg8C,GAAmB37C,GAG/B,MAAMs8B,EAAe3pB,IAAapO,GAAiBA,EAAM86B,IAAI/C,eACvDtlB,EAAWC,KAGjB,OAAO2pB,GAAA,MAAA,CAAKl1B,MAAO,mBAAqB4wB,EAAe,qBAAuB,IAC1Et8B,EAAM0L,MAAOm1B,QAASA,IAAM7pB,EAASqd,GAAS5N,QAAQ6V,cAAcA,IAAe38B,SACnFghC,GAAA,MAAA,CAAKj1B,MAAM,gBAAgBs1B,KAAK,eAAeE,OAAO,eAAe5yB,QAAQ,MAAMsa,GAAG,UAAUqY,QAAQ,kBAAiBthC,UAACihC,GAAA,IAAA,CAAGhY,GAAG,oBAAoB,eAAa,MAAQgY,GAAA,IAAA,CAAGhY,GAAG,wBAAwB,iBAAe,QAAQ,kBAAgB,UAAY+X,GAAA,IAAA,CAAG/X,GAAG,sBAAqBjpB,SAAA,CAAC,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACihC,GAAA,OAAA,CAAM9gC,EAAE,+XAAqY,OAAK,OAAK,IAAA6gC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACihC,GAAA,OAAA,CAAM9gC,EAAE,4IAAkJ,OAAK,OAAK,IAAA6gC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACihC,GAAA,OAAA,CAAM9gC,EAAE,2IAAiJ,OAAK,OAAK,IAAA6gC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACihC,GAAA,OAAA,CAAM9gC,EAAE,mJAAyJ,OAAK,OAAK,IAAA6gC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACihC,GAAA,OAAA,CAAM9gC,EAAE,6IAAmJ,OAAK,OAAK,IAAA6gC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACihC,GAAA,OAAA,CAAM9gC,EAAE,kJAAwJ,OAAK,OAAK,IAAA6gC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACihC,GAAA,OAAA,CAAM9gC,EAAE,kJAAwJ,OAAK,OAAK,IAAA6gC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACihC,GAAA,OAAA,CAAM9gC,EAAE,kJAAwJ,OAAK,OAAK,IAAA6gC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACihC,GAAA,OAAA,CAAM9gC,EAAE,uIAA6I,OAAK,OAAK,IAAA6gC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACihC,GAAA,OAAA,CAAM9gC,EAAE,kJAAwJ,OAAK,OAAK,IAAA6gC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACihC,GAAA,OAAA,CAAM9gC,EAAE,kJAAwJ,OAAK,OAAK,IAAA6gC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACihC,GAAA,OAAA,CAAM9gC,EAAE,kJAAwJ,OAAK,OAAK,IAAA6gC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACihC,GAAA,OAAA,CAAM9gC,EAAE,kJAAwJ,OAAK,OAAK,IAAA6gC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACihC,GAAA,OAAA,CAAM9gC,EAAE,kJAAwJ,OAAK,OAAK,IAAA6gC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACihC,GAAA,OAAA,CAAM9gC,EAAE,kJAAwJ,OAAK,OAAK,IAAA6gC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACihC,GAAA,OAAA,CAAM9gC,EAAE,kJAAwJ,OAAK,OAAK,IAAA6gC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACihC,GAAA,OAAA,CAAM9gC,EAAE,kJAAwJ,OAAK,OAAK,IAAA6gC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACihC,GAAA,OAAA,CAAM9gC,EAAE,kJAAwJ,OAAK,OAAK,IAAA6gC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACihC,GAAA,OAAA,CAAM9gC,EAAE,6IAAmJ,OAAK,OAAK,IAAA6gC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACihC,GAAA,OAAA,CAAM9gC,EAAE,kJAAwJ,OAAK,OAAK,IAAA6gC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACihC,GAAA,OAAA,CAAM9gC,EAAE,kJAAwJ,OAAK,OAAK,IAAA6gC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACghC,GAAA,IAAA,CAAAhhC,SAAA,CAAG,IAACihC,GAAA,OAAA,CAAM9gC,EAAE,kJAAwJ,OAAK,OAAK,WAGvzI,CAEO,SAAS87C,GAAa57C,GACzB,OAAO4gC,GAAC6Z,GAAa,CACjB/uC,MAAO1L,EAAM0L,MACbwmB,MAAM,SACNvV,OAAQqV,GAAQvL,QAAQiN,cAAc/zB,SAEtCghC,GAAA,MAAA,CAAKI,MAAM,6BAA6BC,KAAK,OACzCC,QAAQ,YAAY,eAAa,MACjCC,OAAO,eAAex1B,MAAM,gBAAe/L,UAC3CihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,29BAavD8gC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,yCAGnE,CCpPO,SAAS+7C,GAAa77C,GAGzB,OAAO4gC,GAAA,MAAA,CAAKG,MAAM,6BACd79B,MAAM,eACN+9B,QAAQ,YAAY,oBAAkB,gBACtCD,KAAK,eAAet1B,MAAQ,4BAA8B1L,EAAM0L,MAAO/L,SACvEihC,GAAA,OAAA,CAAM,YAAU,UAAU,YAAU,UAChC9gC,EAAE,6NAKd,CCPO,SAASg8C,KACZ,MAAOC,EAAUC,GAAezuC,IAAkB,GAC5C0uC,EAA+D,YAArDtpC,IAAapO,GAAiBA,EAAM86B,IAAItP,UACxD,OAAO4Q,GAAA,MAAA,CAAKj1B,MAAM,+DAA8D/L,SAAA,CAC5EihC,GAACsb,GAAe,CAAE,GAChBD,GAAWrb,GAACub,GAAU,CAAC58B,MAAM,IAAI68B,QAAQ,aACvCC,UAAU,uBAAuBxb,QAASA,IAAMmb,GAAY,KAC9DC,GAAWF,GAAYnb,GAAC0b,GAAU,CAAC/8B,MAAM,IAAI68B,QAAQ,iBAE/D,CAEA,SAASD,GAAWn8C,GAMhB,MAAMs5B,EAAuBF,KAe7B,OAAOuH,GAAA,MAAA,CAAKj1B,MAAO,qCACfm1B,QAfJ,WACI,MAAMtH,EAAKD,EAAqBC,GACrB,OAAPA,IAIJA,EAAGgjB,iBAAiB,CAChBx8C,KAAM,mBACNgE,MAAO,mBAGX/D,EAAM6gC,UACV,EAGqBlhC,UACjBihC,GAACib,GAAc,CAAA,GACfjb,GAAA,MAAA,CAAKl1B,MAAO,cAAgB1L,EAAMq8C,UAAY,IAAMr8C,EAAMo8C,QAAQz8C,SAAEK,EAAMuf,QAC1EqhB,GAAA,MAAA,CAAKG,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,YAAY,eAAa,MACjFC,OAAO,eAAex1B,MAAM,4BAA2B/L,SACvDihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,4mBAanE,CAEA,SAASw8C,GAAWt8C,GAIhB,MAAMs5B,EAAuBF,KAa7B,OAAOuH,GAAA,MAAA,CAAKj1B,MAAO,qCACfm1B,QAbJ,WACI,MAAMtH,EAAKD,EAAqBC,GACrB,OAAPA,GAIJA,EAAGgjB,iBAAiB,CAChBx8C,KAAM,mBACNgE,MAAO,kBAEf,EAGqBpE,SAAA,CACjBihC,GAACib,GAAY,CAACnwC,MAAM,eACpBk1B,GAAA,MAAA,CAAKG,MAAM,6BAA6BC,KAAK,OACzCC,QAAQ,YAAY,eAAa,MACjCC,OAAO,eAAex1B,MAAM,yCAAwC/L,SACpEihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QACzC9gC,EAAE,kDAGlB,CAGA,SAASo8C,GAAgBl8C,GAGrB,MAAO2zC,EAAMC,GAAWrmC,IAAkB,GACpCyJ,EAAWC,KACX0b,EAAahgB,IAAapO,GAAiBA,EAAMkoC,GAAG9Z,aACpD2G,EAAuBF,KACvBlnB,EAAQ2E,KAEV,IAAC8b,GACqC,OAAtC2G,EAAqBiT,cACkC,OAAvDjT,EAAqBiT,aAAaC,iBAC3B,OAAA,KAcX,OAAO5L,GAAA,MAAA,CAAKl1B,MAAO,+CACdioC,EAAO,sBAAwB,IAAM3zC,EAAM0L,MAAOm1B,QAZvD,WACQ8S,IAKJC,GAAQ,GACAlhC,GAAAA,GAASR,GAAeonB,EAAsBtiB,GACjD09B,SAAQ,IAAKd,GAAQ,KAC9B,EAGwEj0C,SACpEghC,GAAA,MAAA,CAAKj1B,MAAM,oCAAmC/L,SAAA,CAC1CihC,GAACib,IAAc,GACdlI,GAAQ/S,GAAA,MAAA,CAAKl1B,MAAM,kBACpBk1B,GAAA,MAAA,CAAKG,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,YACxD,eAAa,MAAMC,OAAO,eAC1Bx1B,MAAM,4BAA2B/L,SACjCihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QACzC9gC,EAAE,wJAKtB,CCrHO,SAAS08C,GAAQx8C,GACpB,MAAMiQ,EAAS0C,IAAapO,GAAiBA,EAAMkoC,GAAGx8B,SAChD0d,EAAShb,IAAapO,GAAiBA,EAAMkoC,GAAG9e,SAChDoC,EAAUpd,IAAapO,GAAiBA,EAAM86B,IAAItP,UAClD8C,EAAQlgB,IAAapO,GAAiBA,EAAMkoC,GAAG5Z,QAC/C4pB,GAAc9pC,IAAapO,GAAiBA,EAAMkoC,GAAG1Z,eAE3D,OAAIF,EACO,KAGJ8N,GAAA,MAAA,CAAKj1B,MAAM,UAAS/L,SACtBsQ,CAAW,QAAXA,GAAoB2wB,GAACkb,GAAW,IACrB,QAAX7rC,GAAoB2wB,GAAC+a,GAAkB,IAC5B,QAAX1rC,GAAoBwsC,GAAc7b,GAACyZ,GAAa,CAAA,GAChD1sB,GAAqB,WAAX1d,GAAuB2wB,GAAC8Z,IAAkB,GACpD/sB,GAAqB,WAAX1d,GAAmC,YAAZ8f,GAAyB6Q,GAAC4Z,GAAiB,CAAA,GAC5E7sB,GAAqB,QAAX1d,GAAoB2wB,GAAC+Z,GAAU,CAAA,GAC1C/Z,GAAA,MAAA,CAAKl1B,MAAM,eACC,QAAXuE,GAAoB2wB,GAACwZ,GAAkB,CAAA,GAC5B,QAAXnqC,GAAoB2wB,GAACga,GAAc,CAAA,GACxB,QAAX3qC,GAAoB2wB,GAACia,GAAQ,CAAA,GAClB,WAAX5qC,GAAuB2wB,GAACgb,GAAc,IAC3B,QAAX3rC,GAAoB2wB,GAAC8a,GAAc,CAAE,KAE9C,CCnCO,MAAMgB,GAAW,EACXC,GAAQ,GASRC,GAAQ,GA2BRC,GAAS,IACTC,GAAS,IACTC,GAAS,IACTC,GAAS,IACTC,GAAS,IACTC,GAAS,IACTC,GAAS,IACTC,GAAS,IACTC,GAAS,IACTC,GAAU,IACVC,GAAU,IACVC,GAAU,IAEVC,GAAU,IACVC,GAAU,IACVC,GAAU,IACVC,GAAU,IACVC,GAAU,IACVC,GAAU,IACVC,GAAU,IACVC,GAAU,IACVC,GAAU,IACVC,GAAU,IASVC,GAAU,IACVC,GAAU,IACVC,GAAgB,IAChBC,GAAY,IACZC,GAAY,GACZC,GAAc,IAEdC,GAAe,IAEfC,GAAgB,IAEhBC,GAAe,IAIfC,GAAY,GACZC,GAAa,GAEbC,GAAkB,GAClBC,GAAmB,GACnBC,GAAgB,GAChBC,GAAY,GACZC,GAAa,GACbC,GAAY,GAKZC,GAAW,IACXC,GAAa,IACbC,GAAa,IACbC,GAAU,IACVC,GAAe,IACfC,GAAW,IACXC,GAAS,IACTC,GAAW,IACXC,GAAY,IAGZC,GAA2C,CACpD,EAAGxB,GACH,EAAGD,GACH,GAAIE,GACJ,GAAII,GACJ,GAAID,GACJ,GAAID,GACJ,GApBqB,IAqBrB,GAAIL,GACJ,GAAII,GACJ,GAAIc,GACJ,GAAIG,GACJ,GAAID,GACJ,GAAIH,GACJ,GAAIK,GACJ,GAAIC,GACJ,GAAIE,GACJ,GAAID,GACJ,GA9BsB,IA+BtB,GAAIL,GACJ,GAAI3C,GACJ,GA9HiB,GA+HjB,GA9HiB,GA+HjB,GA9HiB,GA+HjB,GA9HiB,GA+HjB,GA9HiB,GA+HjB,GA9HiB,GA+HjB,GA9HiB,GA+HjB,GA9HiB,GA+HjB,GAAIC,GACJ,GAAIoC,GACJ,GAAIH,GACJ,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAhIiB,GAiIjB,GAAIC,GACJ,GAAIC,GACJ,GAAItB,GACJ,GAAIC,GACJ,GAAIC,GACJ,GAAIC,GACJ,IAAKC,GACL,IAAKC,GACL,IAAKC,GACL,IAAKC,GACL,IAAKC,GACL,IAAKC,GACL,IAlH0B,IAsH1B,IAvHwB,IAwHxB,IAAKrB,GACL,IAAKC,GACL,IAAKC,GACL,IAAKC,GACL,IAAKC,GACL,IAAKC,GACL,IAAKC,GACL,IAAKC,GACL,IAAKC,GACL,IAAKC,GACL,IAAKC,GACL,IAAKC,GACL,IAjHuB,IAkHvB,IAnH0B,IAoH1B,IAAKoB,GACL,IAAKI,GACL,IAAKH,GACL,IAAKM,GACL,IAAKP,GACL,IAAKM,GACL,IA9GqB,GA+GrB,IAzHqB,GA0HrB,IAAKJ,GACL,IAxHyB,GAyHzB,IAAKC,GACL,IAAKE,IAIIa,GAA0C,CACnDpD,SAAYA,GACZC,MAASA,GACToD,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjB1D,MAASA,GACT2D,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBC,MApNiB,GAqNjBnF,OAAUA,GACVC,OAAUA,GACVC,OAAUA,GACVC,OAAUA,GACVC,OAAUA,GACVC,OAAUA,GACVC,OAAUA,GACVC,OAAUA,GACVC,OAAUA,GACVC,QAAWA,GACXC,QAAWA,GACXC,QAAWA,GAEXC,QAAWA,GACXC,QAAWA,GACXC,QAAWA,GACXC,QAAWA,GACXC,QAAWA,GACXC,QAAWA,GACXC,QAAWA,GACXC,QAAWA,GACXC,QAAWA,GACXC,QAAWA,GAEX+D,aApNwB,IAqNxBC,aApNwB,IAqNxBC,eApN0B,IAqN1BC,YApNuB,IAqNvBC,WApNsB,IAqNtBC,YApNuB,IAsNvBnE,QAAWA,GACXC,QAAWA,GACXC,cAAiBA,GACjBC,UAAaA,GACbC,UAAaA,GACbC,YAAeA,GACf+D,aApNwB,IAqNxB9D,aAAgBA,GAChB+D,cApNyB,IAqNzB9D,cAAiBA,GACjB+D,eApN0B,IAqN1B9D,aAAgBA,GAChB+D,eApN0B,IAqN1BC,YApNuB,IAqNvBC,UApNqB,GAqNrBhE,UAAaA,GACbC,WAAcA,GACdgE,cApNyB,GAqNzB/D,gBAAmBA,GACnBC,iBAAoBA,GACpBC,cAAiBA,GACjBC,UAAaA,GACbC,WAAcA,GACdC,UAAaA,GACb2D,UApNqB,GAqNrBC,gBApN2B,IAqN3BC,UApNqB,IAqNrBC,WApNsB,IAqNtB7D,SAAYA,GACZC,WAAcA,GACdC,WAAcA,GACdC,QAAWA,GACXC,aAAgBA,GAChBC,SAAYA,GACZC,OAAUA,GACVC,SAAYA,GACZC,UAAaA,GACbsD,gBApN2B,KAwN/B,IAAA,MAAWvtC,MAAQlL,OAAO8M,KAAKsoC,KAKxB,SAASsD,GAAaC,GAClBvD,OAAAA,GAAcuD,IAAY,CACrC,CCxUO,SAASC,GAAaC,EACAC,EACAC,EACAC,GACnBC,MAAAA,EAAOJ,EAAO9hB,cAAeqV,wBAC7B8M,EAAiBD,EAAKxM,MACtB0M,EAAkBF,EAAKG,OAE7B,GAAoB,IAAhBL,EACA,OAEJ,MAAMM,EACFL,IAAgB5pB,GAAe8pB,EAAiBC,EAC3CH,GAAgBF,EAAaC,EAEtC,IAAItM,EAAQyM,EACRE,EAASF,EAAiBG,EAE1BD,EAASD,IACAA,EAAAA,EACT1M,EAAQ0M,EAAkBE,GAG9BR,EAAOpgD,MAAM6gD,SAAW,WACxBT,EAAOpgD,MAAM8gD,KAAOJ,EAAkBC,GAAU,EAAI,KACpDP,EAAOpgD,MAAM+zC,MAAQ0M,EAAiBzM,GAAS,EAAI,KAC5Ch0C,EAAAA,MAAMg0C,MAAQA,EAAQ,KACtBh0C,EAAAA,MAAM2gD,OAASA,EAAS,IACnC,CC3BA,MAAMI,GAAY,sMAYZC,GAAY,iNAWFC,SAAAA,GAAMb,EACA/pB,EACAkqB,GACZW,MAAAA,EAAKd,EAAOryC,WAAW,SAC7B,GAAW,OAAPmzC,EACM,MAAA,IAAI3yC,MAAM,kDAGpB,MAAM4yC,EA+EV,SAA2BD,EAA2BH,EAAkBC,GACpE,MAAMI,EAAeC,GAAWH,EAAIA,EAAGI,cAAeP,GAChDQ,EAAiBF,GAAWH,EAAIA,EAAGM,gBAAiBR,GAEpDG,EAAgBD,EAAGO,gBAKzB,GAJGC,EAAAA,aAAaP,EAAeC,GAC5BM,EAAAA,aAAaP,EAAeI,GAC/BL,EAAGS,YAAYR,IAEVD,EAAGU,oBAAoBT,EAAeD,EAAGW,aAC1C,MAAM,IAAItzC,MAAM,4CAA8C2yC,EAAGY,kBAAkBX,IAGhFA,OAAAA,CACX,CA7F0BY,CAAkBb,EAAIH,GAAUC,IAChDgB,EAAiBd,EAAGe,kBAAkBd,EAAe,mBACrDe,EAAehB,EAAGe,kBAAkBd,EAAe,iBACnDgB,EAAWjB,EAAGkB,mBAAmBjB,EAAe,aAyG1D,SAAqBD,EAA2Bc,EAAwBE,GAC9DG,MAAAA,EAAiBnB,EAAGoB,eACvBC,EAAAA,WAAWrB,EAAGsB,aAAcH,GAC/B,MAAMI,EAAY,EACd,KAAY,EACZ,KAAW,EACX,EAAK,EAAK,GACV,KAAY,EACZ,EAAK,EAAK,GACV,EAAM,EAAK,GAEZC,EAAAA,WAAWxB,EAAGsB,aAAc,IAAIG,aAAaF,GAAYvB,EAAG0B,aAC/D1B,EAAG2B,oBAAoBb,EAAgB,EAAGd,EAAG4B,OAAO,EAAO,EAAG,GAC9D5B,EAAG6B,wBAAwBf,GAErBgB,MAAAA,EAAqB9B,EAAGoB,eAC3BC,EAAAA,WAAWrB,EAAGsB,aAAcQ,GAC/B,MAAMC,EAAqB,CACvB,EAAK,EACL,EAAK,EACL,EAAK,EACL,EAAK,EACL,EAAK,EACL,EAAK,GAENP,EAAAA,WAAWxB,EAAGsB,aAAc,IAAIG,aAAaM,GAC5C/B,EAAG0B,aAEP1B,EAAG2B,oBAAoBX,EAAc,EAAGhB,EAAG4B,OAAO,EAAO,EAAG,GAC5D5B,EAAG6B,wBAAwBb,EAC/B,CArIgBhB,CAAAA,EAAIc,EAAgBE,GAE1BgB,MAAAA,EAAUhC,EAAGiC,gBAChBC,EAAAA,YAAYlC,EAAGmC,WAAYH,GAC9BhC,EAAGoC,cAAcpC,EAAGmC,WAAYnC,EAAGqC,eAAgBrC,EAAGsC,eACtDtC,EAAGoC,cAAcpC,EAAGmC,WAAYnC,EAAGuC,eAAgBvC,EAAGsC,eACtDtC,EAAGoC,cAAcpC,EAAGmC,WAAYnC,EAAGwC,mBAAoBxC,EAAGyC,QAC1DzC,EAAGoC,cAAcpC,EAAGmC,WAAYnC,EAAG0C,mBAAoB1C,EAAGyC,QAE1D,MAAME,EAAQ,IAAI/uB,WAAW,CAAC,EAAG,EAAG,IACpCosB,EAAG4C,WAAW5C,EAAGmC,WAAY,EAAGnC,EAAG6C,IAC/B,EAAG,EAAG,EAAG7C,EAAG6C,IAAK7C,EAAG8C,cACpBH,GAEJ3C,EAAG+C,WAAW9C,GACX+C,EAAAA,cAAchD,EAAGiD,UACjBC,EAAAA,UAAUjC,EAAU,GAEvB,IAAI9B,EAAa,EACbC,EAAc,EAEd+D,EAAyC,KACzCr1B,EAA2B,KAC3Bs1B,EAAsB,EAE1B,MAAMC,EAAgBA,KACJ,OAAVv1B,IACG80B,EAAAA,WAAW5C,EAAGmC,WAAY,EAAGiB,EAC5BjE,EAAYC,EAAa,EAAGgE,EAAapD,EAAG8C,cAC5Ch1B,GACIA,EAAA,MAEZkyB,EAAGsD,WAAWtD,EAAGuD,UAAW,EAAG,GAELJ,EAAA,IAAA,EAGxBK,EAAWA,KACAtE,GAAAA,EAAQC,EAAYC,EAAaC,EAAW,EAGvDoE,EAAgBA,CAACtmD,EAAWvC,KACjBuC,EAAAA,EACCvC,EAAAA,EACdskD,EAAOpM,MAAQqM,EACfD,EAAOO,OAASL,EACRtxB,EAAA,KACRkyB,EAAG0D,SAAS,EAAG,EAAGvE,EAAYC,QAI/BuE,EAAAA,SAASC,YAAYH,GACxBtuB,EAAGwuB,SAASE,SAAQ,CAACC,EAAKC,KACdD,EAAO,MAAPA,EAAcA,EAAMC,EAC5BX,EAAqB,MAAPU,EAAc9D,EAAG6C,IAAM7C,EAAGgE,KACR,OAA5Bb,IACAA,EAA0Bn/C,sBAAsBq/C,GACpD,IAGJI,EAActuB,EAAG2d,QAAS3d,EAAGsqB,UAEvBwE,MAAAA,EAAiB,IAAIC,eAAeV,GAI1C,OAHeW,EAAAA,QAAQjF,EAAO9hB,eACvB/9B,OAAAA,iBAAiB,SAAUmkD,GAE3B,KACAG,EAAAA,SAASC,aAAY,SACrBD,EAAAA,SAASE,SAAQ,SACpBI,EAAeG,aACR5kD,OAAAA,oBAAoB,SAAUgkD,EAAQ,CAErD,CAkBA,SAASrD,GAAWH,EAA2BqE,EAAoBztC,GACzD0tC,MAAAA,EAAStE,EAAGuE,aAAaF,GAG/B,GAFGG,EAAAA,aAAaF,EAAQ1tC,GACxBopC,EAAGyE,cAAcH,IACZtE,EAAG0E,mBAAmBJ,EAAQtE,EAAG2E,gBAAiB,CAC7C7Q,MAAAA,EAAOkM,EAAG4E,iBAAiBN,GAE3B,MADNtE,EAAG6E,aAAaP,GACV,IAAIj3C,MAAM,4CAA8CymC,EAClE,CAEOwQ,OAAAA,CACX,CCzIgBpF,SAAAA,GAAOA,EACA/pB,EACAkqB,GACbtiD,MAAAA,EAAUmiD,EAAOryC,WAAW,MAClC,GAAgB,OAAZ9P,EACM,MAAA,IAAIsQ,MAAM,+CAGpB,IAAI8xC,EAAa,EACbC,EAAc,EAElB,MAAMoE,EAAWA,KACAtE,GAAAA,EAAQC,EAAYC,EAAaC,EAAW,EAGzD0E,IAAAA,EAAO,IAAIe,kBAAkB,GAC3BrB,MAAAA,EAAgBA,CAACtmD,EAAWvC,KACjBuC,EAAAA,EACCvC,EAAAA,EACdskD,EAAOpM,MAAQqM,EACfD,EAAOO,OAASL,EAChB2E,EAAO,IAAIe,kBAAkB3nD,EAAIvC,EAAI,QAGtC+oD,EAAAA,SAASC,YAAYH,GACxBtuB,EAAGwuB,SAASE,SAAQ,CAACkB,EAAUC,KACvBD,GAAa,OAAbA,GAAmC,OAAdC,EACrB,OAGEl3B,MAAAA,EAAsB,OAAbi3B,EAAoBA,EAAWC,EAE9C,IAAIC,EAAc,EACdC,EAAa,EAEVA,KAAAA,EAAanB,EAAKzoD,QAChB4pD,EAAAA,KAAgBp3B,EAAMm3B,KACtBC,EAAAA,KAAgBp3B,EAAMm3B,KACtBC,EAAAA,KAAgBp3B,EAAMm3B,KAC3BlB,EAAKmB,KAAgB,IAEjBp3B,EAAMxyB,SAAWyoD,EAAKzoD,QACtB2pD,IAIAE,EAAAA,aAAa,IAAIC,UAAUrB,EAAM5E,EAAYC,GAAc,EAAG,EAAC,IAG3EqE,EAActuB,EAAG2d,QAAS3d,EAAGsqB,UAEvBwE,MAAAA,EAAiB,IAAIC,eAAeV,GAI1C,OAHeW,EAAAA,QAAQjF,EAAO9hB,eACvB/9B,OAAAA,iBAAiB,SAAUmkD,GAE3B,KACAG,EAAAA,SAASC,aAAY,SACrBD,EAAAA,SAASE,SAAQ,SACpBI,EAAeG,aACR5kD,OAAAA,oBAAoB,SAAUgkD,EAAQ,CAErD,CC9DA,MAAM6B,GAAN,WAAAhpD,GACYipD,EAAAA,KAAAA,eAA+B,GAAA,CAEvCloD,IAAAA,CAAKmoD,GACID,KAAAA,aAAaloD,KAAKmoD,EAC3B,CAEAjqD,MAAAA,GACI,IAAIu2B,EAAQ,EACDtgB,IAAAA,MAAAA,KAAQzU,KAAKwoD,aACpBzzB,GAAStgB,EAAKjW,OAEXu2B,OAAAA,CACX,CAEA2zB,OAAAA,CAAQC,EAAmBC,GACvB,IAAIC,EAAU,EACP,KAAA7oD,KAAKwoD,aAAahqD,OAAS,GAAG,CAC3B8+B,MAAAA,EAAMt9B,KAAKwoD,aAAa,GACxBM,EAASzuC,KAAK8O,IAAIy/B,EAAaC,EAASvrB,EAAI9+B,QAWlD,GAVIsqD,IAAWxrB,EAAI9+B,QACX0K,EAAAA,IAAIo0B,EAAKurB,GACb7oD,KAAKwoD,aAAa7nD,UAElBgoD,EAAIz/C,IAAIo0B,EAAIl7B,MAAM,EAAG0mD,GAASD,GAC9B7oD,KAAKwoD,aAAa,GAAKlrB,EAAIl7B,MAAM0mD,IAG1BA,GAAAA,EAEPD,IAAYD,EACZ,KAER,CAEIC,EAAUD,GACN9oB,EAAAA,KAAK,EAAG+oB,EAEpB,ECeYE,SAAAA,GAAgBrrD,EAAUq8C,GACtC,GAAIr8C,EAAEmB,KAAK0hB,MAAM,UAAW,CACxB,MAAMyoC,EAAMtrD,EACN8kD,EAAOzI,EAAGpE,wBACT,MAAA,CACHp1C,EAAGyoD,EAAIC,cAAc,GAAGnT,QAAU0M,EAAKjiD,EACvClC,EAAG2qD,EAAIC,cAAc,GAAGC,QAAU1G,EAAKnkD,EACvC8qD,GAAI,EACJC,GAAI,EAED1rD,CAAAA,GAAAA,EAAEmB,KAAK0hB,MAAM,YAAa,CACjC,MAAMyoC,EAAMtrD,EACL,MAAA,CACH6C,EAAGyoD,EAAIK,QACPhrD,EAAG2qD,EAAIM,QACPH,GAAIH,EAAIO,UACRH,GAAIJ,EAAIQ,UACZ,CACG,CACH,MAAMR,EAAMtrD,EACL,MAAA,CACH6C,EAAGyoD,EAAIK,QACPhrD,EAAG2qD,EAAIM,QACPH,GAAIH,EAAIO,UACRH,GAAIJ,EAAIQ,UACRvR,OAAuB,IAAf+Q,EAAI/Q,OAAe,EAAI,EAEvC,CACJ,CAEO,MAAMwR,GArFb,WACI,MAAMC,EAAW,4CAA4C5nD,KAAKssB,UAAUu7B,aAChE,4CAA4C7nD,KAAKssB,UAAUw7B,YAC1D,WAAW9nD,KAAKssB,UAAUy7B,WAAaz7B,UAAU07B,gBAAkB17B,UAAU07B,eAAiB,EACrGC,EAAUL,MAAe,iBAAkB36C,QAC3Ci7C,EAAYN,KAAa36C,OAAOk7C,aAChCC,EAAcR,KAAc36C,OAAeo7C,eACjD,IAAIC,GAAWV,EAEf,MAAMW,EAAqB,GACrBC,EAAqB,GACrBC,EAAmB,GACnBC,EAAoB,GACpBC,EAAqB,GAuBpB,OArBHT,GACAK,EAAS/pD,KAAK,eACPA,EAAAA,KAAK,YAAa,iBACzBgqD,EAAShqD,KAAK,eACLA,EAAAA,KAAK,aAAc,YAAa,aAClC4pD,GACPG,EAAS/pD,KAAK,iBACdgqD,EAAShqD,KAAK,iBACdiqD,EAAOjqD,KAAK,gBACLypD,GACGK,GAAA,EACD9pD,EAAAA,KAAK,aAAc,aAC5BgqD,EAAShqD,KAAK,aACPA,EAAAA,KAAK,WAAY,cAAe,aAEvC+pD,EAAS/pD,KAAK,aACdgqD,EAAShqD,KAAK,aACdiqD,EAAOjqD,KAAK,WACZkqD,EAAQlqD,KAAK,eAGV,CACHoqD,OAAQhB,EACRU,UACAC,WACAC,WACAC,SACAE,WACAD,UAER,CAwCuBG,GCnFhB,SAASC,GAAM7Q,EACA8Q,EACAC,EACAC,EACAC,GAMZC,MAAAA,EAAWvtD,IACTA,GAAAA,EAAEmc,SAAWkgC,EACb,OAGE12C,MAAAA,EAAQ0lD,GAAgBrrD,EAAGq8C,GACjC8Q,EAAYxnD,EAAM9C,EAAG8C,EAAMhF,EAAGgF,EAAM40C,QAEpCv6C,EAAEw6C,iBAAgB,EAIhBjY,EAAYviC,IACVA,GAAAA,EAAEmc,SAAWkgC,EACb,OAGE12C,MAAAA,EAAQ0lD,GAAgBrrD,EAAGq8C,GACjC+Q,EAAYznD,EAAM9C,EAAG8C,EAAMhF,EAAGgF,EAAM8lD,GAAI9lD,EAAM+lD,IAC9C1rD,EAAEw6C,iBAAgB,EAIhBgT,EAASxtD,IACL2F,MAAAA,EAAQ0lD,GAAgBrrD,EAAGq8C,GACjCgR,EAAU1nD,EAAM9C,EAAG8C,EAAMhF,EAAGgF,EAAM40C,QAClCv6C,EAAEw6C,iBAAgB,EAIhBiT,EAAWztD,IACTA,GAAAA,EAAEmc,SAAWkgC,EACb,OAGE12C,MAAAA,EAAQ0lD,GAAgBrrD,EAAGq8C,GACpB12C,EAAAA,EAAM9C,EAAG8C,EAAMhF,GAC5BX,EAAEw6C,iBAAgB,EAIhBkT,EAAa1tD,IACfA,EAAEw6C,iBAAgB,EAIhB52B,EAAU,CACZ+pC,SAAS,GAGF52C,IAAAA,MAAAA,KAAQg1C,GAAQY,SACpB9nD,EAAAA,iBAAiBkS,EAAMw2C,EAAS3pC,GAE5B7M,IAAAA,MAAAA,KAAQg1C,GAAQa,SACpB/nD,EAAAA,iBAAiBkS,EAAMwrB,EAAU3e,GAE7B7M,IAAAA,MAAAA,KAAQg1C,GAAQc,OACpBhoD,EAAAA,iBAAiBkS,EAAMy2C,EAAO5pC,GAE1B7M,IAAAA,MAAAA,KAAQg1C,GAAQgB,SACpBloD,EAAAA,iBAAiBkS,EAAM22C,EAAW9pC,GAE9B7M,IAAAA,MAAAA,KAAQg1C,GAAQe,QACpBjoD,EAAAA,iBAAiBkS,EAAM02C,EAAS7pC,GAGvC,MAAO,KACQ7M,IAAAA,MAAAA,KAAQg1C,GAAQY,SACpB3nD,EAAAA,oBAAoB+R,EAAMw2C,EAAS3pC,GAE/B7M,IAAAA,MAAAA,KAAQg1C,GAAQa,SACpB5nD,EAAAA,oBAAoB+R,EAAMwrB,EAAU3e,GAEhC7M,IAAAA,MAAAA,KAAQg1C,GAAQc,OACpB7nD,EAAAA,oBAAoB+R,EAAMy2C,EAAO5pC,GAE7B7M,IAAAA,MAAAA,KAAQg1C,GAAQgB,SACpB/nD,EAAAA,oBAAoB+R,EAAM22C,EAAW9pC,GAEjC7M,IAAAA,MAAAA,KAAQg1C,GAAQe,QACpB9nD,EAAAA,oBAAoB+R,EAAM02C,EAAS7pC,EAC1C,CAER,CC5FA,MAAMgqC,GAAqB,IAEXC,SAAAA,GAAaC,EACAzR,EACA1hB,GACnBozB,MAAAA,EAAQA,CAAClrD,EAAWlC,IA+B9B,SAAiBqtD,EACAC,EACA5R,EACA1hB,GACP,MAAE2d,MAAOyM,EAAgBE,OAAQD,GAAoB3I,EAAGpE,wBACxD0M,EAAahqB,EAAG2d,QAChBsM,EAAcjqB,EAAGsqB,SAEjBC,EAASP,EAAaC,EAE5B,IAAItM,EAAQyM,EACRE,EAASF,EAAiBG,EAE1BD,EAASD,IACAA,EAAAA,EACT1M,EAAQ0M,EAAkBE,GAGxBE,MAAAA,GAAOJ,EAAkBC,GAAU,EACnC5M,GAAQ0M,EAAiBzM,GAAS,EAEpCz1C,IAAAA,EAAI8Z,KAAKw7B,IAAI,EAAGx7B,KAAK8O,IAAI,GAAIuiC,EAAK3V,GAAQC,IAC1C33C,EAAIgc,KAAKw7B,IAAI,EAAGx7B,KAAK8O,IAAI,GAAIwiC,EAAK7I,GAAOH,IAEzCpiD,GAAK+qD,KACD/qD,EAAA,GAGJA,GAAM,EAAI+qD,KACN/qD,EAAA,GAGJlC,GAAKitD,KACDjtD,EAAA,GAGJA,GAAM,EAAIitD,KACNjtD,EAAA,GAGD,MAAA,CACHkC,EAAAA,EACAlC,EAAAA,EAER,CA3E4CutD,CAAQrrD,EAAGlC,EAAG07C,EAAI1hB,GA4B1D,OA1BI/zB,SAASunD,qBAAuB9R,GAChCz1C,SAASwnD,kBAyBNlB,GAAM7Q,GAtBJ8Q,SAAYtqD,EAAWlC,EAAW45C,GACjC8T,MAAAA,EAAKN,EAAMlrD,EAAGlC,GACpBg6B,EAAG2zB,gBAAgBD,EAAGxrD,EAAGwrD,EAAG1tD,GACzB4tD,EAAAA,gBAAgBhU,GAAUuT,GAAe,EAChD,IAQA,SAAqBjrD,EAAWlC,EAAW8qD,EAAYC,GAC7C2C,MAAAA,EAAKN,EAAMlrD,EAAGlC,GACpBg6B,EAAG2zB,gBAAgBD,EAAGxrD,EAAGwrD,EAAG1tD,EAChC,IATS0sD,SAAUxqD,EAAWlC,EAAW45C,GAC/B8T,MAAAA,EAAKN,EAAMlrD,EAAGlC,GACpBg6B,EAAG2zB,gBAAgBD,EAAGxrD,EAAGwrD,EAAG1tD,GACzB4tD,EAAAA,gBAAgBhU,GAAUuT,GAAe,EAChD,IAOSR,SAAazqD,EAAWlC,GACvB0tD,MAAAA,EAAKN,EAAMlrD,EAAGlC,GACpBg6B,EAAG2zB,gBAAgBD,EAAGxrD,EAAGwrD,EAAG1tD,EAChC,GAGJ,CClCA,MAAM6tD,GAAa,IACbC,GAAiB,GAEhB,SAASC,GAAW/V,EACAmV,EACAzR,EACA1hB,GACvB,IAAIqe,GAAY,EACZ2V,EAAM,EACNC,EAAQ,EACRC,EAAQ,EAkDZ,OAAO3B,GAAM7Q,GAhDO8Q,CAACtqD,EAAWlC,EAAWmuD,KACvC9V,EAAYr0C,KAAKC,MACX+pD,EAAA,EACE9rD,EAAAA,EACAlC,EAAAA,OAEYuxB,IAAhB48B,GACGP,EAAAA,gBAAgBO,GAAa,EACpC,IAGJ,SAAqBjsD,EAAWlC,EAAW8qD,EAAYC,QACxCx5B,IAAPu5B,IACAA,EAAK5oD,EAAI+rD,QAGF18B,IAAPw5B,IACAA,EAAK/qD,EAAIkuD,GAGLhsD,EAAAA,EACAlC,EAAAA,EAEG,IAAP8qD,GAAmB,IAAPC,IAIhBiD,GAAOhyC,KAAKoyC,IAAItD,GAAM9uC,KAAKoyC,IAAIrD,GAE/B/wB,EAAGq0B,wBAAwBvD,EAAK9S,EAAc,EAAG+S,EAAK/S,EAAc,GACxE,IAEkB0U,CAACxqD,EAAWlC,EAAWmuD,KACrC,QAAoB58B,IAAhB48B,EACGP,EAAAA,gBAAgBO,GAAa,OAC7B,CAGCG,GAFUtqD,KAAKC,MAAQo0C,EAEfwV,IAAcG,EAAMF,GAAgB,CAC5C,MAAMlU,EAASuU,GAAehB,EAC3BS,EAAAA,gBAAgBhU,GAAQ,GAC3B3xC,YAAW,IAAM+xB,EAAG4zB,gBAAgBhU,GAAQ,IAAQ,GACxD,CACJ,KAGS2U,QAGjB,CC1DO,SAASC,GAAMlY,EACA0B,EACAmV,EACAzR,EACA1hB,GACdsc,GAAAA,IAAS8U,GAAQW,QACjB,OAAOgC,GAAW/V,EAAamV,EAAezR,EAAI1hB,GAGtD,GAAIsc,EAAM,CACAmY,MAAAA,ECdP,SAA0B/S,GAC7B,SAASgT,IACDzoD,SAASunD,qBAAuB9R,IACLA,EAAGiT,oBACzBjT,EAAWkT,uBACXlT,EAAWmT,0BAEGxuD,KAAKq7C,EAIhC,CAEA,MAAMz4B,EAAU,CACZ+pC,SAAS,GAGF52C,IAAAA,MAAAA,KAAQg1C,GAAQY,SACpB9nD,EAAAA,iBAAiBkS,EAAMs4C,EAAazrC,GAG3C,MAAO,KACQ7M,IAAAA,MAAAA,KAAQg1C,GAAQY,SACpB3nD,EAAAA,oBAAoB+R,EAAMs4C,EAAazrC,EAC9C,CAER,CDZuB6rC,CAAiBpT,GAC1BqT,EAAShB,GAAW/V,EAAamV,EAAezR,EAAI1hB,GAE1D,MAAO,aAIX,CAEOkzB,OAAAA,GAAaC,EAAezR,EAAI1hB,EAC3C,CExBgBg1B,SAAAA,GAAUxiD,EAAmByiD,GACnCvT,MAAAA,EAAKz1C,SAASG,cAAc,OAK3Bs1C,OAJPA,EAAGlvC,UAAYA,OACG+kB,IAAd09B,IACAvT,EAAG/0C,UAAYsoD,GAEZvT,CACX,CCFO,MAAMwT,GAsBThuD,WAAAA,CAAY+4C,EAAsB8J,EAA2BoL,EAA4BlsC,GArBzFA,EAAAA,KAAAA,WACAg3B,EAAAA,KAAAA,QACA8J,EAAAA,KAAAA,UACAqL,EAAAA,KAAAA,gBACAzX,EAAAA,KAAAA,SACA2M,EAAAA,KAAAA,UACkBnzB,EAAAxvB,KAAA,mBAAA,GACJwvB,EAAAxvB,KAAA,eAAA,GACIwvB,EAAAxvB,KAAA,mBAAA,GACKwvB,EAAAxvB,KAAA,gBAAA,GAEvBwtD,EAAAA,KAAAA,kBAEQ9G,EAAAA,KAAAA,YAEAgH,EAAAA,KAAAA,aACApmB,EAAAA,KAAAA,WACAH,EAAAA,KAAAA,cACAwmB,EAAAA,KAAAA,eAIJ3tD,KAAKwtD,eAAiBA,EACtBxtD,KAAKshB,QAAUA,EACfthB,KAAKs4C,KAAOA,EACPA,KAAAA,KAAKM,UAAUpiC,IAAI,iBAExBxW,KAAKoiD,OAASA,EACdpiD,KAAKoiD,OAAOv3C,UAAY,kBACxB7K,KAAKytD,aAqEFJ,GAAU,yBAA0B,IAnElC/U,KAAAA,KAAKrwC,YAAYjI,KAAKytD,cAE3BztD,KAAKg2C,MAAQsC,EAAKsV,YAClB5tD,KAAK2iD,OAASrK,EAAKuV,aAEnB7tD,KAAK0mD,SAAW,GAChB1mD,KAAK0tD,UAAY,OACjB1tD,KAAKsnC,QAAU,OACftnC,KAAKmnC,WAAa,OAClBnnC,KAAK2tD,YAAc,OAEfvG,IAAAA,gBAA4Bpb,IAC5B,IAAA,MAAWtuC,KAAKsuC,EACRtuC,GAAAA,EAAEmc,SAAWy+B,EAAM,CACdtC,KAAAA,MAAQt4C,EAAEowD,YAAY9X,MACtB2M,KAAAA,OAASjlD,EAAEowD,YAAYnL,OACjBluC,IAAAA,MAAAA,KAAQzU,KAAK0mD,SACfjyC,EAAAzU,KAAKg2C,MAAOh2C,KAAK2iD,OAE9B,CACJ,IACD0E,QAAQrnD,KAAKs4C,KACpB,CAEAyV,WAAAA,CAAYC,GACHtH,KAAAA,SAASpmD,KAAK0tD,EACvB,CAEAC,cAAAA,CAAeD,GACXhuD,KAAK0mD,SAAW1mD,KAAK0mD,SAAShgD,QAAQvJ,GAAMA,IAAM6wD,GACtD,CAEAE,YAAAA,CAAaF,GACThuD,KAAK0tD,UAAYM,CACrB,CAEAG,WAAAA,CAAYxnB,GACR3mC,KAAK0tD,UAAU/mB,EACnB,CAEAynB,UAAAA,CAAWJ,GACPhuD,KAAKsnC,QAAU0mB,CACnB,CAEAK,SAAAA,CAAU1nB,GACN3mC,KAAKsnC,QAAQX,EACjB,CAEA2nB,aAAAA,CAAcN,GACVhuD,KAAKmnC,WAAa6mB,CACtB,CAEAO,YAAAA,CAAa5nB,GACT3mC,KAAKmnC,WAAWR,EACpB,CAEA6nB,cAAAA,CAAeR,GACXhuD,KAAK2tD,YAAcK,CACvB,CAGAS,aAAAA,CAAcC,GACV1uD,KAAK2tD,YAAYe,EACrB,ECxBG,SAASC,GAAoB51B,GAC5BA,YAAwBnJ,IAAxBmJ,EAAO61B,cAC6B,IAAhC71B,EAAO61B,aAAaxhD,SAchC,SAAuB2rB,GACR81B,IAAAA,MAAAA,KAAS91B,EAAO+1B,OACZC,IAAAA,MAAAA,KAAWF,EAAMG,SACpBD,GAAiB,QAAjBA,EAAQlwD,KAAgB,CACxB,MAAMowD,EAAaF,EACa,iBAArBE,EAAWC,QACPA,EAAAA,MAAQ,CAACD,EAAWC,OAEvC,CAGZ,CAxBYC,CAAcp2B,EAAO61B,cAGlB71B,EAAO61B,mBAGIh/B,IAAlBmJ,EAAO+1B,OACA/1B,EAAO+1B,OAGX,IACX,CC1EA,MAAMM,GAEN,WACI,MAAMA,EAA6C,CAAA,EACnD,IAAA,MAAW36C,KAAQlL,OAAO8M,KAAKuoC,IAC3BwQ,EAAcxQ,GAAcnqC,IAASA,EAAKgc,OAAO,EAAG,GAEjD2+B,OAAAA,CACX,CARsBC,GAqBNC,SAAAA,GAAantB,EACA6rB,EACArlD,GACzB,MAAM4mD,EAAYl1C,KAAKujB,MAAa,GAAPj1B,GACvB6mD,EAAgBn1C,KAAKujB,MAAa,GAAPj1B,GAC3B8mD,EAAcp1C,KAAKw7B,IAAI,EAAGx7B,KAAKujB,MAAMj1B,EAAO,KAC5C+mD,EAAkBC,GAAYxtB,EAAOhgC,eACrCmyC,OAA2B1kB,IAApB8/B,EAAgCvtB,EAAS,GAChD8V,EAASoV,GAAU,8BACnBuC,EAAcvC,GAAU,mBACxBwC,EAAYxC,GAAU,4BACJz9B,IAApB8/B,OAA2C9/B,IAAT0kB,GAAsC,IAAhBA,EAAK91C,OACzD,IAAM81C,EAAK7jB,OAAO,EAAG,GAAGgT,cAAiB,SAEzB7T,IAApB8/B,IACY1tD,EAAAA,MAAM0tD,gBAAkB,QAAWA,EAAkB,MAEzD1tD,EAAAA,MAAMg0C,MAAQuZ,EAAY,KAC1BvtD,EAAAA,MAAM2gD,OAAS4M,EAAY,KAC7BvtD,EAAAA,MAAM8tD,SAAWN,EAAgB,KAEpCO,EAAAA,QAAUpnD,EAAqB,EAAd8mD,EACjBO,EAAAA,SAAWrnD,EAAqB,EAAd8mD,EAClBztD,EAAAA,MAAMg0C,MAAQiC,EAAO8X,QAAU,KAC/B/tD,EAAAA,MAAM2gD,OAAS1K,EAAO+X,SAAW,KACjChuD,EAAAA,MAAMytD,YAAcA,EAAc,KACzCxX,EAAOhwC,YAAY2nD,GACnB3X,EAAOhwC,YAAY4nD,GAEb5E,MAAAA,EAAWvtD,SACUkyB,IAAnBo+B,EAAQiC,QACRjC,EAAQiC,cAEYrgC,IAApBo+B,EAAQruB,SACRquB,EAAQruB,UAEZjiC,EAAEw6C,kBACFx6C,EAAEgpC,gBAAe,EAEfwkB,EAASxtD,SACUkyB,IAAjBo+B,EAAQkC,MACRlC,EAAQkC,OAEZxyD,EAAEw6C,kBACFx6C,EAAEgpC,gBAAe,EAEf0kB,EAAa1tD,IACfA,EAAEw6C,kBACFx6C,EAAEgpC,gBAAe,EAEfplB,EAAU,CACZ+pC,SAAS,GAEF52C,IAAAA,MAAAA,KAAQg1C,GAAQY,SAChB9nD,EAAAA,iBAAiBkS,EAAMw2C,EAAS3pC,GAEhC7M,IAAAA,MAAAA,KAAQg1C,GAAQc,OAChBhoD,EAAAA,iBAAiBkS,EAAMy2C,EAAO5pC,GAE9B7M,IAAAA,MAAAA,KAAQg1C,GAAQa,SAChB/nD,EAAAA,iBAAiBkS,EAAM22C,EAAW9pC,GAElC7M,IAAAA,MAAAA,KAAQg1C,GAAQe,QAChBjoD,EAAAA,iBAAiBkS,EAAM22C,EAAW9pC,GAElC7M,IAAAA,MAAAA,KAAQg1C,GAAQgB,SAChBloD,EAAAA,iBAAiBkS,EAAM22C,EAAW9pC,GAEtC22B,OAAAA,CACX,CA6DA,SAASoV,GAAUxiD,EAAmByiD,GAC5BvT,MAAAA,EAAKz1C,SAASG,cAAc,OAK3Bs1C,OAJPA,EAAGlvC,UAAYA,OACG+kB,IAAd09B,IACAvT,EAAG/0C,UAAYsoD,GAEZvT,CACX,CAEA,SAASoW,GAAYjB,GACb,MAAiB,iBAAVA,EACAE,GAAcF,GAGlBA,CACX,CAEA,SAASkB,GAAwBnY,EACA6W,GACtB7W,MAAkB,UAAlBA,EAAOx8B,OACV,CAAEkkB,QAASA,IAAMmvB,EAAOP,aAAatW,EAAOiX,QAC5C,CACIe,OAAQA,IAAMnB,EAAOX,YAAYlW,EAAOiX,OACxCgB,KAAMA,IAAMpB,EAAOT,UAAUpW,EAAOiX,OAEhD,CAGA,MAAMmB,GAAO,8iCACPta,GAAO,m2BACPua,GAAQ,w3BACRC,GAAQ,wyBACRZ,GAA0C,CAC5Ca,WAAY,ygCACZC,KAAM,8sBACNnvC,QAAS,85CACTovC,SAAU,ogCACVC,GAAI,wiCACJN,QACAO,GAAIP,GACJQ,GAAIR,GACJS,IAAKT,GACLta,QACAxN,GAAIwN,GACJgb,IAAKhb,GACLua,SACAU,GAAIV,GACJW,KAAMX,GACNY,IAAKZ,GACLC,SACA9lD,GAAI8lD,GACJY,IAAKZ,GACLa,IAAKb,GACLc,KAAMd,ICzNJrE,GAAa,IACbC,GAAiB,GCDPmF,SAAAA,GAAexC,EAAgBz2B,GAC3C,MAAM0hB,EAAK+U,EAAOrB,aACZhC,EAAQA,CAAClrD,EAAWlC,ICEvB,SAAeqtD,EAAYC,EACZtzB,EAAsBy2B,GAClCzM,MAAAA,EAAahqB,EAAG2d,QAChBsM,EAAcjqB,EAAGsqB,SACjBF,EAAiBqM,EAAO9Y,MACxB0M,EAAkBoM,EAAOnM,OAEzBC,EAASP,EAAaC,EAE5B,IAAItM,EAAQyM,EACRE,EAASF,EAAiBG,EAE1BD,EAASD,IACAA,EAAAA,EACT1M,EAAQ0M,EAAkBE,GAGxBE,MAAAA,GAAOJ,EAAkBC,GAAU,EACnC5M,GAAQ0M,EAAiBzM,GAAS,EAEpCz1C,IAAAA,EAAI8Z,KAAKw7B,IAAI,EAAGx7B,KAAK8O,IAAI,GAAIuiC,EAAK3V,GAAQC,IAC1C33C,EAAIgc,KAAKw7B,IAAI,EAAGx7B,KAAK8O,IAAI,GAAIwiC,EAAK7I,GAAOH,IAEzCpiD,GAAK+qD,KACD/qD,EAAA,GAGJA,GAAM,EAAI+qD,KACN/qD,EAAA,GAGJlC,GAAKitD,KACDjtD,EAAA,GAGJA,GAAM,EAAIitD,KACNjtD,EAAA,GAGD,MAAA,CACHkC,EAAAA,EACAlC,EAAAA,EAER,CD7C4CutD,CAAQrrD,EAAGlC,EAAGg6B,EAAIy2B,GA4B1D,OA1BIxqD,SAASunD,qBAAuB9R,GAChCz1C,SAASwnD,kBAyBNlB,GAAM7Q,EAAI+U,GAtBRjE,SAAYtqD,EAAWlC,EAAW45C,GACjC8T,MAAAA,EAAKN,EAAMlrD,EAAGlC,GACpBg6B,EAAG2zB,gBAAgBD,EAAGxrD,EAAGwrD,EAAG1tD,GACzB4tD,EAAAA,gBAAgBhU,GAAQ,EAC/B,IAQA,SAAqB13C,EAAWlC,EAAW8qD,EAAYC,GAC7C2C,MAAAA,EAAKN,EAAMlrD,EAAGlC,GACpBg6B,EAAG2zB,gBAAgBD,EAAGxrD,EAAGwrD,EAAG1tD,EAChC,IATS0sD,SAAUxqD,EAAWlC,EAAW45C,GAC/B8T,MAAAA,EAAKN,EAAMlrD,EAAGlC,GACpBg6B,EAAG2zB,gBAAgBD,EAAGxrD,EAAGwrD,EAAG1tD,GACzB4tD,EAAAA,gBAAgBhU,GAAQ,EAC/B,IAOS+S,SAAazqD,EAAWlC,GACvB0tD,MAAAA,EAAKN,EAAMlrD,EAAGlC,GACpBg6B,EAAG2zB,gBAAgBD,EAAGxrD,EAAGwrD,EAAG1tD,EAChC,GAGJ,CC7BA,MAAMitD,GAAqB,IA+CpB,SAASV,GAAM7Q,EAAoB+U,EACpBjE,EACAC,EACAC,EACAC,GAMlB,IAAIuG,EAAgB,EACdtG,MAAAA,EAAWvtD,IACTA,GAAAA,EAAEmc,SAAWkgC,EACb,OAGJ,GAAI+U,EAAO0C,gBAGP,YAFA9zD,EAAEw6C,kBAKA70C,MAAAA,EAAQ0lD,GAAgBrrD,EAAGq8C,GACjB12C,EAAAA,EAAM40C,QAAU6W,EAAOtD,cACvCX,EAAYxnD,EAAM9C,EAAG8C,EAAMhF,EAAGkzD,GAE9B7zD,EAAEw6C,iBAAgB,EAIhBjY,EAAYviC,IACVA,GAAAA,EAAEmc,SAAWkgC,EACb,OAGJ,GAAI+U,EAAO0C,gBAGP,YAFA9zD,EAAEw6C,kBAKA70C,MAAAA,EAAQ0lD,GAAgBrrD,EAAGq8C,GACjC+Q,EAAYznD,EAAM9C,EAAG8C,EAAMhF,EAAGgF,EAAM8lD,GAAI9lD,EAAM+lD,IAC9C1rD,EAAEw6C,iBAAgB,EAIhBgT,EAASxtD,IACX,GAAIoxD,EAAO0C,gBAGP,YAFA9zD,EAAEw6C,kBAKA70C,MAAAA,EAAQ0lD,GAAgBrrD,EAAGq8C,GACjCgR,EAAU1nD,EAAM9C,EAAG8C,EAAMhF,EAAGkzD,GAC5B7zD,EAAEw6C,iBAAgB,EAIhBiT,EAAWztD,IACTA,GAAAA,EAAEmc,SAAWkgC,EACb,OAGJ,GAAI+U,EAAO0C,gBAGP,YAFA9zD,EAAEw6C,kBAKA70C,MAAAA,EAAQ0lD,GAAgBrrD,EAAGq8C,GACpB12C,EAAAA,EAAM9C,EAAG8C,EAAMhF,GAC5BX,EAAEw6C,iBAAgB,EAIhBkT,EAAa1tD,IACfA,EAAEw6C,iBAAgB,EAIhB52B,EAAU,CACZ+pC,SAAS,GAGF52C,IAAAA,MAAAA,KAAQg1C,GAAQY,SACpB9nD,EAAAA,iBAAiBkS,EAAMw2C,EAAS3pC,GAE5B7M,IAAAA,MAAAA,KAAQg1C,GAAQa,SACpB/nD,EAAAA,iBAAiBkS,EAAMwrB,EAAU3e,GAE7B7M,IAAAA,MAAAA,KAAQg1C,GAAQc,OACpBhoD,EAAAA,iBAAiBkS,EAAMy2C,EAAO5pC,GAE1B7M,IAAAA,MAAAA,KAAQg1C,GAAQgB,SACpBloD,EAAAA,iBAAiBkS,EAAM22C,EAAW9pC,GAE9B7M,IAAAA,MAAAA,KAAQg1C,GAAQe,QACpBjoD,EAAAA,iBAAiBkS,EAAM02C,EAAS7pC,GAGvC,MAAO,KACQ7M,IAAAA,MAAAA,KAAQg1C,GAAQY,SACpB3nD,EAAAA,oBAAoB+R,EAAMw2C,EAAS3pC,GAE/B7M,IAAAA,MAAAA,KAAQg1C,GAAQa,SACpB5nD,EAAAA,oBAAoB+R,EAAMwrB,EAAU3e,GAEhC7M,IAAAA,MAAAA,KAAQg1C,GAAQc,OACpB7nD,EAAAA,oBAAoB+R,EAAMy2C,EAAO5pC,GAE7B7M,IAAAA,MAAAA,KAAQg1C,GAAQgB,SACpB/nD,EAAAA,oBAAoB+R,EAAM22C,EAAW9pC,GAEjC7M,IAAAA,MAAAA,KAAQg1C,GAAQe,QACpB9nD,EAAAA,oBAAoB+R,EAAM02C,EAAS7pC,EAC1C,CAER,CAEO,SAASurC,GAAM4E,EAAmBpb,EAAqByY,EAAgBz2B,GACtEo5B,OAAAA,IAAahI,GAAQW,QFxKbgC,SAAW/V,EAAqByY,EAAgBz2B,GAC5D,MAAM0hB,EAAK+U,EAAOrB,aAElB,IAAI/W,GAAY,EACZ2V,EAAM,EACNC,EAAQ,EACRC,EAAQ,EA0CZ,OAAO3B,GAAM7Q,EAAI+U,GAxCGjE,CAACtqD,EAAWlC,KAC5Bq4C,EAAYr0C,KAAKC,MACX+pD,EAAA,EACE9rD,EAAAA,EACAlC,EAAAA,CAAAA,IAGZ,SAAqBkC,EAAWlC,EAAW8qD,EAAYC,QACxCx5B,IAAPu5B,IACAA,EAAK5oD,EAAI+rD,QAGF18B,IAAPw5B,IACAA,EAAK/qD,EAAIkuD,GAGLhsD,EAAAA,EACAlC,EAAAA,EAEG,IAAP8qD,GAAmB,IAAPC,IAIhBiD,GAAOhyC,KAAKoyC,IAAItD,GAAM9uC,KAAKoyC,IAAIrD,GAE9B/wB,EAAWq0B,wBAAwBvD,EAAK9S,EAAc,EAAG+S,EAAK/S,EAAc,GACjF,IAEkB0U,CAACxqD,EAAWlC,KAGtBsuD,GAFUtqD,KAAKC,MAAQo0C,EAEfwV,IAAcG,EAAMF,GAAgB,CACtClU,MAAAA,EAAS6W,EAAOtD,eAAiB,EACpCS,EAAAA,gBAAgBhU,GAAQ,GAC3B3xC,YAAW,IAAM+xB,EAAG4zB,gBAAgBhU,GAAQ,IAAQ,GACxD,KAGS2U,QAGjB,CEwHeR,CAAW/V,EAAayY,EAAQz2B,GAGvCo5B,EChLQC,SAAYrb,EAAqByY,EAAgBz2B,GAC7D,MAAM0hB,EAAK+U,EAAOrB,aAElB,SAASkE,IACL,OAAOrtD,SAASunD,qBAAuB9R,CAC3C,CAwCA,OAAO6Q,GAAM7Q,EAAI+U,GAtCRjE,SAAYtqD,EAAWlC,EAAW45C,GACnC0Z,KAC2B5X,EAAGiT,oBACzBjT,EAAWkT,uBACXlT,EAAWmT,0BAEGxuD,KAAKq7C,GAKzBkS,EAAAA,gBAAgBhU,GAAQ,EAC/B,IAUA,SAAqB13C,EAAWlC,EAAW8qD,EAAYC,GAC/CuI,KAIO,IAAPxI,GAAmB,IAAPC,GAIf/wB,EAAWq0B,wBAAwBvD,EAAK9S,EAAa+S,EAAK/S,EAC/D,IAlBS0U,SAAUxqD,EAAWlC,EAAW45C,GACjC0Z,KAID1F,EAAAA,gBAAgBhU,GAAQ,EAC/B,IAcS+S,SAAazqD,EAAWlC,GAC7B,GAIR,CDmIeqzD,CAAYrb,EAAayY,EAAQz2B,GAGrCi5B,GAAexC,EAAQz2B,EAClC,CErLO,MAAMu5B,GAAW,CAACC,EAAIC,KACnB,MAAAC,EAAKD,EAAGvxD,EAAIsxD,EAAGtxD,EACfyxD,EAAKF,EAAGzzD,EAAIwzD,EAAGxzD,EAErB,OAAOgc,KAAK43C,KAAMF,EAAKA,EAAOC,EAAKA,EAAG,EAkB7BE,GAAWr0D,GACbA,GAAKwc,KAAK83C,GAAK,KAGbC,GAAWv0D,GACbA,GAAK,IAAMwc,KAAK83C,IAUrBE,OAAarpD,IACNspD,GAAYC,IACjBF,GAAO97C,IAAIg8C,IACEprD,aAAAkrD,GAAOtpD,IAAIwpD,IAE5BF,GAAOnpD,IAAIqpD,EAAIjsD,WAAWisD,EAAI,KAAI,EAGzBC,GAAU,CAACzY,EAAIhhC,EAAKi1C,KACvB,MAAA3sB,EAAQtoB,EAAIyB,MAAM,UACpB,IAAA3b,EACJ,IAAA,IAASvB,EAAI,EAAGA,EAAI+jC,EAAM7iC,OAAQlB,GAAK,EACnCuB,EAAOwiC,EAAM/jC,GACTy8C,EAAGx3C,iBACAw3C,EAAAx3C,iBAAiB1D,EAAMmvD,GAAS,GAC5BjU,EAAG0Y,aACP1Y,EAAA0Y,YAAY5zD,EAAMmvD,EAE5B,EAGQ0E,GAAY,CAAC3Y,EAAIhhC,EAAKi1C,KACzB,MAAA3sB,EAAQtoB,EAAIyB,MAAM,UACpB,IAAA3b,EACJ,IAAA,IAASvB,EAAI,EAAGA,EAAI+jC,EAAM7iC,OAAQlB,GAAK,EACnCuB,EAAOwiC,EAAM/jC,GACTy8C,EAAGr3C,oBACAq3C,EAAAr3C,oBAAoB7D,EAAMmvD,GACtBjU,EAAG4Y,aACP5Y,EAAA4Y,YAAY9zD,EAAMmvD,EAE5B,EAQQ4E,GAAgB5J,IACzBA,EAAItiB,iBACGsiB,EAAInqD,KAAK0hB,MAAM,UAAYyoC,EAAI6J,eAAiB7J,GAG9C8J,GAAY,KAUd,CACHvyD,OAV8B,IAAvBwO,OAAOgkD,YACdhkD,OAAOgkD,aACNzuD,SAAS0uD,iBAAmB1uD,SAAS8Z,KAAKjgB,YAAcmG,SAAS8Z,MAC7D60C,WAQL50D,OAN8B,IAAvB0Q,OAAOmkD,YACdnkD,OAAOmkD,aACN5uD,SAAS0uD,iBAAmB1uD,SAAS8Z,KAAKjgB,YAAcmG,SAAS8Z,MAC7D+0C,YAOAC,GAAgB,CAACrZ,EAAIsZ,KAC1BA,EAAIvQ,KAAOuQ,EAAI/C,OAAS+C,EAAIC,QAAUD,EAAItd,MACvCgE,EAAA/3C,MAAM8gD,IAAMuQ,EAAIvQ,IAChB/I,EAAA/3C,MAAMsuD,MAAQ+C,EAAI/C,MAClBvW,EAAA/3C,MAAMsxD,OAASD,EAAIC,OACnBvZ,EAAA/3C,MAAM+zC,KAAOsd,EAAItd,OAEjBgE,EAAA/3C,MAAM+zC,KAAOsd,EAAI9yD,EAAI,KACrBw5C,EAAA/3C,MAAM8gD,IAAMuQ,EAAIh1D,EAAI,KAC1B,EAGQk1D,GAAqB,CAACztC,EAAUoZ,EAAQs0B,KAC3C,MAAA56C,EAAM66C,GAA0B3tC,GACtC,IAAA,IAASxoB,KAAKsb,EACN,GAAAA,EAAI1C,eAAe5Y,GACf,GAAkB,iBAAX4hC,EACH5hC,EAAAA,GAAK4hC,EAAS,IAAMs0B,MACrB,CACH,IAAIE,EAAK,GACAzuD,IAAAA,IAAAA,EAAI,EAAG4wC,EAAM3W,EAAO1gC,OAAQyG,EAAI4wC,EAAK5wC,GAAK,EAC/CyuD,GAAMx0B,EAAOj6B,GAAK,IAAMuuD,EAAO,KAEnC56C,EAAItb,GAAKo2D,EAAGtxD,MAAM,GAAK,EAC1B,CAGF,OAAAwW,CAAA,EAaE66C,GAA6B/zC,IACtC,MAAM9G,EAAM,CAAA,EACZA,EAAI8G,GAAQ,GAKL,MAJS,CAAC,SAAU,MAAO,KAC1B5b,SAAQ,SAAU6vD,GAClB/6C,EAAA+6C,EAASj0C,EAAKk0C,OAAO,GAAGnwB,cAAgB/jB,EAAKtd,MAAM,IAAM,EACrE,IACWwW,CAAA,EAGEi7C,GAAS,CAACC,EAAMC,KACzB,IAAA,IAASz2D,KAAKy2D,EACNA,EAAK79C,eAAe5Y,KACfA,EAAAA,GAAKy2D,EAAKz2D,IAGhB,OAAAw2D,CAAA,EAiBEjsD,GAAM,CAACmsD,EAAI5oD,KACpB,GAAI4oD,EAAGx1D,OACMlB,IAAAA,IAAAA,EAAI,EAAGu4C,EAAMme,EAAGx1D,OAAQlB,EAAIu4C,EAAKv4C,GAAK,EAC3C8N,EAAG4oD,EAAG12D,SAGV8N,EAAG4oD,EACN,EC/KL,IAyBIC,GAzBAlK,MAAa,iBAAkBh7C,QAC/Bi7C,KAAYj7C,OAAOk7C,aACnBC,KAAcn7C,OAAOo7C,eACrBtD,GAMO,CACH1nB,MAAO,YACP+0B,KAAM,YACNC,IAAK,WAcTC,GAAa,CAAA,EAYjB,SAASC,KAAW,CCrCpB,SAASC,GAAQC,EAAYjzC,GAwDzB,OAvDAthB,KAAKw0D,WAAalzC,EAAQkzC,WAC1Bx0D,KAAK6iD,SAAWvhC,EAAQuhC,SACxB7iD,KAAKy0D,cAAgBnzC,EAAQmzC,cAC7Bz0D,KAAKu0D,WAAaA,EAGlBv0D,KAAK00D,SAAW,CACZ/rD,KAAM,IACNgsD,UAAW,GACXC,MAAO,QACPC,SAAU,IACVC,UAAU,EACVC,cAAc,EACdC,YAAa,GACbC,KAAM,UACNC,KAAM5wD,SAAS8Z,KACf+2C,OAAO,EACPC,OAAO,EACPvyB,MAAO,UAGX7iC,KAAK+4B,OAAOzX,GAGc,YAAtBthB,KAAKshB,QAAQ2zC,OACbj1D,KAAKshB,QAAQ0zC,YAAc,GAG/Bh1D,KAAK0nB,GAAK4sC,GAAO5sC,GACjB4sC,GAAO5sC,IAAM,EACR1nB,KAAAq1D,UACAC,UAGLt1D,KAAKu1D,SAAW,CACZxb,GAAI/5C,KAAKurC,GAAGwO,GACZ/uC,GAAIhL,KAAKgL,GAAG5E,KAAKpG,MACjBo6C,IAAKp6C,KAAKo6C,IAAIh0C,KAAKpG,MACnBw1D,KAAMx1D,KAAKw1D,KAAKpvD,KAAKpG,MACrBy1D,KAAMz1D,KAAKy1D,KAAKrvD,KAAKpG,MACrBwW,IAAKxW,KAAK01D,SAAStvD,KAAKpG,MACxB2uC,OAAQ3uC,KAAK21D,cAAcvvD,KAAKpG,MAChC41D,QAAS51D,KAAK41D,QAAQxvD,KAAKpG,MAC3B61D,YAAY71D,KAAK61D,YAAYzvD,KAAKpG,MAClC81D,eAAgB91D,KAAK81D,eAAe1vD,KAAKpG,MACzC+1D,iBAAkB/1D,KAAK+1D,iBAAiB3vD,KAAKpG,MAC7Cg2D,QAASh2D,KAAKg2D,QAAQ5vD,KAAKpG,MAC3B6iD,SAAU7iD,KAAK6iD,SACf4R,cAAez0D,KAAKy0D,cACpBlpB,GAAIvrC,KAAKurC,GACTipB,WAAYx0D,KAAKw0D,WACjB9sC,GAAI1nB,KAAK0nB,GACTpG,QAASthB,KAAKshB,SAGXthB,KAAKu1D,QAChB,CCxDA,SAASU,GAAYC,EAAS50C,GAC1B,IAAIkf,EAAOxgC,KACXwgC,EAAK21B,QAAU,GACf31B,EAAK41B,MAAQ,GACb51B,EAAK61B,QAAU,GACf71B,EAAK81B,IAAM,GACX91B,EAAK+1B,kBAAoB,GACzB/1B,EAAK01B,QAAUA,EACf11B,EAAK9Y,GAAKuuC,GAAWvuC,GACrBuuC,GAAWvuC,IAAM,EAGjB8Y,EAAKk0B,SAAW,CACZQ,KAAM5wD,SAAS8Z,KACfo4C,YAAY,EACZC,mBAAoB,GACpBxB,KAAM,UACNpS,SAAU,CAACC,IAAK,EAAG/M,KAAM,GACzB2gB,cAAe,IACf/tD,KAAM,IACNgsD,UAAW,GACXC,MAAO,QACPC,SAAU,IACVC,UAAU,EACVC,cAAc,EACdC,YAAa,GACbG,OAAO,EACPC,OAAO,EACPvyB,MAAO,SACP8zB,aAAa,EACbC,QAAQ,GAGZp2B,EAAKzH,OAAOzX,GAGc,WAAtBkf,EAAKlf,QAAQ2zC,MAA2C,SAAtBz0B,EAAKlf,QAAQ2zC,OAC/Cz0B,EAAKlf,QAAQk1C,YAAa,GAGzBh2B,EAAKlf,QAAQk1C,aACdh2B,EAAKlf,QAAQm1C,mBAAqB,GAEtC,MAAMI,EAAgBC,iBAAiBt2B,EAAKlf,QAAQ4zC,KAAK50B,eAUzD,OATIu2B,GAA2C,SAA1BA,EAAcpoB,UAC/BjO,EAAKu2B,cAAe,GAGxBv2B,EAAKw2B,YACLx2B,EAAKy2B,iBACLz2B,EAAK02B,WACL12B,EAAK22B,QAEE32B,EAAK21B,OAChB,CCtDA,SAASiB,GAAS91C,GACd,IAAIkf,EAAOxgC,KACXwgC,EAAK81B,IAAM,GACX91B,EAAKhlB,MAAQ,EACbglB,EAAK62B,YAAc,GACnB72B,EAAK82B,OAASC,KAEd/2B,EAAKzH,OAAOzX,GACZkf,EAAKg3B,qBAGL,IAAIC,EAAgB,WACZ,IAAApE,EACJ7yB,EAAK62B,YAAYvzD,SAAQ,SAAUywD,GACpBA,EAAAzwD,SAAQ,SAAU4zD,GACnBA,EAAAA,EAAO3d,GAAGpE,wBAChB+hB,EAAO7U,SAAW,CACdtiD,EAAGigC,EAAK82B,OAAO/2D,EAAI8yD,EAAItd,KACvB13C,EAAGmiC,EAAK82B,OAAOj5D,EAAIg1D,EAAIvQ,IAE3C,GACA,GACA,EACc0P,GAAAzjD,OAAQ,UAAU,WACxB4oD,GAAWF,EACnB,IAII,IAAIG,EAAgB,WAChBp3B,EAAK82B,OAASC,IACtB,EAKI,OAJU/E,GAAAzjD,OAAQ,UAAU,WACxB4oD,GAAWC,EACnB,IAEWp3B,EAAK62B,WAChB,CHZIrN,GACAiK,GAdS,CACL90B,MAAO,cACP+0B,KAAM,cACNC,IAAK,4BAYFjK,GACP+J,GAXW,CACP90B,MAAO,gBACP+0B,KAAM,gBACNC,IAAK,eASFpK,IACPkK,GA5BO,CACH90B,MAAO,aACP+0B,KAAM,YACNC,IAAK,yBA0BTC,GAAavN,IAEboN,GAASpN,GAMbwN,GAAMpxD,UAAU+H,GAAK,SAAU+N,EAAKw5C,GAChC,IAEI1zD,EAFA2hC,EAAOxgC,KACPqhC,EAAQtoB,EAAIyB,MAAM,UAEtBgmB,EAAKq3B,WAAar3B,EAAKq3B,YAAc,CAAA,EAErC,IAAA,IAASv6D,EAAI,EAAGA,EAAI+jC,EAAM7iC,OAAQlB,GAAK,EACnCuB,EAAOwiC,EAAM/jC,GACbkjC,EAAKq3B,WAAWh5D,GAAQ2hC,EAAKq3B,WAAWh5D,IAAS,GACjD2hC,EAAKq3B,WAAWh5D,GAAMyB,KAAKiyD,GAExB/xB,OAAAA,CACX,EAEA6zB,GAAMpxD,UAAUm3C,IAAM,SAAUv7C,EAAM0zD,GAClC,IAAI/xB,EAAOxgC,KAYJwgC,OAXPA,EAAKq3B,WAAar3B,EAAKq3B,YAAc,CAAA,OAExB,IAATh5D,EACA2hC,EAAKq3B,WAAa,QACJ,IAAPtF,EACP/xB,EAAKq3B,WAAWh5D,GAAQ,KACjB2hC,EAAKq3B,WAAWh5D,IACnB2hC,EAAKq3B,WAAWh5D,GAAMsF,QAAQouD,IAAO,GACzC/xB,EAAKq3B,WAAWh5D,GAAMgH,OAAO26B,EAAKq3B,WAAWh5D,GAAMsF,QAAQouD,GAAK,GAG7D/xB,CACX,EAEA6zB,GAAMpxD,UAAU+yD,QAAU,SAAUj9C,EAAKpU,GACrC,IAEI9F,EAFA2hC,EAAOxgC,KACPqhC,EAAQtoB,EAAIyB,MAAM,UAEtBgmB,EAAKq3B,WAAar3B,EAAKq3B,YAAc,CAAA,EAErC,IAAA,IAASv6D,EAAI,EAAGA,EAAI+jC,EAAM7iC,OAAQlB,GAAK,EACnCuB,EAAOwiC,EAAM/jC,GACTkjC,EAAKq3B,WAAWh5D,IAAS2hC,EAAKq3B,WAAWh5D,GAAML,QAC/CgiC,EAAKq3B,WAAWh5D,GAAMiF,SAAQ,SAAUkqD,GACpCA,EAAQtvD,KAAK8hC,EAAM,CACf3hC,OACAgb,OAAQ2mB,GACT77B,EACnB,GAGA,EAGA0vD,GAAMpxD,UAAU81B,OAAS,SAAUzX,GAC/B,IAAIkf,EAAOxgC,KACXwgC,EAAKlf,QAAUkf,EAAKk0B,UAAY,CAAA,EAC5BpzC,IACAkf,EAAKlf,QD4Da,EAACwyC,EAAMC,KAC7B,MAAMn7C,EAAM,CAAA,EACZ,IAAA,IAAStb,KAAKw2D,EACNA,EAAK59C,eAAe5Y,IAAMy2D,EAAK79C,eAAe5Y,GAC1CA,EAAAA,GAAKy2D,EAAKz2D,GACPw2D,EAAK59C,eAAe5Y,KACvBA,EAAAA,GAAKw2D,EAAKx2D,IAGf,OAAAsb,CAAA,ECrEYk/C,CAAat3B,EAAKlf,QAASA,GAElD,EAGA+yC,GAAMpxD,UAAUuvD,QAAU,SAAUzY,EAAIl7C,GACpC,IAAI2hC,EAAOxgC,KAmBJwgC,OAlBPA,EAAKu3B,cAAgBv3B,EAAKu3B,eAAiB,CAAA,EAE3Cv3B,EAAKu3B,cAAcl5D,GAAQ,WACU,mBAAtB2hC,EAAK,KAAO3hC,GACnB2hC,EAAK,KAAO3hC,GAAM0M,MAAMi1B,EAAMjiC,WAGtBo+B,QAAAq7B,KAAK,0BAA4Bn5D,EAAO,aAE5D,EAEIo5D,GAAUle,EAAIka,GAAOp1D,GAAO2hC,EAAKu3B,cAAcl5D,IAE3Cu1D,GAAWv1D,IAEXo5D,GAAUle,EAAIqa,GAAWv1D,GAAO2hC,EAAKu3B,cAAcl5D,IAGhD2hC,CACX,EAGA6zB,GAAMpxD,UAAUyvD,UAAY,SAAU3Y,EAAIl7C,GACtC,IAAI2hC,EAAOxgC,KAYJ,OAXPwgC,EAAKu3B,cAAgBv3B,EAAKu3B,eAAiB,CAAA,EAE3CG,GAAYne,EAAIka,GAAOp1D,GAAO2hC,EAAKu3B,cAAcl5D,IAE7Cu1D,GAAWv1D,IAEXq5D,GAAYne,EAAIqa,GAAWv1D,GAAO2hC,EAAKu3B,cAAcl5D,WAGlD2hC,EAAKu3B,cAAcl5D,GAEnBmB,IACX,EC9EAs0D,GAAOrxD,UAAY,IAAIoxD,GACvBC,GAAO/0D,YAAc+0D,GACrBA,GAAO5sC,GAAK,EAGZ4sC,GAAOrxD,UAAUoyD,QAAU,SAAU/zC,GAG7B,OAFJthB,KAAKurC,GAAK,GAENvrC,KAAKshB,QAAQwzC,WAIjB90D,KAAKurC,GAAGwO,GAAKz1C,SAASG,cAAc,OACpCzE,KAAKurC,GAAG4sB,KAAO7zD,SAASG,cAAc,OACtCzE,KAAKurC,GAAG6sB,MAAQ9zD,SAASG,cAAc,OAEvCzE,KAAKurC,GAAGwO,GAAGlvC,UAAY,qBAAuB7K,KAAKu0D,WAAW7sC,GACzD1nB,KAAAurC,GAAG4sB,KAAKttD,UAAY,OACpB7K,KAAAurC,GAAG6sB,MAAMvtD,UAAY,QAErB7K,KAAAurC,GAAGwO,GAAGn3C,aAAa,KAAM,UAAY5C,KAAKu0D,WAAW7sC,GACtD,IAAM1nB,KAAK0nB,IAEf1nB,KAAKurC,GAAGwO,GAAG9xC,YAAYjI,KAAKurC,GAAG4sB,MAC/Bn4D,KAAKurC,GAAGwO,GAAG9xC,YAAYjI,KAAKurC,GAAG6sB,QAfpBp4D,IAkBf,EAGAs0D,GAAOrxD,UAAUqyD,QAAU,WACnB,GAAAt1D,KAAKshB,QAAQwzC,SACN,OAAA90D,KAEP,IAAAq4D,EAAWr4D,KAAKshB,QAAQuzC,SAAW,KACnCyD,EF8BsB,EAACxyC,EAAU/iB,KAC/B,MAAA6V,EAAM66C,GAA0B3tC,GACtC,IAAA,IAASxoB,KAAKsb,EACNA,EAAI1C,eAAe5Y,KACnBsb,EAAItb,GAAKyF,GAGV,OAAA6V,CAAA,EErCW2/C,CAAiB,eAAgB,OAC/CC,EAAeC,GAAqB,aAAc,UAAWJ,GAC7DK,EAAS,CAAA,EAyCN,OAxCPA,EAAO3e,GAAK,CACR8I,SAAU,WACV8V,QAAS34D,KAAKshB,QAAQ0zC,YACtBvmB,QAAS,QACTmqB,OAAU,KAGdF,EAAOP,KAAO,CACVtV,SAAU,WACVpU,QAAS,QACTuH,MAAOh2C,KAAKshB,QAAQ3Y,KAAO,KAC3Bg6C,OAAQ3iD,KAAKshB,QAAQ3Y,KAAO,KAC5BotC,KAAM,EACN8iB,YAAa74D,KAAKshB,QAAQ3Y,KAAO,EAAI,KACrCmwD,WAAY94D,KAAKshB,QAAQ3Y,KAAO,EAAI,KACpC4oB,WAAYvxB,KAAKshB,QAAQszC,MACzB+D,QAAW,MAGfD,EAAON,MAAQ,CACXpiB,MAAOh2C,KAAKshB,QAAQ3Y,KAAO,EAAI,KAC/Bg6C,OAAQ3iD,KAAKshB,QAAQ3Y,KAAO,EAAI,KAChCk6C,SAAU,WACVpU,QAAS,QACTsH,KAAM,EACN8iB,YAAa74D,KAAKshB,QAAQ3Y,KAAO,EAAI,KACrCmwD,WAAY94D,KAAKshB,QAAQ3Y,KAAO,EAAI,KACpC4oB,WAAYvxB,KAAKshB,QAAQszC,MACzB+D,QAAW,KACXI,UAAW,uBAGNlF,GAAA6E,EAAO3e,GAAIye,GACM,WAAvBx4D,KAAKshB,QAAQuhB,OACHgxB,GAAA6E,EAAOP,KAAMG,GAEjBzE,GAAA6E,EAAON,MAAOE,GAEvBt4D,KAAKg5D,YAAYN,GAEV14D,IACX,EAEAs0D,GAAOrxD,UAAU+1D,YAAc,SAAUN,GAE5Bp7D,IAAAA,IAAAA,KAAK0C,KAAKurC,GACf,GAAIvrC,KAAKurC,GAAGr1B,eAAe5Y,GACd2H,IAAAA,IAAAA,KAAKyzD,EAAOp7D,GACZ0C,KAAAurC,GAAGjuC,GAAG0E,MAAMiD,GAAKyzD,EAAOp7D,GAAG2H,GAKrC,OAAAjF,IACX,EAGAs0D,GAAOrxD,UAAUyyD,SAAW,WAEpB,OAAA11D,KAAKshB,QAAQwzC,UAAYxwD,SAAS8Z,KAAKy6B,SAAS74C,KAAKurC,GAAGwO,KAG5D/5C,KAAKshB,QAAQ4zC,KAAKjtD,YAAYjI,KAAKurC,GAAGwO,IAF3B/5C,IAIf,EAGAs0D,GAAOrxD,UAAU0yD,cAAgB,WACzB,OAAA31D,KAAKshB,QAAQwzC,WAAaxwD,SAAS8Z,KAAKy6B,SAAS74C,KAAKurC,GAAGwO,KAG7D/5C,KAAKshB,QAAQ4zC,KAAK92D,YAAY4B,KAAKurC,GAAGwO,IAF3B/5C,IAIf,EAGAs0D,GAAOrxD,UAAU2yD,QAAU,WACvBzuD,aAAanH,KAAKi5D,eAClB9xD,aAAanH,KAAKk5D,aAClB/xD,aAAanH,KAAKm5D,aACbn5D,KAAAg2D,QAAQ,YAAah2D,KAAKu1D,UAC/Bv1D,KAAK21D,gBACL31D,KAAKo6C,KACT,EAGAka,GAAOrxD,UAAUuyD,KAAO,SAAUjD,GAC9B,IAAI/xB,EAAOxgC,KAEPwgC,OAAAA,EAAKlf,QAAQwzC,WAIjB3tD,aAAaq5B,EAAKy4B,eAClB9xD,aAAaq5B,EAAK04B,aAClB/xD,aAAaq5B,EAAK24B,aAElB34B,EAAKk1B,WAELl1B,EAAK44B,eAEL9yD,YAAW,WACPk6B,EAAK+K,GAAGwO,GAAG/3C,MAAM22D,QAAU,CAC9B,GAAE,GAEHn4B,EAAK04B,YAAc5yD,YAAW,WAC1Bk6B,EAAKw1B,QAAQ,QAASx1B,EAAK+0B,UACT,mBAAPhD,GACPA,EAAG7zD,KAAKsB,KAEpB,GAAOwgC,EAAKlf,QAAQuzC,WApBLr0B,CAuBf,EAGA8zB,GAAOrxD,UAAUwyD,KAAO,SAAUlD,GAC9B,IAAI/xB,EAAOxgC,KAEPwgC,GAAAA,EAAKlf,QAAQwzC,SACNt0B,OAAAA,EAsBPA,GAnBJA,EAAK+K,GAAGwO,GAAG/3C,MAAM22D,QAAUn4B,EAAKlf,QAAQ0zC,YAExC7tD,aAAaq5B,EAAKy4B,eAClB9xD,aAAaq5B,EAAK04B,aAClB/xD,aAAaq5B,EAAK24B,aAElB34B,EAAKy4B,cAAgB3yD,YACjB,WACI,IAAImoC,EAAgC,YAAtBjO,EAAKlf,QAAQ2zC,KAAqB,OAAS,QACzDz0B,EAAK+K,GAAGwO,GAAG/3C,MAAMysC,QAAUA,EACT,mBAAP8jB,GACPA,EAAG7zD,KAAK8hC,GAGZA,EAAKw1B,QAAQ,SAAUx1B,EAAK+0B,SAC/B,GACD/0B,EAAKlf,QAAQuzC,UAGbr0B,EAAKlf,QAAQyzC,aAAc,CACrB,MAAAsE,EAAO74B,EAAKlf,QAAQyzC,aACpBuE,EAAc,CAAA,EAERA,EAAA/4D,GAAa,IAAT84D,IAA4B,IAAXA,EAAK94D,EAAc,EAAIigC,EAAK+0B,SAASd,cAAcl0D,EACxE+4D,EAAAj7D,GAAa,IAATg7D,IAA4B,IAAXA,EAAKh7D,EAAc,EAAImiC,EAAK+0B,SAASd,cAAcp2D,EAEpFmiC,EAAKq1B,YAAYtD,EAAI+G,EACxB,CAEM94B,OAAAA,CACX,EAGA8zB,GAAOrxD,UAAU4yD,YAAc,SAAUtD,EAAI1P,GACzC,IAAIriB,EAAOxgC,KACXwgC,EAAKi0B,cAAgB,CACjBl0D,EAAGsiD,EAAStiD,EACZlC,EAAGwkD,EAASxkD,GAEZ,IAAAg6D,EAAW73B,EAAKlf,QAAQuzC,SAAW,KAEnC2D,EAAe,CAAA,EACnBA,EAAaJ,MAAQK,GAAqB,aACtC,CAAC,aAAcJ,GAEnB,IAAIK,EAAS,CAACN,MAAO,CAAA,GACrBM,EAAON,MAAQ,CACXW,UAAW,aAAev4B,EAAKi0B,cAAcl0D,EAAI,MAAQigC,EAAKi0B,cAAcp2D,EAAI,OAGpFmiC,EAAKw4B,YAAYR,GACjBh4B,EAAKw4B,YAAYN,GAEjBl4B,EAAK24B,YAAc7yD,YACf,WACsB,mBAAPisD,GACPA,EAAG7zD,KAAK8hC,GAEZA,EAAK44B,cACR,GACD54B,EAAKlf,QAAQuzC,SAErB,EAEAP,GAAOrxD,UAAUm2D,aAAe,WAC5B,IAAI54B,EAAOxgC,KACPw4D,EAAe,CAAA,EACnBA,EAAaJ,MAAQK,GAAqB,aAAc,OAAQ,IAChEj4B,EAAKw4B,YAAYR,GACjBh4B,EAAKw1B,QAAQ,SAAUx1B,EAAK+0B,SAChC,EAEAjB,GAAOrxD,UAAU6yD,eAAiB,WAE9B91D,KAAKqqC,UAAY,CACb9pC,GAAG,EACHlC,GAAG,EACHk7D,OAAO,EAEf,EAEAjF,GAAOrxD,UAAU8yD,iBAAmB,SAAUn9C,GACtC,IAGAyxB,EAAWmvB,EAAYC,EAHvBC,EAAS9gD,EAAI2gD,MAAMI,OACnBC,EAAUv/C,KAAK83C,GAAK,EACpB0H,EAAUx/C,KAAK83C,GAAK,EAqDxB,GA1CIuH,EAASE,GACTF,EAAoB,EAAVE,IACThhD,EAAIu8C,MAEO9qB,EAAA,KAEZqvB,GAAUE,GACVF,GAAUE,IACThhD,EAAIw8C,MAEO/qB,EAAA,OAEZqvB,EAAqB,GAAVE,GACXF,IAAWE,IACVhhD,EAAIu8C,MAEO9qB,EAAA,OACJzxB,EAAIw8C,QACA/qB,EAAA,SAQXzxB,EAAIw8C,QAEYoE,EADbE,GAAUG,GAAWH,EAASG,EACjB,OAEA,SAIhBjhD,EAAIu8C,QAEYsE,EADbC,EAAS,EACI,KAEA,QAIjB9gD,EAAIkhD,MAAQ95D,KAAKshB,QAAQqzC,UAAW,CACpC,IACIr3D,EADAy8D,EAAe,CAAA,EAEdz8D,IAAAA,KAAK0C,KAAKqqC,UACPrqC,KAAKqqC,UAAUn0B,eAAe5Y,KAC9By8D,EAAaz8D,GAAK0C,KAAKqqC,UAAU/sC,IAIzC,IAAI08D,EAAO,CAAA,EAUX,IAAK18D,KARL0C,KAAKqqC,UAAY,CACb9pC,EAAGi5D,EACHn7D,EAAGo7D,EACHF,MAAOlvB,GAGXzxB,EAAIyxB,UAAYrqC,KAAKqqC,UAEX0vB,EACFA,EAAaz8D,KAAO0C,KAAKqqC,UAAU/sC,KACnC08D,EAAK18D,IAAK,GAKlB,GAAI08D,EAAKz5D,GAAKy5D,EAAK37D,GAAK27D,EAAKT,MAClB,OAAA3gD,EAGNohD,EAAKz5D,GAAMy5D,EAAK37D,GACZ2B,KAAAg2D,QAAQ,QAASp9C,GAGrBohD,EAAKz5D,GACDP,KAAAg2D,QAAQ,SAAWwD,EAAY5gD,GAGnCohD,EAAK37D,GACD2B,KAAAg2D,QAAQ,SAAWyD,EAAY7gD,GAGnCohD,EAAKT,OACDv5D,KAAAg2D,QAAQ,WAAa3rB,EAAWzxB,EAEjD,MACQ5Y,KAAK81D,iBAGF,OAAAl9C,CACX,EC9VAq9C,GAAWhzD,UAAY,IAAIoxD,GAC3B4B,GAAW12D,YAAc02D,GACzBA,GAAWvuC,GAAK,EAEhBuuC,GAAWhzD,UAAUg0D,eAAiB,WAClC,IAAIz2B,EAAOxgC,KACPi6D,EAAOz5B,EAAK21B,QAGhB8D,EAAKjvD,GAAKw1B,EAAKx1B,GAAG5E,KAAKo6B,GACvBy5B,EAAK7f,IAAM5Z,EAAK4Z,IAAIh0C,KAAKo6B,GACzBy5B,EAAK34C,QAAUkf,EAAKlf,QACpB24C,EAAKrE,QAAUp1B,EAAKo1B,QAAQxvD,KAAKo6B,GACjCy5B,EAAK3D,IAAM91B,EAAK81B,IAChB2D,EAAKvyC,GAAK8Y,EAAK9Y,GACfuyC,EAAKC,cAAgB15B,EAAK05B,cAAc9zD,KAAKo6B,GAC7Cy5B,EAAKE,aAAe35B,EAAK25B,aAAa/zD,KAAKo6B,GACtCy5B,EAAAlxD,IAAM,SAAU2e,GACjB,QAAW,IAAPA,EACA,OAAOuyC,EAAK,GAEP38D,IAAAA,IAAAA,EAAI,EAAGu4C,EAAMokB,EAAKz7D,OAAQlB,EAAIu4C,EAAKv4C,GAAK,EAC7C,GAAI28D,EAAK38D,GAAGk3D,aAAe9sC,EACvB,OAAOuyC,EAAK38D,GAGb,OAAA,CACf,CACA,EAEA24D,GAAWhzD,UAAUi0D,SAAW,WAC5B,IAAI12B,EAAOxgC,KAEXwgC,EAAKgyB,QAAQhyB,EAAKlf,QAAQ4zC,KAAM,SAEhC10B,EAAKlf,QAAQ4zC,KAAKlzD,MAAMo4D,YAAc,OACtC55B,EAAKlf,QAAQ4zC,KAAKlzD,MAAMq4D,cAAgB,MAC5C,EAEApE,GAAWhzD,UAAUk0D,MAAQ,WACzB,IAAI32B,EAAOxgC,KACPs6D,EAAO95B,EAAKlf,QAIZ,GAAc,WAAdg5C,EAAKrF,KAAmB,CACxB,IAAIyC,EAASl3B,EAAK+5B,aACdD,EAAKzX,SACLriB,EAAK01B,QAAQsE,iBAGjB9C,EAAOlhD,MAEPgqB,EAAK41B,MAAM91D,KAAKo3D,EACnB,CACL,EAGAzB,GAAWhzD,UAAUs3D,aAAe,SAAU1X,EAAU2R,GACpD,IAAIh0B,EAAOxgC,KACPs3D,EAAS92B,EAAK01B,QAAQoB,OACtBmD,EAAU,CAAA,EACVH,EAAO95B,EAAKlf,QACZkP,EACGgQ,EAAKu2B,aAAeO,EAAO/2D,EAAK+2D,EAAO/2D,EAAIigC,EAAKk6B,IAAI3kB,KADvDvlB,EAEGgQ,EAAKu2B,aAAeO,EAAOj5D,EAAKi5D,EAAOj5D,EAAImiC,EAAKk6B,IAAI5X,IAGvD,GAAAD,EAAStiD,GAAKsiD,EAASxkD,EACbo8D,EAAA,CACNl6D,EAAGsiD,EAAStiD,EAAIiwB,EAChBnyB,EAAGwkD,EAASxkD,EAAImyB,QAE5B,GACQqyB,EAASC,KACTD,EAASyN,OACTzN,EAASyQ,QACTzQ,EAAS9M,KACX,CAGM,IAAA4kB,EAAOr2D,SAASG,cAAc,OAClCk2D,EAAK34D,MAAMysC,QAAU,SAChBksB,EAAA34D,MAAM8gD,IAAMD,EAASC,IACrB6X,EAAA34D,MAAMsuD,MAAQzN,EAASyN,MACvBqK,EAAA34D,MAAMsxD,OAASzQ,EAASyQ,OACxBqH,EAAA34D,MAAM+zC,KAAO8M,EAAS9M,KAC3B4kB,EAAK34D,MAAM6gD,SAAW,WAEjByX,EAAApF,KAAKjtD,YAAY0yD,GAClB,IAAAC,EAAUD,EAAKhlB,wBACd2kB,EAAApF,KAAK92D,YAAYu8D,GAEZF,EAAA5X,EACCA,EAAA,CACPtiD,EAAGq6D,EAAQ7kB,KAAOuhB,EAAO/2D,EACzBlC,EAAGu8D,EAAQ9X,IAAMwU,EAAOj5D,EAE/B,CAEGq5D,IAAAA,EAAS,IAAIpD,GAAO9zB,EAAM,CAC1Bo0B,MAAO0F,EAAK1F,MACZjsD,KAAM2xD,EAAK3xD,KACXgsD,UAAW2F,EAAK3F,UAChBE,SAAUyF,EAAKzF,SACfC,SAAUwF,EAAKxF,SACfC,aAAcuF,EAAKvF,aACnBC,YAAasF,EAAKtF,YAClBC,KAAMqF,EAAKrF,KACXT,aACA3R,WACAqS,KAAMoF,EAAKpF,KACXT,cAAe,CACXl0D,EAAG,EACHlC,EAAG,GAEPwkC,MAAOy3B,EAAKz3B,QAaT60B,OAVF4C,EAAKxF,WACU4C,GAAAA,EAAOnsB,GAAGwO,GAAI0gB,GAC9BI,GAAgBnD,EAAOnsB,GAAG6sB,MAAOV,EAAOjD,gBAE5Cj0B,EAAK21B,QAAQ71D,KAAKo3D,GAClBl3B,EAAKw1B,QAAQ,SAAW0B,EAAOlD,WAAa,SAAUkD,GACtDl3B,EAAK01B,QAAQF,QAAQ,SAAW0B,EAAOlD,WAAa,SAAUkD,GAE9Dl3B,EAAKs6B,WAAWpD,GAETA,CACX,EAEAzB,GAAWhzD,UAAU+zD,UAAY,WAClBh3D,KACN06D,IADM16D,KACKshB,QAAQ4zC,KAAKvf,uBACjC,EAEAsgB,GAAWhzD,UAAU63D,WAAa,SAAUpD,GACxC,IACI74D,EADA2hC,EAAOxgC,KAGPguD,EAAU,SAAUhF,EAAKrkD,GAEzB9F,EAAOmqD,EAAInqD,KAAO,IAAM8F,EAAK+iB,GAAK,IAAMshC,EAAInqD,KAC5C2hC,EAAKw1B,QAAQn3D,EAAM8F,EAC3B,EAGI+yD,EAAO1sD,GAAG,YAAaw1B,EAAKu6B,YAAY30D,KAAKo6B,IAG7Ck3B,EAAO1sD,GAAG,gCAAiCgjD,GAC3C0J,EAAO1sD,GAAG,qCAAsCgjD,GAChD0J,EAAO1sD,GAAG,6CAA8CgjD,EAC5D,EAEAiI,GAAWhzD,UAAU+3D,WAAa,SAAUC,EAAOvD,EAAQlD,GACvD,IAAIh0B,EAAOxgC,KACPk7D,EAAmB,EACT16B,cAAAA,EAAK+1B,kBAAkB/B,IAErCh0B,EAAK+1B,kBAAkB/B,GAAcxa,uBACjC,IAAImhB,EAAWF,EAAMnB,OAASmB,EAAME,UAChCF,EAAMG,aAAe,EACrBD,IAAaD,IACbxD,EAAO1B,QAAQ,WAAYmF,GAC3B36B,EAAKw1B,QAAQ,YACT0B,EAAOlD,WAAa,YAAa2G,GAClBD,EAAAC,EAEzB,EAAA/0D,KAAKo6B,GAAO,IAClB,EAEAy1B,GAAWhzD,UAAUo4D,QAAU,SAAUrS,GACrC,IAAIxoB,EAAOxgC,KACPs6D,EAAO95B,EAAKlf,QACZg6C,EAAUtS,EACdA,EAAMuS,GAAevS,GAGrBxoB,EAAKw2B,YA+BE,OALPwE,GAAMxS,GAxBQ,SAAUiS,GAGhBz6B,EAAK61B,QAAQ73D,OAAS87D,EAAK7D,mBAC3Bj2B,EAAKi7B,eAAeR,GAEhBK,EAAQz8D,KAAK0hB,MAAM,YAIvBhX,OAAO8M,KAAKmqB,EAAK01B,QAAQI,KAAKxyD,SAAQ,SAAS3D,GAC3C,GAAGoJ,OAAO21B,OAAOo8B,EAAQI,SAASC,WAAU,SAASr9D,GAAG,OAAOA,EAAEk2D,aAAar0D,CAAE,IAAK,EAAE,CAEnF,IAAIzC,EAAI,CAACsrD,EAAI,IACbtrD,EAAE82D,WAAar0D,EACfqgC,EAAK25B,aAAaz8D,EACrB,CACjB,IACe8iC,EAAK61B,QAAQ73D,OAAS87D,EAAK7D,oBAC1Bj2B,EAAKi7B,eAAeR,GAGpC,IAMIz6B,EAAK01B,QAAQ0F,gBACN,CACX,EAEA3F,GAAWhzD,UAAUw4D,eAAiB,SAAUzS,GAC5C,IAEI6S,EAFAr7B,EAAOxgC,KACPs6D,EAAO95B,EAAKlf,QAEZkzC,EAAah0B,EAAK01B,QAAQsE,cAAcxR,GACxCmS,EAAWnS,EAAI8Q,OAAS9Q,EAAImS,UAAYnS,EAAIoS,aAAe,EAC3DvY,EAAW,CACXtiD,EAAGyoD,EAAI8S,MACPz9D,EAAG2qD,EAAI+S,OAGPrE,EAASl3B,EAAKw7B,YAAYxH,EAAY3R,GAGtC6U,EAAOlD,aAAeA,GACtBh0B,EAAK01B,QAAQ+F,iBAAiBvE,EAAOlD,YAEzCkD,EAAOlD,WAAaA,EAEhBrzB,IAAAA,EAAU,SAAU+6B,GAEhBA,EAAAlG,QAAQ,QAASkG,GACrB17B,EAAKw1B,QAAQ,SAAWkG,EAAIx0C,GAAK,SAAUw0C,GAE3CA,EAAI1G,OACA2F,EAAW,GACX36B,EAAKw6B,WAAWhS,EAAKkT,EAAKA,EAAI1H,YAGlCh0B,EAAK05B,cAAclR,EAC3B,EAWQ,IARC6S,EAAer7B,EAAK41B,MAAMjyD,QAAQuzD,KAAY,GAC/Cl3B,EAAK41B,MAAMvwD,OAAOg2D,EAAc,GAIpCr7B,EAAK61B,QAAQ/1D,KAAKo3D,GAClBl3B,EAAK81B,IAAIh2D,KAAKo3D,EAAOlD,YAEH,SAAd8F,EAAKrF,KACL9zB,EAAQu2B,OACL,CAIC9F,KADWuK,GAAWtZ,EAAU6U,EAAO7U,WAC3ByX,EAAK5D,eAKjB,OAFAgB,EAAO9B,eACPp1B,EAAKi7B,eAAezS,GAHpB7nB,EAAQu2B,EAMf,CAEMA,OAAAA,CACX,EAEAzB,GAAWhzD,UAAU+4D,YAAc,SAAUxH,EAAY3R,GACrD,IAEI6U,EAFAl3B,EAAOxgC,KACPs6D,EAAO95B,EAAKlf,QAIhB,MAAI,gBAAgBxf,KAAKw4D,EAAKrF,OAI1ByC,EAASl3B,EAAK41B,MAAM,KAEhB51B,EAAK41B,MAAMvwD,OAAO,EAAG,GACd6xD,GAGO,SAAd4C,EAAKrF,KAEEz0B,EAAK+5B,aAAa1X,EAAU2R,IAIvC73B,QAAQq7B,KAAK,qCACN,GAGXN,EAASl3B,EAAK+5B,aAAa1X,EAAU2R,EAEzC,EAEAyB,GAAWhzD,UAAUi3D,cAAgB,SAAUlR,GAC3C,IAAIxoB,EAAOxgC,KACPs6D,EAAO95B,EAAKlf,QACZkzC,EAAah0B,EAAK01B,QAAQsE,cAAcxR,GACxC0O,EAASl3B,EAAK21B,QAAQptD,IAAIyrD,GAC1B8C,EAAS92B,EAAK01B,QAAQoB,OAItB,GHtViB,CAACtO,GAClBnxC,MAAMmxC,EAAIoT,SACc,IAAjBpT,EAAImS,SAEQ,IAAhBnS,EAAIoT,QGkVNC,CAAYrT,GAAb,CAKJ,IAAK0O,EAMD,OAFQ/6B,QAAArc,MAAM,iCAAmCk0C,QACjDh0B,EAAK01B,QAAQ+F,iBAAiBzH,GAIlC,GAAI8F,EAAK3D,YAAa,CACd,IAAA2F,EAAQ5E,EAAO3d,GAAGpE,wBACtB+hB,EAAO7U,SAAW,CACdtiD,EAAG+2D,EAAO/2D,EAAI+7D,EAAMvmB,KACpB13C,EAAGi5D,EAAOj5D,EAAIi+D,EAAMxZ,IAE3B,CAED4U,EAAOlD,WAAaA,EAEhB,IAAA7rD,EAAO+uD,EAAOp2C,QAAQ3Y,KAAO,EAC7B0qD,EAAM,CACN9yD,EAAGyoD,EAAI8S,MACPz9D,EAAG2qD,EAAI+S,OAGPzB,EAAKnF,QACD9B,EAAAh1D,EAAIq5D,EAAO7U,SAASxkD,GAExBi8D,EAAKlF,QACD/B,EAAA9yD,EAAIm3D,EAAO7U,SAAStiD,GAG5B,IAWIg8D,EACAC,EAZAC,EAAON,GAAW9I,EAAKqE,EAAO7U,UAC9B0W,EHnZa,EAAC1H,EAAIC,KAChB,MAAAC,EAAKD,EAAGvxD,EAAIsxD,EAAGtxD,EACfyxD,EAAKF,EAAGzzD,EAAIwzD,EAAGxzD,EAErB,OAAO+zD,GAAQ/3C,KAAKqiD,MAAM1K,EAAID,GAAG,EG+YrB4K,CAAQtJ,EAAKqE,EAAO7U,UAC5B6W,EAASkD,GAAUrD,GACnBO,EAAQ2C,EAAO9zD,EAEfk0D,EAAM,CACNjL,SAAU6K,EACV5Z,SAAUwQ,GAgBd,GAV6B,WAAzBqE,EAAOp2C,QAAQuhB,OAEA05B,EAAAliD,KAAK8O,IAAIszC,EAAM9zD,GAC9B6zD,EH3ZiB,EAACt+D,EAAGU,EAAGf,KAC5B,MAAMkC,EAAI,CAACQ,EAAG,EAAGlC,EAAG,GAIb0B,OAHPlC,EAAIq0D,GAAQr0D,GACZkC,EAAEQ,EAAIrC,EAAEqC,EAAI3B,EAAIyb,KAAKyiD,IAAIj/D,GACzBkC,EAAE1B,EAAIH,EAAEG,EAAIO,EAAIyb,KAAK0iD,IAAIl/D,GAClBkC,CAAAA,EGsZWi9D,CAAYtF,EAAO7U,SAAU0Z,EAAchD,KAGzDiD,EHvPa,EAACnJ,EAAK4J,EAAWt0D,KAAU,CAE5CpI,EAAG8Z,KAAK8O,IAAI9O,KAAKw7B,IAAIwd,EAAI9yD,EAAG08D,EAAU18D,EAAIoI,GAAOs0D,EAAU18D,EAAIoI,GAE/DtK,EAAGgc,KAAK8O,IAAI9O,KAAKw7B,IAAIwd,EAAIh1D,EAAG4+D,EAAU5+D,EAAIsK,GAAOs0D,EAAU5+D,EAAIsK,KGmP7Cu0D,CAAQ7J,EAAKqE,EAAO7U,SAAUl6C,GAC7BwzD,EAAAA,GAAWK,EAAa9E,EAAO7U,WAG9CyX,EAAK1D,QAEL,GAAI6F,EAAO9zD,EAAM,CACT,IAAAw0D,EAAU9J,EAAI9yD,EAAIi8D,EAAYj8D,EAC9B68D,EAAU/J,EAAIh1D,EAAIm+D,EAAYn+D,EAClCq5D,EAAO7U,SAAStiD,GAAK48D,EACrBzF,EAAO7U,SAASxkD,GAAK++D,EACrB1F,EAAO3d,GAAG/3C,MAAM8gD,IAAO4U,EAAO7U,SAASxkD,GAAKmiC,EAAKk6B,IAAI5X,IAAMwU,EAAOj5D,GAAM,KACxEq5D,EAAO3d,GAAG/3C,MAAM+zC,KAAQ2hB,EAAO7U,SAAStiD,GAAKigC,EAAKk6B,IAAI3kB,KAAOuhB,EAAO/2D,GAAM,KAEnE47D,EAAAA,GAAW9I,EAAKqE,EAAO7U,SACjC,OAGKwQ,EAAAmJ,EACCC,EAAAF,EAGX,IAAIc,EAAYhK,EAAI9yD,EAAIm3D,EAAO7U,SAAStiD,EACpC+8D,EAAYjK,EAAIh1D,EAAIq5D,EAAO7U,SAASxkD,EAExCq5D,EAAOjD,cAAgB,CACnBl0D,EAAG88D,EACHh/D,EAAGi/D,GAGFhD,EAAKxF,WACN4C,EAAOnsB,GAAG6sB,MAAMp2D,MAAM+2D,UAAY,aAAesE,EAAY,MAAQC,EAAY,OAIrF,IAAIC,EAAS,CACT/I,WAAYkD,EAAOlD,WACnB3R,SAAUwQ,EACVyG,QACAqB,SAAUnS,EAAI8Q,OAAS9Q,EAAImS,UAAYnS,EAAIoS,aAAe,EAC1DxJ,SAAU6K,EACVlD,MAAO,CACHI,OAAQD,EACR8D,OAAQjE,GAEZkE,OAAQ,CACJl9D,EAAG88D,EAAY10D,EACftK,GAAKi/D,EAAY30D,GAErBk0D,MACAtH,SAAUmC,EACVvC,MAAOmF,EAAKnF,MACZC,MAAOkF,EAAKlF,QAIPsC,EAAAA,EAAO3B,iBAAiBwH,IAG1BhE,MAAQ,CACXI,OAAQiD,GAAU,IAAMrD,GACxBiE,OAAQ,IAAMjE,GAIlB7B,EAAO1B,QAAQ,OAAQuH,GACvB/8B,EAAKw1B,QAAQ,QAAU0B,EAAOhwC,GAAK,QAAS61C,EAvH3C,MAFGv9D,KAAKm6D,aAAanR,EA0H1B,EAEAiN,GAAWhzD,UAAUk3D,aAAe,SAAUnR,GAC1C,IAAIxoB,EAAOxgC,KACPs6D,EAAO95B,EAAKlf,QACZkzC,EAAah0B,EAAK01B,QAAQsE,cAAcxR,GACxC0O,EAASl3B,EAAK21B,QAAQptD,IAAIyrD,GAC1BkJ,EAAoBl9B,EAAK01B,QAAQ+F,iBAAiBvE,EAAOlD,YAExDkD,IAIA4C,EAAKxF,UACN4C,EAAOjC,MAAK,WACU,YAAd6E,EAAKrF,OACLyC,EAAO1B,QAAQ,UAAW0B,GAC1Bl3B,EAAKw1B,QAAQ,WAAa0B,EAAOhwC,GAAK,WAAYgwC,GAClDl3B,EAAK01B,QACAF,QAAQ,WAAa0B,EAAOhwC,GAAK,WAAYgwC,GAClDA,EAAO9B,UAEvB,IAII9iC,cAAc0N,EAAK+1B,kBAAkBmB,EAAOlD,aAI5CkD,EAAO5B,iBAEP4B,EAAO1B,QAAQ,MAAO0B,GACtBl3B,EAAKw1B,QAAQ,OAAS0B,EAAOhwC,GAAK,OAAQgwC,GAGtCl3B,EAAK81B,IAAInyD,QAAQuzD,EAAOlD,aAAe,GACvCh0B,EAAK81B,IAAIzwD,OAAO26B,EAAK81B,IAAInyD,QAAQuzD,EAAOlD,YAAa,GAIrDh0B,EAAK61B,QAAQlyD,QAAQuzD,IAAW,GAChCl3B,EAAK61B,QAAQxwD,OAAO26B,EAAK61B,QAAQlyD,QAAQuzD,GAAS,GAGlD,gBAAgB51D,KAAKw4D,EAAKrF,MAG1Bz0B,EAAK41B,MAAM91D,KAAKo3D,GACTl3B,EAAK21B,QAAQhyD,QAAQuzD,IAAW,GAGvCl3B,EAAK21B,QAAQtwD,OAAO26B,EAAK21B,QAAQhyD,QAAQuzD,GAAS,GAItDl3B,EAAK01B,QAAQyH,iBAGT,gBAAgB77D,KAAKw4D,EAAKrF,QAC1Bz0B,EAAK01B,QAAQI,IAAIoH,EAAkBh2C,IAAMg2C,EAAkBlJ,YAEnE,EAGAyB,GAAWhzD,UAAU83D,YAAc,SAAS/R,EAAK0O,GAC7C,IAAIl3B,EAAOxgC,KACPwgC,EAAK21B,QAAQhyD,QAAQuzD,IAAW,GAChCl3B,EAAK21B,QAAQtwD,OAAO26B,EAAK21B,QAAQhyD,QAAQuzD,GAAS,GAElDl3B,EAAK61B,QAAQlyD,QAAQuzD,IAAW,GAChCl3B,EAAK61B,QAAQxwD,OAAO26B,EAAK61B,QAAQlyD,QAAQuzD,GAAS,GAElDl3B,EAAK41B,MAAMjyD,QAAQuzD,IAAW,GAC9Bl3B,EAAK41B,MAAMvwD,OAAO26B,EAAK41B,MAAMjyD,QAAQuzD,GAAS,GAE9Cl3B,EAAK81B,IAAInyD,QAAQuzD,EAAOlD,aAAe,GACvCh0B,EAAK81B,IAAIzwD,OAAO26B,EAAK81B,IAAInyD,QAAQuzD,EAAOlD,YAAa,GAIzDh0B,EAAK01B,QAAQ+F,iBAAiBvE,EAAOlD,YAGrCh0B,EAAK01B,QAAQyH,gBACjB,EAGA1H,GAAWhzD,UAAU2yD,QAAU,WAC3B,IAAIp1B,EAAOxgC,KASF1C,IAAAA,IAAAA,KARTkjC,EAAKkyB,UAAUlyB,EAAKlf,QAAQ4zC,KAAM,SAGlC10B,EAAK21B,QAAQryD,SAAQ,SAAS4zD,GAC1BA,EAAO9B,SACf,IAGkBp1B,EAAK+1B,kBACX/1B,EAAK+1B,kBAAkBrgD,eAAe5Y,IACxBkjC,cAAAA,EAAK+1B,kBAAkBj5D,IAK7CkjC,EAAKw1B,QAAQ,YAAax1B,EAAK21B,SAE/B31B,EAAK01B,QAAQyH,iBAEbn9B,EAAK4Z,KACT,ECljBAgd,GAAQn0D,UAAY,IAAIoxD,GACxB+C,GAAQ73D,YAAc63D,GAEtBA,GAAQn0D,UAAUu0D,mBAAqB,WACnC,IAAIh3B,EAAOxgC,KAEXwgC,EAAK62B,YAAY3gD,OAAS8pB,EAAK9pB,OAAOtQ,KAAKo6B,GAE3CA,EAAK62B,YAAYrsD,GAAKw1B,EAAKx1B,GAAG5E,KAAKo6B,GAEnCA,EAAK62B,YAAYjd,IAAM5Z,EAAK4Z,IAAIh0C,KAAKo6B,GAErCA,EAAK62B,YAAYzB,QAAUp1B,EAAKo1B,QAAQxvD,KAAKo6B,GAE7CA,EAAK62B,YAAYtuD,IAAM,SAAU2e,GACzBgwC,IAAAA,EAMGA,OAJPl3B,EAAK62B,YAAY1wD,OAAM,SAAU4tD,GAE7B,QADAmD,EAASnD,EAAWxrD,IAAI2e,GAEpC,IACegwC,CACf,CACA,EAEAN,GAAQn0D,UAAUyT,OAAS,SAAU4K,GAC1B,OAAAthB,KAAK49D,iBAAiBt8C,EACjC,EAGA81C,GAAQn0D,UAAU26D,iBAAmB,SAAUt8C,GAC3C,IAAIkf,EAAOxgC,KACPu0D,EAAa,IAAI0B,GAAWz1B,EAAMlf,GAK/B,OAHPkf,EAAKq9B,eAAetJ,GACpB/zB,EAAK62B,YAAY/2D,KAAKi0D,GAEfA,CACX,EAEA6C,GAAQn0D,UAAU46D,eAAiB,SAAUtJ,GACzC,IACI11D,EADA2hC,EAAOxgC,KAGPguD,EAAU,SAAUhF,EAAKrkD,GAEzB9F,EAAOmqD,EAAInqD,KAAO,IAAM8F,EAAK+iB,GAAK,IAAMshC,EAAInqD,KAC5C2hC,EAAKw1B,QAAQn3D,EAAM8F,EAC3B,EAGI4vD,EAAWvpD,GAAG,YAAaw1B,EAAKu6B,YAAY30D,KAAKo6B,IAGtC+zB,EAAAvpD,GAAG,gCAAiCgjD,GACpCuG,EAAAvpD,GAAG,qCAAsCgjD,GACzCuG,EAAAvpD,GAAG,6CAA8CgjD,EAChE,EAEAoJ,GAAQn0D,UAAU24D,aAAe,WAC7B,IAAIp7B,EAAOxgC,KAENwgC,EAAKs9B,SACNt9B,EAAKgyB,QAAQluD,SAAU,QAClBkuD,QAAQluD,SAAU,OACvBk8B,EAAKs9B,QAAS,EAEtB,EAEA1G,GAAQn0D,UAAU06D,eAAiB,SAAU7D,GACzC,IAAIt5B,EAAOxgC,KAGNuJ,OAAO8M,KAAKmqB,EAAK81B,KAAK93D,SAAoB,IAAVs7D,IACjCt5B,EAAKkyB,UAAUpuD,SAAU,QACpBouD,UAAUpuD,SAAU,OACzBk8B,EAAKs9B,QAAS,EAEtB,EAEA1G,GAAQn0D,UAAUu3D,cAAgB,SAAUxR,GACpC,IAAAthC,EAoBG,OAlBFshC,OAMU,KADXthC,OAAwB,IAAnBshC,EAAIwL,WAA2BxL,EAAI+U,UAAY/U,EAAIwL,cAEpD9sC,EAAK1nB,KAAKg+D,QAAU,GANxBt2C,EAAK1nB,KAAKwb,WAUO,IAAjBxb,KAAKs2D,IAAI5uC,KACJ1nB,KAAAs2D,IAAI5uC,GAAM1nB,KAAKwb,MACpBxb,KAAKwb,OAAS,GAIlBxb,KAAKg+D,OAASt2C,EACP1nB,KAAKs2D,IAAI5uC,EACpB,EAEA0vC,GAAQn0D,UAAUg5D,iBAAmB,SAAUzH,GAC3C,IAAIz/C,EAAU,CAAA,EACL,IAAA,IAAA2S,KAAM1nB,KAAKs2D,IAChB,GAAIt2D,KAAKs2D,IAAI5uC,KAAQ8sC,EAAY,CAC7Bz/C,EAAQ2S,GAAKA,EACL3S,EAAAy/C,WAAax0D,KAAKs2D,IAAI5uC,UACvB1nB,KAAKs2D,IAAI5uC,GAChB,KACH,CAEE,OAAA3S,CACX,EAEAqiD,GAAQn0D,UAAUg7D,OAAS,SAAUjV,GAG1B,OAFIhpD,KACNk+D,MAAM,OAAQlV,IACZ,CACX,EAEAoO,GAAQn0D,UAAUk7D,MAAQ,SAAUnV,GAGzB,OAFIhpD,KACNk+D,MAAM,MAAOlV,IACX,CACX,EAEAoO,GAAQn0D,UAAUm7D,SAAW,SAAUpV,GAG5B,OAFIhpD,KACNk+D,MAAM,MAAOlV,IACX,CACX,EAEAoO,GAAQn0D,UAAUi7D,MAAQ,SAAUz3B,EAAOuiB,GACvC,IACIthC,EADA8Y,EAAOxgC,KAEPq+D,EAAY,YAAc53B,EAAMmtB,OAAO,GAAGnwB,cAC1CgD,EAAMrkC,MAAM,GAChB4mD,EAAMuS,GAAevS,GACrB,IAAIsV,EAAc,SAAU5gE,EAAGgqB,EAAI62C,GAC3BA,EAAKjI,IAAInyD,QAAQujB,IAAO,IACnB62C,EAAAF,GAAW3gE,GAEhBA,EAAE8gE,SAAU,EAExB,EAaW,OAFPhD,GAAMxS,GAVW,SAAUtrD,GAClB8iC,EAAAA,EAAKg6B,cAAc98D,GACxB89D,GAAMh7B,EAAK62B,YAAaiH,EAAYl4D,KAAK,KAAM1I,EAAGgqB,IAG7ChqB,EAAE8gE,SACHh+B,EAAKy7B,iBAAiBv0C,EAElC,KAIW,CACX,EAGA0vC,GAAQn0D,UAAU2yD,QAAU,WACxB,IAAIp1B,EAAOxgC,KACXwgC,EAAKm9B,gBAAe,GACpBn9B,EAAK81B,IAAM,GACX91B,EAAKhlB,MAAQ,EACbglB,EAAK62B,YAAYvzD,SAAQ,SAASywD,GAC9BA,EAAWqB,SACnB,IACIp1B,EAAK4Z,KACT,EAIAgd,GAAQn0D,UAAU83D,YAAc,SAAU/R,EAAKuV,GAC3C,IAAI/9B,EAAOxgC,KACX,GAAIwgC,EAAK62B,YAAYlzD,QAAQo6D,GAAQ,EAC1B,OAAA,EAEX/9B,EAAK62B,YAAYxxD,OAAO26B,EAAK62B,YAAYlzD,QAAQo6D,GAAO,EAC5D,ECpOA,MAAME,GAAU,IAAIrH,GACLsH,GAAA,CACXhoD,OAAQ,SAAU4K,GACP,OAAAm9C,GAAQ/nD,OAAO4K,EACzB,EACDm9C,YCHG,SAASn9C,GAAQwtC,EACA6P,EACAC,EACAj2D,EACAm6C,EACAwN,GACpB,MAAMuO,EAAQxkD,KAAKujB,MAAMj1B,EAAO,GAEhC,IAAIm2D,GAAkB,EACtB,MAEMC,EAAmBA,KACftwB,MAAAA,EAAUqwB,EAAkB,OAAS,OAC3C,IAAA,MAAWrqD,KAAQhW,EACXgW,GAAQ6M,IAIZ7M,EAAKzS,MAAMysC,QAAUA,EACzB,EAaEhwC,EAA0B,CAC5BugE,GAAsBL,EAAaC,GACnCtP,GAAa,WAAY,CACrB3vB,QAASA,KACLmvB,EAAOtB,iBAEHsR,IACkBA,GAAA,MAEtB,GAELn2D,GACH2mD,GAAa,UAAW,CACpB3vB,QAvBcs/B,KAClBH,GAAmBA,QAuBhBn2D,IAED2Y,EAAU7iB,EAASA,EAASD,OAAS,GAErC0gE,EAAY7R,GAAU,oBAE5B,IAAA,MAAW54C,KAAQhW,EACXgW,IAAS6M,GACJs3B,EAAAA,UAAUpiC,IAAI,2BAElBxU,EAAAA,MAAMm9D,YAAcN,EAAQ,KAC5B78D,EAAAA,MAAMo9D,aAAeP,EAAQ,KAC9BpqD,IAAS6M,IACT7M,EAAKzS,MAAMysC,QAR8B,QAU7CywB,EAAUj3D,YAAYwM,GAS1B,OANAyqD,EAAUl9D,MAAM6gD,SAAW,WACjB7gD,EAAAA,MAAMsuD,MAAQA,EAAQ,KACtBtuD,EAAAA,MAAM8gD,IAAMA,EAAM,KAErB2K,EAAAA,aAAaxlD,YAAYi3D,GAEzB,KACIzR,EAAAA,aAAarvD,YAAY8gE,EAAS,CAEjD,CAEA,SAASF,GAAsBlQ,EAAkB7uB,GACzC6uB,GAAAA,EAAOtwD,QAAU,EACV8F,OAAAA,SAASG,cAAc,OAG5B46D,MAAAA,EAAS/6D,SAASG,cAAc,UAC/Bm0C,EAAAA,UAAUpiC,IAAI,2BAGrB,IAAA,MAAW/B,KAAQq6C,EAAQ,CACjBwQ,MAAAA,EAASh7D,SAASG,cAAc,UACtC66D,EAAOv8D,MAAQ0R,EACf6qD,EAAOt6D,UAAYyP,EACnB4qD,EAAOp3D,YAAYq3D,EACvB,CASOD,OAPAE,EAAAA,SAAY7hE,IACTmxD,MAAAA,EAAQnxD,EAAEmc,OAAO9W,MACvBk9B,EAAS4uB,EAAK,EdtFN3W,SAAgB6B,EAAiBrT,GAAiB,GACxD84B,MAAAA,EAAU9hE,IACZA,EAAEw6C,iBAAgB,EAEhBkT,EAAa1tD,IACfA,EAAEw6C,kBACExR,GACAhpC,EAAEgpC,gBACN,EAEEplB,EAAU,CACZ+pC,SAAS,GAEF52C,IAAAA,MAAAA,KAAQg1C,GAAQY,SACpB9nD,EAAAA,iBAAiBkS,EAAM+qD,EAAQl+C,GAE3B7M,IAAAA,MAAAA,KAAQg1C,GAAQc,OACpBhoD,EAAAA,iBAAiBkS,EAAM+qD,EAAQl+C,GAE3B7M,IAAAA,MAAAA,KAAQg1C,GAAQgB,SACpBloD,EAAAA,iBAAiBkS,EAAM22C,EAAW9pC,EAE7C,CcmEI42B,CAAgBmnB,GAAQ,GAEjBA,CACX,CClGgB3O,SAAAA,GAAS5B,EACAz2B,EACAonC,GACfC,MAAAA,EAASD,GAAa,GAC5B,SAAS53D,EAAI8+B,GACL+4B,YAAoB9vC,IAApB8vC,EAAO/4B,GACA+4B,EAAO/4B,GAGXA,CACX,CAeA,OAbOunB,EAAAA,cAAcvnB,IACjBtO,EAAGsnC,aAAa93D,EAAI8+B,IAAU,EAAI,IAE/BynB,EAAAA,YAAYznB,IACftO,EAAGsnC,aAAa93D,EAAI8+B,IAAU,EAAK,IAEhC2nB,EAAAA,eAAe3nB,IACfi5B,EAAAA,iBAAiB/3D,EAAI8+B,GAAQ,IAE7B6nB,EAAAA,gBAAgBE,IAChBkR,EAAAA,oBAAoBlR,EAAQ,IAG5B,KAEIR,EAAAA,cAAcvnB,IAAD,IAEbynB,EAAAA,YAAYznB,IAAD,IAEX2nB,EAAAA,eAAe3nB,IAAD,IAEd6nB,EAAAA,gBAAgBE,IAAD,GAAgC,CAE9D,CC9BO,SAASmR,GACZC,EACAhR,EACAF,EACAv2B,SACMsmC,MAAAA,EAAcp1D,OAAO8M,KAAKu4C,GAE1BmR,EAAS,CACXrP,SAAUA,OACV7D,MAAOA,OACPmT,SAAUA,OACV5D,QAASA,QAGP6D,EAAsBC,IACxBH,EAAOrP,WACPqP,EAAOlT,QACPkT,EAAOC,WACPD,EAAO3D,UAEP2D,EAAOrP,SAAW,OAClBqP,EAAOlT,MAAQ,OACfkT,EAAOC,SAAW,OAClBD,EAAO3D,QAAU,OAEXvN,MAAAA,EAAQD,EAAasR,QACbtwC,IAAVi/B,IAIJkR,EAAOrP,SAAWA,GAAS5B,EAAQz2B,EAAIw2B,EAAM6Q,aAEtB9vC,IAAnBi/B,EAAMmR,UAA0BnR,EAAMmR,SAASxhE,OAAS,EACxDuhE,EAAOC,SCzBHtI,SAAO5I,EACAz2B,EACA8nC,GACbjK,MAAAA,EAAUwI,GAAShoD,OAAO,CAC5Bw+C,KAAMpG,EAAOrB,aACb+I,YAAY,EACZC,mBAAoB,IAGxB,IAAIjhB,GAAU,EAER4qB,MAKAC,EAAUA,MACQ,IAAhB7qB,IACAsZ,EAAOT,UAAU7Y,GACPA,GAAA,EACd,EAGE8qB,EAA2C,CAAA,EAC3CC,EAA0C,CAAA,EAC1CC,EAAuC,CAAA,EAE7C,IAAA,MAAW/rD,KAAQ0rD,EACI,gBAAf1rD,EAAK5R,MACQ4R,EAAAA,EAAKgsD,aAAc,EACzBhsD,EAAKy6C,QAAU1T,KACH,QAAf/mC,EAAK5R,MACQ4R,EAAAA,EAAKgsD,YAAchsD,EAAKy6C,MAE7BlkD,EAAAA,GAAGyJ,EAAK5R,OAAO,KAvBrBu9D,IAACz5B,EAwBC65B,EAAU/rD,EAAKgsD,YAAcp+D,KAAKC,UAxBnCqkC,EA0BOlyB,EAAKy6C,MAzBvBJ,EAAOX,YAAYxnB,GACTA,EAAAA,CAwBkB,KAMhC,MAAM+5B,EAAwC,CAAA,EAmBvC,OAlBC11D,EAAAA,GAAG,SAAS,KACV0c,MAAAA,EAAKwuC,EAAQI,IAAI93D,OAAS,EACrBkpB,EAAAA,GAAMrlB,KAAKC,KAAI,IAGtB0I,EAAAA,GAAG,OAAO,KACR0c,MAAAA,EAAKwuC,EAAQI,IAAI93D,OAAS,EAC1BmuD,EAAQtqD,KAAKC,MAAQo+D,EAAWh5C,IAEb,IAArB44C,EAAa54C,QAIb64C,EAAa74C,IAAOilC,EAAQ,KAAO6T,EAAU94C,GAAMg5C,EAAWh5C,IACvD6mC,EAAAA,aAAagS,EAAa74C,GACrC,IAGG,IAAMwuC,EAAQN,SACzB,CDtC8B8B,CAAO5I,EAAQz2B,EAAIw2B,EAAMmR,UAE3CD,EAAOlT,MAAQA,GAAMiT,EAAYrO,SAAUqO,EAAYzpB,YAAayY,EAAQz2B,QAG1DzI,IAAlBi/B,EAAMuN,SAAyBvN,EAAMuN,QAAQ59D,SAC7CuhE,EAAO3D,Qb6DZ,SAA0BtN,EACAz2B,EACA+jC,EACAzzD,GAC7B,MAAMk2D,EAAQxkD,KAAKujB,MAAMj1B,EAAO,GAC1B2nB,EAA0B,GAEhC,IAAA,MAAW7b,KAAQ2nD,EAAS,CACpB3nD,GAAAA,EAAKy6C,QAAU1T,GACf,SAGJ,MAEMvD,EAASqX,IAFC76C,EAAK0tB,QAAUguB,GAAY17C,EAAKy6C,QAAQzrB,cACxC2sB,GAAwB37C,EAAMq6C,GACDnmD,GAE7CsvC,EAAOj2C,MAAM6gD,SAAW,WACxB,MAAM8d,EAAYlsD,EAAazS,MAC/B,GAAI2+D,EACA,IAAA,MAAWjhD,KAAQnW,OAAO8M,KAAKsqD,GAC1B1oB,EAAOj2C,MAAc0d,GAASihD,EAAiBjhD,GAIpDjL,QAAkBmb,IAAlBnb,EAAKouC,SAAwB,CACvB9M,MAAAA,EAAOthC,EAAKouC,SAAS9M,KACrB+M,EAAMruC,EAAKouC,SAASC,IACpBwQ,EAAS7+C,EAAKouC,SAASyQ,OACvBhD,EAAQ77C,EAAKouC,SAASyN,WAEf1gC,IAATmmB,IACAkC,EAAOj2C,MAAM+zC,KAAQ8oB,EAAQ9oB,EAAOptC,GAAQotC,EAAO,GAAM,WAG/CnmB,IAAV0gC,IACArY,EAAOj2C,MAAMsuD,MAASuO,EAAQvO,EAAQ3nD,GAAQ2nD,EAAQ,GAAM,WAGpD1gC,IAARkzB,IACA7K,EAAOj2C,MAAM8gD,IAAO+b,EAAQ/b,EAAMn6C,GAAQm6C,EAAM,GAAM,WAG3ClzB,IAAX0jC,IACArb,EAAOj2C,MAAMsxD,OAAUuL,EAAQvL,EAAS3qD,GAAQ2qD,EAAS,GAAM,KAEvE,CACO7F,EAAAA,aAAaxlD,YAAYgwC,GAChC3nB,EAAShwB,KAAK23C,EAClB,CAEA,MAAO,KACH,IAAA,MAAWxjC,KAAQ6b,EACX7b,EAAK6rB,gBAAkBwuB,EAAOrB,cACvBA,EAAAA,aAAarvD,YAAYqW,EAExC,CAER,CatH6BmsD,CAAiB9R,EAAQz2B,EAAIw2B,EAAMuN,QAAS,KACjE,EAIEyE,EACyC,KAA1C/R,OAAAA,EAAOxtC,EAAAA,QAAQw/C,qBAAgBtiE,EAAAA,EAAAA,QAC5B,OACA8iB,GAAQwtC,EAAQ6P,EAAasB,EAAoB,GAAI,KAAQ,GAIrE,OAFAA,EAAmB,WAEZ,KACHF,EAAOC,WACPD,EAAO3D,UACP2D,EAAOlT,QACPkT,EAAOrP,eAGf,CE9CO,SAASqQ,GAAQC,GACpB,OAAQA,GACJ,IAAK,SAAU,OAOvB,WACI,MAAMC,EAAN,WAAA1hE,GACIqjD,EAAAA,KAAAA,SAAS,KAAM,CAEfse,gBAAAA,CAAiBlrB,EAAe2M,EAAgBwe,EAAQ,GAC9CC,MAAAA,EAAOphE,KAAKqhE,UACZC,EAAOthE,KAAKuhE,UACZC,EAAYnnD,KAAKonD,MAAML,EAAO,GAC9BM,EAAYrnD,KAAKonD,MAAMH,EAAO,GAC9BK,EAAyB,EAAR3rB,EAAY,IAAM,EACnC4rB,EAAcD,EACdE,GAAe7rB,EAAyB,EAAjB2rB,GAAsBP,EAAOD,EACpDW,GAAanf,EAAuB,EAAdif,GAAmBN,EAAOH,EAChDx4D,EAAO0R,KAAK8O,IAAI04C,EAAaC,GAC7BC,EAAkB,GACxB,IAAA,IAASC,EAAM,EAAGA,EAAMV,IAAQU,EAAK,CACjC,MAAMC,EAAkB,GACxB,IAAA,IAASC,EAAM,EAAGA,EAAMd,IAAQc,EAC5BD,EAAQ3hE,KAAK,CACT6hE,QAASD,EAAMV,EACXG,EAAiBh5D,GAAQu5D,EAAM,IAC/BlsB,EAAQ2rB,EAAiBh5D,GAASy4D,EAAOc,EAAM,EAAK,IACxDE,QAASJ,EAAMN,EACXE,EAAcj5D,GAAQq5D,EAAM,IAC5Brf,EAASif,EAAcj5D,GAAS24D,EAAOU,EAAM,EAAK,MAG9DD,EAAMzhE,KAAK2hE,EACf,CACO,MAAA,CACHjB,SAAU,SACVe,QACAF,YAAal5D,EACbm5D,UAAWn5D,EACXg5D,iBACAC,cACA5rB,QACA2M,SAER,CAEQ0e,OAAAA,GACG,OAAA,EACX,CAEQE,OAAAA,GACJ,OAAOlnD,KAAKonD,MAAMzhE,KAAKqhE,UAAYrhE,KAAK4iD,QAAU,CACtD,EAGJ,OAAO,IAAIqe,CACf,CA1D8BoB,GACtB,IAAK,YAAa,OA2D1B,WACI,MAAMpB,EAAN,WAAA1hE,GACIqjD,EAAAA,KAAAA,SAAS,KAAM,CAEfse,gBAAAA,CAAiBlrB,EAAe2M,EAAgBwe,EAAQ,GAC9CC,MAAAA,EAAOphE,KAAKqhE,UACZC,EAAOthE,KAAKuhE,UACZC,EAAYnnD,KAAKonD,MAAML,EAAO,GAC9BM,EAAYrnD,KAAKonD,MAAMH,EAAO,GAC9BK,EAAyB,EAAR3rB,EAAY,IAAM,EACnC4rB,EAAcD,EACdE,GAAe7rB,EAAyB,EAAjB2rB,GAAsBP,EAAOD,EACpDW,GAAanf,EAAuB,EAAdif,GAAmBN,EAAOH,EAChDx4D,EAAO0R,KAAK8O,IAAI04C,EAAaC,GAC7BC,EAAkB,GACxB,IAAA,IAASC,EAAM,EAAGA,EAAMV,IAAQU,EAAK,CACjC,MAAMC,EAAkB,GAClBK,EAAWN,EAAM,GAAK,EAAIZ,EAAOA,EAAO,EACxCmB,EAAUP,EAAM,GAAK,EAAI,EAAIr5D,EAAO,EAC1C,IAAA,IAASu5D,EAAM,EAAGA,EAAMI,IAAYJ,EAChCD,EAAQ3hE,KAAK,CACT6hE,QAASD,EAAMV,EACXe,EAAUZ,EAAiBh5D,GAAQu5D,EAAM,IACzCK,EAAUvsB,EAAQ2rB,EAAiBh5D,GAASy4D,EAAOc,EAAM,EAAK,IAClEE,QAASJ,EAAMN,EACXE,EAAcj5D,GAAQq5D,EAAM,IAC5Brf,EAASif,EAAcj5D,GAAS24D,EAAOU,EAAM,EAAK,MAG9DD,EAAMzhE,KAAK2hE,EACf,CACO,MAAA,CACHjB,SAAU,YACVe,QACAF,YAAal5D,EACbm5D,UAAWn5D,EACXg5D,iBACAC,cACA5rB,QACA2M,SAER,CAEA0e,OAAAA,GACW,OAAA,EACX,CAEAE,OAAAA,GACI,OAAOlnD,KAAKonD,MAAMzhE,KAAKqhE,UAAYrhE,KAAK4iD,QAAU,CACtD,EAGJ,OAAO,IAAIqe,CACf,CAhHiCuB,GAGvB,MAAA,IAAIjyD,MAAM,qBAAuBywD,EAC3C,CCZO,SAASyB,GACZ3T,EACAF,EACAv2B,EACAynC,EACA4C,EACAvB,EACAjB,GACIyC,IAAAA,EAAgB/T,EAAaE,OAAO,GACxC,QAAkBl/B,IAAdswC,EACWzrD,IAAAA,MAAAA,KAAQm6C,EAAaE,OACxBr6C,GAAAA,EAAKqvB,QAAUo8B,EAAW,CACVzrD,EAAAA,EAChB,KACJ,CAGR,OA6DJ,SAAyBmuD,EACA9T,EACAz2B,EACAynC,EACA4C,EACAvB,GACf0B,MAAAA,EAAiBnS,GAAS5B,EAAQz2B,GAClCyqC,EAAcjW,GAAMiT,EAAYrO,SAAUqO,EAAYzpB,YAAayY,EAAQz2B,GAE3E0qC,EAAiC,GAC9BC,SAAAA,EAAQhtB,EAAe2M,SAC5B,IAAA,MAAWluC,KAAQsuD,MAGJl9D,EAAAA,OAAO,EAAGk9D,EAAevkE,QAElCykE,MACAC,EADOnC,GAAQ6B,EAAYK,MACT/B,iBAAiBlrB,EAAO2M,EAAQwe,GAClDgC,EAAU,IAAIC,GAET3uD,IAAAA,MAAAA,KAAQmuD,EAAY5T,SAAU,CAC/B,MAAAgT,IAAEA,EAAAA,OAAKqB,EAAAA,KAAQxkE,GAAS4V,EACjB,oBAAT5V,GACgBqkE,GAAAA,EAAYlB,EAAKqB,EAEzC,CAEA,IAAIC,GAAsB,EAC1B,GAA8C,KAA1CxU,OAAAA,EAAOxtC,EAAAA,QAAQw/C,qBAAfhS,EAAAA,EAA+BtwD,QACpBiW,IAAAA,MAAAA,KAAQmuD,EAAY5T,SAAU,CAC/B,MAAAgT,IAAEA,EAAAA,KAAKnjE,GAAS4V,EACtB,GAAa,YAAT5V,EAAoB,CACEmjE,EAAAA,EACtB,KACJ,CACJ,CAGJ,MAAMuB,EAAgD,CAAA,EACtD,GAAIb,EACWjuD,IAAAA,MAAAA,KAAQmuD,EAAY5T,SAAU,CAC/B,MAAAgT,IAAEA,GAAQvtD,EAChB,IAAI4uD,EAAS5uD,EAAK4uD,OAClB,MAAMG,EAAeN,EAAWnB,MAAMC,GAAKxjE,OACrCilE,EAAeD,EAAe,EAEhCxB,IAAQsB,GAAuBD,GAAUI,IACzCJ,EAAShpD,KAAK8O,IAAIk6C,EAAS,EAAGG,EAAe,SAGvB5zC,IAAtB2zC,EAAavB,KACbuB,EAAavB,GAAO,CAChB0B,UAAWD,EACXE,QAAS,EACTC,WAAYJ,EAAe,EAC3BK,SAAUJ,IAIdJ,EAASI,GACIzB,EAAAA,GAAK0B,UAAYrpD,KAAK8O,IAAIo6C,EAAavB,GAAK0B,UAAWL,GACvDrB,EAAAA,GAAK2B,QAAUtpD,KAAKw7B,IAAI0tB,EAAavB,GAAK2B,QAASN,KAEnDrB,EAAAA,GAAK4B,WAAavpD,KAAK8O,IAAIo6C,EAAavB,GAAK4B,WAAYP,GACzDrB,EAAAA,GAAK6B,SAAWxpD,KAAKw7B,IAAI0tB,EAAavB,GAAK6B,SAAUR,GAE1E,CAGO5uD,IAAAA,MAAAA,KAAQmuD,EAAY5T,SAAU,CAC/ByP,MAAAA,EAAUqF,GAAervD,EAAK5V,MACpC,QAAgB+wB,IAAZ6uC,EAAuB,CACvB9hC,QAAQrc,MAAM,wBAA0B7L,EAAK5V,KAAO,oBACpD,QACJ,CAEA,MAAMklE,EAAO,IAAKtvD,GACZ+uD,EAAeN,EAAWnB,MAAMttD,EAAKutD,KAAKxjE,OAC1CilE,EAAeD,EAAe,EAKpC,GAJIF,IAAwB7uD,EAAKutD,KAAOvtD,EAAK4uD,QAAUI,IACnDM,EAAKV,OAAShpD,KAAK8O,IAAI46C,EAAKV,OAAS,EAAGG,EAAe,IAGvDd,EAAU,CACJ,MAAAgB,UAAEA,EAAAA,QAAWC,EAAAA,WAASC,EAAAA,SAAYC,GAAaN,EAAaQ,EAAK/B,KACjEgC,EAAWD,EAAKV,OAASI,EAC3BO,EACAD,EAAKV,QAAUI,GAAgBA,EAAeE,GAAWD,EAAY,EAErEK,EAAKV,QAAUI,GAAgBG,EAAaH,IAAiBD,EAAeK,GAAY,EAGxFE,EAAKV,QAAUG,GACPljD,QAAAA,MAAM,SAAUyjD,EAAKV,OAAQ,kBACjCG,EAAcQ,EAAW,aAAe,cAAeT,GAC3DQ,EAAKV,OAASG,EAAe,GACtBO,EAAKV,OAAS,IACb/iD,QAAAA,MAAM,SAAUyjD,EAAKV,OAAQ,kBACjC,EAAGW,EAAW,aAAe,cAAeT,GAChDQ,EAAKV,OAAS,EAEtB,CAEA,MAAMtD,EAAStB,EAAQsF,EAAMjV,EAAQz2B,EAAI6qC,EAAYC,EAASrD,GAC9DiD,EAAeziE,KAAKy/D,EACxB,CACJ,CAKA,OAHAjR,EAAOf,YAAYiV,GACXlU,EAAAA,EAAO9Y,MAAO8Y,EAAOnM,QAEtB,KACHmM,EAAOb,eAAe+U,WAGtB,IAAA,MAAWvuD,KAAQsuD,KAEnB,CAER,CApLWkB,CAAgBtB,EAAe7T,EAAQz2B,EAAIynC,EAAa4C,EAAUvB,EAC7E,CAkBA,MAAMiC,GAAN,WAAA7jE,GACI4jE,EAAAA,KAAAA,UAAqC,CAAA,EAAA,CAErCe,QAAAA,CAASlC,EAAaqB,GAClB,MAAMc,EAASnkE,KAAKmjE,QAAQE,EAAS,IAAMrB,QAC5BpyC,IAAXu0C,GACAA,EAAOD,UAEf,CAEAE,UAAAA,CAAWpC,EAAaqB,GACpB,MAAMc,EAASnkE,KAAKmjE,QAAQE,EAAS,IAAMrB,QAC5BpyC,IAAXu0C,GACAA,EAAOC,YAEf,CAEAC,QAAAA,CAASrC,EAAaqB,EAAgBc,GAClCnkE,KAAKmjE,QAAQE,EAAS,IAAMrB,GAAOmC,CACvC,EAUJ,MAAML,GAAqD,CACvDQ,IAqIJ,SAA0BrV,EACAH,EACAz2B,EACA6qC,EACAC,EACArD,GAChB,MAAAiC,MAAEA,EAAAA,YAAOF,GAAgBqB,GACzBlB,IAAEA,EAAAA,OAAKqB,GAAWpU,GAClBkT,QAAEA,EAAAA,QAASC,GAAYL,EAAMC,GAAKqB,GAElCrV,EAAU,CACZiC,OAAQA,KACOx7C,IAAAA,MAAAA,KAAQw6C,EAAWC,MACvByQ,EAAAA,aAAalrD,GAAM,EAC1B,EAEJy7C,KAAMA,KACSz7C,IAAAA,MAAAA,KAAQw6C,EAAWC,MACvByQ,EAAAA,aAAalrD,GAAM,EAC1B,GASR,GALQ4vD,EAAAA,SAASrC,EAAKqB,EAAQ,CAC1Ba,SAAUlW,EAAQiC,OAClBmU,WAAYpW,EAAQkC,OAGpBqU,GAASrB,EAAYlB,EAAKqB,GAC1B,MAAO,OAGX,MAAMprB,EAASqX,GAAaL,EAAW9sB,OAAQ6rB,EAAS6T,GAOxD,OALA5pB,EAAOj2C,MAAM6gD,SAAW,WACxB5K,EAAOj2C,MAAM+zC,KAAQosB,EAAUlqB,EAAO8X,QAAU,EAAK,KACrD9X,EAAOj2C,MAAM8gD,IAAOsf,EAAUnqB,EAAO+X,SAAW,EAAK,KAE9CvC,EAAAA,aAAaxlD,YAAYgwC,GACzB,IAAM6W,EAAOrB,aAAarvD,YAAY65C,EACjD,EA5KIusB,QA8KJ,SAA8BC,EACA3V,EACAz2B,EACA6qC,EACAC,EACArD,SAC1B,GAA8C,KAA1ChR,OAAAA,EAAOxtC,EAAAA,QAAQw/C,qBAAfhS,EAAAA,EAA+BtwD,QAC/B,MAAO,OAGX,QAAsCoxB,IAAlCk/B,EAAOxtC,QAAQw/C,gBAC0B,IAAzChS,EAAOxtC,QAAQw/C,eAAetiE,QACO,aAArCswD,EAAOxtC,QAAQw/C,eAAe,GAC9B,OAAO4D,GAAsBD,EAAe3V,EAAQz2B,EAAI6qC,GAGtD,MAAAnB,MAAEA,EAAAA,YAAOF,EAAAA,UAAaC,GAAcoB,GACpClB,IAAEA,EAAAA,OAAKqB,GAAWoB,GAClBtC,QAAEA,EAAAA,QAASC,GAAYL,EAAMC,GAAKqB,GAElCvgB,EAAMsf,EAAUN,EAAY,EAC5B/rB,EAAOosB,EAAUN,EAAc,EAC/BvR,EAAQ4S,EAAWltB,MAAQD,EAAO8rB,EAExC,OAAOvgD,GAAQwtC,EAAQ,CAAC,YAAY,QAChC+S,EACA/e,EACAwN,EACR,EAzMIqU,SAAUD,GACVE,OAkOJ,SAA6BC,EACA/V,EACAz2B,EACA6qC,EACAC,EACArD,GACnB,MAAAiC,MAAEA,EAAAA,YAAOF,GAAgBqB,GACzBlB,IAAEA,EAAAA,OAAKqB,GAAWwB,GAClB1C,QAAEA,EAAAA,QAASC,GAAYL,EAAMC,GAAKqB,GAElCprB,EAASqX,GAAauV,EAAc1iC,OAAQ,CAC9C+tB,KAAMA,IAAM4P,EAAYgF,gBAAgBhF,EAAYiF,kBAAmBF,EAAc3E,YACtF2B,GAOH,OALA5pB,EAAOj2C,MAAM6gD,SAAW,WACxB5K,EAAOj2C,MAAM+zC,KAAQosB,EAAUlqB,EAAO8X,QAAU,EAAK,KACrD9X,EAAOj2C,MAAM8gD,IAAOsf,EAAUnqB,EAAO+X,SAAW,EAAK,KAE9CvC,EAAAA,aAAaxlD,YAAYgwC,GACzB,KACIwV,EAAAA,aAAarvD,YAAY65C,EAAM,CAE9C,EAvPI+sB,WAyPJ,SAAiCC,EACAnW,EACAz2B,EACA6qC,EACAC,EACArD,GACvB,MAAAiC,MAAEA,EAAAA,YAAOF,GAAgBqB,GACzBlB,IAAEA,EAAAA,OAAKqB,GAAW4B,GAClB9C,QAAEA,EAAAA,QAASC,GAAYL,EAAMC,GAAKqB,GAExC,IAAIla,EAAK,GACLC,EAAK,GAEL6b,EAAkB56B,UAAUlmC,QAAQ,OAAS,IACxCilD,EAAA,GAGL6b,EAAkB56B,UAAUlmC,QAAQ,SAAW,IAC1CilD,EAAA,GAGL6b,EAAkB56B,UAAUlmC,QAAQ,SAAW,IAC1CglD,EAAA,GAGL8b,EAAkB56B,UAAUlmC,QAAQ,UAAY,IAC3CglD,EAAA,GAGT,MAAM6E,EAAU,CACZiC,OAAQA,KACDjE,EAAAA,gBAAgB7C,EAAIC,EAAE,EAE7B8G,KAAMA,KACClE,EAAAA,gBAAgB,GAAK,GAAG,GASnC,GALQqY,EAAAA,SAASrC,EAAKqB,EAAQ,CAC1Ba,SAAUlW,EAAQiC,OAClBmU,WAAYpW,EAAQkC,OAGpBqU,GAASrB,EAAYlB,EAAKqB,GAC1B,MAAO,OAGX,MAAMprB,EAASqX,GAAa2V,EAAkB9iC,OAAQ6rB,EAAS6T,GAO/D,OALA5pB,EAAOj2C,MAAM6gD,SAAW,WACxB5K,EAAOj2C,MAAM+zC,KAAQosB,EAAUlqB,EAAO8X,QAAU,EAAK,KACrD9X,EAAOj2C,MAAM8gD,IAAOsf,EAAUnqB,EAAO+X,SAAW,EAAK,KAE9CvC,EAAAA,aAAaxlD,YAAYgwC,GACzB,IAAM6W,EAAOrB,aAAarvD,YAAY65C,EACjD,EA/SIitB,cAiTJ,SAAoCC,EACArW,EACAz2B,EACA6qC,EACAC,EACArD,GAC1B,MAAAiC,MAAEA,EAAAA,YAAOF,GAAgBqB,GACzBlB,IAAEA,EAAAA,OAAKqB,EAAAA,MAAQ30B,GAAUy2B,GACzBhD,QAAEA,EAAAA,QAASC,GAAYL,EAAMC,GAAKqB,GAElCrV,EAAU,CACZiC,OAAQA,KACCvhB,EAGEud,EAAAA,gBAAgBkZ,EAAqBltB,QAAQ,GAFhD6W,EAAOtD,cAAgB2Z,EAAqBltB,MAGhD,EAEJiY,KAAMA,KACGxhB,EAGEud,EAAAA,gBAAgBkZ,EAAqBltB,QAAQ,GAFhD6W,EAAOtD,cAAgB,CAG3B,GASR,GALQ6Y,EAAAA,SAASrC,EAAKqB,EAAQ,CAC1Ba,SAAUlW,EAAQiC,OAClBmU,WAAYpW,EAAQkC,OAGpBqU,GAASrB,EAAYlB,EAAKqB,GAC1B,MAAO,OAGX,MAAMprB,EAASqX,GAAa6V,EAAqBhjC,OAAQ6rB,EAAS6T,GAOlE,OALA5pB,EAAOj2C,MAAM6gD,SAAW,WACxB5K,EAAOj2C,MAAM+zC,KAAQosB,EAAUlqB,EAAO8X,QAAU,EAAK,KACrD9X,EAAOj2C,MAAM8gD,IAAOsf,EAAUnqB,EAAO+X,SAAW,EAAK,KAE9CvC,EAAAA,aAAaxlD,YAAYgwC,GACzB,IAAM6W,EAAOrB,aAAarvD,YAAY65C,EACjD,EA5VImtB,YA8VJ,SAAkCC,EACAvW,EACAz2B,EACA6qC,EACAC,EACArD,GACxB,MAAAiC,MAAEA,EAAAA,YAAOF,GAAgBqB,GACzBlB,IAAEA,EAAAA,OAAKqB,EAAQ9iE,EAAAA,EAAGlC,EAAAA,GAAMgnE,GACxBlD,QAAEA,EAAAA,QAASC,GAAYL,EAAMC,GAAKqB,GAElCrV,EAAU,CACZiC,OAAQA,KACDjE,EAAAA,gBAAgBzrD,EAAGlC,EAAC,EAE3B6xD,KAAMA,KACClE,EAAAA,gBAAgBzrD,EAAGlC,EAAC,GAS/B,GALQgmE,EAAAA,SAASrC,EAAKqB,EAAQ,CAC1Ba,SAAUlW,EAAQiC,OAClBmU,WAAYpW,EAAQkC,OAGpBqU,GAASrB,EAAYlB,EAAKqB,GAC1B,MAAO,OAGX,MAAMprB,EAASqX,GAAa+V,EAAmBljC,OAAQ6rB,EAAS6T,GAOhE,OALA5pB,EAAOj2C,MAAM6gD,SAAW,WACxB5K,EAAOj2C,MAAM+zC,KAAQosB,EAAUlqB,EAAO8X,QAAU,EAAK,KACrD9X,EAAOj2C,MAAM8gD,IAAOsf,EAAUnqB,EAAO+X,SAAW,EAAK,KAE9CvC,EAAAA,aAAaxlD,YAAYgwC,GACzB,IAAM6W,EAAOrB,aAAarvD,YAAY65C,EACjD,EAjYIqtB,aAmYJ,SAAmCC,EACAzW,EACAz2B,EACA6qC,EACAC,EACArD,GACzB,MAAAiC,MAAEA,EAAAA,YAAOF,GAAgBqB,GACzBlB,IAAEA,EAAAA,OAAKqB,GAAWkC,GAClBpD,QAAEA,EAAAA,QAASC,GAAYL,EAAMC,GAAKqB,GAElCrV,EAAU,CACZiC,OAAQA,KACJ53B,EAAGmtC,eAAc,GASzB,GALQnB,EAAAA,SAASrC,EAAKqB,EAAQ,CAC1Ba,SAAUlW,EAAQiC,OAClBmU,WAAYA,SAGZG,GAASrB,EAAYlB,EAAKqB,GAC1B,MAAO,OAGX,MAAMprB,EAASqX,GAAaiW,EAAoBpjC,OAAQ6rB,EAAS6T,GAOjE,OALA5pB,EAAOj2C,MAAM6gD,SAAW,WACxB5K,EAAOj2C,MAAM+zC,KAAQosB,EAAUlqB,EAAO8X,QAAU,EAAK,KACrD9X,EAAOj2C,MAAM8gD,IAAOsf,EAAUnqB,EAAO+X,SAAW,EAAK,KAE9CvC,EAAAA,aAAaxlD,YAAYgwC,GACzB,IAAM6W,EAAOrB,aAAarvD,YAAY65C,EACjD,EAnaIwtB,cAqaJ,SAAoCC,EACA5W,EACAz2B,EACA6qC,EACAC,EACArD,GAC1B,MAAAiC,MAAEA,EAAAA,YAAOF,GAAgBqB,GACzBlB,IAAEA,EAAAA,OAAKqB,GAAWqC,GAClBvD,QAAEA,EAAAA,QAASC,GAAYL,EAAMC,GAAKqB,GAElCrV,EAAU,CACZiC,OAAQA,KACGuB,EAAAA,iBAAmB1C,EAAO0C,gBAC7B1C,EAAO0C,gBACFvZ,EAAOW,UAAUC,SAAS,8BACpBD,EAAAA,UAAUpiC,IAAI,6BAGlBoiC,EAAAA,UAAUjK,OAAO,4BAC5B,GASR,GALQ01B,EAAAA,SAASrC,EAAKqB,EAAQ,CAC1Ba,SAAUlW,EAAQiC,OAClBmU,WAAYA,SAGZG,GAASrB,EAAYlB,EAAKqB,GAC1B,MAAO,OAGX,MAAMprB,EAASqX,GAAaoW,EAAqBvjC,OAAQ6rB,EAAS6T,GAOlE,OALA5pB,EAAOj2C,MAAM6gD,SAAW,WACxB5K,EAAOj2C,MAAM+zC,KAAQosB,EAAUlqB,EAAO8X,QAAU,EAAK,KACrD9X,EAAOj2C,MAAM8gD,IAAOsf,EAAUnqB,EAAO+X,SAAW,EAAK,KAE9CvC,EAAAA,aAAaxlD,YAAYgwC,GACzB,IAAM6W,EAAOrB,aAAarvD,YAAY65C,EACjD,EA5cI0tB,gBA8cJ,SAAsCC,EACA9W,EACAz2B,EACA6qC,EACAC,EACArD,GAC5B,MAAAiC,MAAEA,EAAAA,YAAOF,EAAAA,UAAaC,EAAAA,MAAW9rB,EAAAA,OAAO2M,GAAWugB,GACnDlB,IAAEA,EAAAA,OAAKqB,GAAWuC,GAClBzD,QAAEA,EAAAA,QAASC,GAAYL,EAAMC,GAAKqB,GAElCwC,EAAkBvhE,SAASG,cAAc,OACzCqhE,EAAW,IACX/vB,EAAO17B,KAAKw7B,IAAI,EAAGssB,EAAUN,EAAciE,GAC3ChjB,EAAMzoC,KAAKw7B,IAAI,EAAGusB,EAAUN,EAAYgE,GACxCxV,EAAQj2C,KAAKw7B,IAAI,EAAGG,EAAQmsB,EAAUN,EAAciE,GACpDxS,EAASj5C,KAAKw7B,IAAI,EAAG8M,EAASyf,EAAUN,EAAYgE,GAE1DD,EAAgB7jE,MAAM6gD,SAAW,WACjCgjB,EAAgB7jE,MAAM42D,OAAS,MACf52D,EAAAA,MAAM+zC,KAAOA,EAAO,KACpB/zC,EAAAA,MAAM8gD,IAAMA,EAAM,KAClB9gD,EAAAA,MAAMsuD,MAAQA,EAAQ,KACtBtuD,EAAAA,MAAMsxD,OAASA,EAAS,KAEjC7F,EAAAA,aAAaxlD,YAAY49D,GAE1B3P,MAAAA,EAAUwI,GAAShoD,OAAO,CAC5Bw+C,KAAM2Q,EACNrP,YAAY,EACZC,mBAAoB,EACpBxB,KAAM,SACN2B,QAAQ,EACRD,aAAa,EACbhuD,KAAyC,IAAnC0R,KAAKw7B,IAAIgsB,EAAaC,GAC5Bjf,SAAU,CACN9M,MAAOC,EAAQsa,EAAQva,GAAQ,EAAI,KACnC+M,KAAMH,EAAS2Q,EAASxQ,GAAO,EAAI,QAI3C,IAAIijB,GAAe,EACfC,GAAY,EAChB9P,EAAQlrD,GAAG,QAAQ,CAACg+C,EAAUrkD,KACtBA,GAAAA,EAAKitD,SAAW,GAIhB,OAHQwS,EAAAA,WAAW4B,EAAWD,GACfA,GAAA,OACHC,GAAA,GAGhB,IAAIC,GAAe,EACfC,GAAY,EAChB,MACMC,EAAOtnD,KACP2+C,EAAS74D,EAAK40D,MAAMiE,OACtBA,EAAS2I,GAAQ3I,GAAU2I,MAE3BF,EAAe5C,EAAS,EACxB6C,EAAYlE,EAAM,GACXxE,EAAS2I,MAAe3I,GAAU2I,OAE1B9C,EAAAA,EACf6C,EAAYlE,EAAM,GACXxE,EAAS2I,OAAmB3I,GAAU2I,OAE7CF,EAAe5C,EAAS,EACxB6C,EAAYlE,EAAM,GACXxE,EAAS2I,OAAmB3I,GAAU2I,OAE7CF,EAAe5C,EAAS,EACZrB,EAAAA,GACLxE,EAAS2I,OAAmB3I,GAAU2I,OAE7CF,EAAe5C,EAAS,EACxB6C,EAAYlE,EAAM,GACXxE,EAAS2I,OAAmB3I,GAAU2I,OAE9B9C,EAAAA,EACf6C,EAAYlE,EAAM,GACXxE,EAAS2I,OAAmB3I,GAAU2I,OAE7CF,EAAe5C,EAAS,EACxB6C,EAAYlE,EAAM,IAGlBiE,EAAe5C,EAAS,EACZrB,EAAAA,GAGZ+D,IAAiBE,GAAgBD,IAAcE,IACvC9B,EAAAA,WAAW4B,EAAWD,GACtB7B,EAAAA,SAASgC,EAAWD,GACbA,EAAAA,EACHC,EAAAA,EAChB,IAGJ,IAAIE,GAAU,EACNp7D,EAAAA,GAAG,SAAS,KACNo7D,GAAA,CAAA,IAGNp7D,EAAAA,GAAG,OAAO,KACJo7D,GAAA,EACFhC,EAAAA,WAAW4B,EAAWD,GAClBC,GAAA,EACGD,GAAA,CAAA,IAGnB,MAAMzkD,EAAU,CACZ+pC,SAAS,GAGb,SAASH,EAAMxtD,GACP0oE,GACClQ,EAAgBiE,aAAaz8D,EAEtC,CAEW+W,IAAAA,MAAAA,KAAQg1C,GAAQc,OACvBuE,EAAOrB,aAAalrD,iBAAiBkS,EAAMy2C,EAAO5pC,GAGtD,MAAO,KACH40C,EAAQN,UACDnI,EAAAA,aAAarvD,YAAYynE,GACrBpxD,IAAAA,MAAAA,KAAQg1C,GAAQc,OACvBuE,EAAOrB,aAAa/qD,oBAAoB+R,EAAMy2C,EAAO5pC,EACzD,CAER,GA3YA,SAASojD,GAAsB2B,EACAvX,EACAz2B,EACA6qC,EACAC,EACArD,GACrB,MAAAiC,MAAEA,EAAAA,YAAOF,GAAgBqB,GACzBlB,IAAEA,EAAAA,OAAKqB,GAAWgD,GAClBlE,QAAEA,EAAAA,QAASC,GAAYL,EAAMC,GAAKqB,GAElCprB,EAASqX,GAAa,WAAY,CACpCY,KAAMA,IAAMpB,EAAOtB,kBACpBqU,GAOH,OALA5pB,EAAOj2C,MAAM6gD,SAAW,WACxB5K,EAAOj2C,MAAM+zC,KAAQosB,EAAUlqB,EAAO8X,QAAU,EAAK,KACrD9X,EAAOj2C,MAAM8gD,IAAOsf,EAAUnqB,EAAO+X,SAAW,EAAK,KAE9CvC,EAAAA,aAAaxlD,YAAYgwC,GACzB,KACIwV,EAAAA,aAAarvD,YAAY65C,EAAM,CAE9C,CAuXA,SAASssB,GAASxrC,EAA2BipC,EAAaqB,GACtD,OAA8D,IAAtDtqC,EAAOgpC,MAAMC,GAAKqB,GAAyBtyC,MACvD,CAEA,SAASu1C,GAAgBvtC,EACAwtC,EACAC,GACZC,SAAAA,EAAiBzE,EAAaqB,GAC/BrB,IAAAA,IAAQuE,GAAclD,IAAWmD,IAIjCxE,GAAO,GAAKA,EAAMjpC,EAAOgpC,MAAMvjE,OAAQ,CACjCkoE,MAAAA,EAAW3tC,EAAOgpC,MAAMC,GAC1BqB,GAAU,GAAKA,EAASqD,EAASloE,SACvB6kE,EAAAA,GAAyBtyC,QAAS,EAEpD,CACJ,CAEA,IAAA,IAASigC,EAAKuV,EAAa,EAAGvV,GAAMuV,EAAa,IAAKvV,EAClD,IAAA,IAAS34B,EAAKmuC,EAAgB,EAAGnuC,GAAMmuC,EAAgB,IAAKnuC,EACxDouC,EAAiBzV,EAAI34B,EAGjC,CCnrBgBsuC,SAAAA,GAAcvkB,EACA/pB,IAY9B,SAAgBA,GACZ,MAAMviB,EAAWC,KACXzX,EAAIowB,KACVliB,IAAU,KACN,MAAMo6D,EAA+C,CAAA,EACrDvuC,EAAGwuB,SAASggB,WAAU,CAACC,KAAY5mD,mBAC/B,GAAgB,UAAZ4mD,IAAuB5mD,OAAAA,EAAAA,EAAK,SAALA,EAAAA,EAASoO,WAAW,YAClCwC,EAAAA,GAAQvL,QAAQsN,UAAU,CAC/B9M,QAAS7F,EAAK,GACd6S,OAAQ,gBACV,GACiB,QAAZ+zC,IAA4D,KAAvC5mD,OAAAA,EAAAA,EAAK,SAALA,EAAAA,EAAS/b,QAAQ,eAAsB,CACnE,MAAM06B,EAAQ3e,EAAK,GAAG3F,UAAU2F,EAAK,GAAG/b,QAAQ,KAAO,EAAG+b,EAAK,GAAG/b,QAAQ,MAS1E,GARA2R,EAASgb,GAAQvL,QAAQkM,YAAW,KACG,KAAnCvR,OAAAA,IAAK,SAAI/b,EAAAA,EAAAA,QAAQ,aACjBw4B,QAAQoqC,IAAI,QAASloC,EAAO,UAAW3e,EAAK,IACnCiT,EAAAA,GAAS5N,QAAQyX,iBAAiB,CACvC6B,QACAoY,OAA2C,KAApC/2B,OAAAA,EAAKA,EAAA,SAALA,EAAAA,EAAS/b,QAAQ,qBAGS,KAArC+b,OAAAA,IAAK,SAAI/b,EAAAA,EAAAA,QAAQ,aAAoB,CACrC,MAAMk1D,EAAOzhD,OAAOw1B,SAASltB,EAAK,GAAG3F,UAAU2F,EAAK,GAAG/b,QAAQ,YAAc,SAC9CyrB,IAA3Bg3C,EAAgB/nC,KAChB+nC,EAAgB/nC,GAASw6B,GAGpBvoC,EAAAA,GAAQvL,QAAQsN,UAAU,CAC/B9M,QAASznB,EAAE,wBAA0B,IACjCugC,EAAMtkB,UAAUskB,EAAM16B,QAAQ,KAAO,GAAK,OACzCkW,KAAKujB,MAAMgpC,EAAgB/nC,GAASw6B,GAAQ,KAAO,MAAM2N,QAAQ,GAAK,IACtE3sD,KAAKujB,MAAMgpC,EAAgB/nC,GAAS,KAAO,MAAS,KACzD3L,MAAM,IAEd,CACJ,IACH,GACF,CAACmF,EAAIviB,GACZ,CAjDImxD,CAAO5uC,GAmDX,SAAwB+pB,GACpB,MAAM8kB,EAAYz1D,IAAapO,GAAiBA,EAAM86B,IAAIlD,iBAC1DzuB,IAAU,KACN41C,EAAOpgD,MAAMi5B,eAA+B,WAAdisC,EAAyB,OAASA,CAAAA,GACjE,CAAC9kB,EAAQ8kB,GAChB,CAvDIC,CAAe/kB,GA4InB,SAAkB/pB,GACd,MAAMviB,EAAWC,KACjBvJ,IAAU,KACN,IAAI46D,EAAa,EACbC,EAA6B,EAC7BC,EAAiB,EACjBC,EAAgB9rB,GAChB+rB,EAAY,EACZC,EAAY,EACZC,EAAc,EACdC,EAAc,EACdC,EAAoBvlE,KAAKC,MACvBulE,MAAAA,EAAa7tB,aAAY,KACxB8tB,EAAAA,gBAAgB3hE,MAAgBwzB,IACzBouC,MAAAA,EAAO1lE,KAAKC,MAAQslE,EACpBI,EAAQD,EAAO,IACrB,GAAIC,EAAQ,EAAG,CACX,MAAMC,EAAS,CACXruC,YAAavf,KAAKujB,OAAOjE,EAAMid,OAASwwB,GAAcW,GACtDluC,wBAAyBxf,KAAKujB,OAAOjE,EAAMuuC,uBACvCb,GAA8BW,GAClCluC,YAAazf,KAAKujB,OAAOjE,EAAMwuC,WAAab,GAAkBU,GAC9DjuC,gBAAiB1f,KAAKujB,OAAOjE,EAAMyuC,UAAYb,GAAiBS,GAChEhuC,YAAa3f,KAAKujB,OAAOjE,EAAM0uC,aAAeb,GAAaQ,GAC3D/tC,YAAa5f,KAAKujB,OAAOjE,EAAM2uC,aAAeb,GAAaO,GAC3D9tC,cAAe7f,KAAKujB,OAAOjE,EAAM4uC,YAAcb,GAAeM,GAC9D7tC,cAAe9f,KAAKujB,OAAOjE,EAAM6uC,gBAAkBb,GAAeK,GAClE3tC,QAASV,EAAMU,QACfD,QAAST,EAAMS,QACfE,UAAWX,EAAMW,UACjBC,UAAWZ,EAAMY,UACjBC,cAAeb,EAAMa,cACrBC,cAAed,EAAMc,cACrBC,eAAgBf,EAAMe,eACtBC,eAAgBhB,EAAMgB,eACtBC,QAAS6tC,gBAAgB9uC,EAAMiB,UAEnC9kB,EAASqd,GAAS5N,QAAQoU,MAAMsuC,IAEhCb,EAAaztC,EAAMid,OACnBywB,EAA6B1tC,EAAMuuC,uBACnCZ,EAAiB3tC,EAAMwuC,WACvBZ,EAAgB5tC,EAAMyuC,UACtBZ,EAAY7tC,EAAM0uC,aAClBZ,EAAY9tC,EAAM2uC,aAClBZ,EAAc/tC,EAAM4uC,YACpBZ,EAAchuC,EAAM6uC,gBACpBZ,EAAoBvlE,KAAKC,KAC7B,IACH,GACF,KAEH,MAAO,KACHwwB,cAAc+0C,EAAU,CAAA,GAE7B,CAAC/xD,EAAUuiB,GAClB,CAnMIqwC,CAASrwC,GAmIb,SAAkBA,GACd,MAAMqB,EAASjoB,IAAapO,GAAiBA,EAAM86B,IAAIzE,SACjD9H,EAAiBngB,IAAapO,GAAiBA,EAAMkoC,GAAG3Z,iBAC9DplB,IAAU,KACLktB,GAAU9H,EAAkByG,EAAGhN,QAAUgN,EAAGswC,WAC9C,CAACjvC,EAAQ9H,EAAgByG,GAChC,CAxIIuwC,CAASvwC,GAmEb,SAAqBA,GACjB7rB,IAAU,ICzFEkkD,SAAS3W,EAAiB1hB,GACtC,SAASq1B,EAAUhwD,GACVA,GAA0B,SAA1BA,EAAEmc,OAAehb,KAClB,OAEE8nC,MAAAA,EAAUsb,GAAavkD,EAAEipC,SAC5Bg5B,EAAAA,aAAah5B,GAAS,GACzBjpC,EAAEw6C,kBACFx6C,EAAEgpC,gBACN,CAEA,SAASY,EAAQ5pC,GACRA,GAA0B,SAA1BA,EAAEmc,OAAehb,KAClB,OAEE8nC,MAAAA,EAAUsb,GAAavkD,EAAEipC,SAC5Bg5B,EAAAA,aAAah5B,GAAS,GACzBjpC,EAAEw6C,kBACFx6C,EAAEgpC,gBACN,CAKA,OAHGnkC,EAAAA,iBAAiB,UAAWmrD,GAC5BnrD,EAAAA,iBAAiB,QAAS+kC,GAEtB,KACA5kC,EAAAA,oBAAoB,UAAWgrD,GAC/BhrD,EAAAA,oBAAoB,QAAS4kC,EAAO,CAE/C,CD8DeopB,CAAS3hD,OAAespB,IAChC,CAACA,GACR,CAtEIwwC,CAAYxwC,GAsDhB,SAAkB+pB,EACA/pB,GACd,MAAMgB,EAAiB5nB,IAAapO,GAAiBA,EAAM86B,IAAI9E,iBACzDI,EAAehoB,IAAapO,GAAiBA,EAAM86B,IAAI1E,eACvDD,EAAmB,GAAkE,EAA5D/nB,IAAapO,GAAiBA,EAAM86B,IAAI3E,mBACvEhtB,IAAU,KACN,IAAK6sB,EACD,OAAOwzB,GAAMpzB,EAAcD,EAAkB,EAAG4oB,EAAQ/pB,EAC5D,GACD,CAAC+pB,EAAQ/pB,EAAIoB,EAAcD,EAAkBH,GACpD,CA/DIyvC,CAAS1mB,EAAQ/pB,GAkMrB,SAAmB+pB,EAA2B/pB,GAC1C,MAAM0wC,EAAU7wC,KACVuB,EAAehoB,IAAapO,GAAiBA,EAAM86B,IAAI1E,eACvDH,EAAmB7nB,IAAapO,GAAiBA,EAAM86B,IAAI7E,mBAC3DC,EAAgB,EAAI9nB,IAAapO,GAAiBA,EAAM86B,IAAI5E,gBAC5DC,EAAmB,GAAkE,EAA5D/nB,IAAapO,GAAiBA,EAAM86B,IAAI3E,mBACjEH,EAAiB5nB,IAAapO,GAAiBA,EAAM86B,IAAI9E,iBACzDvjB,EAAWC,KACjB,IAAIqlB,EAAe3pB,IAAapO,GAAiBA,EAAM86B,IAAI/C,eAC3D,SAASoyB,IACLpyB,GAAgBA,EAChBtlB,EAASqd,GAAS5N,QAAQ6V,aAAaA,GAC3C,CACA5uB,IAAU,KACF6sB,EACuB,OAAnB0vC,EAAQja,QACRia,EAAQja,OAAUr6B,iBACRq6B,MAAAA,EAAS,IAAIvB,GAAOnL,EAAO9hB,cAAiC8hB,EAAQoL,EAAgB,CAAA,GACpFz0B,EAAS41B,UAA2Bt2B,EAAGU,UAAUzJ,WAEnD05C,IAAAA,EACApa,EAAyD,KACzDmU,EAAiBA,OACrB,MAAMxN,EAA2B,CAC7Bx8B,SACA+1B,SACA2C,SAAUh4B,EACV4c,YAAa7c,EACbF,mBACAC,gBACAyvC,cACAjE,gBAAiBA,IAAMnW,EACvBkW,gBAAiBA,CAAC/rC,EAAkDmnC,KACjDnnC,EAAAA,EACDmnC,EAAAA,MAGC,OAAXnnC,GACAgqC,EAAiBA,OACVtV,EAAAA,aAAazrD,MAAMysC,QAAU,aACV7e,IAAnBmJ,EAAO3rB,SACPqgD,EAAAA,aAAazrD,MAAMysC,QAAU,QACpCs0B,EAAiBlD,GAAwBtK,EAAUzG,EAC/C/1B,EAA8BV,KAE3Bo1B,EAAAA,aAAazrD,MAAMysC,QAAU,QACnBg0B,EAAAA,GAAkB3T,EAAQ/1B,EACvCV,EAAIk9B,EAAUA,EAASj8B,iBAAkBi8B,EAASh8B,cAClD2mC,GACR,GAKD3K,OADPA,EAASuP,gBAAgB/rC,GAClBw8B,CAAAA,CAtCO9gC,GAwCVq6B,EAAAA,OAAOpyB,MAAMC,QAAQrc,QAErBwuC,EAAAA,OAAO3oD,MAAmBovD,IAC9BA,EAAS9D,SAAWh4B,EACpB87B,EAASlf,YAAc7c,EACvB+7B,EAASj8B,iBAAmBA,EAC5Bi8B,EAASh8B,cAAgBA,EACzBg8B,EAASuP,gBAAgBvP,EAASwP,mBAAqBxP,EAASx8B,OAAQw8B,EAASyT,YAAW,IAG1E,OAAnBD,EAAQja,QACfia,EAAQja,OAAO3oD,MAAM/I,GAAMA,EAAE0nE,gBAAgB,OACjD,GACD,CAACzsC,EAAIoB,EAAcD,EAAkBH,EAAgBC,EAAkBC,GAC9E,CAvQI0vC,CAAU7mB,EAAQ/pB,GAsEtB,SAA0B+pB,EACA/pB,GACtB,MAAMa,EAAgBznB,IAAapO,GAAiBA,EAAM86B,IAAIjF,gBACxDC,EAAe1nB,IAAapO,GAAiBA,EAAM86B,IAAIhF,eAE7D,IAAIypB,EACJ,OAAQzpB,GACJ,IAAK,MAAgBypB,EAAA,EAAG,MACxB,IAAK,MAAOA,EAAS,EAAI,EAAG,MAC5B,IAAK,MAAOA,EAAS,EAAI,EAAG,MAC5B,IAAK,QAASA,EAAS,IAAS,MAChC,IAAK,OAAQA,EAAS,GAAK,EAAG,MAC9B,IAAK,MAAgBjqB,EAAAA,GAIzBnsB,IAAU,KACN,IAAIuzD,EAASA,OAEb,GAAsB,WAAlB7mC,EACSgwC,EAAAA,GAAa9mB,EAAQ/pB,EAAIuqB,QAE9B,IACSumB,EAAAA,GAAY/mB,EAAQ/pB,EAAIuqB,SAC5BllD,GACG4iB,QAAAA,MAAM,+BAAgC5iB,GACrCwrE,EAAAA,GAAa9mB,EAAQ/pB,EAAIuqB,EACtC,CAGGmd,OAAAA,CAAAA,GACR,CAAC3d,EAAQ/pB,EAAIa,EAAe0pB,GACnC,CArGIwmB,CAAiBhnB,EAAQ/pB,GAuG7B,SAAyBA,GACrB,MAAMrnB,EAAQ2E,KAEdnJ,IAAU,KACAuzD,MAAAA,E3B5FEsJ,SAAUhxC,EACAixC,GAChBC,MAAAA,EAAalxC,EAAGmxC,iBAGtB,GAAmB,IAAfD,EAEA,OADA5sC,QAAQq7B,KAAK,4DACN,OAGX,IAAIyR,EAAoC,KAexC,GAb4B,oBAAjBC,aACPD,EAAe,IAAIC,aAAa,CAC5BH,aACAI,YAAa,qBAEoC,IAAtC56D,OAAe66D,qBAEfH,EAAA,IAAK16D,OAAe66D,mBAAmB,CAClDL,aACAI,YAAa,iBAID,MAAhBF,EACA,MAAO,OAGLjhB,MAAAA,EAAe,IAAID,GAItB1B,EAAAA,SAASgjB,aAAyBphB,IAC7BD,EAAahqD,SAAWoqD,MACxBJ,EAAaloD,KAAKmoD,EACtB,IAGJ,MAAM4gB,EAAYI,EAAaK,sBATZ,KAS8C,EApChD,GAqCjB,IAAI1D,GAAU,EAqBdiD,EAAUU,eAnBclnE,IACdmnE,MAAAA,EAAYnnE,EAAMonE,aAAazrE,OAC/B0rE,EAAcrnE,EAAMonE,aAAaE,iBACjCC,EAAe5hB,EAAahqD,SAMlC,GAJK4nE,IACDA,EAAUgE,GAjBI,MAoBbhE,EAIL,IAAA,IAASiE,EAAU,EAAGA,EAAUH,EAAaG,IAAW,CACpD,MAAMC,EAAcznE,EAAMonE,aAAaM,eAAeF,GACzC3hB,EAAAA,QAAQ4hB,EAAaN,EACtC,GAKEQ,MAAAA,EAAWf,EAAagB,aAM1BC,IAAAA,EALKC,EAAAA,QAAQlB,EAAamB,aAC9BvB,EAAUsB,QAAQH,GAElBA,EAASK,KAAK9nE,MAAQ,EAGlBumE,IACiBA,EAAAA,GAAcl+C,IAC3Bo/C,EAASK,KAAK9nE,MAAQqoB,CAAAA,KAI9B,MAAM0/C,EAAiBA,KACE,OAAjBrB,GAAgD,cAAvBA,EAAapmE,OACtComE,EAAad,QACjB,EAMJ,OAHSpmE,SAAAA,iBAAiB,cAAeuoE,EAAgB,CAAEC,MAAM,IACxDxoE,SAAAA,iBAAiB,UAAWuoE,EAAgB,CAAEC,MAAM,IAEtD,KACAlkB,EAAAA,SAASgjB,aAAY,SAEH,OAAjBJ,IACAJ,EAAU/hB,aACVkjB,EAASljB,aACTmiB,EACKl8C,QACAmP,MAAMC,QAAQrc,OACJmpD,EAAA,WAGI75C,IAAnB86C,OAIKhoE,SAAAA,oBAAoB,cAAeooE,GACnCpoE,SAAAA,oBAAoB,UAAWooE,EAAc,CAE9D,C2BZuBzB,CAAUhxC,GAAmB2yC,IACxC,IAAI5/C,EAAS,EAEb,MAAM6/C,EAAuBA,KACzB,MAAMC,EAAY15D,GAASR,GAAOmtB,IAAI/S,OAClC/Q,KAAKoyC,IAAIrhC,EAAS8/C,IAAc,MAChCF,EAAUE,GACDA,EAAAA,EACb,EAIGr3D,OADa7C,EAAMoD,UAAU62D,EAC7Bp3D,IAGJksD,OAAAA,CAAAA,GACR,CAAC1nC,GACR,CA3HI8yC,CAAgB9yC,EACpB,CEzBO,MAAM+yC,GAAc,kDAEpB,SAASC,GAAavsE,GACzB,MAAMu5B,EAAKv5B,EAAMu5B,GACXxJ,EAAUpd,IAAapO,GAAiBA,EAAM86B,IAAItP,UAClD5D,EAASxZ,IAAapO,GAAiBA,EAAM86B,IAAIlT,UAEhDqgD,EAASC,GAAcl/D,GAK3B,CACCm/D,KAAM,EACNhY,KAAM,EACNiY,IAAK,EACLC,GAAI,QAGD/xC,EAAOgyC,GAAYt/D,GAAqD,CAC3EytB,YAAa,EACbF,YAAa,IAiEjB,OA9DAptB,IAAU,KACN,MAAMsH,EAA2C,GAEjDukB,EAAGwuB,SAAS+kB,UAAU7lD,IAClB,IAAA,MAAWtR,KAAQX,EACfW,EAAKsR,EACT,IAGE8lD,MAAAA,EAAcxzC,EAAGwuB,SAAS+kB,SAChCvzC,EAAGwuB,SAAS+kB,SAAYxgE,IACpB0I,EAAUxT,KAAK8K,EAAE,EAIjBsrC,IAAAA,EAAYr0C,KAAKC,MACjBglE,EAAiB,EACjBF,EAAa,EAwCjB,OAvCGvgB,EAAAA,SAAS+kB,UAAsB7lD,IAC9B,IAAKA,EAAQuI,WAAW,UACpB,OAGJ+J,EAAGyvC,gBAAgB3hE,MAAMwzB,IACfmyC,MAAAA,EAAKzpE,KAAKC,MAAQo0C,EACfi1B,EAAA,CACL7xC,YAAazf,KAAKujB,MAA4C,KAArCjE,EAAMwuC,WAAab,GAAyBwE,GACrElyC,YAAavf,KAAKujB,OAAOjE,EAAMid,OAASwwB,GAAc0E,KAE1Dp1B,EAAYr0C,KAAKC,MACjBglE,EAAiB3tC,EAAMwuC,WACvBf,EAAaztC,EAAMid,MAAAA,IAIjB,MAACh3C,EAAGmsE,EAASC,EAAUC,GAAgBlmD,EAAQvL,MAAM,KACrDgxD,EAAO5zD,OAAOw1B,SAAS2+B,GACvBG,EAAQt0D,OAAOwhB,WAAW4yC,GAC1BG,EAAYv0D,OAAOwhB,WAAW6yC,GAGrBV,EADXW,GAAS,IACE,CACPV,OACAhY,KAAMn5C,KAAKujB,MAAc,GAARsuC,GAAc,GAC/BT,IAAKpxD,KAAKujB,MAAkB,IAAZuuC,GAAmB,IACnCT,GAAIU,GAAgBD,IAGb,CACPX,OACAhY,KAAMn5C,KAAKujB,MAAc,GAARsuC,GAAc,GAC/BT,IAAKpxD,KAAKujB,MAAkB,IAAZuuC,GAAmB,IACnCT,GAAI,MAEZ,IAGG,KACA7kB,EAAAA,SAAS+kB,SAAWC,CAAAA,CAAAA,GAE5B,CAACxzC,IAEGoH,GAAA,MAAA,CAAKj1B,MAAM,eAAc/L,UAC5BihC,GAAA,MAAA,CAAKl1B,MAAM,QAAO/L,SAAC,0BACnBghC,GAAA,MAAA,CAAKj1B,MAAM,UAAS/L,SAAC,CAAA,YAAUowB,EAAU,KAAO5D,EAAS,SAAW,aACpEwU,GAAA,MAAA,CAAKj1B,MAAM,UAAS/L,UAChBihC,GAAA,MAAA,CAAAjhC,SAAK,SACLihC,GAAA,MAAA,CAAAjhC,SAAM6sE,EAAQG,MACd/rC,GAAA,MAAA,CAAAjhC,SAAK,iBACLihC,GAAA,MAAA,CAAAjhC,SAAMk7B,EAAMC,cACZ8F,GAAA,MAAA,CAAAjhC,SAAK,iBACLihC,GAAA,MAAA,CAAAjhC,SAAMk7B,EAAMG,cACZ4F,GAAA,MAAA,CAAAjhC,SAAK,UACLihC,GAAA,MAAA,CAAAjhC,SAAM6sE,EAAQE,OACd9rC,GAAA,MAAA,CAAAjhC,SAAK,UACLghC,GAAA,MAAA,CAAAhhC,UAAM6sE,EAAQ9X,KAAK,IAAC9zB,GAAA,OAAA,CAAAjhC,SAAM,UACV,OAAf6sE,EAAQI,IAAehsC,GAAA,MAAA,CAAAjhC,SAAK,QACb,OAAf6sE,EAAQI,IAAehsC,GAAA,MAAA,CAAAjhC,SAAM6sE,EAAQI,IAAM,aAGxD,CAGA,SAASU,GAAgBX,GACrB,IAAIjwD,EAAQ,EACZ,KAAgB,EAARA,EAAY,EAAK8vD,GAAQ9sE,UACzB8sE,GAAgB,EAAR9vD,EAAY,IAAgBiwD,IAIxCjwD,IAIJ,OADAA,EAAQnB,KAAK8O,IAAKmiD,GAAQ9sE,OAAS,EAAI,EAAIgd,IACnC8vD,GAAgB,EAAR9vD,GAAa,IAAI6jB,MACrC,CAIA,MAAMisC,GAAU,CACZ,kBAAmB,KACnB,kBAAmB,KACnB,kBAAmB,KACnB,mBAAoB,KACpB,kBAAmB,KACnB,gBAAiB,KACjB,oBAAqB,IACrB,iBAAkB,IAClB,qBAAsB,IACtB,kBAAmB,IACnB,iBAAkB,IAClB,iBAAkB,IAClB,qBAAsB,IACtB,iBAAkB,IAClB,qBAAsB,IACtB,gBAAiB,IACjB,qBAAsB,IACtB,mBAAoB,IACpB,oBAAqB,IACrB,iBAAkB,IAClB,iBAAkB,IAClB,oBAAqB,IACrB,mBAAoB,IACpB,qBAAsB,IACtB,qBAAsB,IACtB,gBAAiB,IACjB,eAAgB,IAChB,sBAAuB,KACvB,wBAAyB,KACzB,oBAAqB,KACrB,uBAAwB,KACxB,gBAAiB,KACjB,oBAAqB,KACrB,eAAgB,KAChB,oBAAqB,KACrB,eAAgB,KAChB,kBAAmB,KACnB,qBAAsB,KACtB,mBAAoB,KACpB,oBAAqB,KACrB,sBAAuB,KACvB,qBAAsB,KACtB,oBAAqB,KACrB,sBAAuB,KACvB,oBAAqB,KACrB,kBAAmB,KACnB,uBAAwB,KACxB,oBAAqB,KACrB,oBAAqB,KACrB,oBAAqB,KACrB,oBAAqB,KACrB,uBAAwB,KACxB,0BAA2B,KAC3B,wBAAyB,KACzB,yBAA0B,KAC1B,sBAAuB,KACvB,sBAAuB,KACvB,wBAAyB,MACzB,wBAAyB,MACzB,wBAAyB,MACzB,gBAAiB,OCvKfe,GAAQ3kE,OAAO,SACf4kE,GAAQ5kE,OAAO,SAEd,MAAM6kE,GAOThtE,WAAAA,CAAYitE,EAAexgC,GACF,iBAAVwgC,IAEGA,EAAAA,EACFA,EAAA,GAGZxsE,KAAK2I,KAAO,EACZ3I,KAAKwsE,MAAQA,EACRC,KAAAA,OAASzsE,KAAK0sE,YAAS98C,EACvB+8C,KAAAA,YAAc3jE,IAEfgjC,IACAhsC,KAAKsnB,OAAO0kB,GACRwgC,EAAQ,IACRxsE,KAAKwsE,MAAQxsE,KAAK2I,MAG9B,CAEAikE,gBAAAA,CAAiBC,GACTA,IAAU7sE,KAAK0sE,SAQfG,EAAMR,MACFQ,IAAU7sE,KAAKysE,SACVA,KAAAA,OAASI,EAAMR,KAExBQ,EAAMR,IAAOC,IAASO,EAAMP,KAE5BO,EAAMP,MACNO,EAAMP,IAAOD,IAASQ,EAAMR,KAEhCQ,EAAMR,SAASz8C,EACT08C,EAAAA,IAAStsE,KAAK0sE,OAChB1sE,KAAK0sE,SACAA,KAAAA,OAAOL,IAASQ,GAEzB7sE,KAAK0sE,OAASG,EAClB,CAEAvlD,MAAAA,CAAO0kB,GACC6gC,IAAAA,EAAWL,EAAQxsE,KAAKwsE,OAAS50D,OAAOk1D,UAC5C9sE,KAAK2sE,QAAQp4D,QACb,MAAMw4D,EAAK/gC,EAAQtkC,OAAOmR,YACjBm0D,IAAAA,IAAAA,EAAMD,EAAGt4D,QAASu4D,EAAIpuD,KAAMouD,EAAMD,EAAGt4D,OAAQ,CAC5C/W,MAAAA,EAAI,IAAKuvE,GAAcD,EAAIjqE,MAAM,GAAIiqE,EAAIjqE,MAAM,IASrD,GARA/C,KAAK2sE,QAAQzjE,IAAIxL,EAAEqB,IAAKrB,GACnBmvE,GAGDA,EAAMR,IAAS3uE,EACfA,EAAE4uE,IAASO,GAHX7sE,KAAKysE,OAAS/uE,EAKVA,EAAAA,EACO,GAAX8uE,IACM,MAAA,IAAIj8D,MAAM,WAExB,CACAvQ,KAAK0sE,OAASG,EACTlkE,KAAAA,KAAO3I,KAAK2sE,QAAQhkE,IAC7B,CAEAI,GAAAA,CAAIhK,GAEA,MAAM8tE,EAAQ7sE,KAAK2sE,QAAQ5jE,IAAIhK,GAC/B,GAAK8tE,EAGL,OADA7sE,KAAK4sE,iBAAiBC,GACfA,EAAM9pE,KACjB,CAEAmG,GAAAA,CAAInK,EAAUgE,GACV,IAAI8pE,EAAQ7sE,KAAK2sE,QAAQ5jE,IAAIhK,GAE7B,OAAI8tE,GAEAA,EAAM9pE,MAAQA,EACd/C,KAAK4sE,iBAAiBC,GACf7sE,OAIN2sE,KAAAA,QAAQzjE,IAAInK,EAAM8tE,EAAQ,IAAKI,GAAcluE,EAAKgE,IAEnD/C,KAAK0sE,QAEAA,KAAAA,OAAOL,IAASQ,EACfP,EAAAA,IAAStsE,KAAK0sE,QAGpB1sE,KAAKysE,OAASI,EAIlB7sE,KAAK0sE,OAASG,IACZ7sE,KAAK2I,KACH3I,KAAK2I,KAAO3I,KAAKwsE,OAEjBxsE,KAAKW,QAGFX,KACX,CAEAW,KAAAA,GAEI,MAAMksE,EAAQ7sE,KAAKysE,OACnB,GAAII,EAeA,OAdI7sE,KAAKysE,OAAOJ,KAEPI,KAAAA,OAASzsE,KAAKysE,OAAOJ,IACrBI,KAAAA,OAAOH,SAAS18C,IAGrB5vB,KAAKysE,YAAS78C,EACd5vB,KAAK0sE,YAAS98C,GAIlBi9C,EAAMR,IAASQ,EAAMP,SAAS18C,EACzB+8C,KAAAA,QAAQlkE,OAAOokE,EAAM9tE,OACxBiB,KAAK2I,KACA,CAACkkE,EAAM9tE,IAAK8tE,EAAM9pE,MAEjC,EAGJ,SAASkqE,GAAiBluE,EAAUgE,GAChC/C,KAAKjB,IAAMA,EACXiB,KAAK+C,MAAQA,EACb/C,KAAKqsE,SAASz8C,EACd5vB,KAAKssE,SAAS18C,CAClB,CChKO,MAAMs9C,GAKT3tE,WAAAA,CAAY4tE,EAAoBC,EAAoBC,GAChDrtE,KAAKotE,WAAaA,EAClBptE,KAAKmtE,WAAaA,EACbG,KAAAA,IAAM,IAAIf,GAAOlyD,KAAKonD,MAAM4L,GAAeD,EAAaD,IACjE,CAEO3/B,IAAAA,CAAK+/B,EAAgBC,GAClBC,MAAAA,EAASztE,KAAK0tE,UAAUH,GACxBI,EAAS3tE,KAAKstE,IAAIvkE,IAAI0kE,GAC5B,GAAIE,EAAQ,CACR,GAAIH,EACOG,OAAAA,EACJ,CACH,MAAMn9C,EAAS+8C,EAASE,EACjBE,OAAAA,EAAOvrE,MAAMouB,EAASxwB,KAAKmtE,YAAa38C,EAAS,GAAKxwB,KAAKmtE,WACtE,CACJ,CACO,OAAA,IACX,CAEOl2B,KAAAA,CAAMs2B,EAAgB32C,GACnB62C,MAAAA,EAASztE,KAAK0tE,UAAUH,GACxBI,EAAS3tE,KAAKstE,IAAIvkE,IAAI0kE,GAI5B,OAHIE,GACAA,EAAOzkE,IAAI0tB,GAAS22C,EAASE,GAAUztE,KAAKmtE,iBAE9Bv9C,IAAX+9C,CACX,CAEOj3D,MAAAA,CAAO+2D,EAAgB72C,GAC1B52B,KAAKstE,IAAIpkE,IAAIukE,EAAQ72C,EAAOx0B,MAAM,GACtC,CAEOsrE,SAAAA,CAAUH,GACNA,OAAAA,EAASA,EAASvtE,KAAKotE,UAClC,CAEOQ,OAAAA,GACH,OAAO5tE,KAAKstE,IAAI3kE,KAAO3I,KAAKotE,WAAaptE,KAAKmtE,UAClD,ECnDJ,MACMU,GAAe,SACfC,GAA2B,GAa1B,MAAMC,GAwCFxuE,WAAAA,CAAYyuE,EACfx4C,EACAqJ,EACAxK,EACAsF,EACAs0C,EACAC,GAAiB,EACjBV,GAAiB,GAtCQtnE,KAAAA,OAAAA,QAAQG,QAAQ,MAIxBrG,KAAAotE,WAAA,EACDptE,KAAAmuE,UAAA,EAGFnuE,KAAAouE,QAAA,EACOpuE,KAAAquE,WAAA,IAAIv3C,WAAW,GACV92B,KAAAsuE,gBAAA,IAAIx3C,WAAW,GAC9B92B,KAAAuuE,aAAA,EACOvuE,KAAAwuE,oBAAA,EACExuE,KAAAyuE,cAAA,EACGzuE,KAAA0uE,aAAA,IAAI53C,WAAW,GAEpB92B,KAAA0hC,MAAA,KACtB1D,KAAAA,QAAUA,OAEV2wC,KAAAA,OAASA,CAACnhC,EAAeyJ,EAAgBtuC,EAAcimE,EACnDxB,KADKuB,EAETE,KAAAA,kBAAqBC,IAADD,EACpBE,KAAAA,QAAWrxE,IAADqxE,EAGVH,KAAAA,aAAyB,GAGd5uE,KAAAgvE,UAAA,EACHhvE,KAAAivE,OAAA,EAUJjvE,KAAKmtE,WAAa,IAClBntE,KAAKiuE,OAASA,EACdjuE,KAAKguE,SAAWA,EAChBhuE,KAAKw1B,MAAQA,EACbx1B,KAAK6+B,MAAQA,EACb7+B,KAAKq0B,MAAQA,EACbr0B,KAAKy2B,QAAU,KACfz2B,KAAKkvE,eAAiB,KACtBlvE,KAAKmvE,YAAc,IAAIr4C,WAAW,EAAQ92B,KAAKmtE,YAC/CntE,KAAK25B,MAAQA,EACb35B,KAAKkuE,eAAiBA,EACtBluE,KAAKwtE,eAAiBA,EAEtBxtE,KAAKovE,WACT,CAEOC,OAAAA,CAAQN,GACX/uE,KAAK+uE,QAAUA,CACnB,CAEOO,MAAAA,CAAOX,GAEV3uE,KAAK2uE,OAASA,CAClB,CAEOY,iBAAAA,CAAkBC,GACrBxvE,KAAK6uE,kBAAoBW,CAC7B,CAEOJ,SAAAA,GACEpvE,KAAKivE,QAIVjvE,KAAKyvE,OAAS,IAAIvpE,SAAmB,CAACG,EAASkiB,KAC3C,MAAMknD,EAAS,IAAIC,UAAU1vE,KAAKguE,UAClCyB,EAAOE,WAAa,cACpB,MAAM9I,EAAY7mE,KAAK6mE,UAAUzgE,KAAKpG,MAChCsvE,EAASA,KACLM,MAAAA,EAAU/sE,IAERA,GADGH,EAAAA,oBAAoB,UAAWktE,GAClC/sE,EAAM8B,KAAK2pB,WAAW,UAAYzrB,EAAM8B,KAAK2pB,WAAW,QAAS,CAC3D,MAAC2mC,EAAM4a,EAAeC,GAAWjtE,EAAM8B,KAAK6V,MAAM,KAClD4yD,EAAax1D,OAAOw1B,SAASyiC,GACnC7vE,KAAKotE,WAAaA,EACbe,KAAAA,UAAYf,EAAaptE,KAAKmtE,WACnCntE,KAAKouE,QAAU/zD,KAAKonD,MA7GrB,QA6G4CzhE,KAAKmuE,WAE1C4B,MAAAA,EAAmB/vE,KAAKmuE,UAAYnuE,KAAKouE,QAC/CpuE,KAAKquE,WAAa,IAAIv3C,WAAW,EAAuB,EAAf92B,KAAKouE,SACzCE,KAAAA,gBAAkB,IAAIx3C,WAAWi5C,GACjCrB,KAAAA,aAAe,IAAI53C,WAAWi5C,GACnC/vE,KAAK0hC,MAAQ,IAAIwrC,GAAWltE,KAAKmtE,WAAYC,EAAYS,IAEzD,IAAImC,EAAgB,EAChBC,EAAa,EACbC,EAAsB,IAAIp5C,WAAW,GACnCq5C,MAAAA,EAAoBttE,IACtB,IAAI8B,EAAO,IAAImyB,WAAWj0B,EAAM8B,MAY5BsrE,GAXkB,IAAlBD,IACAA,EAAgBrrE,EAAK,IAAMA,EAAK,IAAM,IAAMA,EAAK,IAAM,KAAOA,EAAK,IAAM,IAC/DurE,EAAA,IAAIp5C,WAAWk5C,EAAgB,GAClCrrE,EAAAA,EAAKvC,MAAM,IAGlB6tE,EAAaD,IACL9mE,EAAAA,IAAIvE,EAAMsrE,GAClBA,GAActrE,EAAKnG,QAGnByxE,EAAaC,EAAQ1xE,OAAQ,CACvB8hB,MAAAA,EAAQ,IAAI/P,MAAM,0CACxBvQ,KAAK+uE,QAAQzuD,GACbiI,EAAOjI,EAAK,MAAA,GACL2vD,GAAcC,EAAQ1xE,OAAQ,CAErC,GADAwB,KAAK4uE,aAAe,GAChB5uE,KAAKkuE,eAAgB,CACrB,IAAA,IAAS5wE,EAAI,EAAGA,EAAI4yE,EAAQ1xE,OAAQlB,GAAK,EACrC0C,KAAK4uE,aAAatuE,KAAK4vE,EAAQ5yE,IAAM4yE,EAAQ5yE,EAAI,IAAM,IAClD4yE,EAAQ5yE,EAAI,IAAM,KAAO4yE,EAAQ5yE,EAAI,IAAM,KAEpDwwE,GAAgBxtE,KAAKN,KACzB,CACO0C,EAAAA,oBAAoB,UAAWytE,GAC/B5tE,EAAAA,iBAAiB,UAAWskE,GACnC7mE,KAAKgvE,SAAoB,UAAT/Z,EAChBj1D,KAAK2uE,QAAO,GAAO3uE,KAAKgvE,SAC4B,MAA/Cp3D,OAAOw1B,SAAS0iC,IAAY,SAC7B9vE,KAAK4uE,aACLxB,GAEJptE,KAAKsvE,OAAS,OACdtvE,KAAK+uE,QAAU,OACf/uE,KAAKkuE,gBAAiB,EACtB7nE,EAAQopE,GAEJzvE,KAAK4uE,aAAapwE,OAAS,IACvBwB,KAAK4uE,aAAapwE,OAASwB,KAAKmuE,UAAYN,KAC5ClxC,QAAQoqC,IAAI,iDACR/mE,KAAK4uE,aAAapwE,OAASwB,KAAKmuE,UAAY,KAAO,KAAM,IACzDN,IACCe,KAAAA,aAAe5uE,KAAK4uE,aACpBxsE,MAAM,EAAGiY,KAAKonD,MAAMoM,GAAe7tE,KAAKmuE,aAGjDnuE,KAAKowE,qBAEb,GAEG7tE,EAAAA,iBAAiB,UAAW4tE,EAAgB,KAChD,CACH,MAAM7vD,EAAQ,IAAI/P,MAAM1N,EAAM8B,MAAQ,kCACtC3E,KAAK+uE,QAAQzuD,GACbiI,EAAOjI,EACX,GAEG/d,EAAAA,iBAAiB,UAAWqtE,GAC5BrtE,EAAAA,iBAAiB,SAAS,KAC7B,IAAA,IAASjF,EAAI,EAAGA,EAAIwwE,GAAgBtvE,SAAUlB,EACtCwwE,GAAAA,GAAgBxwE,KAAO0C,KAAM,CACb6F,GAAAA,OAAOvI,EAAG,GAC1B,KACJ,CACJ,IAEG+yE,EAAAA,KAAKrwE,KAAKw1B,MAAQ,IAAMx1B,KAAK6+B,MAAQ,IAAM7+B,KAAKq0B,MAAK,EAE1Dg7C,EAAW3xE,IACL4iB,QAAAA,MAAM,gBAAiB5iB,EAAG,kBAC1BsgC,IACRyxC,EAAOliD,QACPjnB,WAAWtG,KAAKovE,UAAUhpE,KAAKpG,MAAO,IAAG,EAEtCuC,EAAAA,iBAAiB,QAAS8sE,GAC1B9sE,EAAAA,iBAAiB,OAAQ+sE,GAChC,MAAMtxC,EAAU,WACLt7B,EAAAA,oBAAoB,UAAWmkE,GAC/BnkE,EAAAA,oBAAoB,OAAQ4sE,GAC5B5sE,EAAAA,oBAAoB,QAAS2sE,EAAO,EAE/CrvE,KAAKg+B,QAAUA,CAAAA,IAGE,OAAjBh+B,KAAKy2B,SACA65C,KAAAA,eAAetwE,KAAKy2B,SAEjC,CAEQ25C,kBAAAA,GACiB,OAAjBpwE,KAAKy2B,SAAoBz2B,KAAK4uE,aAAapwE,OAAS,GACpDsvE,GAAgBtvE,OAAS,GAAKsvE,GAAgB,KAAO9tE,OACrDA,KAAKy2B,QAAUz2B,KAAKuwE,gBAAgBvwE,KAAK4uE,aAAajuE,SACjD2vE,KAAAA,eAAetwE,KAAKy2B,SAEjC,CAEQ85C,eAAAA,CAAgBhD,EAAgB32C,GAAiB,EAAIvwB,EAAiCA,UACpFmqE,MAAAA,EAAoB,CAACjD,GACvB,GAAAvtE,KAAK4uE,aAAapwE,OAAS,EAAG,CAC1BsvE,GAAAA,GAAgB,KAAO9tE,KAEvB,IADAA,KAAK6uE,kBAAkB7uE,KAAK4uE,aAAapwE,OAASwB,KAAKmuE,WAChDnuE,KAAK4uE,aAAapwE,OAAS,GAAKgyE,EAAQhyE,OAASwB,KAAKouE,SAAS,CAC5D8B,MAAAA,EAAUlwE,KAAK4uE,aAAajuE,QAC9BuvE,IAAY3C,GACZiD,EAAQlwE,KAAK4vE,EAErB,CAEJ,IAAA,IAAS5yE,EAAI,EAAGA,EAAI0C,KAAK4uE,aAAapwE,SAAUlB,EAC5C,GAAI0C,KAAK4uE,aAAatxE,IAAMiwE,EAAQ,CAC3BqB,KAAAA,aAAa/oE,OAAOvI,EAAG,GAC5B,KACJ,CAEA,GAA6B,IAA7B0C,KAAK4uE,aAAapwE,OAAc,CAChC,IAAIlB,EAAI,EACR,KAAMA,EAAIwwE,GAAgBtvE,SAAUlB,EAC5BwwE,GAAAA,GAAgBxwE,KAAO0C,KAAM,CACb6F,GAAAA,OAAOvI,EAAG,GAC1B,KACJ,CAEK,GAALA,GAAUwwE,GAAgBtvE,OAAS,GACnBsvE,GAAA,GAAGsC,oBAE3B,CACJ,CACO,MAAA,CACHvxE,KAAM,EACN2xE,UACA55C,SACAvwB,UAER,CAEOmnC,IAAAA,CAAK+/B,EAAgB32C,EAAa1G,GACrC,MAAMy9C,EAAS3tE,KAAK0hC,MAAO8L,KAAK+/B,EAAQvtE,KAAKwtE,gBAC7C,OAAe,OAAXG,GACA3tE,KAAK25B,MAAM82C,WACXzwE,KAAKiuE,OAAOyC,OAAOxnE,IAAIykE,EAAQ/2C,GACxB1G,EAAO,EAAIhqB,QAAQG,QAAQ,IAC3B6pB,EACA,IAEA,IAAIhqB,SAA6BG,IACpCrG,KAAK25B,MAAMg3C,YAEX,MAAMl6C,EAAmBz2B,KAAKuwE,gBAAgBhD,EAAQ32C,EAAQvwB,GACzC,OAAjBrG,KAAKy2B,QACuB,OAAxBz2B,KAAKkvE,eACLlvE,KAAKkvE,eAAiBz4C,GAEtBkG,QAAQrc,MAAM,qDACdja,EAAQ,KAGZrG,KAAKy2B,QAAUA,EACV65C,KAAAA,eAAetwE,KAAKy2B,SAC7B,GAGZ,CAEOwgB,KAAAA,CAAMs2B,EAAgB32C,GACzB,MAAMH,EAAmB,CACrB53B,KAAM,EACN2xE,QAAS,CAACjD,GACV32C,OAAQ52B,KAAKiuE,OAAOyC,OAAOtuE,MAAMw0B,EAAQA,EAAS52B,KAAKmtE,YACvD9mE,QAASA,QAIN,OAFPrG,KAAK0hC,MAAOuV,MAAMs2B,EAAQ92C,EAAQG,QAClC52B,KAAKswE,eAAe75C,GACb,CACX,CAEA,WAAalJ,GACTvtB,KAAKivE,OAAQ,EACPQ,MAAAA,QAAezvE,KAAKyvE,aACpB,IAAIvpE,SAA2BG,IAC3BwhE,MAAAA,EAAa7tB,aAAY,KACG,IAA1By1B,EAAOmB,iBACP99C,cAAc+0C,OAElB,GACD,GAAE,IAET7nE,KAAKg+B,UACLyxC,EAAOliD,OACX,CAEQ+iD,cAAAA,CAAe75C,GACdg5C,KAAAA,OAAOtpE,MAAKsuB,MAAOg7C,IACpB,GAAIA,EAAOoB,aAAenB,UAAUoB,QAAUrB,EAAOoB,aAAenB,UAAUqB,QAAS,CAC/E,IAAC/wE,KAAKivE,MAGN,OAFQ3uD,QAAAA,MAAM,mCAAoCtgB,KAAK6+B,YACvDpI,EAAQpwB,QAAQ,GAGhBs2B,QAAQrc,MAAM,wBAA0BtgB,KAAKw1B,MAAQ,IAAMx1B,KAAK6+B,MAC5D,wCACJ7+B,KAAK4uE,aAAe,GACpB5uE,KAAKovE,YACLK,QAAezvE,KAAKyvE,MAE5B,CAEIh5C,GAAiB,IAAjBA,EAAQ53B,KAAY,CACd,MAAA2xE,QAAEA,GAAY/5C,EACfg4C,KAAAA,cAAgBpsE,KAAKC,MAC1BtC,KAAKuuE,aAAe,EACpBvuE,KAAKwuE,oBAAsB,EACtBH,KAAAA,WAAW,GAAK,EACrBruE,KAAKquE,WAAW,GAAsB,IAAjBmC,EAAQhyE,OAC7BwB,KAAKquE,WAAW,GAAMmC,EAAQhyE,QAAU,EAAK,IAC7CwB,KAAKquE,WAAW,GAAMmC,EAAQhyE,QAAU,GAAM,IAC9CwB,KAAKquE,WAAW,GAAMmC,EAAQhyE,QAAU,GAAM,IAE9C,IAAA,IAASlB,EAAI,EAAGA,EAAIkzE,EAAQhyE,SAAUlB,EAAG,CACrC,MAAMmwE,EAASztE,KAAK0hC,MAAOgsC,UAAU8C,EAAQlzE,IAE7C,GAAIA,EAAI,GAAKmwE,IAAW+C,EAAQlzE,GAG5B,OAFAq/B,QAAQrc,MAAM,gDAAiDmtD,EAAQ+C,EAAQlzE,SAC/Em5B,EAAQpwB,QAAQ,GAIpBrG,KAAKquE,WAAW,EAAQ,EAAJ/wE,GAAkB,IAATmwE,EAC7BztE,KAAKquE,WAAW,EAAQ,EAAJ/wE,EAAQ,GAAMmwE,GAAU,EAAK,IACjDztE,KAAKquE,WAAW,EAAQ,EAAJ/wE,EAAQ,GAAMmwE,GAAU,GAAM,IAClDztE,KAAKquE,WAAW,EAAQ,EAAJ/wE,EAAQ,GAAMmwE,GAAU,GAAM,GACtD,CACO4C,EAAAA,KAAKrwE,KAAKquE,WAAWjsE,MAAM,EAAoB,EAAjBouE,EAAQhyE,OAAa,GAAGo4B,OAAM,MAAA,GAC5D52B,KAAKgvE,SACZv4C,EAAQpwB,QAAQ,OACb,CACG,MAAAmqE,QAAEA,EAAAA,OAAS55C,EAAAA,QAAQvwB,GAAYowB,EAChCkD,KAAAA,MAAMsd,OAASj3C,KAAKmtE,WACpBgC,KAAAA,YAAY,GAAK,EACtBnvE,KAAKmvE,YAAY,GAAkB,IAAbqB,EAAQ,GAC9BxwE,KAAKmvE,YAAY,GAAMqB,EAAQ,IAAM,EAAK,IAC1CxwE,KAAKmvE,YAAY,GAAMqB,EAAQ,IAAM,GAAM,IAC3CxwE,KAAKmvE,YAAY,GAAMqB,EAAQ,IAAM,GAAM,IAEtCrB,KAAAA,YAAYjmE,IAAI0tB,EAAsB,GACpCy5C,EAAAA,KAAKrwE,KAAKmvE,YAAYv4C,QAC7BvwB,EAAQ,EACZ,KACDq2B,MAAMC,QAAQrc,MACrB,CAEOumD,SAAAA,CAAUhkE,GACT,GAAiB,OAAjB7C,KAAKy2B,QACLkG,QAAQrc,MAAM,oCACdtgB,KAAKovE,iBACE,GAAsB,IAAtBpvE,KAAKy2B,QAAQ53B,KACpB89B,QAAQrc,MAAM,6CACdtgB,KAAKovE,iBAAU,GACRvsE,EAAM8B,gBAAgBm8B,YAAa,CAC1C,IAAIn8B,EAAO,IAAImyB,WAAWj0B,EAAM8B,MACC,IAA7B3E,KAAKwuE,sBACLxuE,KAAKwuE,oBAAsB7pE,EAAK,IAAMA,EAAK,IAAM,IAAMA,EAAK,IAAM,KAAOA,EAAK,IAAM,IAC7EA,EAAAA,EAAKvC,MAAM,IAGhB,MAAAouE,QAAEA,EAAAA,OAAS55C,EAAAA,QAAQvwB,GAAYrG,KAAKy2B,QACpCu6C,EAAahxE,KAAKwuE,oBAAsBxuE,KAAKuuE,aACnD,GAAI5pE,EAAKi8B,WAAaowC,GAAcA,EAAa,EAC7Cr0C,QAAQrc,MAAM,6BAA+B3b,EAAKi8B,WAAa,eAAiBowC,GAChF3qE,EAAQ,OACL,CACHrG,KAAKsuE,gBAAgBplE,IAAIvE,EAAM3E,KAAKuuE,cACpCvuE,KAAKuuE,cAAgB5pE,EAAKi8B,WACpBqwC,MAAAA,EAAejxE,KAAKmuE,UAAYqC,EAAQhyE,OAE1C,GAAAwB,KAAKuuE,cAAgBvuE,KAAKwuE,oBAAqB,CAC/C,IAAI0C,EAAeD,EACf,GAAAjxE,KAAKwuE,oBAAsByC,EAAc,CACnCrsD,MAAAA,EAuE9B,SAAmB5L,EAAmBm4D,EAAoBC,EAAcC,GAIhE/zE,IAAAA,EAAOH,EAAO8H,EAClB,IAJAmsE,EAAOA,GAAQ,EACRC,EAAAA,GAASr4D,EAAMxa,OAAS4yE,EAG1B9zE,EAAI8zE,EAAMj0E,EAAIk0E,EAAMpsE,EAAI,EAAG3H,EAAIH,GAAI,CAC9Bk3B,MAAAA,EAAQrb,EAAM1b,KAGpB,IAAIg0E,EAAkBj9C,GAAS,EAC/B,GAAIi9C,EAAiB,EAAG,CAEpB,IAAIl0E,EAAIk0E,EAAiB,IACzB,KAAa,MAANl0E,GACHA,EAAI4b,EAAM1b,KACQF,GAAAA,EAItB,MAAM+2D,EAAM72D,EAAIg0E,EAChB,KAAOh0E,EAAI62D,GAAYlvD,EAAAA,KAAO+T,EAAM1b,KAGpC,GAAIA,IAAMH,EAAU8H,OAAAA,CACxB,CAIA,MAAMurB,EAASxX,EAAM1b,KAAQ0b,EAAM1b,MAAQ,EAG3C,GAAe,IAAXkzB,EAAqBvrB,OAAAA,EACzB,GAAIurB,EAASvrB,EAAG,QAAS3H,EAAI,GAG7B,IAAIi0E,EAAuB,GAARl9C,EACfj3B,EAAIm0E,EAAc,IACtB,KAAa,MAANn0E,GACHA,EAAI4b,EAAM1b,KACKF,GAAAA,EAInB,IAAIi2D,EAAMpuD,EAAIurB,EACR2jC,MAAAA,EAAMlvD,EAAIssE,EAAc,EAC9B,KAAOtsE,EAAIkvD,GAAYlvD,EAAAA,KAAOksE,EAAO9d,IACzC,CAEOpuD,OAAAA,CACX,CAxHuCusE,CAAUxxE,KAAKsuE,gBAAiBtuE,KAAK0uE,aAAc,EAAG1uE,KAAKwuE,qBACtE5pD,EAAS,EACMA,EAAAA,EAEV0pD,KAAAA,gBAAgBplE,IAAIlJ,KAAK0uE,aAAatsE,MAAM,EAAG6uE,GAAe,EAE3E,CAEA,GAAIC,GAAgBD,EAChBt0C,QAAQrc,MAAM,uBAAyB4wD,EAAe,cAAgBD,GACtE5qE,EAAQ,OACL,CACH,IAAA,IAAS/I,EAAI,EAAGA,EAAIkzE,EAAQhyE,SAAUlB,EAAG,CAC/Bm0E,MAAAA,EAAcn0E,EAAI0C,KAAKmuE,UACvBZ,EAASiD,EAAQlzE,GACjBmwE,EAASztE,KAAK0hC,MAAOgsC,UAAUH,GAGjCjwE,GAFCokC,KAAAA,MAAOhrB,OAAO+2D,EACfztE,KAAKsuE,gBAAgBlsE,MAAMqvE,EAAaA,EAAczxE,KAAKmuE,YACtD,GAAL7wE,GAAUs5B,GAAoB,EAAG,CAC7B,GAAA52B,KAAKwtE,gBAAkBD,IAAWE,EAC5B,MAAA,IAAIl9D,MAAM,mDAEpB,MAEM+G,GAFSi2D,EAASE,GAEFztE,KAAKmtE,WAC3BntE,KAAKiuE,OAAOyC,OAAOxnE,IAAIlJ,KAAKsuE,gBACvBlsE,MAAMkV,EAAMA,GAAQtX,KAAKwtE,eAAiBxtE,KAAKotE,WAAa,GAAKptE,KAAKmtE,YACvEv2C,EACR,CACJ,CAEA52B,KAAK25B,MAAM+3C,UAAY1xE,KAAK0hC,MAAOksC,UAC9Bj0C,KAAAA,MAAM6T,MAAQxtC,KAAKwuE,oBACxBxuE,KAAK25B,MAAMg4C,eAAiBtvE,KAAKC,MAAQtC,KAAKyuE,cAC9CzuE,KAAKy2B,QAAU,KACfpwB,EAAQ,GAEoB,OAAxBrG,KAAKkvE,gBACLlvE,KAAKy2B,QAAUz2B,KAAKkvE,eACpBlvE,KAAKkvE,eAAiB,KACjBoB,KAAAA,eAAetwE,KAAKy2B,UAEzBz2B,KAAKowE,oBAEb,CACJ,CACJ,CAAA,MAEAzzC,QAAQrc,MAAM,iCACdtgB,KAAKovE,WAEb,CAEOwC,aAAAA,GACH,OAAO5xE,KAAKyvE,MAChB,ECnbJ,MAAMoC,GAAc,IAAIC,YAClBC,GAAc,IAAIC,YAClBC,GAAc,IASdC,GAA+C,CAAA,EANR,CACzC,aAAc,SAAU,uBAAwB,aAAc,gBAAiB,kBAAmB,gBAClG,UAAW,gBAAiB,WAAY,YAAa,UAAW,YAAa,aAAc,gBAC3F,mBAAoB,oBAAqB,aAAc,iBAAkB,qBACzE,mBAAoB,mBAGJpuE,SAAQ,CAAC7F,EAAGX,IAAM40E,GAAkBj0E,GAAKX,IAE7D,MAQM60E,GAAsD,CAAA,EARf,CACzC,sBAAuB,WAAY,kBAAmB,oBACtD,kBAAmB,SAAU,UAAW,SACxC,YAAa,UAAW,aAAc,gBAAiB,gBACvD,YAAa,gBAAiB,eAAgB,kBAC9C,oBAAqB,aAAc,qBACnC,iBAAkB,oBAAqB,eAGvBruE,SAAQ,CAAC7F,EAAGX,IAAM60E,GAAkB70E,GAAKW,IAEtD,MAAMm0E,GA2ST7yE,WAAAA,CAAYkwE,EAAmBG,GA1S/BH,EAAAA,KAAAA,UACoBptE,EAAAA,KAAAA,YAAAA,KAAKC,MAAQ,IACjCsrB,EAAAA,KAAAA,YACAgiD,EAAAA,KAAAA,UAAoCA,SAEnBpgD,EAAAxvB,KAAA,SAAA,GACTqyE,EAAAA,KAAAA,YCtCIC,SACZhD,EACAD,EACAE,GAEA,IAAIgD,EAAM,EACV,MAAMpS,EAAuC,CAAA,EACvCqS,EAA4C,CAAA,EAC5CC,EAA2C,CAAA,EAC3C94C,EAAe,CACjB6T,KAAM,EACNyJ,MAAO,EACP06B,cAAe,EACflB,SAAU,EACVE,UAAW,EACXe,UAAW,EACXx6B,GAAI,IA4FDm7B,MA1FW,CACd14C,QACA3D,KAAMvB,MAAO2X,EAAa5W,EAAe1wB,EAAcuvB,KAInD,MAAMsX,QAAiB/W,MAAMwX,EAAIlqC,QAAQ,SAAU,YAC9CA,QAAQ,QAAS,WAAa,aAAeszB,EAAQ,IAAM1wB,GAC1D4uC,QAAiB/H,EAAS1X,OAChC,GAAIyf,EAASpzB,MACH,MAAA,IAAI/P,MAAMmjC,EAASpzB,OAE7BiyD,IACAC,EAAUD,GAAO,CACbztE,KAAM4uC,EAAS5uC,KACf6D,KAAM+qC,EAAS/qC,MAAQ,EACvB+pE,MAAOh/B,EAASg/B,OAAS,EACzBC,UAAWj/B,EAASi/B,WAAa,IACjCnC,QAAS98B,EAAS88B,SAAW,GAC7BrD,WAAYz5B,EAASk/B,aAAe,KAGlCzF,MAAAA,EAAaqF,EAAUD,GAAKpF,WAC5Bc,EAAS,CAAEyC,OAAQ,IAAI55C,WAAW,IAGxC,OAFA6C,EAAMud,GAAG52C,KAAK,CAAEktC,KAAM,EAAGyJ,MAAO,IACxBs7B,EAAAA,GAAO,IAAIxE,GAAM3hC,EAAK5W,EAAO1wB,EAAMuvB,EAAOsF,EAAOs0C,GAAQ,GAAM,GAChE,IAAI/nE,SAAgD,CAACG,EAASkiB,KAC3DsW,MAAAA,EAAQrJ,EAAQ,IAAM1wB,EACpBytE,EAAAA,GAAKjD,QAAO,CAAC9hC,EAAMyJ,EAAO47B,EAAWjE,EAAcxB,KACvDqF,EAAOF,GAAO,IAAIz7C,WAAWq2C,EAAyBA,EAAaC,GAC5DsD,EAAAA,OAAS+B,EAAOF,GACvBjD,EAAOzwC,EAAO2O,EAAMyJ,EAAO47B,EAAWjE,GAC9BvoE,EAAA,CACJysE,OAAQP,EACRnF,cACH,IAEGmF,EAAAA,GAAKhD,mBAAiCT,IAC1CS,EAAkB1wC,EAAOiwC,EAAS,IAE9ByD,EAAAA,GAAKlD,SAAe3xE,IACxB2xE,EAAQ3xE,GACR6qB,EAAO7qB,EAAC,GACX,GACJ,EAEL8vC,KAAM/Y,MAAOq+C,EAAgBvF,KACrBpN,GAAAA,EAAQ2S,GAAS,CACX57B,EAAAA,GAAG47B,EAAS,GAAGtlC,OACfulC,MAAAA,EAAMP,EAAUM,GAAQ3F,WAC9B,IAAIlzD,EAAOkmD,EAAQ2S,GAAQtlC,KAAK+/B,EAAQwF,GAAK,GAItC,OAHH94D,EAAO,OACPA,QAAakmD,EAAQ2S,GAAQtlC,KAAK+/B,EAAQwF,GAAK,IAE5C,CACH94D,OACA2c,OAAQ67C,EAAOK,GAAQ1wE,MAAM2wE,GAErC,CAGA,OADQzyD,QAAAA,MAAM,0BAA2BwyD,EAAQ,aAC1C5sE,QAAQG,QAAQ,CAAE4T,KAAM,GAAG,EAEtCg9B,MAAOA,CAAC67B,EAAgBvF,EAAgB32C,IAChCA,EAAOgK,YAAc4xC,EAAUM,GAAQ3F,YAC/BkC,EAAA,IAAI9+D,MAAM,+BAAiCqmB,EAAOgK,WACtD,mBAAqB4xC,EAAUM,GAAQ3F,aACpC,GAEPhN,EAAQ2S,IACF57B,EAAAA,GAAG47B,EAAS,GAAG77B,QACrBw7B,EAAOK,GAAQ5pE,IAAI0tB,EAAQ,GACpBupC,EAAQ2S,GAAQ77B,MAAMs2B,EAAQ,KAEjCjtD,QAAAA,MAAM,0BAA2BwyD,EAAQ,aAC1C,GAEXvlD,MAAQulD,IACA3S,EAAQ2S,KACAA,EAAAA,GAAQvlD,eACTklD,EAAOK,UACPN,EAAUM,UACV3S,EAAQ2S,GACnB,EAEJp/B,SAAWo/B,GACAN,EAAUM,GAK7B,CDvEwBR,CAAgBtyE,KAAKgzE,gBAAgB5sE,KAAKpG,MAC1DA,KAAKizE,iBAAiB7sE,KAAKpG,MAAOA,KAAKkzE,2BAA2B9sE,KAAKpG,QAEnEguD,EAAAA,KAAAA,WAA0BA,SAkS9BhuD,KAAKyvE,OAASA,EACTA,KAAAA,OAAOltE,iBAAiB,SAAgB7E,IACzCsC,KAAKguD,QAAQ,SAAU,CAAEmlB,IAAK,KAAMptD,QAAUroB,EAAUqoB,SAAW,kCAC9DioC,KAAAA,QAAQ,UAAW,CAAA,GACxBhuD,KAAKyvE,OAAOliD,WAEhBvtB,KAAKyvE,OAAOltE,iBAAiB,WAAWkyB,MAAO2+C,IAC3C,MAAM9kC,EAAa8kC,EAAGzuE,KACtB3E,KAAK6mE,UAAU,IAAI/vC,iBAAiBwX,EAAKV,eAAc,IAE3D5tC,KAAKqzE,oBAAoB,cACzBrzE,KAAK4tB,SAAY,KACjB5tB,KAAK4vE,OAASA,CAClB,CA7SQ0D,WAAAA,CAAYpU,EAAuBn8D,EAAeytB,GAKtD,OAJUA,EAAAA,GAAkB,IAARztB,EACpBm8D,EAAU1uC,EAAS,IAAc,MAARztB,IAAuB,EAChDm8D,EAAU1uC,EAAS,IAAc,SAARztB,IAAuB,GAChDm8D,EAAU1uC,EAAS,IAAc,WAARztB,IAAuB,GACzCytB,EAAS,CACpB,CAEQ+iD,UAAAA,CAAWrU,EAAuB1uC,GAC9B0uC,OAAoB,IAApBA,EAAU1uC,GACZ0uC,EAAU1uC,EAAS,IAAM,EAAK,MAC9B0uC,EAAU1uC,EAAS,IAAM,GAAM,SAC/B0uC,EAAU1uC,EAAS,IAAM,GAAM,UACzC,CAEQgjD,UAAAA,CAAWtU,EAAuB1uC,GAC/B,OAAAxwB,KAAKuzE,WAAWrU,EAAW1uC,GAAUxwB,KAAKuzE,WAAWrU,EAAW1uC,EAAS,GAAK,GAAK,EAC9F,CAEQ6iD,mBAAAA,CAAoB3rD,KAA+BtH,GACvD,IAAI5hB,EAAS,EACb,IAAA,MAAWiW,KAAQ2L,EACL5hB,GAAA,UAAKiW,WAAMjW,SAAU,GAG7Bi1E,MAAAA,EAAU,IAAI38C,WAAWt4B,GAC/Bi1E,EAAQ,GAAmB,iBAAP/rD,EAAkBwqD,GAAkBxqD,GAAMA,EAC9D,IAAIm7B,EAAW,EACf,IAAA,MAAWpuC,KAAQ2L,EACfpgB,KAAKszE,YAAYG,GAAej1E,MAANiW,OAAMjW,EAAAA,EAAAA,SAAU,EAAGqkD,GACjCA,GAAA,EACRpuC,IACQvL,EAAAA,IAAIuL,EAAMouC,GAClBA,GAAYpuC,EAAKjW,QAIpBixE,KAAAA,OAAOY,KAAKoD,EACrB,CAEQC,WAAAA,CAAYtzD,GAChB,MAAMuzD,EAAoB,GAC1B,IAAI9wB,EAAW,EACRA,KAAAA,EAAW,GAAKziC,EAAQ5hB,QAAQ,CACnC,MAAMA,EAASwB,KAAKuzE,WAAWnzD,EAASyiC,GAGpCA,GAFQA,GAAA,EAERA,EAAWrkD,EAAS4hB,EAAQ5hB,OACtB,MAAA,IAAI+R,MAAM,8BAEhBojE,EAAIrzE,KAAK8f,EAAQhe,MAAMygD,EAAUA,EAAWrkD,IAGpCA,GAAAA,CAChB,CAEO,MAAA,CACHkpB,GAAItH,EAAQ,GACZA,QAASuzD,EAEjB,CAEQ9M,SAAAA,CAAU+M,SACR,MAAAlsD,GAAEA,EAAAA,QAAItH,GAAYpgB,KAAK0zE,YAAYE,GACnC7tD,EAAUosD,GAAkBzqD,GAClC,OAAQ3B,GACJ,IAAK,WACD/lB,KAAK4vE,OAAQxvD,GAAWA,EAAQ,IAAMA,EAAQ5hB,OAAS,EAAK4hB,EAAQ,GAAG,GAAK,GACvE4tC,KAAAA,QAAQjoC,EAAS,CAAA,GACxB,MACF,IAAK,kBACL,IAAK,UAEe,oBAAZA,GACKioC,KAAAA,QAAQjoC,EAAS,CAAA,GAE5B,MACF,IAAK,YACL,IAAK,SACL,IAAK,UACL,IAAK,SACD/lB,KAAKguD,QAAQjoC,EAAS,CAClBotD,IAAKtB,GAAYgC,OAAOzzD,EAAQ,IAChC2F,QAAS8rD,GAAYgC,OAAOzzD,EAAQ,MAE1C,MACF,IAAK,qBAAsB,CACvB,MAAM0zD,EAAmB,CACrBj1E,KAAMgzE,GAAYgC,OAAOzzD,EAAQ,IACjCtb,KAAM+sE,GAAYgC,OAAOzzD,EAAQ,IACjCzb,KAAMyb,EAAQ,IAElBpgB,KAAKguD,QAAQjoC,EAAS,CAAE+tD,SAC5B,CAAE,MACF,IAAK,YACD9zE,KAAKguD,QAAQjoC,EAAS,CAClBsJ,WAAYjP,EAAQ,GACpBkP,UAAWuiD,GAAYgC,OAAOzzD,EAAQ,MAE5C,MACF,IAAK,gBACDpgB,KAAKguD,QAAQjoC,EAAS,CAClBguD,KAAM/zE,KAAKuzE,WAAWnzD,EAAQ,GAAK,KAElC4tC,KAAAA,QAAQ,kBAAmB,CAAA,GAClC,MACF,IAAK,gBACDhuD,KAAKguD,QAAQjoC,EAAS,CAClB0iC,QAAS,IAAI9D,aAAavkC,EAAQ,GAAIwW,UAE5C,MACF,IAAK,oBACD52B,KAAKguD,QAAQjoC,EAAS,CAClBiwB,MAAOh2C,KAAKuzE,WAAWnzD,EAAQ,GAAK,GACpCuiC,OAAQ3iD,KAAKuzE,WAAWnzD,EAAQ,GAAK,KAE3C,MACF,IAAK,kBACGA,GAAAA,EAAQ5hB,OAAS,EAAG,CACpB,MAAMw1E,EAAiD,GACvD,IAAA,MAAWv/D,KAAQ2L,EACf4zD,EAAM1zE,KAAK,CACP6+B,MAAOn/B,KAAKuzE,WAAW9+D,EAAO,GAC9Bw/D,OAAQx/D,EAAMrS,MAAM,KAG5BpC,KAAKguD,QAAQjoC,EAAS,CAAEiuD,SAC5B,CACF,MACF,IAAK,oBAAqB,CACtBh0E,KAAK42C,QAAU52C,KAAKuzE,WAAWnzD,EAAQ,GAAK,GAC5C,MAAMuZ,EAAQ,CACV4uC,YAAavoE,KAAKuzE,WAAWnzD,EAAQ,GAAK,GAC1CooD,gBAAiBxoE,KAAKuzE,WAAWnzD,EAAQ,GAAK,GAC9CioD,aAAcroE,KAAKuzE,WAAWnzD,EAAQ,GAAK,IAC3CkoD,aAActoE,KAAKuzE,WAAWnzD,EAAQ,GAAK,IAC3C8nD,uBAAwB,EACxBC,WAAY,EACZC,UAAW,EACXxxB,OAAQ52C,KAAK42C,OACbvc,QAAS,EACTD,QAAS,EACTE,UAAWt6B,KAAKqyE,UAAU14C,MAAMsd,MAChC1c,UAAWv6B,KAAKqyE,UAAU14C,MAAM6T,KAChChT,cAAex6B,KAAKqyE,UAAU14C,MAAMg4C,cACpCl3C,cAAez6B,KAAKqyE,UAAU14C,MAAM82C,SACpC/1C,eAAgB16B,KAAKqyE,UAAU14C,MAAMg3C,UACrCh2C,eAAgB36B,KAAKqyE,UAAU14C,MAAM+3C,UACrC92C,QAAS56B,KAAKqyE,UAAU14C,MAAMud,IAE7B8W,KAAAA,QAAQjoC,EAAS4T,EAC1B,CAAE,MACF,IAAK,eACD35B,KAAKguD,QAAQjoC,EAAS,CAAEmuD,YAAa9zD,EAAQ,GAAI,GAAIic,QAASw1C,GAAYgC,OAAOzzD,EAAQ,MAC3F,MACF,IAAK,kBACDpgB,KAAKguD,QAAQjoC,EAAS,CAAEmuD,YAAa9zD,EAAQ,GAAI,KACnD,MACF,IAAK,aAAc,CAkBN+zD,IAAAA,EAAT,SAAoBrvE,SACVm6B,MAAAA,EAAQn6B,EAAK0V,MAAM,KACzB,IAAIioB,EAA2B0M,EAC/B,IAAA,IAAS7xC,EAAI,EAAGA,EAAI2hC,EAAMzgC,OAAS,IAAKlB,EAAG,CACjC82E,MAAAA,EAAMn1C,EAAM3hC,GAElB,GADOmlC,EAAAA,OAAAA,EAAAA,EAAMsG,YAANtG,EAAAA,EAAa4xC,MAAYl3E,GAAAA,EAAE2H,MAAQsvE,KACrC3xC,EACD,MAAM,IAAIlyB,MAAM,uBAAyBzL,EAAO,YAAcsvE,EAEtE,CACA,MAAO,CAAC3xC,EAAMxD,EAAMA,EAAMzgC,OAAS,GAAE,EA3BzC,MAAMw4C,EAAgD,GACtD,IAAA,IAAS15C,EAAI,EAAGA,EAAI8iB,EAAQ5hB,OAAS,IAAKlB,EACtC05C,EAAK12C,KAAK,CAAEwE,KAAM+sE,GAAYgC,OAAOzzD,EAAQ9iB,IAAMqL,KAAM,OAG7D,MAAM2rE,EAAQl0D,EAAQA,EAAQ5hB,OAAS,GACvC,IAAA,IAASlB,EAAI,EAAGA,EAAI05C,EAAKx4C,SAAUlB,EAAG,CAClC,MAAMqL,EAAO3I,KAAKuzE,WAAWe,EAAW,EAAJh3E,GACpC05C,EAAK15C,GAAGqL,KAAOA,EAAO,EAAI,KAAOA,CACrC,CAEA,MAAMwmC,EAAiB,CACnBrqC,KAAM,IACNikC,MAAO,GACPpgC,KAAM,MAgBC,IAAA,MAAA7D,KAAEA,EAAAA,KAAM6D,KAAUquC,EAAM,CAC/B,MAAOvU,EAAMwI,GAAYkpC,EAAWrvE,GACpC29B,OAAKsG,EAAAA,EAAAA,UAAOzoC,KAAK,CACbwE,KAAMmmC,EACNtiC,OACAogC,MAAgB,OAATpgC,EAAgB,GAAK,MAEpC,CAEA3I,KAAKguD,QAAQ,aAAc,CACvB7e,UAER,CAAE,MACF,IAAK,aACDnvC,KAAKguD,QAAQ,aAAc,CACvBl1B,OAAQ1Y,EAAQ5hB,OAAS,EAAI4hB,EAAQ,GAAM,OAEjD,MACF,IAAK,iBAAkB,CACnB,IAAIic,EAAUw1C,GAAYgC,OAAOzzD,EAAQ,IACpCic,EAAQ/N,WAAW,WAAc+N,EAAQ/N,WAAW,WAEjDvf,GAA6B,UAA7BA,OAAOolC,SAASogC,UACa,cAA7BxlE,OAAOolC,SAASqgC,SAChB,QAAU,UAAYn4C,GAE9Br8B,KAAKguD,QAAQ,iBAAkB,CAAE3xB,WACrC,CAAE,MACF,IAAK,cACDr8B,KAAKguD,QAAQ,cAAe,CACxBymB,UAAWz0E,KAAKuzE,WAAWnzD,EAAQ,GAAK,GACxCzb,KAAMyb,EAAQ,KAEpB,MACF,IAAK,oBACDpgB,KAAKguD,QAAQ,oBAAqB,CAC9BymB,UAAWz0E,KAAKuzE,WAAWnzD,EAAQ,GAAK,KAE9C,MACF,aACoBwP,IAAZ7J,EACA,WACI,OAAQ2B,GACJ,KAAK,IAA4B,CAC7B,MAAM0kB,EAAMylC,GAAYgC,OAAOzzD,EAAQ,IACjCoV,EAAQq8C,GAAYgC,OAAOzzD,EAAQ,IACnCtb,EAAO+sE,GAAYgC,OAAOzzD,EAAQ,IAClCiU,EAAQw9C,GAAYgC,OAAOzzD,EAAQ,KACnC0yD,OAAEA,EAAAA,WAAQ1F,SAAqBptE,KAAKqyE,UAAUr8C,KAAKoW,EAAK5W,EAAO1wB,EAAMuvB,GACrEqf,EAAW1zC,KAAKqyE,UAAU3+B,SAASo/B,GACnC4B,EAAS,IAAI59C,WAAW,IAC9B,IAAItG,EAAS,EACbA,EAASxwB,KAAKszE,YAAYoB,EAAQ5B,EAAQtiD,GAC1CA,EAASxwB,KAAKszE,YAAYoB,EAAQhhC,EAAS/qC,KAAM6nB,GACjDA,EAASxwB,KAAKszE,YAAYoB,EAAQhhC,EAASg/B,MAAOliD,GAClDA,EAASxwB,KAAKszE,YAAYoB,EAAQhhC,EAASi/B,UAAWniD,GACtDA,EAASxwB,KAAKszE,YAAYoB,EAAQhhC,EAAS88B,QAAShgD,GACpDA,EAASxwB,KAAKszE,YAAYoB,EAAQhhC,EAASy5B,WAAY38C,GAClD8iD,KAAAA,YAAYoB,EAAQtH,EAAY58C,GAChC6iD,KAAAA,oBAAoB,IAAKqB,EAClC,CAAE,MACF,KAAK,IAA4B,CAC7B,MAAM5B,EAAS9yE,KAAKuzE,WAAWnzD,EAAQ,GAAK,GACtCmtD,EAASvtE,KAAKuzE,WAAWnzD,EAAQ,GAAK,GACtCurB,QAAiB3rC,KAAKqyE,UAAU7kC,KAAKslC,EAAQvF,GAC7CmH,EAAS,IAAI59C,WAAW,GAC9B92B,KAAKszE,YAAYoB,EAAQ/oC,EAAS1xB,KAAM,GACxCja,KAAKqzE,oBAAoB,IAAKqB,EAAQ/oC,EAAS/U,QAAU,KAC7D,CAAE,MACF,KAAK,IAA6B,CAC9B,MAAMk8C,EAAS9yE,KAAKuzE,WAAWnzD,EAAQ,GAAK,GACtCmtD,EAASvtE,KAAKuzE,WAAWnzD,EAAQ,GAAK,GACtCnG,EAAOja,KAAKqyE,UAAUp7B,MAAM67B,EAAQvF,EAAQntD,EAAQ,IACpDs0D,EAAS,IAAI59C,WAAW,GACzBw8C,KAAAA,YAAYoB,EAAQz6D,EAAM,EAInC,CAAE,MACF,KAAK,IACIo4D,KAAAA,UAAU9kD,MAAMvtB,KAAKuzE,WAAWnzD,EAAQ,GAAK,IACpD,MACF,QACY2mD,QAAAA,IAAI,8CAA+Cr/C,EAAItH,KA1C3E,GA4CKsc,OAAah/B,IACdsC,KAAKguD,QAAQ,SAAU,CACnBmlB,IAAK,QACLptD,QAAS,qBAAuBroB,EAAEqoB,SAAW,QAChD,IAGGiyC,QAAAA,KAAK,iCAAkCjyC,GAI/D,CAkBA,yBAAM4uD,CAAoB7vE,EAAqBhG,GAC3C,QAAc8wB,IAAV9wB,IAA8B81E,MAAP91E,OAAO81E,EAAAA,EAAAA,aAAc50E,KAAK40E,UACjD,OAGEC,MAAAA,EAAY3C,GAAkBptE,GACpC,OAAQA,GACJ,IAAK,SAAU,CACLuvB,MAAAA,EAAQv1B,EAAMu1B,OAAS,GAC7Br0B,KAAKqzE,oBAAoBwB,EAAW9C,GAAY+C,OAAOzgD,GAC3D,CAAE,MACF,IAAK,qBAAsB,CACvB,MAAMy/C,EAAmBh1E,EAAMg1E,MAC/B9zE,KAAKqzE,oBAAoBwB,EACrB9C,GAAY+C,OAAOhB,EAAMj1E,MACzBkzE,GAAY+C,OAAOhB,EAAMhvE,MACzBgvE,EAAMnvE,KAAO,IAAImyB,WAAWg9C,EAAMnvE,MAAQ,KAClD,CAAE,MACF,IAAK,oBAsCL,IAAK,aACD3E,KAAKqzE,oBAAoBwB,GAC3B,MArCF,IAAK,aAAc,CACf,MAAMz0D,EAAU,IAAI0W,WAAW,IAC/B,IAAItG,EAAS,EACbA,EAASxwB,KAAKszE,YAAYlzD,EAASthB,EAAMC,IAAKyxB,GAC9CA,EAASxwB,KAAKszE,YAAYlzD,EAASthB,EAAM02C,QAAU,EAAI,EAAGhlB,GAC1DxwB,KAAKszE,YAAYlzD,EAASthB,EAAMi2E,OAAQvkD,GACnC6iD,KAAAA,oBAAoBwB,EAAWz0D,EACxC,CAAE,MACF,IAAK,gBAAiB,CAClB,MAAMA,EAAU,IAAI0W,WAAW,IAC/B,IAAItG,EAAS,EACJA,EAAAxwB,KAAKszE,YAAYlzD,EAAS/F,KAAKoyC,IAAI3tD,EAAMyB,GAAK0xE,GAAazhD,GAC3DA,EAAAxwB,KAAKszE,YAAYlzD,EAAS/F,KAAKoyC,IAAI3tD,EAAMT,GAAK4zE,GAAazhD,GACpEA,EAASxwB,KAAKszE,YAAYlzD,EAASthB,EAAMi2E,OAAQvkD,GACjDpQ,EAAQoQ,GAAU1xB,EAAMk2E,SAAW,EAAI,EACvC50D,EAAQoQ,EAAS,GAAK1xB,EAAMyB,GAAK,EAAI,EAAI,EACzC6f,EAAQoQ,EAAS,GAAK1xB,EAAMT,GAAK,EAAI,EAAI,EACpCg1E,KAAAA,oBAAoBwB,EAAWz0D,EACxC,CAAE,MACF,IAAK,kBAAmB,CACpB,MAAMA,EAAU,IAAI0W,WAAW,GACvB1W,EAAA,GAAKthB,EAAMm5C,OACnB73B,EAAQ,GAAKthB,EAAM02C,QAAU,EAAI,EACjCx1C,KAAKszE,YAAYlzD,EAASthB,EAAMi2E,OAAQ,GACnC1B,KAAAA,oBAAoBwB,EAAWz0D,EACxC,CAAE,MACF,IAAK,gBAAiB,CACZA,MAAAA,EAAU,IAAI0W,WAAW,GAC/B92B,KAAKszE,YAAYlzD,EAASthB,EAAMi2E,OAAQ,GACnC1B,KAAAA,oBAAoBwB,EAAWz0D,EACxC,CAAE,MACF,IAAK,aACDpgB,KAAKqzE,oBAAoBwB,EAAW,IAAI/9C,WAAW,CAACh4B,EAAMo1E,cACtDnC,GAAY+C,OAAOh2E,EAAMu9B,UAC/B,MAIF,IAAK,uBACIg3C,KAAAA,oBAAoBwB,EAAW,IAAI/9C,WAAW,CAACh4B,EAAMm2E,YAAc,EAAI,KAC9E,MACF,IAAK,mBAAoB,CACfvtD,MAAAA,EAAK,IAAIoP,WAAW,GAC1B92B,KAAKszE,YAAY5rD,EAAI5oB,EAAM21E,UAAY,EAAG,GACrCpB,KAAAA,oBAAoBwB,EAAWntD,EACxC,CAAE,MACF,IAAK,kBAAmB,CACdA,MAAAA,EAAK,IAAIoP,WAAW,GAC1B92B,KAAKszE,YAAY5rD,EAAI5oB,EAAM21E,UAAW,GACtCz0E,KAAKqzE,oBAAoBwB,EAAWntD,EAAI,IAAIoP,WAAWh4B,EAAM6F,MACjE,CAAE,MACF,QACIg4B,QAAQoqC,IAAI,iCAAkCjiE,EAAM+vE,EAAW/1E,GAG3E,CAEAo2E,kBAAAA,CAAmBlnB,GACVA,KAAAA,QAAU,CAACjoC,EAASjnB,KACrBA,EAAM81E,UAAY50E,KAAK40E,UACvB5mB,EAAQjoC,EAASjnB,EAAK,CAE9B,CAEAq2E,IAAAA,GACIn1E,KAAKqzE,oBAAoB,UAC7B,CAEAL,eAAAA,CAAgBn0C,EAAe2O,EAAeyJ,EAAgB47B,EAAmBjE,GAC7E5uE,KAAKguD,QAAQ,SAAU,CACnBmlB,IAAK,SACLptD,QAAS,cAAgB8Y,EAAQ,UAAY2O,EAAO,WAAayJ,EAC7D,eAAiB58B,KAAKujB,MAAMi1C,EAAY,KAAO,MAAQ,oBAA2BjE,EAAapwE,QAE3G,CAEAy0E,gBAAAA,CAAiBv1E,GACbsC,KAAKguD,QAAQ,SAAU,CACnBmlB,IAAK,QACLptD,QAASroB,EAAEqoB,SAAW,4BAE9B,CAEAmtD,0BAAAA,CAA2Br0C,EAAeiwC,GACtC9uE,KAAKguD,QAAQ,SAAU,CACnBmlB,IAAK,SACLptD,QAAS,cAAgB8Y,EAAQ,aAAeiwC,GAExD,EEvbG,SAASsG,GAAat2E,GACnB,MAAAu5B,GAAEA,GAAOv5B,EACTq2C,EAAU1jC,IAAapO,GAAiBA,EAAM86B,IAAI/C,eAClDi6C,EAAS5jE,IAAapO,GAAiBA,EAAM86B,IAAI9C,qBACjD3hB,EAAUjI,IAAapO,GAAiBA,EAAM86B,IAAI7C,sBAClDg6C,EAAgB7jE,IAAapO,GAAiBA,EAAM86B,IAAI5C,4BACxDg6C,EAAe9jE,IAAapO,GAAiBA,EAAM86B,IAAI3C,2BACvD1lB,EAAWC,KACX04B,EAAU/0B,EAAQ47D,EAAgB57D,EAAQlb,QAC1CkyD,EAAW2kB,EAAOE,EAAeF,EAAO72E,QAE1C,IAAC22C,GAAkB,OAAP9c,EACL,OAAA,KAIF4H,SAAAA,EAASlhC,EAAay2C,GAC3B,GAAW,OAAPnd,EACA,GAAY,cAARt5B,GACA,GAAIy2C,EAAS,CACH/gC,MAAAA,GAAQ6gE,EAAgB,GAAK57D,EAAQlb,OACvCiW,IAAS6gE,GACTx/D,EAASqd,GAAS5N,QAAQgW,0BAA0B9mB,GAE5D,OAAA,GACe,aAAR1V,GACP,GAAIy2C,EAAS,CACH/gC,MAAAA,GAAQ8gE,EAAe,GAAKF,EAAO72E,OACrCiW,IAAS8gE,GACTz/D,EAASqd,GAAS5N,QAAQiW,yBAAyB/mB,GAE3D,OAEWA,IAAAA,MAAAA,KAwC3B,SAAsBwjC,GAClB,OAAQA,GACJ,IAAK,UACD,MAAO,CAACmF,IACZ,IAAK,UACD,MAAO,CAACI,IACZ,IAAK,SACD,MAAO,CAACL,IACZ,IAAK,SACD,MAAO,CAACM,IACZ,IAAK,QACD,MAAO,CAACP,IACZ,IAAK,UACD,MAAO,CAACG,IACZ,IAAK,QACD,MAAO,CAACJ,IACZ,IAAK,SACD,MAAO,CAACM,IACZ,IAAK,QACD,MAAO,CAACD,IACZ,IAAK,OACD,MAAO,CAACkB,IACZ,IAAK,SACD,MAAO,CAACC,IACZ,IAAK,SACD,MAAO,CAACF,IACZ,IAAK,UACD,MAAO,CAACG,IACZ,IAAK,IACD,MAAO,CAACT,IACZ,IAAK,IACD,MAAO,CAACD,IACZ,IAAK,IACD,MAAO,CAACD,IACZ,IAAK,IACM,MAAA,CAACP,GAAeM,IAC3B,IAAK,IACM,MAAA,CAACN,GAAeI,IAC3B,IAAK,IACM,MAAA,CAACJ,GAAeK,IAC3B,IAAK,IACM,MAAA,CAACL,GAAe9B,IAC3B,IAAK,IACM,MAAA,CAAC8B,GAAe/B,IAC3B,IAAK,OACD,MAAO,CAACE,IACZ,IAAK,OACD,MAAO,CAACC,IACZ,IAAK,OACD,MAAO,CAACC,IACZ,IAAK,OACD,MAAO,CAACC,IACZ,IAAK,OACD,MAAO,CAACC,IACZ,IAAK,OACD,MAAO,CAACC,IACZ,IAAK,OACD,MAAO,CAACC,IACZ,IAAK,OACD,MAAO,CAACC,IACZ,IAAK,OACD,MAAO,CAACC,IACZ,IAAK,QACD,MAAO,CAACC,IACZ,IAAK,QACD,MAAO,CAACC,IACZ,IAAK,QACD,MAAO,CAACC,IACZ,IAAK,QACD,MAAO,CAACE,IACZ,IAAK,QACD,MAAO,CAACC,IACZ,IAAK,QACD,MAAO,CAACC,IACZ,IAAK,QACD,MAAO,CAACC,IACZ,IAAK,QACD,MAAO,CAACC,IACZ,IAAK,QACD,MAAO,CAACC,IACZ,IAAK,QACD,MAAO,CAACC,IACZ,IAAK,QACD,MAAO,CAACC,IACZ,IAAK,QACD,MAAO,CAACC,IACZ,IAAK,QACD,MAAO,CAACT,IACZ,IAAK,SACD,MAAO,CAAC4B,IACZ,IAAK,WACD,MAAO,CAACG,IACZ,IAAK,QACD,MAAO,CAACF,IACZ,IAAK,SACD,MAAO,CAACF,IACZ,IAAK,QACD,MAAO,CAACG,IACZ,IAAK,IACD,MAAO,CAACX,IACZ,IAAK,IACD,MAAO,CAACC,IACZ,IAAK,IACM,MAAA,CAACH,GAAeG,IAC3B,QACQ1F,GAAAA,EAAOz5C,OAAS,EAEhB,OADQw5D,QAAAA,KAAK,iBAAkB/f,GACxB,GAKnB,MAAMtR,EAAUsb,GAAahK,EAAOxU,cAAc9O,WAAW,IAC7D,GAAgB,IAAZgS,EACA,MAAO,GAGX,MAAO,CAACA,EACZ,CA9JmC6uC,CAAaz2E,GACzB4gE,EAAAA,aAAalrD,EAAM+gC,EAItC,CAEA,SAASigC,EAAM12E,GACPA,OAAAA,EAAIP,OAAS,GAAKO,EAAIuvB,WAAW,MAAQvvB,EAAIs0B,SAAS,KAC/Ct0B,EAAI,GAAG0kC,cAAgB1kC,EAAIwb,UAAU,EAAGxb,EAAIP,OAAS,GAEzDO,CACX,CAEA,OAAO2gC,GAAA,MAAA,CAAKl1B,MAAM,0BAAyB/L,SACvCihC,GAAA,MAAA,CAAKl1B,MAAM,4DAA2D/L,SACjEiyD,EAAS7oD,KAAI,CAACwtE,EAAQ/3E,IACZoiC,GAAA,MAAA,CAAKl1B,MAAQ,iCACU,IAApBkmD,EAASlyD,QAAsB,IAANlB,EAAW,gBAC1B,IAANA,EAAU,eAAiB,cACxCmB,SACI42E,EAAOxtE,KAAcwO,GACXqpB,GAAA,MAAA,CAAKl1B,MAAM,6CAA4C/L,SACzC,IAAhB4X,EAAK7X,OAAekhC,GAAA,MAAA,CAAKl1B,MAAM,WAAc6L,EAAKmE,MAAM,KAAK3S,KAAa9I,GAChE2gC,GAAA,MAAA,CAAKl1B,MAAM,kDACdyrC,cAAeA,IAAMhW,EAASlhC,GAAK,GACnCo3C,YAAaA,IAAMlW,EAASlhC,GAAK,GACjC22E,gBAAiBA,IAAMz1C,EAASlhC,GAAK,GAAON,SAC7CgwC,EAAQ1vC,IAAQ2a,EAAQ,GAAG3a,IAAQ02E,EAAM12E,kBAQ5E,CCtFO,SAAS42E,GAAU72E,GAEhB82E,MAAAA,EAAY7oE,GAA0B,OACrCsrB,EAAIw9C,GAASxpE,GAAkC,MAChD6uB,EAAiBzpB,IAAapO,GAAiBA,EAAM86B,IAAIjD,iBACzD46C,EAAcrkE,IAAapO,UAAuB66B,OAAN76B,OAAM66B,EAAAA,EAAAA,KAAKlK,cAASK,EAAAA,EAAAA,KAAAA,IAChEA,EAAQ6G,EAAiB46C,OAAclmD,EACvC3E,EAASxZ,IAAapO,GAAiBA,EAAM86B,IAAIlT,SACjD4D,EAAUpd,IAAapO,GAAiBA,EAAM86B,IAAItP,UAClDoK,EAAkBxnB,IAAapO,GAAiBA,EAAM86B,IAAIlF,kBAC1DwC,EAAWhqB,IAAapO,GAAiBA,EAAM86B,IAAI1C,WACnD3lB,EAAWC,KACXqiB,EAAuBF,KA0E7B,OAxEA1rB,IAAU,KACF,IACA,MAAM6+B,EAAejT,EAAqBiT,aACtC0qC,IAAAA,EAAkD,OAA/B1qC,EAAa4C,cAChC,CAAC5C,EAAavS,OAAQuS,EAAa4C,eACnC5C,EAAavS,OAEbuS,GAAwB,OAAxBA,EAAa8C,OAKb,GAJKpwC,MAAMC,QAAQ+3E,KACfA,EAAU,CAACA,IAGXh4E,MAAMC,QAAQqtC,EAAa8C,QAChB15B,IAAAA,MAAAA,KAAQ42B,EAAa8C,OAC5B4nC,EAAQz1E,KAAKmU,QAGTnU,EAAAA,KAAK+qC,EAAa8C,QAIlC9C,EAAavS,OAAS,KACtBuS,EAAa4C,cAAgB,KAC7B5C,EAAa8C,OAAS,KAEtB,MAAM9V,aACEY,GAAAA,GAAmBb,EAAqB9W,QAAQ2X,gBAAiB,CACjE,MAAM+8C,QAAW59C,EAAqB9W,QAAQ2X,gBAAgBpK,GAC9D,GAAW,OAAPmnD,EACA,OAAOx4C,UAAU3O,QAAQknD,QHgaV3pC,EGhagD4pC,EHganCpG,EGhaoDxiE,IACxEA,EAAUymB,IACV/d,EAASgb,GAAQvL,QAAQiM,iBAAgB,IAE7CmL,QAAQoqC,IAAI,YAAa35D,EAAS,aAAcymB,GAAe,EH6ZhF,IAAI3tB,SAAqCG,IAC5C,IAAIyrC,GAAS,EACPmkC,MAAAA,EAAYj8B,aAAY,KAC1B,GAAIlI,EACA,OAGKA,GAAA,EACHkkC,MAAAA,EAAK,IAAItG,UAAUtjC,GACnB8pC,EAAYA,KACdpjD,cAAcmjD,GACNlP,QAAAA,IAAI,eAAgB36B,GAC5B/lC,EAAQ,IAAI+rE,GAAiB4D,EAAIpG,GAAO,EAGzCrtE,EAAAA,iBAAiB,SAAoB+d,IAC5BA,QAAAA,MAAM,mBAAoB8rB,EAAK9rB,GACpC5d,EAAAA,oBAAoB,OAAQwzE,GAC/BF,EAAGzoD,QACMukB,GAAA,CAAA,IAGVvvC,EAAAA,iBAAiB,OAAQ2zE,EAAS,GACtC,IAAI,KGnba,CAAE7hD,SAEd,CHyZA8hD,IAAuB/pC,EAAawjC,EGvZ5BpyC,OAAAA,WAAgC,WAAZ3O,GAAoC,YAAZA,EAAyB,SAAWA,IACnF5D,EAAS,SAAW,WAAW8qD,EAAS,CACzC1hD,cAoBR,OAfKluB,EAAAA,MAAMkyB,IACHw9C,EAAMx9C,GACNviB,EAASqd,GAAS5N,QAAQ8S,IAAG,IACzBoxB,GAAQiB,QACRryB,EAAGU,SACE5yB,MAAYxI,IACAw1B,EAAAA,GAAS5N,QAAQ8T,eAAoD,OAArCs1B,GAAoBhxD,EAAE2xB,YAAoB,IAEtFoN,OAAa5mB,GAAAA,EAASqd,GAAS5N,QAAQoW,SAASj+B,EAAEqoB,YAE3DqS,EAAqBC,GAAKA,EACXD,GAAAA,EAAsB,WAAYC,EAAE,IAEtDqE,OAAa5mB,GAAAA,EAASqd,GAAS5N,QAAQoW,SAASj+B,EAAEqoB,YAEhD,KACA5f,EAAAA,MAAMkyB,IACLviB,EAASqd,GAAS5N,QAAQ8S,IAAG,IAC7BD,EAAqBC,GAAK,KAC1BA,EAAG88C,MAAK,GACX,QAEAz3E,GACLoY,EAASqd,GAAS5N,QAAQoW,SAAUj+B,EAAUqoB,SAClD,IACD,CAACkF,EAAQ4D,EAASwF,GAAS,OAEvBoL,GAAA,MAAA,CAAKj1B,MAAM,iDAAgD/L,UAC9DghC,GAAA,MAAA,CAAKj1B,MAAM,qDAAoD/L,UAC3DihC,GAAA,SAAA,CAAQl1B,MAAQixB,EAAW,cAAgB,GAAKz8B,IAAK42E,IACpDA,EAAU/1E,SAAWw4B,GAAMqH,GAAC02C,GAAU,CAACh0B,OAAQwzB,EAAU/1E,QAASw4B,UAEvEqH,GAAC01C,GAAY,CAAC/8C,SAEtB,CAEA,SAAS+9C,GAAWt3E,GACV,MAAEsjD,OAAAA,EAAAA,GAAQ/pB,GAAOv5B,EACjBg6B,EAASrnB,IAAapO,GAAiBA,EAAM86B,IAAIrF,SAIvD,OAFA6tC,GAAcvkB,EAAQ/pB,GAEfqH,GAAAE,EAAA,CAAAnhC,UACFq6B,MAAAA,OAAAA,EAAAA,EAAQzF,SAAS+3C,MAAgB1rC,GAAC2rC,GAAY,CAAChzC,QAExD,CCtHO,SAAS9nB,GAAMzR,GAIlB,MAAMR,EAAIowB,KACJpO,EAAQxhB,EAAMwhB,OAAS,mBAE7B,OAAOmf,GAAA,MAAA,CAAKj1B,MAAM,kEAAiE/L,UAC/EihC,GAAA,MAAA,CAAKl1B,MAAM,uBAAsB/L,SAAEH,EAAE,WACrCmhC,GAAA,MAAA,CAAKj1B,MAAM,yCAAwC/L,SAAC,CAAA,IAAE6hB,EAAM,OAC5Dof,GAAA,MAAA,CAAKl1B,MAAM,2BAA0B/L,SAAEH,EAAE,kBACvCQ,EAAMu3E,QAAU32C,GAAA,SAAA,CAAQl1B,MAAM,mBAAmBm1B,QAAS7gC,EAAMu3E,OAAO53E,SAAEH,EAAE,YAErF,CCXO,SAASg4E,KAEZ,OAAO52C,GAACnvB,GAAK,CAAC+P,MADA7O,IAAapO,GAAiBA,EAAM86B,IAAI7d,SAE1D,CCPO,SAASi2D,GAAQz3E,GAId,MAAA4+B,KAAEA,EAAAA,QAAM3X,GAAYjnB,EAE1B,OAAO2gC,GAAA,MAAA,CAAKj1B,MAAM,6DAA4D/L,UAC1EihC,GAAA,MAAA,CAAKl1B,MAAM,uBAAsB/L,SAAEi/B,IACnCgC,GAAA,MAAA,CAAKl1B,MAAM,mBAAkB/L,SAAEsnB,MAEvC,CAEO,SAASywD,GAAW7tE,GACvB,OAAIA,EAAO,KACAA,EAAO,KAGVA,GAAA,MAEG,KACA0R,KAAKujB,MAAMj1B,GAAQ,MAGtBA,GAAA,KACD0R,KAAKujB,MAAa,GAAPj1B,GAAa,GAAK,KACxC,CCpBO,SAAS8tE,KACZ,MAAMn4E,EAAIowB,KACJ7P,EAAOpN,IAAapO,GAAiBA,EAAM86B,IAAItf,OAC/CyuB,EAAW77B,IAAapO,GAAiBA,EAAMosB,QAAQqF,UACvDC,EAAQtjB,IAAapO,GAAiBA,EAAMosB,QAAQsF,QAEtD2I,IAAAA,EAAOp/B,EAAE,WACTynB,EAAU,OAEd,OAAQlH,GACJ,IAAK,WACD6e,EAAOp/B,EAAE,kBACLgvC,EAAW,IACXvnB,EAAW,GAAEywD,GAAWlpC,QAAekpC,GAAWzhD,KAE9CA,EAAQ,IACRhP,GAAY,KAAI1L,KAAKujB,MAAiB,IAAX0P,EAAkBvY,GAAS,SAGhE,MACF,IAAK,aACD2I,EAAOp/B,EAAE,iBAOjB,OAAOohC,GAAA,MAAA,CAAKl1B,MAAM,0DAAyD/L,SACvEihC,GAAC62C,GAAO,CAAC74C,OAAY3X,aAE7B,CC5BA,MAAM2wD,GAAYpyE,SAASG,cAAc,SAGlC,SAASkyE,KACZ,MAAMr4E,EAAIowB,KACJ1d,EAAQ2E,MACPihE,EAAQC,GAAaxqE,IAAkB,GAE9C,GAAIuqE,EACA,OAAOl3C,GAAA,MAAA,CAAKl1B,MAAM,8FAA6F/L,SAC3GihC,GAACo3C,GAAM,MAYf,OAAOr3C,GAAA,MAAA,CAAKj1B,MAAM,yFAAwF/L,UACtGihC,GAAA,MAAA,CAAKl1B,MAAM,8DACPm1B,QAASA,IAAMk3C,GAAU,GAAMp4E,SAAEH,EAAE,iBACvCohC,GAACq3C,GAAQ,CAAA,GACTr3C,GAAA,MAAA,CAAKl1B,MAAM,mBAAkB/L,SAAEH,EAAE,iBACjCohC,GAAA,MAAA,CAAKl1B,MAAM,8DACPm1B,QAdRlL,iBACQ,UtEXZA,eAAsCzjB,SAC5B27B,GAAa,+BAEUnP,UAAU1E,UACjBk+C,kBACZ,KAAM,KAAMhmE,GAEtBA,EAAM8E,SAASgb,GAAQvL,QAAQ8M,aAC/BrhB,EAAM8E,SAASgb,GAAQvL,QAAQmN,WAAU,GAC7C,CsEGkBukD,CAAgBjmE,GAAO0rB,MAAMC,QAAQrc,aACtC5iB,GACLsT,EAAM8E,SAASqd,GAAS5N,QAAQsW,SAASn+B,EAAEqoB,SAAW,oBAC1D,CACJ,EAQ6BtnB,SAAEH,EAAE,oBAErC,CAEA,SAASw4E,KACL,MAAMx4E,EAAIowB,KACJ1d,EAAQ2E,KACRG,EAAWC,MACVq2B,EAAK8qC,GAAU7qE,GAAiB,KAChCiU,EAAO62D,GAAY9qE,GAAwB,MAoBlD,OAAOozB,GAAAG,EAAA,CAAAnhC,UACHghC,GAAA,MAAA,CAAKj1B,MAAM,0BAAyB/L,UAChCihC,GAAA,QAAA,CAAOl1B,MAAM,QAAO/L,SAChBghC,GAAA,OAAA,CAAMj1B,MAAM,aAAY/L,UAAEH,EAAE,aAAa,SAE7CohC,GAAA,QAAA,CAAO7gC,KAAK,OACR2L,MAAM,uCACNy1B,SAAiBi3C,GAAAA,EAAOx5E,EAAEyiC,cAAcp9B,OAAS,IACjDA,MAAOqpC,OAEf1M,GAAA,MAAA,CAAKl1B,MAAM,8DACPm1B,QAASA,IA7BjBlL,eAA0B2X,GAGlBgrC,IAAAA,EAFKtmD,EAAAA,GAAQvL,QAAQ0M,aAGrB,IACWmlD,EAAA,IAAIvoC,IAAIzC,SACd1uC,GAEL,YADAy5E,EAASz5E,EAAEqoB,QAEf,CAEI,UACMinB,GAAkBoqC,EAAShhE,WAAYpF,SACxCtT,GACLoY,EAASqd,GAAS5N,QAAQsW,SAASn+B,EAAEqoB,SAAW,oBACpD,CACJ,CAauBurB,CAAWlF,GAAK3tC,SAAEH,EAAE,UAC5B,OAAVgiB,GACGof,GAAA,MAAA,CAAKl1B,MAAM,8BAA6B/L,SACnC6hB,MAIjB,CAEA,SAASy2D,KACL,MAAM/lE,EAAQ2E,KAEd8e,eAAe4iD,IAGX,GAFU30E,GAAAA,oBAAoB,SAAU20E,GAEhB,OAApBX,GAAU1lC,OAA6C,IAA3B0lC,GAAU1lC,MAAMxyC,OAC5C,OAGEkuC,MAAAA,EAAOgqC,GAAU1lC,MAAM,GACzB,UACMvE,GAAmBC,EAAM17B,GAAO0rB,OAAa1rB,GAAAA,EAAM8E,SAASqd,GAAS5N,QAAQsW,SAASn+B,EAAEqoB,kBACzFroB,GACLsT,EAAM8E,SAASqd,GAAS5N,QAAQsW,SAASn+B,EAAEqoB,SAAW,oBAC1D,CACJ,CAOA,OAAO2Z,GAAA,MAAA,CAAKl1B,MAAM,iBAAiBm1B,QALnC,WACcp9B,GAAAA,iBAAiB,SAAU80E,GACrCX,GAAUhoC,OACd,EAEqDjwC,SACjDihC,GAAA,MAAA,CAAKG,MAAM,6BAA6BC,KAAK,OACzCC,QAAQ,YAAY,eAAa,MAAMC,OAAO,eAAex1B,MAAM,wBAAuB/L,SAC1FihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,sNAMnE,CC7GO,SAAS04E,GAAOx4E,GACnB,MAAMy4E,EAAgE,SAAlD9lE,IAAapO,GAAiBA,EAAMkoC,GAAGva,QACrDC,EAAUxf,IAAapO,GAAiBA,EAAMkoC,GAAGta,UACjDliB,EAAS0C,IAAapO,GAAiBA,EAAMkoC,GAAGx8B,SAChDwiB,EAAa9f,IAAapO,GAAiBA,EAAMkoC,GAAGha,aACpDI,EAAQlgB,IAAapO,GAAiBA,EAAMkoC,GAAG5Z,QAErD,IAAI6lD,EAAkB93C,GAAC62C,IAAS,GAChC,OAAQxnE,GACJ,IAAK,QACiB2wB,EAAAA,GAAC42C,OACrB,MACF,IAAK,UACiB52C,EAAAA,GAAC+2C,OACrB,MACF,IAAK,SACiB/2C,EAAAA,GAACyX,OACrB,MACF,IAAK,MACiBzX,EAAAA,GAACi2C,OACrB,MACF,IAAK,SACiBj2C,EAAAA,GAACi3C,OAK3B,OAAOl3C,GAAA,MAAA,CAAKj1B,MAAM,4CAA2C/L,UACzDihC,GAAA,MAAA,CAAKl1B,MAAM,mBACPxI,MAAO,CAAE0tD,gBAAkBn+B,EAAa,OAASA,EAAa,SAAM3B,KACxE6P,GAAA,MAAA,CAAKj1B,MAAM,+EAA8E/L,SACnF,EAACkzB,GAAS+N,GAAA,MAAA,CAAKl1B,OAAQ+sE,EAAetmD,EAAU,OAAS,OAAU,QAAU,mBAC9EumD,OAGb,CAEA,SAASjB,KACL,OAAO72C,GAAA,MAAA,CAAKl1B,MAAM,iDAAgD/L,SAC9DihC,GAAA,MAAA,CAAKl1B,MAAM,+BAA+BxI,MAAM,iBAExD,CDxCA00E,GAAU73E,KAAO,OEAjB,IAAI44E,GAAoB3mD,GAAQzM,kBAAkB6M,WAC3C,SAASwmD,KACNC,MAAAA,EAAU5qE,GAAuB,MACjCgkB,EAAStf,IAAapO,GAAiBA,EAAMkoC,GAAGxa,SAChDlF,EAAQpa,IAAapO,GAAiBA,EAAMkoC,GAAG1f,QAC/C/V,EAAWC,KA2BjB,OAzBAvJ,IAAU,KACN,GAAIukB,GAAsB,OAAZ4mD,GAAwC,OAApBA,EAAQ93E,QACtC,OAGJ,MAAMy4C,EAAOq/B,EAAQ93E,QACrB,SAAS6mD,IACC/9C,MACAivE,EADOt/B,EAAK3C,wBAAwBK,MACtB,IAChB4hC,IAASH,KACWG,GAAAA,EACpB9hE,EAASgb,GAAQvL,QAAQoN,cAAc8kD,KAE/C,CAEMtwB,MAAAA,EAAiB,IAAIC,eAAeV,GAI1C,OAHAS,EAAeE,QAAQ/O,GAChB/1C,OAAAA,iBAAiB,SAAUmkD,GAE3B,KACHS,EAAeG,aACR5kD,OAAAA,oBAAoB,SAAUgkD,EAAQ,CAAA,GAElD,CAAC31B,EAAQ4mD,EAAS7hE,IAEjBib,EACO,KAGJ0O,GAAA,MAAA,CACHzgC,IAAK24E,EACLntE,MAAM,yBACN,aAAYqhB,EAAMptB,SAClBihC,CAAAA,GAAC43C,GAAQ,CAAA,GACT53C,GAAC0Y,GAAO,CAAA,GACR1Y,GAAC4b,GAAS,CAAA,GACV5b,GAACm4C,GAAO,CAAA,GACRn4C,GAACo4C,SAET,CAEA,SAASD,KACL,MAAMzmD,EAAQ3f,IAAapO,GAAiBA,EAAMkoC,GAAGna,QAC/C2B,EAASthB,IAAapO,GAAiBA,EAAMkoC,GAAGla,cAChD0mD,EAAyB,UAAXhlD,EAAqB,QAAUA,EAEnD,GAAc,OAAV3B,EACO,OAAA,KAGP3Y,IAAAA,EAAOinB,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IACzE9gC,EAAE,8DAaN,MAXe,YAAXm0B,IACAta,EAAOinB,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,sLAKnD,UAAXm0B,GAAiC,UAAXA,IACtBta,EAAOinB,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAChD9gC,EAAE,iFAGH8gC,GAAA,MAAA,CAAKl1B,MAAM,8BAA6B/L,SAC3CghC,GAAA,MAAA,CAAKj1B,MAAQ,eAAiButE,EAAc,SAAWA,EAAc,WAAYt5E,UAC7EihC,GAAA,MAAA,CAAKG,MAAM,6BACPC,KAAK,OACLE,OAAO,eACPD,QAAQ,YACRv1B,MAAM,mBAAkB/L,SACvBga,IAELinB,GAAA,OAAA,CAAAjhC,SAAO2yB,QAGnB,CAEA,SAAS0mD,KACL,MAAMtmD,EAAkB/f,IAAapO,GAAiBA,EAAMkoC,GAAG/Z,kBACzDlzB,EAAIowB,KACJ5Y,EAAWC,KAEjB,IAAKyb,EACM,OAAA,KAYX,OAAOkO,GAAA,MAAA,CAAKl1B,MAAM,uDAAsD/L,SACpEghC,GAAA,MAAA,CAAKj1B,MAAM,eAAc/L,UACrBihC,GAAA,MAAA,CAAKG,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,YACxD,eAAa,MAAMC,OAAO,eAAex1B,MAAM,oBAAmB/L,SAClEihC,GAAA,OAAA,CAAM,iBAAe,QAAQ,kBAAgB,QAAQ9gC,EAAE,uLAI3D8gC,GAAA,OAAA,CAAAjhC,SAAOH,EAAE,iBACTmhC,GAAA,MAAA,CAAAhhC,UACIihC,GAAA,SAAA,CAAQl1B,MAAM,8BAA8Bm1B,QAnBxD,WACW3J,OAAAA,KAAK,6BAA8B,UAC1ClgB,EAASgb,GAAQvL,QAAQiM,iBAAgB,GAC7C,EAgBqE/yB,SAAEH,EAAE,YAC7DohC,GAAA,SAAA,CAAQl1B,MAAM,aAAam1B,QAfvC,WACI7pB,EAASgb,GAAQvL,QAAQiM,iBAAgB,GAC7C,EAasD/yB,SAAEH,EAAE,kBAI9D,CC2OCyQ,OAAeipE,IArVUA,CAAC11C,EACvBhhB,EAA+B,YACzB8W,MAAAA,EhFyBH,SAAkC9W,GAC9B,MAAA,CACHg3B,KAAM,KACNjN,aAAc,KACdhT,GAAI,KACJqJ,MAAO,IAAIvM,GACX7T,QAAAA,EACAwtC,OAAQ,KAEhB,CgFlCiCmpB,CAAyB32D,GAChDtQ,EhFmCMknE,SAAU9/C,EAA4C9W,GAC5D,MAAEiW,SAAAA,EAAAA,MAAUn1B,GAAUo1B,KACtBxmB,EAAQ6Q,GAAe,CACzB/G,QAAS,CACLsU,KAAMhtB,EAAM0Y,QACZ6T,KAAMJ,GAAUzT,QAChBojB,KAAMnK,GAAUjZ,QAChBywB,GAAIza,GAAQhW,QACZqjB,IAAKhL,GAASrY,QACd2U,QAASoF,GAAa/Z,QACtB2R,OAAQsC,GAAYjU,SAExB0C,WAA4B26D,IACxB,MAAMC,EAAMD,IAELC,OADPA,EAAI93E,KAAKu3B,IACFugD,CAAAA,IAYRpnE,OATP+mB,GAAwBR,GAAYa,EAChC9W,EAAQ6V,mBAAyF,IAArED,GAAsB/yB,QAAQmd,EAAQ6V,iBAAiBryB,QAC7DxE,GAAAA,KAAKghB,EAAQ6V,iBAAiBryB,MACnCwc,GAAAA,EAAQ6V,iBAAiBryB,MAAQ,CAC9CsyB,kBAAmB,WAAa9V,EAAQ6V,iBAAiBkhD,KACzDhhD,qBAAsB,SAAW/V,EAAQ6V,iBAAiBkhD,MAE9DrnE,EAAM8E,SAAS8hB,GAAUrS,QAAQoS,wBAAwBrW,EAAQ6V,iBAAiBryB,QAE/EkM,CACX,CgF/DkBknE,CAAU9/C,EAAsB9W,GACxCogB,GlF0KelM,EkF1KE,QlF2KhB,IAAItvB,SAAqBG,IAC5B,IAAIkvB,GAAOC,EAAOnvB,GAAUutE,IAChBtzD,QAAAA,MAAM,6BAA8BszD,GACpCvtE,EAAA,IAAI8uB,GAAW,GAC1B,KALF,IAAkBK,EkFvKuB,4BAAxChkB,OAAAA,KAASR,GAAOktB,KAAKlK,cAArBxiB,EAAAA,EAA8B4iB,QAC9BpjB,EAAM8E,SAASqd,GAAS5N,QAAQiP,mBAAkB,IA+S1D,SAA0B8jB,EAAsBlgB,EAA4CpnB,GAwBxF,SAASsnE,IACLtnE,EAAM8E,SAASgb,GAAQvL,QAAQqM,eAAettB,SAASysB,QAC3D,CAzBAqH,EAAqBkgB,KAAOA,EACvBM,EAAAA,UAAUpiC,IAAI,aACdjU,EAAAA,iBAAiB,eAAsB7E,UACpCA,GAAa,OAAbA,EAAEmc,UACDnc,OAAAA,EAAAA,EAAEmc,OAAuB++B,gBAAWC,EAAAA,EAAAA,SAAS,gBAK3C,OAFPn7C,EAAEw6C,kBACFx6C,EAAEgpC,kBACK,CAAA,IAEFnkC,SAAAA,iBAAiB,oBAAoB,KACpCiuD,MAAAA,EAAalsD,SAASi0E,oBAAsBjgC,EAClDtnC,EAAM8E,SAASgb,GAAQvL,QAAQqN,cAAc49B,IACxCA,GACDrlB,GAAQ35B,GAASR,GAAeonB,EAAsBpnB,EAAM8E,SAChE,IAEKvT,SAAAA,iBAAiB,qBAAqB,KACP,OAAhC+B,SAASunD,oBACT1gB,GAAQ35B,GAASR,GAAeonB,EAAsBpnB,EAAM8E,SAChE,IAKKvT,SAAAA,iBAAiB,mBAAoB+1E,EAClD,CAxUqBh2C,CAAAA,EAASlK,EAAsBpnB,GAEhD,IAAIwnE,EAAW,OA4Cf,SAASC,EAAS5sD,GACd7a,EAAM8E,SAASgb,GAAQvL,QAAQsG,MAAMA,GACzC,CAEA,SAAS4C,EAAQD,GACbxd,EAAM8E,SAASyY,GAAUhJ,QAAQkJ,QAAQD,GAC7C,CAEA,SAASkqD,EAAW7pD,GAChB7d,EAAM8E,SAASqd,GAAS5N,QAAQ0W,WAAWpN,GAC/C,CAEA,SAAS8pD,EAAiB7mC,GACtB9gC,EAAM8E,SAASqd,GAAS5N,QAAQ2W,iBAAiB4V,GACrD,CAEA,SAAS8mC,EAAgBC,GACrB7nE,EAAM8E,SAASqd,GAAS5N,QAAQyW,UAAU68C,GAC9C,CAEA,SAASC,EAAgBztB,GACrBr6C,EAAM8E,SAASqd,GAAS5N,QAAQkU,aAAa4xB,GACjD,CAEA,SAAStuB,EAAU3Q,GACfpb,EAAM8E,SAASqd,GAAS5N,QAAQwX,UAAU3Q,GAC9C,CAEA,SAAS0Q,EAAQ3Q,GACbnb,EAAM8E,SAASqd,GAAS5N,QAAQuX,QAAQ3Q,GAC5C,CAMA,SAAS4sD,EAAcxnD,GACnBvgB,EAAM8E,SAASgb,GAAQvL,QAAQgM,WAAWA,GAC9C,CAEA,SAASqB,EAAczB,GACnBknB,GAAqBlnB,EAAYngB,EACrC,CAEA,SAASgoE,EAAatnD,GAClB1gB,EAAM8E,SAASgb,GAAQvL,QAAQmM,UAAUA,GAC7C,CAEA,SAASunD,EAAStnD,GACd3gB,EAAM8E,SAASgb,GAAQvL,QAAQoM,MAAMA,GACzC,CAEA,SAASunD,EAAkBj+C,GACvBjqB,EAAM8E,SAASqd,GAAS5N,QAAQ0V,eAAeA,GACnD,CAEA,SAASk+C,EAAiBtqD,GACtB7d,EAAM8E,SAASqd,GAAS5N,QAAQ2T,cAAcrK,GAClD,CAEA,SAASuqD,EAAgBx2B,GACrB5xC,EAAM8E,SAASqd,GAAS5N,QAAQ4T,aAAaypB,GACjD,CAEA,SAASy2B,EAAgB99B,GACrBvqC,EAAM8E,SAASgb,GAAQvL,QAAQsM,aAAa0pB,GAChD,CAEA,SAAS+9B,EAAWC,GAChBvoE,EAAM8E,SAASgb,GAAQvL,QAAQuM,QAAQynD,GAC3C,CAMA,SAASC,EAAiBrY,GACtBnwD,EAAM8E,SAASqd,GAAS5N,QAAQgU,cAAc4nC,GAClD,CAEA,SAASsY,EAAoBpjC,GACzBrlC,EAAM8E,SAASqd,GAAS5N,QAAQiU,iBAAiB6c,GACrD,CAEA,SAASqjC,EAAYj+C,GACjBzqB,EAAM8E,SAASqd,GAAS5N,QAAQkW,SAASA,GAC7C,CAEA,SAASk+C,EAAsBtE,GAC3BrkE,EAAM8E,SAASqd,GAAS5N,QAAQ8V,mBAAmBg6C,GACvD,CAEA,SAASuE,EAAuBlgE,GAC5B1I,EAAM8E,SAASqd,GAAS5N,QAAQ+V,oBAAoB5hB,GACxD,CAEA,SAASsxD,EAAU5/C,GACfpa,EAAM8E,SAASqd,GAAS5N,QAAQ6F,OAAOA,GAC3C,CAEA,SAASyuD,EAAO96E,GACA,OAARA,GAA+B,IAAfA,EAAIP,OACpBwS,EAAM8E,SAASie,GAAUxO,QAAQ+O,WAAW,OAEhCv1B,GAAAA,GAAKoH,MAAK,EAAG6tB,cACrBhjB,EAAM8E,SAASie,GAAUxO,QAAQ+O,WAAWN,GAAQ,IACrD0I,MAAMC,QAAQrc,MAEzB,CAyGO,OAzNPtP,EAAMoD,WAvCN,WACI,WACU/Q,MAAAA,EAAQmO,GAASR,GACjB6N,EAAOxb,EAAM86B,IAAItf,KAEvB,GAAIA,IAAS25D,IAGF35D,EAAAA,EAGF,cADDxb,EAAM86B,IAAItf,MACd,CAEQuZ,GADJA,EAAqBsJ,YAAcA,EAC/BtJ,EAAqB9W,QAAQ8qB,IACzB,UACMY,GAAkB5U,EAAqB9W,QAAQ8qB,IAAKp7B,SACrDtT,GACLsT,EAAM8E,SAASqd,GAAS5N,QAAQsW,SAASn+B,EAAEqoB,SAC/C,MAAA,GACOqS,EAAqB9W,QAAQ+N,WAAY,CAC1CC,MAAAA,EAAY8I,EAAqB9W,QAAQgO,WAAa,CACxDliB,QAAS,KAERkiB,EAAUliB,UACXkiB,EAAUliB,QAAU,KzEtB1B0sE,eAAoB/gD,EAAmBoV,EAAuBn9B,GAC1EonB,MAAAA,EAAuBJ,GAAwBhnB,GAC/C8E,EAAW9E,EAAM8E,SACvBsiB,EAAqBiT,aAAe,KAEpCv1B,EAASiZ,GAAYxJ,QAAQ6J,KAAK2J,IAClCmV,GAAenV,EAAQjjB,GAEvBsiB,EAAqBiT,aAAe,CAChCP,UAAW,KACXQ,iBAAkB,KAClBxS,OAAQC,EACRkV,cAAe,KACfE,UAEJr4B,EAASqd,GAAS5N,QAAQwW,SAAS,CAAA,GACvC,CyEQ4C+9C,CAAA,CAChBzqD,WAAY+I,EAAqB9W,QAAQ+N,WACzCC,aACD8I,EAAqB9W,QAAQ6sB,QAAU,KAAMn9B,EAAK,MAErDA,EAAM8E,SAASgb,GAAQvL,QAAQkN,gBAGnC0F,GAAeC,EAAsB,YACvC,CAEP,EApCH,GAoCKsE,MAAMC,QAAQrc,MACvB,IAGctP,GAAAA,EAAOsQ,EAAQ6b,YAAc,2CAgHvC7b,EAAQuK,OACR4sD,EAASn3D,EAAQuK,OAGjBvK,EAAQkN,MACRC,EAAQnN,EAAQkN,MAGhBlN,EAAQuN,SACR6pD,EAAWp3D,EAAQuN,SAGnBvN,EAAQ0X,eACR2/C,EAAiBr3D,EAAQ0X,oBAGApJ,IAAzBtO,EAAQu3D,cACRD,EAAgBt3D,EAAQu3D,mBAGCjpD,IAAzBtO,EAAQmY,cACRq/C,EAAgBx3D,EAAQmY,cAGxBnY,EAAQ8K,QACR2Q,EAAUzb,EAAQ8K,QAGlB9K,EAAQ6K,MACR2Q,EAAQxb,EAAQ6K,MAGhB7K,EAAQiQ,YACRwnD,EAAcz3D,EAAQiQ,iBAGC3B,IAAvBtO,EAAQ6P,YACRyB,EAActR,EAAQ6P,iBAGAvB,IAAtBtO,EAAQoQ,WACRsnD,EAAa13D,EAAQoQ,gBAGH9B,IAAlBtO,EAAQqQ,OACRsnD,EAAS33D,EAAQqQ,YAGU/B,IAA3BtO,EAAQ2Z,gBACRi+C,EAAkB53D,EAAQ2Z,qBAGArL,IAA1BtO,EAAQ4X,eACRigD,EAAiB73D,EAAQ4X,oBAGAtJ,IAAzBtO,EAAQ6X,cACRigD,EAAgB93D,EAAQ6X,mBAGCvJ,IAAzBtO,EAAQuQ,cACRwnD,EAAgB/3D,EAAQuQ,mBAGJjC,IAApBtO,EAAQwQ,SACRwnD,EAAWh4D,EAAQwQ,cAGOlC,IAA1BtO,EAAQiY,eACRigD,EAAiBl4D,EAAQiY,oBAGI3J,IAA7BtO,EAAQkY,kBACRigD,EAAoBn4D,EAAQkY,uBAGP5J,IAArBtO,EAAQma,UACRi+C,EAAYp4D,EAAQma,eAGW7L,IAA/BtO,EAAQ+Z,oBACRs+C,EAAsBr4D,EAAQ+Z,yBAGEzL,IAAhCtO,EAAQga,qBACRs+C,EAAuBt4D,EAAQga,0BAGZ1L,IAAnBtO,EAAQ8J,QACR4/C,EAAU1pD,EAAQ8J,aAGFwE,IAAhBtO,EAAQviB,KACR86E,EAAOv4D,EAAQviB,KAGnBmE,EACIw8B,GAAC95B,GAAQ,CAACoL,QAAavS,SAClBihC,GAACg4C,GAAI,MAEVp1C,GAGG,CACHm2C,WACAhqD,UACAiqD,aACAC,mBACAC,kBACAE,kBACA/7C,YACAD,UACAi9C,SA9LJ,SAAkB/oD,GACdhgB,EAAM8E,SAASgb,GAAQvL,QAAQ4M,eACnC,EA6LI4mD,gBACAnmD,gBACAomD,eACAC,WACAC,oBACAC,mBACAC,kBACAC,kBACAC,aACAU,UAhKJ,SAAmBtgD,GACf1oB,EAAM8E,SAASqd,GAAS5N,QAAQmU,OAAOA,GAC3C,EA+JI8/C,mBACAC,sBACAC,cACAC,wBACAC,yBACA5O,YACA6O,SAEAppB,KAAMA,IACKtlB,GAAQ35B,GAASR,GAAwBonB,EAAsBpnB,EAAM8E,UAEhFmkE,KAAMxlD,UACFzjB,EAAM8E,SAASgb,GAAQvL,QAAQwL,QAAO,IAChCqH,MAAAA,EAAuBJ,GAAwBhnB,GACrD,GAAIonB,EAAqBC,GACdD,OAAAA,EAAqBC,GAAG88C,MACnC,EACJ","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,43,45,92,93,94,95,96,97]}